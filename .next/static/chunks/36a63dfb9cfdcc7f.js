(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,233309,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,l[o]))return!1;for(o=r;0!=o--;){var r,o,l,i=l[o];if(("_owner"!==i||!t.$$typeof)&&!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},371687,(e,t,n)=>{"use strict";var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})},s=(e,t,n)=>t.has(e)?(e=>{throw TypeError(e)})("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),u={};a(u,{Decimal:()=>tn,Public:()=>c,getRuntime:()=>D,makeStrictEnum:()=>M,objectEnumValues:()=>C}),t.exports=((e,t,n,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of l(t))i.call(e,s)||s===n||r(e,s,{get:()=>t[s],enumerable:!(a=o(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),u);var c={};function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>e}a(c,{validator:()=>d});var p,h=Symbol(),f=new WeakMap,m=class{_getName(){return this.constructor.name}toString(){return f.get(this)}constructor(e){e===h?f.set(this,"Prisma.".concat(this._getName())):f.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}},g=class extends m{_getNamespace(){return"NullTypes"}},v=class extends g{constructor(){super(...arguments),s(this,p)}};p=new WeakMap,S(v,"DbNull");var b,y=class extends g{constructor(){super(...arguments),s(this,b)}};b=new WeakMap,S(y,"JsonNull");var w,x=class extends g{constructor(){super(...arguments),s(this,w)}};w=new WeakMap,S(x,"AnyNull");var C={classes:{DbNull:v,JsonNull:y,AnyNull:x},instances:{DbNull:new v(h),JsonNull:new y(h),AnyNull:new x(h)}};function S(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var k=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function M(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!k.has(t))throw TypeError("Invalid enum value: ".concat(String(t)))}})}var R=()=>{var e,t;return(null==(t=null==(e=globalThis.process)?void 0:e.release)?void 0:t.name)==="node"},E=()=>{var e,t;return!!globalThis.Bun||!!(null!=(t=null==(e=globalThis.process)?void 0:e.versions)&&t.bun)},T=()=>!!globalThis.Deno,I=()=>"object"==typeof globalThis.Netlify,O=()=>"object"==typeof globalThis.EdgeRuntime,P=()=>{var e;return(null==(e=globalThis.navigator)?void 0:e.userAgent)==="Cloudflare-Workers"},N={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function D(){var e;let t=null!=(e=[[I,"netlify"],[O,"edge-light"],[P,"workerd"],[T,"deno"],[E,"bun"],[R,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0))?e:"";return{id:t,prettyName:N[t]||t,isEdge:["workerd","deno","netlify","edge-light"].includes(t)}}var A,L,j="0123456789abcdef",z="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",F="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",H={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},B=!0,V="[DecimalError] ",W=V+"Invalid argument: ",G=V+"Precision limit exceeded",U=V+"crypto unavailable",_="[object Decimal]",q=Math.floor,K=Math.pow,$=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,J=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,X=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Y=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Q=z.length-1,Z=F.length-1,ee={toStringTag:_};function et(e){var t,n,r,o=e.length-1,l="",i=e[0];if(o>0){for(l+=i,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(l+=ep(n)),l+=r;(n=7-(r=(i=e[t])+"").length)&&(l+=ep(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return l+i}function en(e,t,n){if(e!==~~e||e<t||e>n)throw Error(W+e)}function er(e,t,n,r){var o,l,i,a;for(l=e[0];l>=10;l/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),l=K(10,7-t),a=e[o]%l|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),i=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):i=(n<4&&a+1==l||n>3&&a+1==l/2)&&(e[o+1]/l/100|0)==K(10,t-2)-1||(a==l/2||0==a)&&(e[o+1]/l/100|0)==0:t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),i=(r||n<4)&&9999==a||!r&&n>3&&4999==a):i=((r||n<4)&&a+1==l||!r&&n>3&&a+1==l/2)&&(e[o+1]/l/1e3|0)==K(10,t-3)-1,i}function eo(e,t,n){for(var r,o,l=[0],i=0,a=e.length;i<a;){for(o=l.length;o--;)l[o]*=t;for(l[0]+=j.indexOf(e.charAt(i++)),r=0;r<l.length;r++)l[r]>n-1&&(void 0===l[r+1]&&(l[r+1]=0),l[r+1]+=l[r]/n|0,l[r]%=n)}return l.reverse()}ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ei(e)},ee.ceil=function(){return ei(new this.constructor(this),this.e+1,2)},ee.clampedTo=ee.clamp=function(e,t){var n=this.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(W+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new n(this)},ee.comparedTo=ee.cmp=function(e){var t,n,r,o,l=this.d,i=(e=new this.constructor(e)).d,a=this.s,s=e.s;if(!l||!i)return a&&s?a!==s?a:l===i?0:!l^a<0?1:-1:NaN;if(!l[0]||!i[0])return l[0]?a:i[0]?-s:0;if(a!==s)return a;if(this.e!==e.e)return this.e>e.e^a<0?1:-1;for(r=l.length,o=i.length,t=0,n=r<o?r:o;t<n;++t)if(l[t]!==i[t])return l[t]>i[t]^a<0?1:-1;return r===o?0:r>o^a<0?1:-1},ee.cosine=ee.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,o;if(t.isZero())return t;(r=t.d.length)<32?o=(1/ex(4,n=Math.ceil(r/3))).toString():(n=16,o="2.3283064365386962890625e-10"),e.precision+=n,t=ew(e,1,t.times(o),new e(1));for(var l=n;l--;){var i=t.times(t);t=i.times(i).minus(i).times(8).plus(1)}return e.precision-=n,t}(r,eC(r,n)),r.precision=e,r.rounding=t,ei(2==L||3==L?n.neg():n,e,t,!0)):new r(1):new r(NaN)},ee.cubeRoot=ee.cbrt=function(){var e,t,n,r,o,l,i,a,s,u,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(B=!1,(l=this.s*K(this.s*this,1/3))&&Math.abs(l)!=1/0?r=new c(l.toString()):(n=et(this.d),(l=((e=this.e)-n.length+1)%3)&&(n+=1==l||-2==l?"0":"00"),l=K(n,1/3),e=q((e+1)/3)-(e%3==(e<0?-1:2)),(r=new c(n=l==1/0?"5e"+e:(n=l.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=this.s),i=(e=c.precision)+3;;)if(r=el((u=(s=(a=r).times(a).times(a)).plus(this)).plus(this).times(a),u.plus(s),i+2,1),et(a.d).slice(0,i)===(n=et(r.d)).slice(0,i))if("9999"!=(n=n.slice(i-3,i+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(ei(r,e+1,1),t=!r.times(r).times(r).eq(this));break}else{if(!o&&(ei(a,e+1,0),a.times(a).times(a).eq(this))){r=a;break}i+=4,o=1}return B=!0,ei(r,e,c.rounding,t)},ee.decimalPlaces=ee.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-q(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},ee.dividedBy=ee.div=function(e){return el(this,new this.constructor(e))},ee.dividedToIntegerBy=ee.divToInt=function(e){var t=this.constructor;return ei(el(this,new t(e),0,1,1),t.precision,t.rounding)},ee.equals=ee.eq=function(e){return 0===this.cmp(e)},ee.floor=function(){return ei(new this.constructor(this),this.e+1,3)},ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0},ee.greaterThanOrEqualTo=ee.gte=function(e){var t=this.cmp(e);return 1==t||0===t},ee.hyperbolicCosine=ee.cosh=function(){var e,t,n,r,o,l=this,i=l.constructor,a=new i(1);if(!l.isFinite())return new i(l.s?1/0:NaN);if(l.isZero())return a;n=i.precision,r=i.rounding,i.precision=n+Math.max(l.e,l.sd())+4,i.rounding=1,(o=l.d.length)<32?t=(1/ex(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),l=ew(i,1,l.times(t),new i(1),!0);for(var s,u=e,c=new i(8);u--;)s=l.times(l),l=a.minus(s.times(c.minus(s.times(c))));return ei(l,i.precision=n,i.rounding=r,!0)},ee.hyperbolicSine=ee.sinh=function(){var e,t,n,r,o=this,l=o.constructor;if(!o.isFinite()||o.isZero())return new l(o);if(t=l.precision,n=l.rounding,l.precision=t+Math.max(o.e,o.sd())+4,l.rounding=1,(r=o.d.length)<3)o=ew(l,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=ew(l,2,o=o.times(1/ex(5,e)),o,!0);for(var i,a=new l(5),s=new l(16),u=new l(20);e--;)i=o.times(o),o=o.times(a.plus(i.times(s.times(i).plus(u))))}return l.precision=t,l.rounding=n,ei(o,t,n,!0)},ee.hyperbolicTangent=ee.tanh=function(){var e,t,n=this.constructor;return this.isFinite()?this.isZero()?new n(this):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,el(this.sinh(),this.cosh(),n.precision=e,n.rounding=t)):new n(this.s)},ee.inverseCosine=ee.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,o=t.rounding;return -1!==n?0===n?e.isNeg()?ec(t,r,o):new t(0):new t(NaN):e.isZero()?ec(t,r+4,o).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=o,e.times(2))},ee.inverseHyperbolicCosine=ee.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,B=!1,n=n.times(n).minus(1).sqrt().plus(n),B=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},ee.inverseHyperbolicSine=ee.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,B=!1,n=n.times(n).plus(1).sqrt().plus(n),B=!0,r.precision=e,r.rounding=t,n.ln())},ee.inverseHyperbolicTangent=ee.atanh=function(){var e,t,n,r,o=this,l=o.constructor;return o.isFinite()?o.e>=0?new l(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=l.precision,t=l.rounding,Math.max(r=o.sd(),e)<-(2*o.e)-1?ei(new l(o),e,t,!0):(l.precision=n=r-o.e,o=el(o.plus(1),new l(1).minus(o),n+e,1),l.precision=e+4,l.rounding=1,o=o.ln(),l.precision=e,l.rounding=t,o.times(.5))):new l(NaN)},ee.inverseSine=ee.asin=function(){var e,t,n,r,o=this,l=o.constructor;return o.isZero()?new l(o):(t=o.abs().cmp(1),n=l.precision,r=l.rounding,-1!==t?0===t?((e=ec(l,n+4,r).times(.5)).s=o.s,e):new l(NaN):(l.precision=n+6,l.rounding=1,o=o.div(new l(1).minus(o.times(o)).sqrt().plus(1)).atan(),l.precision=n,l.rounding=r,o.times(2)))},ee.inverseTangent=ee.atan=function(){var e,t,n,r,o,l,i,a,s,u=this,c=u.constructor,d=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=Z)return(i=ec(c,d+4,p).times(.25)).s=u.s,i}else{if(!u.s)return new c(NaN);if(d+4<=Z)return(i=ec(c,d+4,p).times(.5)).s=u.s,i}for(c.precision=a=d+10,c.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(B=!1,t=Math.ceil(a/7),r=1,s=u.times(u),i=new c(u),o=u;-1!==e;)if(o=o.times(s),l=i.minus(o.div(r+=2)),o=o.times(s),void 0!==(i=l.plus(o.div(r+=2))).d[t])for(e=t;i.d[e]===l.d[e]&&e--;);return n&&(i=i.times(2<<n-1)),B=!0,ei(i,c.precision=d,c.rounding=p,!0)},ee.isFinite=function(){return!!this.d},ee.isInteger=ee.isInt=function(){return!!this.d&&q(this.e/7)>this.d.length-2},ee.isNaN=function(){return!this.s},ee.isNegative=ee.isNeg=function(){return this.s<0},ee.isPositive=ee.isPos=function(){return this.s>0},ee.isZero=function(){return!!this.d&&0===this.d[0]},ee.lessThan=ee.lt=function(e){return 0>this.cmp(e)},ee.lessThanOrEqualTo=ee.lte=function(e){return 1>this.cmp(e)},ee.logarithm=ee.log=function(e){var t,n,r,o,l,i,a,s=this.constructor,u=s.precision,c=s.rounding;if(null==e)e=new s(10),t=!0;else{if(n=(e=new s(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new s(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(r=n[0];r%10==0;)r/=10;o=1!==r}if(B=!1,er((a=el(l=ev(this,i=u+5),t?eu(s,i+10):ev(e,i),i,1)).d,r=u,c))do if(i+=10,a=el(l=ev(this,i),t?eu(s,i+10):ev(e,i),i,1),!o){+et(a.d).slice(r+1,r+15)+1==1e14&&(a=ei(a,u+1,0));break}while(er(a.d,r+=10,c))return B=!0,ei(a,u,c)},ee.minus=ee.sub=function(e){var t,n,r,o,l,i,a,s,u,c,d,p,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new h(e.d||this.s!==e.s?this:NaN):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,p=e.d,a=h.precision,s=h.rounding,!u[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!u[0])return new h(3===s?-0:0);e=new h(this)}return B?ei(e,a,s):e}if(n=q(e.e/7),c=q(this.e/7),u=u.slice(),l=c-n){for((d=l<0)?(t=u,l=-l,i=p.length):(t=p,n=c,i=u.length),l>(r=Math.max(Math.ceil(a/7),i)+2)&&(l=r,t.length=1),t.reverse(),r=l;r--;)t.push(0);t.reverse()}else{for((d=(r=u.length)<(i=p.length))&&(i=r),r=0;r<i;r++)if(u[r]!=p[r]){d=u[r]<p[r];break}l=0}for(d&&(t=u,u=p,p=t,e.s=-e.s),i=u.length,r=p.length-i;r>0;--r)u[i++]=0;for(r=p.length;r>l;){if(u[--r]<p[r]){for(o=r;o&&0===u[--o];)u[o]=1e7-1;--u[o],u[r]+=1e7}u[r]-=p[r]}for(;0===u[--i];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=es(u,n),B?ei(e,a,s):e):new h(3===s?-0:0)},ee.modulo=ee.mod=function(e){var t,n=this.constructor;return e=new n(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(B=!1,9==n.modulo?(t=el(this,e.abs(),0,3,1),t.s*=e.s):t=el(this,e,0,n.modulo,1),t=t.times(e),B=!0,this.minus(t)):ei(new n(this),n.precision,n.rounding):new n(NaN)},ee.naturalExponential=ee.exp=function(){return eg(this)},ee.naturalLogarithm=ee.ln=function(){return ev(this)},ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ei(e)},ee.plus=ee.add=function(e){var t,n,r,o,l,i,a,s,u,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,c=e.d,a=d.precision,s=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(this)),B?ei(e,a,s):e;if(l=q(this.e/7),r=q(e.e/7),u=u.slice(),o=l-r){for(o<0?(n=u,o=-o,i=c.length):(n=c,r=l,i=u.length),o>(i=(l=Math.ceil(a/7))>i?l+1:i+1)&&(o=i,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((i=u.length)-(o=c.length)<0&&(o=i,n=c,c=u,u=n),t=0;o;)t=(u[--o]=u[o]+c[o]+t)/1e7|0,u[o]%=1e7;for(t&&(u.unshift(t),++r),i=u.length;0==u[--i];)u.pop();return e.d=u,e.e=es(u,r),B?ei(e,a,s):e},ee.precision=ee.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(W+e);return this.d?(t=ed(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},ee.round=function(){var e=this.constructor;return ei(new e(this),this.e+1,e.rounding)},ee.sine=ee.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:ew(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=ew(e,2,t=t.times(1/ex(5,n)),t);for(var o,l=new e(5),i=new e(16),a=new e(20);n--;)o=t.times(t),t=t.times(l.plus(o.times(i.times(o).minus(a))));return t}(r,eC(r,n)),r.precision=e,r.rounding=t,ei(L>2?n.neg():n,e,t,!0)):new r(NaN)},ee.squareRoot=ee.sqrt=function(){var e,t,n,r,o,l,i=this.d,a=this.e,s=this.s,u=this.constructor;if(1!==s||!i||!i[0])return new u(!s||s<0&&(!i||i[0])?NaN:i?this:1/0);for(B=!1,0==(s=Math.sqrt(+this))||s==1/0?(((t=et(i)).length+a)%2==0&&(t+="0"),s=Math.sqrt(t),a=q((a+1)/2)-(a<0||a%2),r=new u(t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new u(s.toString()),n=(a=u.precision)+3;;)if(r=(l=r).plus(el(this,l,n+2,1)).times(.5),et(l.d).slice(0,n)===(t=et(r.d)).slice(0,n))if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ei(r,a+1,1),e=!r.times(r).eq(this));break}else{if(!o&&(ei(l,a+1,0),l.times(l).eq(this))){r=l;break}n+=4,o=1}return B=!0,ei(r,a,u.rounding,e)},ee.tangent=ee.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=el(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,ei(2==L||4==L?n.neg():n,e,t,!0)):new r(NaN)},ee.times=ee.mul=function(e){var t,n,r,o,l,i,a,s,u,c=this.constructor,d=this.d,p=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!p||!p[0])return new c(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?e.s/0:0*e.s);for(n=q(this.e/7)+q(e.e/7),(s=d.length)<(u=p.length)&&(l=d,d=p,p=l,i=s,s=u,u=i),l=[],r=i=s+u;r--;)l.push(0);for(r=u;--r>=0;){for(t=0,o=s+r;o>r;)a=l[o]+p[r]*d[o-r-1]+t,l[o--]=a%1e7|0,t=a/1e7|0;l[o]=(l[o]+t)%1e7|0}for(;!l[--i];)l.pop();return t?++n:l.shift(),e.d=l,e.e=es(l,n),B?ei(e,c.precision,c.rounding):e},ee.toBinary=function(e,t){return eS(this,2,e,t)},ee.toDecimalPlaces=ee.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(en(e,0,1e9),void 0===t?t=r.rounding:en(t,0,8),ei(n,e+n.e+1,t))},ee.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=ea(r,!0):(en(e,0,1e9),void 0===t?t=o.rounding:en(t,0,8),n=ea(r=ei(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},ee.toFixed=function(e,t){var n,r,o=this.constructor;return void 0===e?n=ea(this):(en(e,0,1e9),void 0===t?t=o.rounding:en(t,0,8),n=ea(r=ei(new o(this),e+this.e+1,t),!1,e+r.e+1)),this.isNeg()&&!this.isZero()?"-"+n:n},ee.toFraction=function(e){var t,n,r,o,l,i,a,s,u,c,d,p,h=this.d,f=this.constructor;if(!h)return new f(this);if(u=n=new f(1),r=s=new f(0),i=(l=(t=new f(r)).e=ed(h)-this.e-1)%7,t.d[0]=K(10,i<0?7+i:i),null==e)e=l>0?t:u;else{if(!(a=new f(e)).isInt()||a.lt(u))throw Error(W+a);e=a.gt(t)?l>0?t:u:a}for(B=!1,a=new f(et(h)),c=f.precision,f.precision=l=7*h.length*2;d=el(a,t,0,1,1),1!=(o=n.plus(d.times(r))).cmp(e);)n=r,r=o,o=u,u=s.plus(d.times(o)),s=o,o=t,t=a.minus(d.times(o)),a=o;return o=el(e.minus(n),r,0,1,1),s=s.plus(o.times(u)),n=n.plus(o.times(r)),s.s=u.s=this.s,p=1>el(u,r,l,1).minus(this).abs().cmp(el(s,n,l,1).minus(this).abs())?[u,r]:[s,n],f.precision=c,B=!0,p},ee.toHexadecimal=ee.toHex=function(e,t){return eS(this,16,e,t)},ee.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:en(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(B=!1,n=el(n,e,0,t,1).times(e),B=!0,ei(n)):(e.s=n.s,n=e),n},ee.toNumber=function(){return+this},ee.toOctal=function(e,t){return eS(this,8,e,t)},ee.toPower=ee.pow=function(e){var t,n,r,o,l,i,a=this,s=a.constructor,u=+(e=new s(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new s(K(+a,u));if((a=new s(a)).eq(1))return a;if(r=s.precision,l=s.rounding,e.eq(1))return ei(a,r,l);if((t=q(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=0x1fffffffffffff)return o=eh(s,a,n,r),e.s<0?new s(1).div(o):ei(o,r,l);if((i=a.s)<0){if(t<e.d.length-1)return new s(NaN);if((1&e.d[t])==0&&(i=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=i,a}return(t=0!=(n=K(+a,u))&&isFinite(n)?new s(n+"").e:q(u*(Math.log("0."+et(a.d))/Math.LN10+a.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?i/0:0):(B=!1,s.rounding=a.s=1,n=Math.min(12,(t+"").length),(o=eg(e.times(ev(a,r+n)),r)).d&&er((o=ei(o,r+5,1)).d,r,l)&&(t=r+10,+et((o=ei(eg(e.times(ev(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=ei(o,r+1,0))),o.s=i,B=!0,s.rounding=l,ei(o,r,l))},ee.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=ea(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(en(e,1,1e9),void 0===t?t=o.rounding:en(t,0,8),n=ea(r=ei(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},ee.toSignificantDigits=ee.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(en(e,1,1e9),void 0===t?t=n.rounding:en(t,0,8)),ei(new n(this),e,t)},ee.toString=function(){var e=this.constructor,t=ea(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},ee.truncated=ee.trunc=function(){return ei(new this.constructor(this),this.e+1,1)},ee.valueOf=ee.toJSON=function(){var e=this.constructor,t=ea(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var el=function(){function e(e,t,n){var r,o=0,l=e.length;for(e=e.slice();l--;)r=e[l]*t+o,e[l]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,l;if(n!=r)l=n>r?1:-1;else for(o=l=0;o<n;o++)if(e[o]!=t[o]){l=e[o]>t[o]?1:-1;break}return l}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=+(e[n]<t[n]),e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,l,i,a,s){var u,c,d,p,h,f,m,g,v,b,y,w,x,C,S,k,M,R,E,T,I=r.constructor,O=r.s==o.s?1:-1,P=r.d,N=o.d;if(!P||!P[0]||!N||!N[0])return new I(!r.s||!o.s||(P?N&&P[0]==N[0]:!N)?NaN:P&&0==P[0]||!N?0*O:O/0);for(s?(h=1,c=r.e-o.e):(s=1e7,h=7,c=q(r.e/h)-q(o.e/h)),E=N.length,M=P.length,b=(v=new I(O)).d=[],d=0;N[d]==(P[d]||0);d++);if(N[d]>(P[d]||0)&&c--,null==l?(C=l=I.precision,i=I.rounding):C=a?l+(r.e-o.e)+1:l,C<0)b.push(1),f=!0;else{if(C=C/h+2|0,d=0,1==E){for(p=0,N=N[0],C++;(d<M||p)&&C--;d++)S=p*s+(P[d]||0),b[d]=S/N|0,p=S%N|0;f=p||d<M}else{for((p=s/(N[0]+1)|0)>1&&(N=e(N,p,s),P=e(P,p,s),E=N.length,M=P.length),k=E,w=(y=P.slice(0,E)).length;w<E;)y[w++]=0;(T=N.slice()).unshift(0),R=N[0],N[1]>=s/2&&++R;do p=0,(u=t(N,y,E,w))<0?(x=y[0],E!=w&&(x=x*s+(y[1]||0)),(p=x/R|0)>1?(p>=s&&(p=s-1),g=(m=e(N,p,s)).length,w=y.length,1==(u=t(m,y,g,w))&&(p--,n(m,E<g?T:N,g,s))):(0==p&&(u=p=1),m=N.slice()),(g=m.length)<w&&m.unshift(0),n(y,m,w,s),-1==u&&(w=y.length,(u=t(N,y,E,w))<1&&(p++,n(y,E<w?T:N,w,s))),w=y.length):0===u&&(p++,y=[0]),b[d++]=p,u&&y[0]?y[w++]=P[k]||0:(y=[P[k]],w=1);while((k++<M||void 0!==y[0])&&C--)f=void 0!==y[0]}b[0]||b.shift()}if(1==h)v.e=c,A=f;else{for(d=1,p=b[0];p>=10;p/=10)d++;v.e=d+c*h-1,ei(v,a?l+v.e+1:l,i,f)}return v}}();function ei(e,t,n,r){var o,l,i,a,s,u,c,d,p,h=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(o=1,a=d[0];a>=10;a/=10)o++;if((l=t-o)<0)l+=7,i=t,s=(c=d[p=0])/K(10,o-i-1)%10|0;else if((p=Math.ceil((l+1)/7))>=(a=d.length))if(r){for(;a++<=p;)d.push(0);c=s=0,o=1,l%=7,i=l-7+1}else break e;else{for(c=a=d[p],o=1;a>=10;a/=10)o++;l%=7,s=(i=l-7+o)<0?0:c/K(10,o-i-1)%10|0}if(r=r||t<0||void 0!==d[p+1]||(i<0?c:c%K(10,o-i-1)),u=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(l>0?i>0?c/K(10,o-i):0:d[p-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=K(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==l?(d.length=p,a=1,p--):(d.length=p+1,a=K(10,7-l),d[p]=i>0?(c/K(10,o-i)%K(10,i)|0)*a:0),u)for(;;)if(0==p){for(l=1,i=d[0];i>=10;i/=10)l++;for(i=d[0]+=a,a=1;i>=10;i/=10)a++;l!=a&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[p]+=a,1e7!=d[p])break;d[p--]=0,a=1}for(l=d.length;0===d[--l];)d.pop()}return B&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function ea(e,t,n){if(!e.isFinite())return eb(e);var r,o=e.e,l=et(e.d),i=l.length;return t?(n&&(r=n-i)>0?l=l.charAt(0)+"."+l.slice(1)+ep(r):i>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(e.e<0?"e":"e+")+e.e):o<0?(l="0."+ep(-o-1)+l,n&&(r=n-i)>0&&(l+=ep(r))):o>=i?(l+=ep(o+1-i),n&&(r=n-o-1)>0&&(l=l+"."+ep(r))):((r=o+1)<i&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-i)>0&&(o+1===i&&(l+="."),l+=ep(r))),l}function es(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function eu(e,t,n){if(t>Q)throw B=!0,n&&(e.precision=n),Error(G);return ei(new e(z),t,1,!0)}function ec(e,t,n){if(t>Z)throw Error(G);return ei(new e(F),t,n,!0)}function ed(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ep(e){for(var t="";e--;)t+="0";return t}function eh(e,t,n,r){var o,l=new e(1),i=Math.ceil(r/7+4);for(B=!1;;){if(n%2&&ek((l=l.times(t)).d,i)&&(o=!0),0===(n=q(n/2))){n=l.d.length-1,o&&0===l.d[n]&&++l.d[n];break}ek((t=t.times(t)).d,i)}return B=!0,l}function ef(e){return 1&e.d[e.d.length-1]}function em(e,t,n){for(var r,o,l=new e(t[0]),i=0;++i<t.length;){if(!(o=new e(t[i])).s){l=o;break}((r=l.cmp(o))===n||0===r&&l.s===n)&&(l=o)}return l}function eg(e,t){var n,r,o,l,i,a,s,u=0,c=0,d=0,p=e.constructor,h=p.rounding,f=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(B=!1,s=f):s=t,a=new p(.03125);e.e>-2;)e=e.times(a),d+=5;for(s+=r=Math.log(K(2,d))/Math.LN10*2+5|0,n=l=i=new p(1),p.precision=s;;){if(l=ei(l.times(e),s,1),n=n.times(++c),et((a=i.plus(el(l,n,s,1))).d).slice(0,s)===et(i.d).slice(0,s)){for(o=d;o--;)i=ei(i.times(i),s,1);if(null!=t)return p.precision=f,i;if(!(u<3&&er(i.d,s-r,h,u)))return ei(i,p.precision=f,h,B=!0);p.precision=s+=10,n=l=a=new p(1),c=0,u++}i=a}}function ev(e,t){var n,r,o,l,i,a,s,u,c,d,p,h=1,f=e,m=f.d,g=f.constructor,v=g.rounding,b=g.precision;if(f.s<0||!m||!m[0]||!f.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=f.s?NaN:m?0:f);if(null==t?(B=!1,c=b):c=t,g.precision=c+=10,r=(n=et(m)).charAt(0),!(15e14>Math.abs(l=f.e)))return u=eu(g,c+2,b).times(l+""),f=ev(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=b,null==t?ei(f,b,v,B=!0):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=et((f=f.times(e)).d)).charAt(0),h++;for(l=f.e,r>1?(f=new g("0."+n),l++):f=new g(r+"."+n.slice(1)),d=f,s=i=f=el(f.minus(1),f.plus(1),c,1),p=ei(f.times(f),c,1),o=3;;){if(i=ei(i.times(p),c,1),et((u=s.plus(el(i,new g(o),c,1))).d).slice(0,c)===et(s.d).slice(0,c))if(s=s.times(2),0!==l&&(s=s.plus(eu(g,c+2,b).times(l+""))),s=el(s,new g(h),c,1),null!=t)return g.precision=b,s;else{if(!er(s.d,c-10,v,a))return ei(s,g.precision=b,v,B=!0);g.precision=c+=10,u=i=f=el(d.minus(1),d.plus(1),c,1),p=ei(f.times(f),c,1),o=a=1}s=u,o+=2}}function eb(e){return String(e.s*e.s/0)}function ey(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),B&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ew(e,t,n,r,o){var l,i,a,s,u=e.precision,c=Math.ceil(u/7);for(B=!1,s=n.times(n),a=new e(r);;){if(i=el(a.times(s),new e(t++*t++),u,1),a=o?r.plus(i):r.minus(i),r=el(i.times(s),new e(t++*t++),u,1),void 0!==(i=a.plus(r)).d[c]){for(l=c;i.d[l]===a.d[l]&&l--;);if(-1==l)break}l=a,a=r,r=i,i=l}return B=!0,i.d.length=c+1,i}function ex(e,t){for(var n=e;--t;)n*=e;return n}function eC(e,t){var n,r=t.s<0,o=ec(e,e.precision,1),l=o.times(.5);if((t=t.abs()).lte(l))return L=r?4:1,t;if((n=t.divToInt(o)).isZero())L=r?3:2;else{if((t=t.minus(n.times(o))).lte(l))return L=ef(n)?r?2:3:r?4:1,t;L=ef(n)?r?1:4:r?3:2}return t.minus(o).abs()}function eS(e,t,n,r){var o,l,i,a,s,u,c,d,p,h=e.constructor,f=void 0!==n;if(f?(en(n,1,1e9),void 0===r?r=h.rounding:en(r,0,8)):(n=h.precision,r=h.rounding),e.isFinite()){for(i=(c=ea(e)).indexOf("."),f?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,i>=0&&(c=c.replace(".",""),(p=new h(1)).e=c.length-i,p.d=eo(ea(p),10,o),p.e=p.d.length),l=s=(d=eo(c,10,o)).length;0==d[--s];)d.pop();if(d[0]){if(i<0?l--:((e=new h(e)).d=d,e.e=l,d=(e=el(e,p,n,r,0,o)).d,l=e.e,u=A),i=d[n],a=o/2,u=u||void 0!==d[n+1],u=r<4?(void 0!==i||u)&&(0===r||r===(e.s<0?3:2)):i>a||i===a&&(4===r||u||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>o-1;)d[n]=0,n||(++l,d.unshift(1));for(s=d.length;!d[s-1];--s);for(i=0,c="";i<s;i++)c+=j.charAt(d[i]);if(f){if(s>1)if(16==t||8==t){for(i=16==t?4:3,--s;s%i;s++)c+="0";for(s=(d=eo(c,o,t)).length;!d[s-1];--s);for(i=1,c="1.";i<s;i++)c+=j.charAt(d[i])}else c=c.charAt(0)+"."+c.slice(1);c=c+(l<0?"p":"p+")+l}else if(l<0){for(;++l;)c="0"+c;c="0."+c}else if(++l>s)for(l-=s;l--;)c+="0";else l<s&&(c=c.slice(0,l)+"."+c.slice(l))}else c=f?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eb(e);return e.s<0?"-"+c:c}function ek(e,t){if(e.length>t)return e.length=t,!0}function eM(e){return new this(e).abs()}function eR(e){return new this(e).acos()}function eE(e){return new this(e).acosh()}function eT(e,t){return new this(e).plus(t)}function eI(e){return new this(e).asin()}function eO(e){return new this(e).asinh()}function eP(e){return new this(e).atan()}function eN(e){return new this(e).atanh()}function eD(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,l=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?ec(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=ec(this,l,1).times(.5)).s=e.s:t.s<0?(this.precision=l,this.rounding=1,n=this.atan(el(e,t,l,1)),t=ec(this,l,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(el(e,t,l,1)):(n=ec(this,l,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function eA(e){return new this(e).cbrt()}function eL(e){return ei(e=new this(e),e.e+1,2)}function ej(e,t,n){return new this(e).clamp(t,n)}function ez(e){if(!e||"object"!=typeof e)throw Error(V+"Object expected");var t,n,r,o=!0===e.defaults,l=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<l.length;t+=3)if(n=l[t],o&&(this[n]=H[n]),void 0!==(r=e[n]))if(q(r)===r&&r>=l[t+1]&&r<=l[t+2])this[n]=r;else throw Error(W+n+": "+r);if(n="crypto",o&&(this[n]=H[n]),void 0!==(r=e[n]))if(!0===r||!1===r||0===r||1===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(U);else this[n]=!1;else throw Error(W+n+": "+r);return this}function eF(e){return new this(e).cos()}function eH(e){return new this(e).cosh()}function eB(e,t){return new this(e).div(t)}function eV(e){return new this(e).exp()}function eW(e){return ei(e=new this(e),e.e+1,3)}function eG(){var e,t,n=new this(0);for(B=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return B=!0,new this(1/0);n=t}return B=!0,n.sqrt()}function eU(e){return e instanceof tt||e&&e.toStringTag===_||!1}function e_(e){return new this(e).ln()}function eq(e,t){return new this(e).log(t)}function eK(e){return new this(e).log(2)}function e$(e){return new this(e).log(10)}function eJ(){return em(this,arguments,-1)}function eX(){return em(this,arguments,1)}function eY(e,t){return new this(e).mod(t)}function eQ(e,t){return new this(e).mul(t)}function eZ(e,t){return new this(e).pow(t)}function e0(e){var t,n,r,o,l=0,i=new this(1),a=[];if(void 0===e?e=this.precision:en(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));l<r;)(o=t[l])>=429e7?t[l]=crypto.getRandomValues(new Uint32Array(1))[0]:a[l++]=o%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);l<r;)(o=t[l]+(t[l+1]<<8)+(t[l+2]<<16)+((127&t[l+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,l):(a.push(o%1e7),l+=4);l=r/4}else throw Error(U);else for(;l<r;)a[l++]=1e7*Math.random()|0;for(r=a[--l],e%=7,r&&e&&(o=K(10,7-e),a[l]=(r/o|0)*o);0===a[l];l--)a.pop();if(l<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,o=a[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return i.e=n,i.d=a,i}function e1(e){return ei(e=new this(e),e.e+1,this.rounding)}function e2(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e5(e){return new this(e).sin()}function e3(e){return new this(e).sinh()}function e4(e){return new this(e).sqrt()}function e9(e,t){return new this(e).sub(t)}function e6(){var e=0,t=arguments,n=new this(t[0]);for(B=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return B=!0,ei(n,this.precision,this.rounding)}function e7(e){return new this(e).tan()}function e8(e){return new this(e).tanh()}function te(e){return ei(e=new this(e),e.e+1,1)}ee[Symbol.for("nodejs.util.inspect.custom")]=ee.toString,ee[Symbol.toStringTag]="Decimal";var tt=ee.constructor=function e(t){var n,r,o;function l(e){var t,n,r;if(!(this instanceof l))return new l(e);if(this.constructor=l,eU(e)){this.s=e.s,B?!e.d||e.e>l.maxE?(this.e=NaN,this.d=null):e.e<l.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(r=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;B?t>l.maxE?(this.e=NaN,this.d=null):t<l.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return ey(this,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),Y.test(e)?ey(this,e):function(e,t){var n,r,o,l,i,a,s,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Y.test(t))return ey(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(J.test(t))n=16,t=t.toLowerCase();else if($.test(t))n=2;else if(X.test(t))n=8;else throw Error(W+t);for((l=t.search(/p/i))>0?(s=+t.slice(l+1),t=t.substring(2,l)):t=t.slice(2),i=(l=t.indexOf("."))>=0,r=e.constructor,i&&(l=(a=(t=t.replace(".","")).length)-l,o=eh(r,new r(n),l,2*l)),l=c=(u=eo(t,n,1e7)).length-1;0===u[l];--l)u.pop();return l<0?new r(0*e.s):(e.e=es(u,c),e.d=u,B=!1,i&&(e=el(e,o,4*a)),s&&(e=e.times(54>Math.abs(s)?K(2,s):tt.pow(2,s))),B=!0,e)}(this,e);if("bigint"===r)return e<0?(e=-e,this.s=-1):this.s=1,ey(this,e.toString());throw Error(W+e)}if(l.prototype=ee,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=ez,l.clone=e,l.isDecimal=eU,l.abs=eM,l.acos=eR,l.acosh=eE,l.add=eT,l.asin=eI,l.asinh=eO,l.atan=eP,l.atanh=eN,l.atan2=eD,l.cbrt=eA,l.ceil=eL,l.clamp=ej,l.cos=eF,l.cosh=eH,l.div=eB,l.exp=eV,l.floor=eW,l.hypot=eG,l.ln=e_,l.log=eq,l.log10=e$,l.log2=eK,l.max=eJ,l.min=eX,l.mod=eY,l.mul=eQ,l.pow=eZ,l.random=e0,l.round=e1,l.sign=e2,l.sin=e5,l.sinh=e3,l.sqrt=e4,l.sub=e9,l.sum=e6,l.tan=e7,l.tanh=e8,l.trunc=te,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return l.config(t),l}(H);z=new tt(z),F=new tt(F);var tn=tt},123730,(e,t,n)=>{Object.defineProperty(n,"__esModule",{value:!0});let{Decimal:r,objectEnumValues:o,makeStrictEnum:l,Public:i,getRuntime:a,skip:s}=e.r(371687),u={};n.Prisma=u,n.$Enums={},u.prismaVersion={client:"6.16.2",engine:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},u.PrismaClientKnownRequestError=()=>{let e=a().prettyName;throw Error("PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.PrismaClientUnknownRequestError=()=>{let e=a().prettyName;throw Error("PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.PrismaClientRustPanicError=()=>{let e=a().prettyName;throw Error("PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.PrismaClientInitializationError=()=>{let e=a().prettyName;throw Error("PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.PrismaClientValidationError=()=>{let e=a().prettyName;throw Error("PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.Decimal=r,u.sql=()=>{let e=a().prettyName;throw Error("sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.empty=()=>{let e=a().prettyName;throw Error("empty is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.join=()=>{let e=a().prettyName;throw Error("join is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.raw=()=>{let e=a().prettyName;throw Error("raw is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.validator=i.validator,u.getExtensionContext=()=>{let e=a().prettyName;throw Error("Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.defineExtension=()=>{let e=a().prettyName;throw Error("Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},u.DbNull=o.instances.DbNull,u.JsonNull=o.instances.JsonNull,u.AnyNull=o.instances.AnyNull,u.NullTypes={DbNull:o.classes.DbNull,JsonNull:o.classes.JsonNull,AnyNull:o.classes.AnyNull},n.Prisma.TransactionIsolationLevel=l({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),n.Prisma.UserScalarFieldEnum={uuid:"uuid",email:"email",firstName:"firstName",lastName:"lastName",password:"password",role:"role",language:"language",createdAt:"createdAt",updatedAt:"updatedAt",locationUuid:"locationUuid"},n.Prisma.LocationScalarFieldEnum={uuid:"uuid",title:"title",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},n.Prisma.NewsScalarFieldEnum={uuid:"uuid",image:"image",title:"title",description:"description",content:"content",pinnedAt:"pinnedAt",createdAt:"createdAt",updatedAt:"updatedAt",userUuid:"userUuid",locationUuid:"locationUuid"},n.Prisma.SortOrder={asc:"asc",desc:"desc"},n.Prisma.NullsOrder={first:"first",last:"last"},n.Prisma.UserOrderByRelevanceFieldEnum={uuid:"uuid",email:"email",firstName:"firstName",lastName:"lastName",password:"password",locationUuid:"locationUuid"},n.Prisma.LocationOrderByRelevanceFieldEnum={uuid:"uuid",title:"title",image:"image"},n.Prisma.NewsOrderByRelevanceFieldEnum={uuid:"uuid",image:"image",title:"title",description:"description",content:"content",userUuid:"userUuid",locationUuid:"locationUuid"},n.UserRole=n.$Enums.UserRole={USER:"USER",EDITOR:"EDITOR",ADMIN:"ADMIN"},n.Language=n.$Enums.Language={RU:"RU",EN:"EN"},n.Prisma.ModelName={User:"User",Location:"Location",News:"News"},n.PrismaClient=class{constructor(){return new Proxy(this,{get(e,t){let n=a();throw Error((n.isEdge?"PrismaClient is not configured to run in ".concat(n.prettyName,". In order to run Prisma Client on edge runtime, either:\n- Use Prisma Accelerate: https://pris.ly/d/accelerate\n- Use Driver Adapters: https://pris.ly/d/driver-adapters\n"):"PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+n.prettyName+"`).")+"\nIf this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report")}})}},Object.assign(n,u)},118228,(e,t,n)=>{t.exports=e.r(123730)},96987,(e,t,n)=>{"use strict";var r=e.r(271645),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,i=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=l({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return a(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),i(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),s(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},561806,(e,t,n)=>{"use strict";t.exports=e.r(96987)},594795,(e,t,n)=>{"use strict";var r=e.r(271645),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,i=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=l({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return a(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),i(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),s(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},620209,(e,t,n)=>{"use strict";t.exports=e.r(594795)},595558,(e,t,n)=>{"use strict";var r=e.r(271645),o=e.r(620209),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,a=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var h=i(e,(d=u(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return a=t}return a=e}if(t=a,l(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,a=n)}var i,a,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,o]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=h},[h]),c(h),h}},719160,(e,t,n)=>{"use strict";t.exports=e.r(595558)},302153,e=>{"use strict";let t,n;e.s(["default",()=>Tr],302153);var r,o,l,i,a=e.i(843476),s=e.i(894706),u=e.i(746521),c=e.i(653145),d=e.i(994814),p=e.i(561805),h=e.i(705605);let f=()=>{let[e]=(0,h.useUploadMutation)();return async t=>{try{let n=await e(t).unwrap();if(n&&n.data)return n.data}catch(e){console.log(e)}}};var m=e.i(289832),g=e.i(271645),v=e.i(174080),b=e.i(776552),y=e.i(234251),w=e.i(511458),x=e.i(369437),C=e.i(866796),S=e.i(793479);function k(e){this.content=e}e.i(247167),k.prototype={constructor:k,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return -1},get:function(e){var t=this.find(e);return -1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),l=r.content.slice();return -1==o?l.push(n||e,t):(l[o+1]=t,n&&(l[o]=n)),new k(l)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new k(n)},addToStart:function(e,t){return new k([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new k(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),l=r.find(e);return o.splice(-1==l?o.length:l,0,t,n),new k(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=k.from(e)).size?new k(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=k.from(e)).size?new k(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=k.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},k.from=function(e){if(e instanceof k)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new k(t)};class M{nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;for(let l=0,i=0;i<t;l++){let a=this.content[l],s=i+a.nodeSize;if(s>e&&!1!==n(a,r+i,o||null,l)&&a.content.size){let o=i+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,r+o)}i=s}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",l=!0;return this.nodesBetween(e,t,(i,a)=>{let s=i.isText?i.text.slice(Math.max(e,a)-a,t-a):i.isLeaf?r?"function"==typeof r?r(i):r:i.type.spec.leafText?i.type.spec.leafText(i):"":"";i.isBlock&&(i.isLeaf&&s||i.isTextblock)&&n&&(l?l=!1:o+=n),o+=s},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new M(r,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,l=0;l<t;o++){let i=this.content[o],a=l+i.nodeSize;a>e&&((l<e||a>t)&&(i=i.isText?i.cut(Math.max(0,e-l),Math.min(i.text.length,t-l)):i.cut(Math.max(0,e-l-1),Math.min(i.content.size,t-l-1))),n.push(i),r+=i.nodeSize),l=a}return new M(n,r)}cutByIndex(e,t){return e==t?M.empty:0==e&&t==this.content.length?this:new M(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new M(r,o)}addToStart(e){return new M([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new M(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function e(t,n,r){for(let o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:r;let l=t.child(o),i=n.child(o);if(l==i){r+=l.nodeSize;continue}if(!l.sameMarkup(i))return r;if(l.isText&&l.text!=i.text){for(let e=0;l.text[e]==i.text[e];e++)r++;return r}if(l.content.size||i.content.size){let t=e(l.content,i.content,r+1);if(null!=t)return t}r+=l.nodeSize}}(this,e,t)}findDiffEnd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size;return function e(t,n,r,o){for(let l=t.childCount,i=n.childCount;;){if(0==l||0==i)return l==i?null:{a:r,b:o};let a=t.child(--l),s=n.child(--i),u=a.nodeSize;if(a==s){r-=u,o-=u;continue}if(!a.sameMarkup(s))return{a:r,b:o};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,r--,o--;return{a:r,b:o}}if(a.content.size||s.content.size){let t=e(a.content,s.content,r-1,o-1);if(t)return t}r-=u,o-=u}}(this,e,t,n)}findIndex(e){if(0==e)return E(0,e);if(e==this.size)return E(this.content.length,e);if(e>this.size||e<0)throw RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e){if(r==e)return E(t+1,r);return E(t,n)}n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return M.empty;if(!Array.isArray(t))throw RangeError("Invalid input for Fragment.fromJSON");return new M(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return M.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new M(t||e,n)}static from(e){if(!e)return M.empty;if(e instanceof M)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new M([e],e.nodeSize);throw RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}}M.empty=new M([],0);let R={index:0,offset:0};function E(e,t){return R.index=e,R.offset=t,R}function T(e,t){if(e===t)return!0;if(!(e&&"object"==typeof e)||!(t&&"object"==typeof t))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!T(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!T(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class I{addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&T(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw RangeError("There is no mark type ".concat(t.type," in this schema"));let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return I.none;if(e instanceof I)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}constructor(e,t){this.type=e,this.attrs=t}}I.none=[];class O extends Error{}class P{get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=function e(t,n,r,o){let{index:l,offset:i}=t.findIndex(n),a=t.maybeChild(l);if(i==n||a.isText)return o&&!o.canReplace(l,l,r)?null:t.cut(0,n).append(r).append(t.cut(n));let s=e(a.content,n-i-1,r,a);return s&&t.replaceChild(l,a.copy(s))}(this.content,e+this.openStart,t);return n&&new P(n,this.openStart,this.openEnd)}removeBetween(e,t){return new P(function e(t,n,r){let{index:o,offset:l}=t.findIndex(n),i=t.maybeChild(o),{index:a,offset:s}=t.findIndex(r);if(l==n||i.isText){if(s!=r&&!t.child(a).isText)throw RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(o!=a)throw RangeError("Removing non-flat range");return t.replaceChild(o,i.copy(e(i.content,n-l-1,r-l-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return P.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw RangeError("Invalid input for Slice.fromJSON");return new P(M.fromJSON(e,t.content),n,r)}static maxOpen(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new P(e,n,r)}constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}}function N(e,t){if(!t.type.compatibleContent(e.type))throw new O("Cannot join "+t.type.name+" onto "+e.type.name)}function D(e,t,n){let r=e.node(n);return N(r,t.node(n)),r}function A(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function L(e,t,n,r){let o=(t||e).node(n),l=0,i=t?t.index(n):o.childCount;e&&(l=e.index(n),e.depth>n?l++:e.textOffset&&(A(e.nodeAfter,r),l++));for(let e=l;e<i;e++)A(o.child(e),r);t&&t.depth==n&&t.textOffset&&A(t.nodeBefore,r)}function j(e,t){return e.type.checkContent(t),e.copy(t)}function z(e,t,n){let r=[];return L(null,e,n,r),e.depth>n&&A(j(D(e,t,n+1),z(e,t,n+1)),r),L(t,null,n,r),new M(r)}P.empty=new P(M.empty,0,0);class F{resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return I.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var l=0;l<o.length;l++)!1!==o[l].type.spec.inclusive||r&&o[l].isInSet(r.marks)||(o=o[l--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new W(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:l}=t.content.findIndex(o),i=o-l;if(n.push(t,e,r+l),!i||(t=t.child(e)).isText)break;o=i-1,r+=l+1}return new F(t,n,o)}static resolveCached(e,t){let n=V.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else V.set(e,n=new H);let r=n.elts[n.i]=F.resolve(e,t);return n.i=(n.i+1)%B,r}constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}}class H{constructor(){this.elts=[],this.i=0}}let B=12,V=new WeakMap;class W{get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}}let G=Object.create(null);class U{get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&T(this.attrs,t||e.defaultAttrs||G)&&I.sameSet(this.marks,n||I.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new U(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new U(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return P.empty;let r=this.resolve(e),o=this.resolve(t),l=n?0:r.sharedDepth(t),i=r.start(l);return new P(r.node(l).content.cut(r.pos-i,o.pos-i),r.depth-l,o.depth-l)}replace(e,t,n){var r=this.resolve(e),o=this.resolve(t);if(n.openStart>r.depth)throw new O("Inserted content deeper than insertion position");if(r.depth-n.openStart!=o.depth-n.openEnd)throw new O("Inconsistent open depths");return function e(t,n,r,o){let l=t.index(o),i=t.node(o);if(l==n.index(o)&&o<t.depth-r.openStart){let a=e(t,n,r,o+1);return i.copy(i.content.replaceChild(l,a))}if(!r.content.size)return j(i,z(t,n,o));if(r.openStart||r.openEnd||t.depth!=o||n.depth!=o){let{start:e,end:l}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(M.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t);return j(i,function e(t,n,r,o,l){let i=t.depth>l&&D(t,n,l+1),a=o.depth>l&&D(r,o,l+1),s=[];return L(null,t,l,s),i&&a&&n.index(l)==r.index(l)?(N(i,a),A(j(i,e(t,n,r,o,l+1)),s)):(i&&A(j(i,z(t,n,l+1)),s),L(n,r,l,s),a&&A(j(a,z(r,o,l+1)),s)),L(o,null,l,s),new M(s)}(t,e,l,n,o))}{let e=t.parent,o=e.content;return j(e,o.cut(0,t.parentOffset).append(r.content).append(o.cut(n.parentOffset)))}}(r,o,n,0)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(!(t=t.maybeChild(n)))return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return F.resolveCached(this,e)}resolveNoCache(e){return F.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),q(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,l=this.contentMatchAt(e).matchFragment(n,r,o),i=l&&l.matchFragment(this.content,t);if(!i||!i.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),l=o&&o.matchFragment(this.content,t);return!!l&&l.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=I.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!I.sameSet(e,this.marks))throw RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(e=>e.type.name)));this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){let n;if(!t)throw RangeError("Invalid input for Node.fromJSON");if(t.marks){if(!Array.isArray(t.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=M.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}constructor(e,t,n,r=I.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||M.empty}}U.prototype.text=void 0;class _ extends U{toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}constructor(e,t,n,r){if(super(e,t,null,r),!n)throw RangeError("Empty text nodes are not allowed");this.text=n}}function q(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class K{static parse(e,t){var n;let r,o=new $(e,t);if(null==o.next)return K.empty;let l=function e(t){let n=[];do n.push(function(t){let n=[];do n.push(function(t){let n=function(t){if(t.eat("(")){let n=e(t);return t.eat(")")||t.err("Missing closing paren"),n}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=(function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.isInGroup(t)&&o.push(r)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o})(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}}(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=function(e,t){let n=J(e),r=n;return e.eat(",")&&(r="}"!=e.next?J(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}(t,n);else break;return n}(t));while(t.next&&")"!=t.next&&"|"!=t.next)return 1==n.length?n[0]:{type:"seq",exprs:n}}(t));while(t.eat("|"))return 1==n.length?n[0]:{type:"choice",exprs:n}}(o);o.next&&o.err("Unexpected trailing text");let i=(n=function(e){let t=[[]];return o(function e(t,l){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,l)),[]);if("seq"==t.type)for(let r=0;;r++){let i=e(t.exprs[r],l);if(r==t.exprs.length-1)return i;o(i,l=n())}else if("star"==t.type){let i=n();return r(l,i),o(e(t.expr,i),i),[r(i)]}else if("plus"==t.type){let i=n();return o(e(t.expr,l),i),o(e(t.expr,i),i),[r(i)]}else if("opt"==t.type)return[r(l)].concat(e(t.expr,l));else if("range"==t.type){let i=l;for(let r=0;r<t.min;r++){let r=n();o(e(t.expr,i),r),i=r}if(-1==t.max)o(e(t.expr,i),i);else for(let l=t.min;l<t.max;l++){let l=n();r(i,l),o(e(t.expr,i),l),i=l}return[r(i)]}else if("name"==t.type)return[r(l,void 0,t.value)];else throw Error("Unknown expr type")}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}}(l),r=Object.create(null),function e(t){let o=[];t.forEach(e=>{n[e].forEach(e=>{let t,{term:r,to:l}=e;if(r){for(let e=0;e<o.length;e++)o[e][0]==r&&(t=o[e][1]);Y(n,l).forEach(e=>{t||o.push([r,t=[]]),-1==t.indexOf(e)&&t.push(e)})}})});let l=r[t.join(",")]=new K(t.indexOf(n.length-1)>-1);for(let t=0;t<o.length;t++){let n=o[t][1].sort(X);l.next.push({type:o[t][0],next:r[n.join(",")]||e(n)})}return l}(Y(n,0)));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,l=[];for(let t=0;t<e.next.length;t++){let{type:n,next:i}=e.next[t];l.push(n.name),o&&!(n.isText||n.hasRequiredAttrs())&&(o=!1),-1==r.indexOf(i)&&r.push(i)}o&&t.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,o),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function o(l,i){let a=l.matchFragment(e,n);if(a&&(!t||a.validEnd))return M.from(i.map(e=>e.createAndFill()));for(let e=0;e<l.next.length;e++){let{type:t,next:n}=l.next[e];if(!(t.isText||t.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let e=o(n,i.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:l,next:i}=o.next[e];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!i.validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return!function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}}K.empty=new K(!0);class ${get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw SyntaxError(e+" (in content expression '"+this.string+"')")}constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}}function J(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function X(e,t){return t-e}function Y(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:l}=o[e];r||-1!=n.indexOf(l)||t(l)}}(t),n.sort(X)}function Q(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Z(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(t.hasDefault)o=t.default;else throw RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function ee(e,t,n,r){for(let r in t)if(!(r in e))throw RangeError("Unsupported attribute ".concat(r," for ").concat(n," of type ").concat(r));for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function et(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new er(e,r,t[r]);return n}class en{get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==K.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Z(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw Error("NodeType.create can't construct text nodes");return new U(this,this.computeAttrs(e),M.from(t),I.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=M.from(t),this.checkContent(t),new U(this,this.computeAttrs(e),t,I.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),(t=M.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(M.empty,!0);return o?new U(this,e,t.append(o),I.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){ee(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){let t;if(null==this.markSet)return e;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:I.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new en(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw RangeError("The text node type should not have attributes");return n}constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=et(e,n.attrs),this.defaultAttrs=Q(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}}class er{get isRequired(){return!this.hasDefault}constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(0>r.indexOf(o))throw RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(o))}}(e,t,n.validate):n.validate}}class eo{create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new I(this,Z(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new eo(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ee(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=et(e,r.attrs),this.excluded=null;let o=Q(this.attrs);this.instance=o?new I(this,o):null}}class el{node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else if(e instanceof en){if(e.schema!=this)throw RangeError("Node type from different schema used ("+e.name+")")}else throw RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new _(n,n.defaultAttrs,e,I.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw RangeError("Unknown node type: "+e);return t}constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=k.from(e.nodes),t.marks=k.from(e.marks||{}),this.nodes=en.compile(this.spec.nodes,this),this.marks=eo.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",o=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=K.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==o?null:o?ei(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:ei(this,n.split(" "))}this.nodeFromJSON=e=>U.fromJSON(this,e),this.markFromJSON=e=>I.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}}function ei(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],l=e.marks[o],i=l;if(l)n.push(l);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=r)}if(!i)throw SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class ea{parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new eh(this,t,!1);return n.addAll(e,I.none,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new eh(this,t,!0);return n.addAll(e,I.none,t.from,t.to),P.maxOpen(n.finish())}matchTag(e,t,n){for(let l=n?this.tags.indexOf(n)+1:0;l<this.tags.length;l++){var r,o;let n=this.tags[l];if(r=e,o=n.tag,(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,o)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],l=r.style;if(0==l.indexOf(e)&&(!r.context||n.matchesContext(r.context))&&(!(l.length>e.length)||61==l.charCodeAt(e.length)&&l.slice(e.length+1)==t)){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=ef(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=ef(e)),e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ea(e,ea.schemaRules(e)))}constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(null!=e.tag)this.tags.push(e);else if(null!=e.style){let t=/[^=]*/.exec(e.style)[0];0>n.indexOf(t)&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}}let es={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eu={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ec={ol:!0,ul:!0};function ed(e,t,n){return null!=t?!!t|2*("full"===t):e&&"pre"==e.whitespace?3:-5&n}class ep{findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(M.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let t=this.type.contentMatch,n;return(n=t.findWrapping(e.type))?(this.match=t,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e=this.content[this.content.length-1],t;e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))&&(e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=e.withText(e.text.slice(0,e.text.length-t[0].length)))}let t=M.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(M.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!es.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}constructor(e,t,n,r,o,l){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=l,this.content=[],this.activeMarks=I.none,this.match=o||(4&l?null:e.contentMatch)}}class eh{get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0;if("full"===o||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)n="full"!==o?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),i;ec.hasOwnProperty(l)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ec.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));t:if(a?a.ignore:eu.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let n,r=this.needsBlock;if(es.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break t}let i=a&&a.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,a,n,!1===a.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],o=n.getPropertyValue(r);if(o)for(let e;;){let n=this.parser.matchStyle(r,o,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1===n.consuming)e=n;else break}}return t}addElementByRule(e,t,n,r){let o,l;if(t.node)if((l=this.parser.schema.nodes[t.node]).isLeaf)this.insertNode(l.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(l,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let i=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}o&&this.sync(i)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let l=n?e.childNodes[n]:e.firstChild,i=null==r?null:e.childNodes[r];l!=i;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,t);this.findAtPoint(e,o)}findPlace(e,t,n){let r,o;for(let t=this.open,l=0;t>=0;t--){let i=this.nodes[t],a=i.findWrapping(e);if(a&&(!r||r.length>a.length+l)&&(r=a,o=i,!a.length))break;if(i.solid){if(n)break;l+=2}}if(!r)return null;this.sync(o);for(let e=0;e<r.length;e++)t=this.enterInner(r[e],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=I.none;for(let o of r.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):em(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let i=ed(e,o,l.options);4&l.options&&0==l.content.length&&(i|=4);let a=I.none;return n=n.filter(t=>(l.type?!l.type.allowsMarkType(t.type):!em(t.type,e))||(a=t.addToSet(a),!1)),this.nodes.push(new ep(e,t,a,r,null,i)),this.open++,n}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;else this.localPreserveWS&&(this.nodes[t].options|=1);return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+ +!r,l=(e,i)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;i>=o;i--)if(l(e-1,i))return!0;return!1}{let e=i>0||0==i&&r?this.nodes[i].type:n&&i>=o?n.node(i-o).type:null;if(!e||e.name!=a&&!e.isInGroup(a))return!1;i--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,o,l=ed(null,t.preserveWhitespace,0)|4*!!n;o=r?new ep(r.type,r.attrs,I.none,!0,t.topMatch||r.type.contentMatch,l):n?new ep(null,null,I.none,!0,null,l):new ep(e.schema.topNodeType,null,I.none,!0,null,l),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}}function ef(e){let t={};for(let n in e)t[n]=e[n];return t}function em(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let l=[],i=e=>{l.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t||0>l.indexOf(o)&&i(o))return!0}};if(i(o.contentMatch))return!0}}class eg{serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=eb(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,l=0;for(;n<o.length&&l<e.marks.length;){let t=e.marks[l];if(!this.marks[t.type.name]){l++;continue}if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,l++}for(;n<o.length;)r=o.pop()[1];for(;l<e.marks.length;){let n=e.marks[l++],i=this.serializeMark(n,e.isInline,t);i&&(o.push([n,r]),r.appendChild(i.dom),r=i.contentDOM||i.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=ew(eb(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[e.type.name];return r&&ew(eb(n),r(e,t),null,e.attrs)}static renderSpec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return ew(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new eg(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ev(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return ev(e.marks)}constructor(e,t){this.nodes=e,this.marks=t}}function ev(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function eb(e){return e.document||window.document}let ey=new WeakMap;function ew(e,t,n,r){let o,l,i;if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let a=t[0],s;if("string"!=typeof a)throw RangeError("Invalid array passed to renderSpec");if(r&&(void 0===(l=ey.get(r))&&ey.set(r,(i=null,!function e(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])i||(i=[]),i.push(t);else for(let n=0;n<t.length;n++)e(t[n]);else for(let n in t)e(t[n])}(r),l=i)),s=l)&&s.indexOf(t)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=a.indexOf(" ");u>0&&(n=a.slice(0,u),a=a.slice(u+1));let c=n?e.createElementNS(n,a):e.createElement(a),d=t[1],p=1;if(d&&"object"==typeof d&&null==d.nodeType&&!Array.isArray(d)){for(let e in p=2,d)if(null!=d[e]){let t=e.indexOf(" ");t>0?c.setAttributeNS(e.slice(0,t),e.slice(t+1),d[e]):"style"==e&&c.style?c.style.cssText=d[e]:c.setAttribute(e,d[e])}}for(let l=p;l<t.length;l++){let i=t[l];if(0===i){if(l<t.length-1||l>p)throw RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}{let{dom:t,contentDOM:l}=ew(e,i,n,r);if(c.appendChild(t),l){if(o)throw RangeError("Multiple content holes");o=l}}}return{dom:c,contentDOM:o}}class ex{get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}}class eC{recover(e){let t=0,n=65535&e;if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+(e-(65535&e))/65536}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let a=this.ranges[i]-(this.inverted?r:0);if(a>e)break;let s=this.ranges[i+o],u=this.ranges[i+l],c=a+s;if(e<=c){let o=s?e==a?-1:e==c?1:t:t,l=a+r+(o<0?0:u);if(n)return l;let d=e==(t<0?a:c)?null:i/3+(e-a)*65536,p=e==a?2:e==c?1:4;return(t<0?e!=a:e!=c)&&(p|=8),new ex(l,p,d)}r+=u-s}return n?e+r:new ex(e+r,0,null)}touches(e,t){let n=0,r=65535&t,o=this.inverted?2:1,l=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let i=this.ranges[t]-(this.inverted?n:0);if(i>e)break;let a=this.ranges[t+o];if(e<=i+a&&t==3*r)return!0;n+=this.ranges[t+l]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let l=this.ranges[r],i=l-(this.inverted?o:0),a=l+(this.inverted?0:o),s=this.ranges[r+t],u=this.ranges[r+n];e(i,i+s,a,a+u),o+=u-s}}invert(){return new eC(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?eC.empty:new eC(e<0?[0,-e,0]:[0,0,e])}constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&eC.empty)return eC.empty}}eC.empty=new eC([]);class eS{get maps(){return this._maps}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new eS(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new eS;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this._maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this._maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new ex(e,r,null)}constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}}let ek=Object.create(null);class eM{getMap(){return eC.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw RangeError("Invalid input for Step.fromJSON");let n=ek[t.stepType];if(!n)throw RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in ek)throw RangeError("Duplicate use of step JSON ID "+e);return ek[e]=t,t.prototype.jsonID=e,t}}class eR{static ok(e){return new eR(e,null)}static fail(e){return new eR(null,e)}static fromReplace(e,t,n,r){try{return eR.ok(e.replace(t,n,r))}catch(e){if(e instanceof O)return eR.fail(e.message);throw e}}constructor(e,t){this.doc=e,this.failed=t}}function eE(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let l=e.child(o);l.content.size&&(l=l.copy(eE(l.content,t,l))),l.isInline&&(l=t(l,n,o)),r.push(l)}return M.fromArray(r)}class eT extends eM{apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new P(eE(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return eR.fromReplace(e,this.from,this.to,o)}invert(){return new eI(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new eT(t.pos,n.pos,this.mark)}merge(e){return e instanceof eT&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eT(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new eT(t.from,t.to,e.markFromJSON(t.mark))}constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}}eM.jsonID("addMark",eT);class eI extends eM{apply(e){let t=e.slice(this.from,this.to),n=new P(eE(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return eR.fromReplace(e,this.from,this.to,n)}invert(){return new eT(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new eI(t.pos,n.pos,this.mark)}merge(e){return e instanceof eI&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eI(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new eI(t.from,t.to,e.markFromJSON(t.mark))}constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}}eM.jsonID("removeMark",eI);class eO extends eM{apply(e){let t=e.nodeAt(this.pos);if(!t)return eR.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return eR.fromReplace(e,this.pos,this.pos+1,new P(M.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new eO(this.pos,t.marks[n]);return new eO(this.pos,this.mark)}}return new eP(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new eO(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new eO(t.pos,e.markFromJSON(t.mark))}constructor(e,t){super(),this.pos=e,this.mark=t}}eM.jsonID("addNodeMark",eO);class eP extends eM{apply(e){let t=e.nodeAt(this.pos);if(!t)return eR.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return eR.fromReplace(e,this.pos,this.pos+1,new P(M.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new eO(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new eP(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new eP(t.pos,e.markFromJSON(t.mark))}constructor(e,t){super(),this.pos=e,this.mark=t}}eM.jsonID("removeNodeMark",eP);class eN extends eM{apply(e){return this.structure&&eA(e,this.from,this.to)?eR.fail("Structure replace would overwrite content"):eR.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new eC([this.from,this.to-this.from,this.slice.size])}invert(e){return new eN(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new eN(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof eN)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart)if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;else{let t=this.slice.size+e.slice.size==0?P.empty:new P(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new eN(e.from,this.to,t,this.structure)}{let t=this.slice.size+e.slice.size==0?P.empty:new P(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new eN(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new eN(t.from,t.to,P.fromJSON(e,t.slice),!!t.structure)}constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}}eM.jsonID("replace",eN);class eD extends eM{apply(e){if(this.structure&&(eA(e,this.from,this.gapFrom)||eA(e,this.gapTo,this.to)))return eR.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return eR.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?eR.fromReplace(e,this.from,this.to,n):eR.fail("Content does not fit in gap")}getMap(){return new eC([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new eD(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new eD(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new eD(t.from,t.to,t.gapFrom,t.gapTo,P.fromJSON(e,t.slice),t.insert,!!t.structure)}constructor(e,t,n,r,o,l,i=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=l,this.structure=i}}function eA(e,t,n){let r=e.resolve(t),o=n-t,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let e=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function eL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],l=e.doc.nodeAt(t),i=[],a=t+1;for(let t=0;t<l.childCount;t++){let s=l.child(t),u=a+s.nodeSize,c=r.matchType(s.type);if(c){r=c;for(let t=0;t<s.marks.length;t++)n.allowsMarkType(s.marks[t].type)||e.step(new eI(a,u,s.marks[t]));if(o&&s.isText&&"pre"!=n.whitespace){let e,t=/\r?\n|\r/g,r;for(;e=t.exec(s.text);)r||(r=new P(M.from(n.schema.text(" ",n.allowedMarks(s.marks))),0,0)),i.push(new eN(a+e.index,a+e.index+e[0].length,r))}}else i.push(new eN(a,u,P.empty));a=u}if(!r.validEnd){let t=r.fillBefore(M.empty,!0);e.replace(a,a,new P(t,0,0))}for(let t=i.length-1;t>=0;t--)e.step(i[t])}function ej(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),l=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,l,t))return n;if(0==n||r.type.spec.isolating||!((0==o||r.canReplace(o,r.childCount))&&(l==r.childCount||r.canReplace(0,l))))break}return null}function ez(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,l=n.contentMatchAt(r).findWrapping(t);if(!l)return null;let i=l.length?l[0]:t;return n.canReplaceWith(r,o,i)?l:null}(e,t),l=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,l=n.child(r),i=t.contentMatch.findWrapping(l.type);if(!i)return null;let a=(i.length?i[i.length-1]:t).contentMatch;for(let e=r;a&&e<o;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?i:null}(r,t);return l?o.map(eF).concat({type:t,attrs:n}).concat(l.map(eF)):null}function eF(e){return{type:e,attrs:null}}function eH(e,t,n,r){t.forEach((o,l)=>{if(o.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(o.text);){let o=e.mapping.slice(r).map(n+1+l+i.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function eB(e,t,n,r){t.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+l);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function eV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),l=o.depth-n,i=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>l;e--,t--){let n=o.node(e),l=o.index(e);if(n.type.spec.isolating)return!1;let i=n.content.cutByIndex(l,n.childCount),a=r&&r[t+1];a&&(i=i.replaceChild(0,a.type.create(a.attrs)));let s=r&&r[t]||n;if(!n.canReplace(l+1,n.childCount)||!s.type.validContent(i))return!1}let a=o.indexAfter(l),s=r&&r[0];return o.node(l).canReplaceWith(a,a,s?s.type:o.node(l+1).type)}function eW(e,t){let n=e.resolve(t),r=n.index();return eG(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function eG(e,t){return!!(e&&t&&!e.isLeaf&&function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let l=t.child(o),i=l.type==r?e.type.schema.nodes.text:l.type;if(!(n=n.matchType(i))||!e.type.allowsMarks(l.marks))return!1}return n.validEnd}(e,t))}function eU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t);for(let e=r.depth;;e--){let o,l,i=r.index(e);if(e==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(e+1),i++,l=r.node(e).maybeChild(i)):(o=r.node(e).maybeChild(i-1),l=r.node(e+1)),o&&!o.isTextblock&&eG(o,l)&&r.node(e).canReplace(i,i+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function e_(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,l=r.index(t)+ +(n>0),i=r.node(t),a=!1;if(1==e)a=i.canReplace(l,l,o);else{let e=i.contentMatchAt(l).findWrapping(o.firstChild.type);a=e&&i.canReplaceWith(l,l,e[0])}if(a)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function eq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.empty;if(t==n&&!r.size)return null;let o=e.resolve(t),l=e.resolve(n);return eK(o,l,r)?new eN(t,n,r):new e$(o,l,r).fit()}function eK(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}eM.jsonID("replaceAround",eD);class e${get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,l=n.depth,i=r.depth;for(;l&&i&&1==o.childCount;)o=o.firstChild.content,l--,i--;let a=new P(o,l,i);return e>-1?new eD(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new eN(n.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e=null,r=(n?(e=eY(this.unplaced.content,n-1).firstChild).content:this.unplaced.content).firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:i}=this.frontier[o],a,s=null;if(1==t&&(r?i.matchType(r.type)||(s=i.fillBefore(M.from(r),!1)):e&&l.compatibleContent(e.type)))return{sliceDepth:n,frontierDepth:o,parent:e,inject:s};if(2==t&&r&&(a=i.findWrapping(r.type)))return{sliceDepth:n,frontierDepth:o,parent:e,wrap:a};if(e&&i.matchType(e.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=eY(e,t);return!!r.childCount&&!r.firstChild.isLeaf&&(this.unplaced=new P(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=eY(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new P(eJ(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new P(eJ(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:l}=e;for(;this.depth>n;)this.closeFrontierNode();if(l)for(let e=0;e<l.length;e++)this.openFrontierNode(l[e]);let i=this.unplaced,a=r?r.content:i.content,s=i.openStart-t,u=0,c=[],{match:d,type:p}=this.frontier[n];if(o){for(let e=0;e<o.childCount;e++)c.push(o.child(e));d=d.matchFragment(o)}let h=a.size+t-(i.content.size-i.openEnd);for(;u<a.childCount;){let e=a.child(u),t=d.matchType(e.type);if(!t)break;(++u>1||0==s||e.content.size)&&(d=t,c.push(function e(t,n,r){if(n<=0)return t;let o=t.content;return n>1&&(o=o.replaceChild(0,e(o.firstChild,n-1,1==o.childCount?r-1:0))),n>0&&(o=t.type.contentMatch.fillBefore(o).append(o),r<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(M.empty,!0)))),t.copy(o)}(e.mark(p.allowedMarks(e.marks)),1==u?s:0,u==a.childCount?h:-1)))}let f=u==a.childCount;f||(h=-1),this.placed=eX(this.placed,n,M.from(c)),this.frontier[n].match=d,f&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<h;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=f?0==t?P.empty:new P(eJ(i.content,t-1,1),t-1,h<0?i.openEnd:t-1):new P(eJ(i.content,t,u),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!eQ(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return -1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){n:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=eQ(e,t,r,n,o);if(l){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=eQ(e,n,r,t,!0);if(!o||o.childCount)continue n}return{depth:t,fit:l,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=eX(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=eX(this.placed,this.depth,M.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(M.empty,!0);e.childCount&&(this.placed=eX(this.placed,this.frontier.length,e))}constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=M.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=M.from(e.node(t).copy(this.placed))}}function eJ(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(eJ(e.firstChild.content,t-1,n)))}function eX(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(eX(e.lastChild.content,t-1,n)))}function eY(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function eQ(e,t,n,r,o){let l=e.node(t),i=o?e.indexAfter(t):e.index(t);if(i==l.childCount&&!n.compatibleContent(l.type))return null;let a=r.fillBefore(l.content,!0,i);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,l.content,i)?a:null}function eZ(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(r==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==r-1)&&n.push(o)}return n}class e0 extends eM{apply(e){let t=e.nodeAt(this.pos);if(!t)return eR.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return eR.fromReplace(e,this.pos,this.pos+1,new P(M.from(r),0,+!t.isLeaf))}getMap(){return eC.empty}invert(e){return new e0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new e0(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new e0(t.pos,t.attr,t.value)}constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}}eM.jsonID("attr",e0);class e1 extends eM{apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return eR.ok(n)}getMap(){return eC.empty}invert(e){return new e1(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new e1(t.attr,t.value)}constructor(e,t){super(),this.attr=e,this.value=t}}eM.jsonID("docAttr",e1);let e2=class extends Error{};(e2=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n}).prototype=Object.create(Error.prototype),e2.prototype.constructor=e2,e2.prototype.name="TransformError";class e5{get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new e2(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.empty,r=eq(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new P(M.from(n),0,0))}delete(e,t){return this.replace(e,t,P.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return!function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),l=e.doc.resolve(n);if(eK(o,l,r))return e.step(new eN(t,n,r));let i=eZ(o,e.doc.resolve(n));0==i[i.length-1]&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;i.indexOf(e)>-1?a=e:o.before(e)==t&&i.splice(1,0,-e)}let s=i.indexOf(a),u=[],c=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(u.push(n),t==r.openStart)break;e=n.content}for(let e=c-1;e>=0;e--){var d;let t=u[e],n=(d=t.type).spec.defining||d.spec.definingForContent;if(n&&!t.sameMarkup(o.node(Math.abs(a)-1)))c=e;else if(n||!t.type.isTextblock)break}for(let t=r.openStart;t>=0;t--){let a=(t+c+1)%(r.openStart+1),d=u[a];if(d)for(let t=0;t<i.length;t++){let u=i[(t+s)%i.length],c=!0;u<0&&(c=!1,u=-u);let p=o.node(u-1),h=o.index(u-1);if(p.canReplaceWith(h,h,d.type,d.marks))return e.replace(o.before(u),c?l.after(u):n,new P(function e(t,n,r,o,l){if(n<r){let l=t.firstChild;t=t.replaceChild(0,l.copy(e(l.content,n+1,r,o,l)))}if(n>o){let e=l.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(M.empty,!0))}return t}(r.content,0,r.openStart,a),a,r.openEnd))}}let p=e.steps.length;for(let a=i.length-1;a>=0&&(e.replace(t,n,r),!(e.steps.length>p));a--){let e=i[a];e<0||(t=o.before(e),n=l.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){var r=e,o=t;if(!n.isInline&&r==o&&this.doc.resolve(r).parent.content.size){let e=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)break}return null}(this.doc,r,n.type);null!=e&&(r=o=e)}return this.replaceRange(r,o,new P(M.from(n),0,0)),this}deleteRange(e,t){return!function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),l=eZ(r,o);for(let t=0;t<l.length;t++){let n=l[t],i=t==l.length-1;if(i&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(i||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let l=1;l<=r.depth&&l<=o.depth;l++)if(t-r.start(l)==r.depth-l&&n>r.end(l)&&o.end(l)-n!=o.depth-l&&r.start(l-1)==o.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),o.index(l-1)))return e.delete(r.before(l),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return!function(e,t,n){let{$from:r,$to:o,depth:l}=t,i=r.before(l+1),a=o.after(l+1),s=i,u=a,c=M.empty,d=0;for(let e=l,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,c=M.from(r.node(e).copy(c)),d++):s--;let p=M.empty,h=0;for(let e=l,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,p=M.from(o.node(e).copy(p)),h++):u++;e.step(new eD(s,u,i,a,new P(c.append(p),d,h),c.size-d,!0))}(this,e,t),this}join(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return!function(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,l=e.doc.resolve(t-n),i=l.node().type;if(o&&i.inlineContent){let e="pre"==i.whitespace,t=!!i.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let a=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);eB(e,r.node(),r.before(),a)}i.inlineContent&&eL(e,t+n-1,i,l.node().contentMatchAt(l.index()),null==r);let s=e.mapping.slice(a),u=s.map(t-n);if(e.step(new eN(u,s.map(t+n,-1),P.empty,!0)),!0===r){let t=e.doc.resolve(u);eH(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return!function(e,t,n){let r=M.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=M.from(n[e].type.create(n[e].attrs,r))}let o=t.start,l=t.end;e.step(new eD(o,l,o,l,new P(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var o=this;if(!n.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let l=o.steps.length;return o.doc.nodesBetween(e,t,(e,t)=>{var i,a,s;let u,c,d="function"==typeof r?r(e):r;if(e.isTextblock&&!e.hasMarkup(n,d)&&(i=o.doc,a=o.mapping.slice(l).map(t),s=n,c=(u=i.resolve(a)).index(),u.parent.canReplaceWith(c,c+1,s))){let r=null;if(n.schema.linebreakReplacement){let e="pre"==n.whitespace,t=!!n.contentMatch.matchType(n.schema.linebreakReplacement);e&&!t?r=!1:!e&&t&&(r=!0)}!1===r&&eB(o,e,t,l),eL(o,o.mapping.slice(l).map(t,1),n,void 0,null===r);let i=o.mapping.slice(l),a=i.map(t,1),s=i.map(t+e.nodeSize,1);return o.step(new eD(a,s,a+1,s-1,new P(M.from(n.create(d,null,e.marks)),0,0),1,!0)),!0===r&&eH(o,e,t,l),!1}}),this}setNodeMarkup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return!function(e,t,n,r,o){let l=e.doc.nodeAt(t);if(!l)throw RangeError("No node at given position");n||(n=l.type);let i=n.create(r,null,o||l.marks);if(l.isLeaf)return e.replaceWith(t,t+l.nodeSize,i);if(!n.validContent(l.content))throw RangeError("Invalid content for node type "+n.name);e.step(new eD(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new P(M.from(i),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new e0(e,t,n)),this}setDocAttribute(e,t){return this.step(new e1(e,t)),this}addNodeMark(e,t){return this.step(new eO(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw RangeError("No node at position "+e);if(t instanceof I)t.isInSet(n.marks)&&this.step(new eP(e,t));else{let r=n.marks,o,l=[];for(;o=t.isInSet(r);)l.push(new eP(e,o)),r=o.removeFromSet(r);for(let e=l.length-1;e>=0;e--)this.step(l[e])}return this}split(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),l=M.empty,i=M.empty;for(let e=o.depth,t=o.depth-n,a=n-1;e>t;e--,a--){l=M.from(o.node(e).copy(l));let t=r&&r[a];i=M.from(t?t.type.create(t.attrs,i):o.node(e).copy(i))}e.step(new eN(t,t,new P(l.append(i),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){var r;let o,l,i,a;return r=this,i=[],a=[],r.doc.nodesBetween(e,t,(r,s,u)=>{if(!r.isInline)return;let c=r.marks;if(!n.isInSet(c)&&u.type.allowsMarkType(n.type)){let u=Math.max(s,e),d=Math.min(s+r.nodeSize,t),p=n.addToSet(c);for(let e=0;e<c.length;e++)c[e].isInSet(p)||(o&&o.to==u&&o.mark.eq(c[e])?o.to=d:i.push(o=new eI(u,d,c[e])));l&&l.to==u?l.to=d:a.push(l=new eT(u,d,n))}}),i.forEach(e=>r.step(e)),a.forEach(e=>r.step(e)),this}removeMark(e,t,n){var r;let o,l;return r=this,o=[],l=0,r.doc.nodesBetween(e,t,(r,i)=>{if(!r.isInline)return;l++;let a=null;if(n instanceof eo){let e=r.marks,t;for(;t=n.isInSet(e);)(a||(a=[])).push(t),e=t.removeFromSet(e)}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length){let n=Math.min(i+r.nodeSize,t);for(let t=0;t<a.length;t++){let r=a[t],s;for(let e=0;e<o.length;e++){let t=o[e];t.step==l-1&&r.eq(o[e].style)&&(s=t)}s?(s.to=n,s.step=l):o.push({style:r,from:Math.max(i,e),to:n,step:l})}}}),o.forEach(e=>r.step(new eI(e.from,e.to,e.style))),this}clearIncompatible(e,t,n){return eL(this,e,t,n),this}constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new eS}}let e3=Object.create(null);class e4{get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.empty,n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,l=this.ranges;for(let i=0;i<l.length;i++){let{$from:a,$to:s}=l[i],u=e.mapping.slice(o);e.replaceRange(u.map(a.pos),u.map(s.pos),i?P.empty:t),0==i&&ti(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:l,$to:i}=r[o],a=e.mapping.slice(n),s=a.map(l.pos),u=a.map(i.pos);o?e.deleteRange(s,u):(e.replaceRangeWith(s,u,t),ti(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new e8(e):tl(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?tl(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):tl(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new tr(e.node(0))}static atStart(e){return tl(e,e,0,0,1)||new tr(e)}static atEnd(e){return tl(e,e,e.content.size,e.childCount,-1)||new tr(e)}static fromJSON(e,t){if(!t||!t.type)throw RangeError("Invalid input for Selection.fromJSON");let n=e3[t.type];if(!n)throw RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in e3)throw RangeError("Duplicate use of selection JSON ID "+e);return e3[e]=t,t.prototype.jsonID=e,t}getBookmark(){return e8.between(this.$anchor,this.$head).getBookmark()}constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new e9(e.min(t),e.max(t))]}}e4.prototype.visible=!0;class e9{constructor(e,t){this.$from=e,this.$to=t}}let e6=!1;function e7(e){e6||e.parent.inlineContent||(e6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class e8 extends e4{get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return e4.near(n);let r=e.resolve(t.map(this.anchor));return new e8(r.parent.inlineContent?r:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.empty;if(super.replace(e,t),t==P.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof e8&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new te(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new e8(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let e=e4.findFrom(t,n,!0)||e4.findFrom(t,-n,!0);if(!e)return e4.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(e4.findFrom(e,-n,!0)||e4.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0&&(e=t)),new e8(e,t)}constructor(e,t=e){e7(e),e7(t),super(e,t)}}e4.jsonID("text",e8);class te{map(e){return new te(e.map(this.anchor),e.map(this.head))}resolve(e){return e8.between(e.resolve(this.anchor),e.resolve(this.head))}constructor(e,t){this.anchor=e,this.head=t}}class tt extends e4{map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?e4.near(o):new tt(o)}content(){return new P(M.from(this.node),0,0)}eq(e){return e instanceof tt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new tn(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new tt(e.resolve(t.anchor))}static create(e,t){return new tt(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e){let t=e.nodeAfter;super(e,e.node(0).resolve(e.pos+t.nodeSize)),this.node=t}}tt.prototype.visible=!1,e4.jsonID("node",tt);class tn{map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new te(n,n):new tn(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&tt.isSelectable(n)?new tt(t):e4.near(t)}constructor(e){this.anchor=e}}class tr extends e4{replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.empty;if(t==P.empty){e.delete(0,e.doc.content.size);let t=e4.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new tr(e)}map(e){return new tr(e)}eq(e){return e instanceof tr}getBookmark(){return to}constructor(e){super(e.resolve(0),e.resolve(e.content.size))}}e4.jsonID("all",tr);let to={map(){return this},resolve:e=>new tr(e)};function tl(e,t,n,r,o){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return e8.create(e,n);for(let i=r-(o>0?0:1);o>0?i<t.childCount:i>=0;i+=o){let r=t.child(i);if(r.isAtom){if(!l&&tt.isSelectable(r))return tt.create(e,n-(o<0?r.nodeSize:0))}else{let t=tl(e,r,n+o,o<0?r.childCount:0,o,l);if(t)return t}n+=r.nodeSize*o}return null}function ti(e,t,n){let r,o=e.steps.length-1;if(o<t)return;let l=e.steps[o];(l instanceof eN||l instanceof eD)&&(e.mapping.maps[o].forEach((e,t,n,o)=>{null==r&&(r=o)}),e.setSelection(e4.near(e.doc.resolve(r),n)))}class ta extends e5{get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return I.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||I.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(e4.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}}function ts(e,t){return t&&e?e.bind(t):e}class tu{constructor(e,t,n){this.name=e,this.init=ts(t.init,n),this.apply=ts(t.apply,n)}}let tc=[new tu("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new tu("selection",{init:(e,t)=>e.selection||e4.atStart(t.doc),apply:e=>e.selection}),new tu("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new tu("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class td{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tc.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new tu(e.key,e.spec.state,e))})}}class tp{get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let i=this.config.plugins[l];if(i.spec.appendTransaction){let a=r?r[l].n:0,s=r?r[l].state:this,u=a<t.length&&i.spec.appendTransaction.call(i,a?t.slice(a):t,s,n);if(u&&n.filterTransaction(u,l)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<l?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),o=!0}r&&(r[l]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let t=new tp(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new ta(this)}static create(e){let t=new td(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new tp(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new td(this.schema,e.plugins),n=t.fields,r=new tp(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw RangeError("Required config field 'schema' missing");let r=new td(e.schema,e.plugins),o=new tp(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=U.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=e4.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let i=n[l],a=i.spec.state;if(i.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){o[r.name]=a.fromJSON.call(i,e,t[l],o);return}}o[r.name]=r.init(e,o)}}),o}constructor(e){this.config=e}}class th{getState(e){return e[this.key]}constructor(e){this.spec=e,this.props={},e.props&&function e(t,n,r){for(let o in t){let l=t[o];l instanceof Function?l=l.bind(n):"handleDOMEvents"==o&&(l=e(l,n,{})),r[o]=l}return r}(e.props,this,this.props),this.key=e.key?e.key.key:tm("plugin")}}let tf=Object.create(null);function tm(e){return e in tf?e+"$"+ ++tf[e]:(tf[e]=0,e+"$")}class tg{get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}constructor(e="key"){this.key=tm(e)}}let tv=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function tb(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("backward",e):!(n.parentOffset>0))?n:null}let ty=(e,t,n)=>{let r=tb(e,n);if(!r)return!1;let o=tS(r);if(!o){let n=r.blockRange(),o=n&&ej(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let l=o.nodeBefore;if(tD(e,o,t,-1))return!0;if(0==r.parent.content.size&&(tx(l,"end")||tt.isSelectable(l)))for(let n=r.depth;;n--){let i=eq(e.doc,r.before(n),r.after(n),P.empty);if(i&&i.slice.size<i.to-i.from){if(t){let n=e.tr.step(i);n.setSelection(tx(l,"end")?e4.findFrom(n.doc.resolve(n.mapping.map(o.pos,-1)),-1):tt.create(n.doc,o.pos-l.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||r.node(n-1).childCount>1)break}return!!l.isAtom&&o.depth==r.depth-1&&(t&&t(e.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0)};function tw(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let l=t.nodeAfter,i=t.pos+1;for(;!l.isTextblock;i++){if(l.type.spec.isolating)return!1;let e=l.firstChild;if(!e)return!1;l=e}let a=eq(e.doc,o,i,P.empty);if(!a||a.from!=o||a instanceof eN&&a.slice.size>=i-o)return!1;if(n){let t=e.tr.step(a);t.setSelection(e8.create(t.doc,o)),n(t.scrollIntoView())}return!0}function tx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)break}return!1}let tC=(e,t,n)=>{let{$head:r,empty:o}=e.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;l=tS(r)}let i=l&&l.nodeBefore;return!!i&&!!tt.isSelectable(i)&&(t&&t(e.tr.setSelection(tt.create(e.doc,l.pos-i.nodeSize)).scrollIntoView()),!0)};function tS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function tk(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("forward",e):!(n.parentOffset<n.parent.content.size))?n:null}let tM=(e,t,n)=>{let r=tk(e,n);if(!r)return!1;let o=tE(r);if(!o)return!1;let l=o.nodeAfter;if(tD(e,o,t,1))return!0;if(0==r.parent.content.size&&(tx(l,"start")||tt.isSelectable(l))){let n=eq(e.doc,r.before(),r.after(),P.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(tx(l,"start")?e4.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):tt.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!!l.isAtom&&o.depth==r.depth-1&&(t&&t(e.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0)},tR=(e,t,n)=>{let{$head:r,empty:o}=e.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;l=tE(r)}let i=l&&l.nodeAfter;return!!i&&!!tt.isSelectable(i)&&(t&&t(e.tr.setSelection(tt.create(e.doc,l.pos)).scrollIntoView()),!0)};function tE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}let tT=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!!n.parent.type.spec.code&&!!n.sameParent(r)&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function tI(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}let tO=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),l=n.indexAfter(-1),i=tI(o.contentMatchAt(l));if(!i||!o.canReplaceWith(l,l,i))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,i.createAndFill());o.setSelection(e4.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},tP=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof tr||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=tI(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,i=e.tr.insert(n,l.createAndFill());i.setSelection(e8.create(i.doc,n+1)),t(i.scrollIntoView())}return!0},tN=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(eV(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&ej(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function tD(e,t,n,r){let o,l,i,a=t.nodeBefore,s=t.nodeAfter,u,c,d=a.type.spec.isolating||s.type.spec.isolating;if(!d&&(o=t.nodeBefore,l=t.nodeAfter,i=t.index(),o&&l&&o.type.compatibleContent(l.type)&&(!o.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!!t.parent.canReplace(i,i+1)&&!!(l.isTextblock||eW(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))))return!0;let p=!d&&t.parent.canReplace(t.index(),t.index()+1);if(p&&(u=(c=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&c.matchType(u[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,o=M.empty;for(let e=u.length-1;e>=0;e--)o=M.from(u[e].create(null,o));o=M.from(a.copy(o));let l=e.tr.step(new eD(t.pos-1,r,t.pos,r,new P(o,1,0),u.length,!0)),i=l.doc.resolve(r+2*u.length);i.nodeAfter&&i.nodeAfter.type==a.type&&eW(l.doc,i.pos)&&l.join(i.pos),n(l.scrollIntoView())}return!0}let h=s.type.spec.isolating||r>0&&d?null:e4.findFrom(t,1),f=h&&h.$from.blockRange(h.$to),m=f&&ej(f);if(null!=m&&m>=t.depth)return n&&n(e.tr.lift(f,m).scrollIntoView()),!0;if(p&&tx(s,"start",!0)&&tx(a,"end")){let r=a,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let l=s,i=1;for(;!l.isTextblock;l=l.firstChild)i++;if(r.canReplace(r.childCount,r.childCount,l.content)){if(n){let r=M.empty;for(let e=o.length-1;e>=0;e--)r=M.from(o[e].copy(r));n(e.tr.step(new eD(t.pos-o.length,t.pos+s.nodeSize,t.pos+i,t.pos+s.nodeSize-i,new P(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function tA(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return!!o.node(l).isTextblock&&(n&&n(t.tr.setSelection(e8.create(t.doc,e<0?o.start(l):o.end(l)))),!0)}}let tL=tA(-1),tj=tA(1);function tz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:l},$to:{pos:i}}=n.selection.ranges[r];n.doc.nodesBetween(l,i,(r,l)=>{if(o)return!1;if(!(!r.isTextblock||r.hasMarkup(e,t)))if(r.type==e)o=!0;else{let t=n.doc.resolve(l),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:l},$to:{pos:i}}=n.selection.ranges[r];o.setBlockType(l,i,e,t)}r(o.scrollIntoView())}return!0}}function tF(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}let tH=tF(tv,ty,tC),tB=tF(tv,tM,tR),tV={Enter:tF(tT,tP,tN,(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof tt&&e.selection.node.isBlock)return!!n.parentOffset&&!!eV(e.doc,n.pos)&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],l,i,a=!1,s=!1;for(let e=n.depth;;e--){if(n.node(e).isBlock){let t;a=n.end(e)==n.pos+(n.depth-e),s=n.start(e)==n.pos-(n.depth-e),i=tI(n.node(e-1).contentMatchAt(n.indexAfter(e-1)));o.unshift(t||(a&&i?{type:i}:null)),l=e;break}if(1==e)return!1;o.unshift(null)}let u=e.tr;(e.selection instanceof e8||e.selection instanceof tr)&&u.deleteSelection();let c=u.mapping.map(n.pos),d=eV(u.doc,c,o.length,o);if(d||(o[0]=i?{type:i}:null,d=eV(u.doc,c,o.length,o)),!d)return!1;if(u.split(c,o.length,o),!a&&s&&n.node(l).type!=i){let e=u.mapping.map(n.before(l)),t=u.doc.resolve(e);i&&n.node(l-1).canReplaceWith(t.index(),t.index()+1,i)&&u.setNodeMarkup(u.mapping.map(n.before(l)),i)}return t&&t(u.scrollIntoView()),!0}),"Mod-Enter":tO,Backspace:tH,"Mod-Backspace":tH,"Shift-Backspace":tH,Delete:tB,"Mod-Delete":tB,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new tr(e.doc))),!0)},tW={"Ctrl-h":tV.Backspace,"Alt-Backspace":tV["Mod-Backspace"],"Ctrl-d":tV.Delete,"Ctrl-Alt-Backspace":tV["Mod-Delete"],"Alt-Delete":tV["Mod-Delete"],"Alt-d":tV["Mod-Delete"],"Ctrl-a":tL,"Ctrl-e":tj};for(let e in tV)tW[e]=tV[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();let tG=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},tU=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},t_=null,tq=function(e,t,n){let r=t_||(t_=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},tK=function(){t_=null},t$=function(e,t,n,r){return n&&(tX(e,t,n,r,-1)||tX(e,t,n,r,1))},tJ=/^(img|br|input|textarea|hr)$/i;function tX(e,t,n,r,o){for(var l;;){if(e==n&&t==r)return!0;if(t==(o<0?0:tY(e))){let n=e.parentNode;if(!n||1!=n.nodeType||tQ(e)||tJ.test(e.nodeName)||"false"==e.contentEditable)return!1;t=tG(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable)if(null==(l=n.pmViewDesc)||!l.ignoreForSelection)return!1;else t+=o;else e=n,t=o<0?tY(e):0}}}function tY(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function tQ(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}let tZ=function(e){return e.focusNode&&t$(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function t0(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}let t1="undefined"!=typeof navigator?navigator:null,t2="undefined"!=typeof document?document:null,t5=t1&&t1.userAgent||"",t3=/Edge\/(\d+)/.exec(t5),t4=/MSIE \d/.exec(t5),t9=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t5),t6=!!(t4||t9||t3),t7=t4?document.documentMode:t9?+t9[1]:t3?+t3[1]:0,t8=!t6&&/gecko\/(\d+)/i.test(t5);t8&&(/Firefox\/(\d+)/.exec(t5)||[0,0])[1];let ne=!t6&&/Chrome\/(\d+)/.exec(t5),nt=!!ne,nn=ne?+ne[1]:0,nr=!t6&&!!t1&&/Apple Computer/.test(t1.vendor),no=nr&&(/Mobile\/\w+/.test(t5)||!!t1&&t1.maxTouchPoints>2),nl=no||!!t1&&/Mac/.test(t1.platform),ni=!!t1&&/Win/.test(t1.platform),na=/Android \d/.test(t5),ns=!!t2&&"webkitFontSmoothing"in t2.documentElement.style,nu=ns?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function nc(e,t){return"number"==typeof e?e:e[t]}function nd(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,l=e.dom.ownerDocument;for(let i=n||e.dom;i;){if(1!=i.nodeType){i=tU(i);continue}let e=i,n=e==l.body,a=n?function(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}(l):function(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}(e),s=0,u=0;if(t.top<a.top+nc(r,"top")?u=-(a.top-t.top+nc(o,"top")):t.bottom>a.bottom-nc(r,"bottom")&&(u=t.bottom-t.top>a.bottom-a.top?t.top+nc(o,"top")-a.top:t.bottom-a.bottom+nc(o,"bottom")),t.left<a.left+nc(r,"left")?s=-(a.left-t.left+nc(o,"left")):t.right>a.right-nc(r,"right")&&(s=t.right-a.right+nc(o,"right")),s||u)if(n)l.defaultView.scrollBy(s,u);else{let n=e.scrollLeft,r=e.scrollTop;u&&(e.scrollTop+=u),s&&(e.scrollLeft+=s);let o=e.scrollLeft-n,l=e.scrollTop-r;t={left:t.left-o,top:t.top-l,right:t.right-o,bottom:t.bottom-l}}let c=n?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(c))break;i="absolute"==c?i.offsetParent:tU(i)}}function np(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=tU(r));return t}function nh(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:l}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=l&&(r.scrollLeft=l)}}let nf=null;function nm(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ng(e){return e.top<e.bottom||e.left<e.right}function nv(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(ng(e))return e}return Array.prototype.find.call(n,ng)||e.getBoundingClientRect()}let nb=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ny(e,t,n){let{node:r,offset:o,atom:l}=e.docView.domFromPos(t,n<0?-1:1),i=ns||t8;if(3==r.nodeType)if(i&&(nb.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let e=nv(tq(r,o,o),n);if(t8&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=nv(tq(r,o-1,o-1),-1);if(t.top==e.top){let n=nv(tq(r,o,o+1),-1);if(n.top!=e.top)return nw(n,n.left<t.left)}}return e}else{let e=o,t=o,l=n<0?1:-1;return n<0&&!o?(t++,l=-1):n>=0&&o==r.nodeValue.length?(e--,l=1):n<0?e--:t++,nw(nv(tq(r,e,t),l),l<0)}if(!e.state.doc.resolve(t-(l||0)).parent.inlineContent){if(null==l&&o&&(n<0||o==tY(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return nx(e.getBoundingClientRect(),!1)}if(null==l&&o<tY(r)){let e=r.childNodes[o];if(1==e.nodeType)return nx(e.getBoundingClientRect(),!0)}return nx(r.getBoundingClientRect(),n>=0)}if(null==l&&o&&(n<0||o==tY(r))){let e=r.childNodes[o-1],t=3==e.nodeType?tq(e,tY(e)-!i):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return nw(nv(t,1),!1)}if(null==l&&o<tY(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?tq(e,0,+!i):1==e.nodeType?e:null:null;if(t)return nw(nv(t,-1),!0)}return nw(nv(3==r.nodeType?tq(r):r,-n),n>=0)}function nw(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function nx(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function nC(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}let nS=/[\u0590-\u08ac]/,nk=null,nM=null,nR=!1;class nE{matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){let r;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode))if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}else{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}if(e==this.dom&&this.contentDOM)r=t>tG(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=e;r;r=r.parentNode){let o=this.getDesc(r),l;if(o&&(!t||o.node))if(!n||!(l=o.nodeDOM)||(1==l.nodeType?l.contains(1==e.nodeType?e:e.parentNode):l==e))return o;else n=!1}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return -1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let o=this.children[n],l=t+o.size;if(l>e||o instanceof nA){r=e-t;break}t=l}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof nT&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;(e=n?this.children[n-1]:null)&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?tG(e.dom)+1:0}}{let e,r=!0;for(;(e=n<this.children.length?this.children[n]:null)&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?tG(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let l=n,i=0;;i++){let n=this.children[i],a=l+n.size;if(-1==r&&e<=a){let o=l+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=l;for(let t=i;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=tG(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||i==this.children.length-1)){t=a;for(let e=i+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=tG(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}l=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),l=Math.max(e,t);for(let i=0,a=0;i<this.children.length;i++){let s=this.children[i],u=a+s.size;if(o>a&&l<u)return s.setSelection(e-a-s.border,t-a-s.border,n,r);a=u}let i=this.domFromPos(e,e?-1:1),a=t==e?i:this.domFromPos(t,t?-1:1),s=n.root.getSelection(),u=n.domSelectionRange(),c=!1;if((t8||nr)&&e==t){let{node:e,offset:t}=i;if(3==e.nodeType){if((c=!!(t&&"\n"==e.nodeValue[t-1]))&&t==e.nodeValue.length)for(let t=e,n;t;t=t.parentNode){if(n=t.nextSibling){"BR"==n.nodeName&&(i=a={node:n.parentNode,offset:tG(n)+1});break}let e=t.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(t8&&u.focusNode&&u.focusNode!=a.node&&1==u.focusNode.nodeType){let e=u.focusNode.childNodes[u.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&nr)&&t$(i.node,i.offset,u.anchorNode,u.anchorOffset)&&t$(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((s.extend||e==t)&&!(c&&t8)){s.collapse(i.node,i.offset);try{e!=t&&s.extend(a.node,a.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=i;i=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(i.node,i.offset),s.removeAllRanges(),s.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],l=n+o.size;if(n==l?e<=l&&t>=n:e<l&&t>n){let r=n+o.border,i=l-o.border;if(e>=r&&t<=i){this.dirty=e==n||t==l?2:1,e==r&&t==i&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=3:o.markDirty(e-r,t-r);return}o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=l}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}}class nT extends nE{matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}constructor(e,t,n,r){let o,l=t.type.toDOM;if("function"==typeof l&&(l=l(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=l.nodeType){let e=document.createElement("span");e.appendChild(l),l=e}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,o=this}}class nI extends nE{get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}}class nO extends nE{static create(e,t,n,r){let o=r.nodeViews[t.type.name],l=o&&o(t,r,n);return l&&l.dom||(l=eg.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new nO(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=nO.create(this.parent,this.mark,!0,n),o=this.children,l=this.size;t<l&&(o=n_(o,t,l,n)),e>0&&(o=n_(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}constructor(e,t,n,r,o){super(e,[],n,r),this.mark=t,this.spec=o}}class nP extends nE{static create(e,t,n,r,o,l){let i=o.nodeViews[t.type.name],a,s=i&&i(t,o,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:l,n,r),u=s&&s.dom,c=s&&s.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else if(!u){let e=eg.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:u,contentDOM:c}=e)}c||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return(u=nB(u,n,t),s)?a=new nL(e,t,n,r,u,c||null,d,s,o,l+1):t.isText?new nD(e,t,n,r,u,d,o):new nP(e,t,n,r,u,c||null,d,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>M.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&nV(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return+!this.node.isLeaf}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,l=o&&o.pos>-1?o:null,i=o&&o.pos<0,a=new nG(this,l&&l.node,e);(function(e,t,n,r){let o=t.locals(e),l=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let i=e.child(n);r(i,o,t.forChild(l,i),n),l+=i.nodeSize}return}let i=0,a=[],s=null;for(let u=0;;){let c,d,p,h;for(;i<o.length&&o[i].to==l;){let e=o[i++];e.widget&&(c?(d||(d=[c])).push(e):c=e)}if(c)if(d){d.sort(nU);for(let e=0;e<d.length;e++)n(d[e],u,!!s)}else n(c,u,!!s);if(s)h=-1,p=s,s=null;else if(u<e.childCount)h=u,p=e.child(u++);else break;for(let e=0;e<a.length;e++)a[e].to<=l&&a.splice(e--,1);for(;i<o.length&&o[i].from<=l&&o[i].to>l;)a.push(o[i++]);let f=l+p.nodeSize;if(p.isText){let e=f;i<o.length&&o[i].from<e&&(e=o[i].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<f&&(s=p.cut(e-l),p=p.cut(0,e-l),f=e,h=-1)}else for(;i<o.length&&o[i].to<f;)i++;let m=p.isInline&&!p.isLeaf?a.filter(e=>!e.inline):a.slice();r(p,m,t.forChild(l,p),h),l=f}})(this.node,this.innerDeco,(t,o,l)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!l&&a.syncToMarks(o==this.node.childCount?I.none:this.node.child(o).marks,n,e),a.placeWidget(t,e,r)},(t,l,s,u)=>{let c;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,l,s,u)||i&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(c=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(t,l,s,c,e)||a.updateNextNode(t,l,s,e,u,r)||a.addNode(t,l,s,e,r),r+=t.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(l&&this.protectLocalComposition(e,l),function e(t,n,r){let o=t.firstChild,l=!1;for(let i=0;i<n.length;i++){let a=n[i],s=a.dom;if(s.parentNode==t){for(;s!=o;)o=nW(o),l=!0;o=o.nextSibling}else l=!0,t.insertBefore(s,o);if(a instanceof nO){let n=o?o.previousSibling:t.lastChild;e(a.contentDOM,a.children,r),o=n?n.nextSibling:t.firstChild}}for(;o;)o=nW(o),l=!0;l&&r.trackWrites==t&&(r.trackWrites=null)}(this.contentDOM,this.children,e),no&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof e8)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(!this.node.inlineContent)return{node:o,pos:-1,text:""};{let e=o.nodeValue,l=function(e,t,n,r){for(let o=0,l=0;o<e.childCount&&l<=r;){let i=e.child(o++),a=l;if(l+=i.nodeSize,!i.isText)continue;let s=i.text;for(;o<e.childCount;){let t=e.child(o++);if(l+=t.nodeSize,!t.isText)break;s+=t.text}if(l>=n){if(l>=r&&s.slice(r-t.length-a,r-a)==t)return r-t.length;let e=a<r?s.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&s.length>=r+t.length-a&&s.slice(r-a,r-a+t.length)==t)return r}}return -1}(this.node.content,e,n-t,r-t);return l<0?null:{node:o,pos:l,text:e}}}protectLocalComposition(e,t){let{node:n,pos:r,text:o}=t;if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let i=new nI(this,l,n,o);e.input.compositionNodes.push(i),this.children=n_(this.children,r,r+o.length,e,i)}update(e,t,n,r){return 3!=this.dirty&&!!e.sameMarkup(this.node)&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(nV(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=nH(this.dom,this.nodeDOM,nF(this.outerDeco,this.node,t),nF(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}constructor(e,t,n,r,o,l,i,a,s){super(e,[],o,l),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=i}}function nN(e,t,n,r,o){nB(r,t,e);let l=new nP(void 0,e,t,n,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class nD extends nP{parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return 3!=this.dirty&&(0==this.dirty||!!this.inParent())&&!!e.sameMarkup(this.node)&&(this.updateOuterDeco(t),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new nD(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(0==e||t==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}constructor(e,t,n,r,o,l,i){super(e,t,n,r,o,null,l,i,0)}}class nA extends nE{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class nL extends nP{update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return(!!this.contentDOM||!!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}constructor(e,t,n,r,o,l,i,a,s,u){super(e,t,n,r,o,l,i,s,u),this.spec=a}}let nj=function(e){e&&(this.nodeName=e)};nj.prototype=Object.create(null);let nz=[new nj];function nF(e,t,n){if(0==e.length)return nz;let r=n?nz[0]:new nj,o=[r];for(let l=0;l<e.length;l++){let i=e[l].type.attrs;if(i)for(let e in i.nodeName&&o.push(r=new nj(i.nodeName)),i){let l=i[e];null!=l&&(n&&1==o.length&&o.push(r=new nj(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+l:"style"==e?r.style=(r.style?r.style+";":"")+l:"nodeName"!=e&&(r[e]=l))}}return o}function nH(e,t,n,r){if(n==nz&&r==nz)return t;let o=t;for(let t=0;t<r.length;t++){let l=r[t],i=n[t];if(t){let t;i&&i.nodeName==l.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==l.nodeName||((t=document.createElement(l.nodeName)).pmIsDeco=!0,t.appendChild(o),i=nz[0]),o=t}!function(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}(o,i||nz[0],l)}return o}function nB(e,t,n){return nH(e,e,nz,nF(t,n,1!=e.nodeType))}function nV(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function nW(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class nG{destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;r<l&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=nO.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,n))o=this.top.children.indexOf(l,this.index);else for(let r=this.index,l=Math.min(this.top.children.length,r+5);r<l;r++){let l=this.top.children[r];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,o){let l=this.top.children[r];return 3==l.dirty&&l.dom==l.contentDOM&&(l.dirty=2),!!l.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return -1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t){for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e}return -1}e=t}}updateNextNode(e,t,n,r,o,l){for(let i=this.index;i<this.top.children.length;i++){let a=this.top.children[i];if(a instanceof nP){let s=this.preMatch.matched.get(a);if(null!=s&&s!=o)return!1;let u=a.dom,c,d=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&nV(t,a.outerDeco));if(!d&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(a,e,t,n,r,l)))return this.destroyBetween(this.index,i),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,l+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!nV(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let i=nP.create(this.top,t,n,r,o,l);if(i.contentDOM)for(let t of(i.children=e.children,e.children=[],i.children))t.parent=i;return e.destroy(),i}addNode(e,t,n,r,o){let l=nP.create(this.top,e,t,n,r,o);l.contentDOM&&l.updateChildren(r,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let r=new nT(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof nO;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof nD)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nr||nt)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new nA(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,l=new Map,i=[];r:for(;o>0;){let a;for(;;)if(r){let e=n.children[r-1];if(e instanceof nO)n=e,r=e.children.length;else{a=e,r--;break}}else if(n==t)break r;else r=n.parent.children.indexOf(n),n=n.parent;let s=a.node;if(s){if(s!=e.child(o-1))break;--o,l.set(a,o),i.push(a)}}return{index:o,matched:l,matches:i.reverse()}}(e.node.content,e)}}function nU(e,t){return e.type.side-t.type.side}function n_(e,t,n,r,o){let l=[];for(let i=0,a=0;i<e.length;i++){let s=e[i],u=a,c=a+=s.size;u>=n||c<=t?l.push(s):(u<t&&l.push(s.slice(0,t-u,r)),o&&(l.push(o),o=void 0),c>n&&l.push(s.slice(n-u,s.size,r)))}return l}function nq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),l=o&&0==o.size,i=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),s,u;if(tZ(n)){for(s=i;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&tt.isSelectable(e)&&o.parent&&!(e.isInline&&function(e,t,n){for(let r=0==t,o=t==tY(e);r||o;){if(e==n)return!0;let t=tG(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==tY(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;u=new tt(i==e?a:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=i,o=i;for(let r=0;r<n.rangeCount;r++){let l=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(l.startContainer,l.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(l.endContainer,l.endOffset,-1))}if(t<0)return null;[s,i]=o==e.state.selection.anchor?[o,t]:[t,o],a=r.resolve(i)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let c=r.resolve(s);if(!u){let n="pointer"==t||e.state.selection.head<a.pos&&!l?1:-1;u=n1(e,c,a,n)}return u}function nK(e){return e.editable?e.hasFocus():n5(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function n$(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(nZ(e,n),nK(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&nt){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&t$(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,tG(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&t6&&t7<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{var r;let o,l,i,a,{anchor:s,head:u}=n,c,d;nJ&&!(n instanceof e8)&&(n.$from.parent.inlineContent||(c=nX(e,n.from)),n.empty||n.$from.parent.inlineContent||(d=nX(e,n.to))),e.docView.setSelection(s,u,e,t),nJ&&(c&&nQ(c),d&&nQ(d)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&((o=(r=e).dom.ownerDocument).removeEventListener("selectionchange",r.input.hideSelectionGuard),i=(l=r.domSelectionRange()).anchorNode,a=l.anchorOffset,o.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(l.anchorNode!=i||l.anchorOffset!=a)&&(o.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!nK(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}let nJ=nr||nt&&nn<63;function nX(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,l=r?n.childNodes[r-1]:null;if(nr&&o&&"false"==o.contentEditable)return nY(o);if((!o||"false"==o.contentEditable)&&(!l||"false"==l.contentEditable)){if(o)return nY(o);else if(l)return nY(l)}}function nY(e){return e.contentEditable="true",nr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function nQ(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function nZ(e,t){if(t instanceof tt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(n0(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else n0(e)}function n0(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function n1(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||e8.between(t,n,r)}function n2(e){return(!e.editable||!!e.hasFocus())&&n5(e)}function n5(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function n3(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),l=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return l&&e4.findFrom(l,t)}function n4(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function n9(e,t,n){let r=e.state.selection;if(r instanceof e8){if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return n4(e,new e8(r.$anchor,l))}else if(!r.empty)return!1;else if(e.endOfTextblock(t>0?"forward":"backward")){let n=n3(e.state,t);return!!n&&n instanceof tt&&n4(e,n)}else if(!(nl&&n.indexOf("m")>-1)){let n=r.$head,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter,l;if(!o||o.isText)return!1;let i=t<0?n.pos-o.nodeSize:n.pos;return!!(o.isAtom||(l=e.docView.descAt(i))&&!l.contentDOM)&&(tt.isSelectable(o)?n4(e,new tt(t<0?e.state.doc.resolve(n.pos-o.nodeSize):n)):!!ns&&n4(e,new e8(e.state.doc.resolve(t<0?i:i+o.nodeSize))))}}else{if(r instanceof tt&&r.node.isInline)return n4(e,new e8(t>0?r.$to:r.$from));let n=n3(e.state,t);return!!n&&n4(e,n)}}function n6(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function n7(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function n8(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,l,i=!1;for(t8&&1==n.nodeType&&r<n6(n)&&n7(n.childNodes[r],-1)&&(i=!0);;)if(r>0)if(1!=n.nodeType)break;else{let e=n.childNodes[r-1];if(n7(e,-1))o=n,l=--r;else if(3==e.nodeType)r=(n=e).nodeValue.length;else break}else if(re(n))break;else{let t=n.previousSibling;for(;t&&n7(t,-1);)o=n.parentNode,l=tG(t),t=t.previousSibling;if(t)r=n6(n=t);else{if((n=n.parentNode)==e.dom)break;r=0}}i?rt(e,n,r):o&&rt(e,o,l)}(e):function(e){let t,n,r=e.domSelectionRange(),o=r.focusNode,l=r.focusOffset;if(!o)return;let i=n6(o);for(;;)if(l<i){if(1!=o.nodeType)break;if(n7(o.childNodes[l],1))t=o,n=++l;else break}else if(re(o))break;else{let r=o.nextSibling;for(;r&&n7(r,1);)t=r.parentNode,n=tG(r)+1,r=r.nextSibling;if(r)l=0,i=n6(o=r);else{if((o=o.parentNode)==e.dom)break;l=i=0}}t&&rt(e,t,n)}(e)}function re(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rt(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!tQ(e);)t=tG(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!tQ(e);)t=tG(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(tZ(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&n$(e)},50)}function rn(e,t){let n=e.state.doc.resolve(t);if(!(nt||ni)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function rr(e,t,n){let r=e.state.selection;if(r instanceof e8&&!r.empty||n.indexOf("s")>-1||nl&&n.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=n3(e.state,t);if(n&&n instanceof tt)return n4(e,n)}if(!o.parent.inlineContent){let n=t<0?o:l,i=r instanceof tr?e4.near(n,t):e4.findFrom(n,t);return!!i&&n4(e,i)}return!1}function ro(e,t){if(!(e.state.selection instanceof e8))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let r=e.state.tr;return t<0?r.delete(n.pos-l.nodeSize,n.pos):r.delete(n.pos,n.pos+l.nodeSize),e.dispatch(r),!0}return!1}function rl(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ri(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:l}=t;for(;o>1&&l>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,l--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let i=e.someProp("clipboardSerializer")||eg.fromSchema(e.state.schema),a=rf(),s=a.createElement("div");s.appendChild(i.serializeFragment(r,{document:a}));let u=s.firstChild,c,d=0;for(;u&&1==u.nodeType&&(c=rp[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;s.firstChild;)t.appendChild(s.firstChild);s.appendChild(t),d++}u=s.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice","".concat(o," ").concat(l).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:s,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function ra(e,t,n,r,o){let l,i,a=o.parent.type.spec.code;if(!n&&!t)return null;let s=!!t&&(r||a||!n);if(s){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return i=new P(M.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{i=t(i,e,!0)}),i;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)i=n;else{let n=o.marks(),{schema:r}=e.state,i=eg.fromSchema(r);l=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=l.appendChild(document.createElement("p"));e&&t.appendChild(i.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),l=function(e){var t;let n,r=/^(\s*<meta [^>]*>)*/.exec(e);r&&(e=e.slice(r[0].length));let o=rf().createElement("div"),l=/<([a-z][^>\s]+)/i.exec(e),i;if((i=l&&rp[l[1].toLowerCase()])&&(e=i.map(e=>"<"+e+">").join("")+e+i.map(e=>"</"+e+">").reverse().join("")),o.innerHTML=(t=e,(n=window.trustedTypes)?(rm||(rm=n.defaultPolicy||n.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),rm.createHTML(t)):t),i)for(let e=0;e<i.length;e++)o=o.querySelector(i[e])||o;return o}(n),ns&&function(e){let t=e.querySelectorAll(nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(l);let u=l&&l.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let e=+c[3];e>0;e--){let e=l.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;l=e}if(i||(i=(e.someProp("clipboardParser")||e.someProp("domParser")||ea.fromSchema(e.state.schema)).parseSlice(l,{preserveWhitespace:!!(s||c),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||rs.test(e.parentNode.nodeName)?null:{ignore:!0}})),c)i=function(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(t){return e}let{content:o,openStart:l,openEnd:i}=e;for(let e=r.length-2;e>=0;e-=2){let t=n.nodes[r[e]];if(!t||t.hasRequiredAttrs())break;o=M.from(t.create(r[e+1],o)),l++,i++}return new P(o,l,i)}(rd(i,+c[1],+c[2]),c[4]);else if((i=P.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),o,l=[];if(e.forEach(e=>{if(!l)return;let t=r.findWrapping(e.type),n;if(!t)return l=null;if(n=l.length&&o.length&&function e(t,n,r,o,l){if(l<t.length&&l<n.length&&t[l]==n[l]){let i=e(t,n,r,o.lastChild,l+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(l==t.length-1?r.type:t[l+1]))return o.copy(o.content.append(M.from(ru(r,t,l+1))))}}(t,o,e,l[l.length-1],0))l[l.length-1]=n;else{l.length&&(l[l.length-1]=function e(t,n){if(0==n)return t;let r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),o=t.contentMatchAt(t.childCount).fillBefore(M.empty,!0);return t.copy(r.append(o))}(l[l.length-1],o.length));let n=ru(e,t);l.push(n),r=r.matchType(n.type),o=t}}),l)return M.from(l)}return e}(i.content,o),!0)).openStart||i.openEnd){let e=0,t=0;for(let t=i.content.firstChild;e<i.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=i.content.lastChild;t<i.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);i=rd(i,e,t)}return e.someProp("transformPasted",t=>{i=t(i,e,s)}),i}let rs=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=t.length-1;r>=n;r--)e=t[r].create(null,M.from(e));return e}function rc(e,t,n,r,o,l){let i=t<0?e.firstChild:e.lastChild,a=i.content;return e.childCount>1&&(l=0),o<r-1&&(a=rc(a,t,n,r,o+1,l)),o>=n&&(a=t<0?i.contentMatchAt(0).fillBefore(a,l<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(M.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(a))}function rd(e,t,n){return t<e.openStart&&(e=new P(rc(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new P(rc(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}let rp={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},rh=null;function rf(){return rh||(rh=document.implementation.createHTMLDocument("title"))}let rm=null,rg={},rv={},rb={touchstart:!0,touchmove:!0};class ry{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function rw(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function rx(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>rC(e,t))})}function rC(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function rS(e){return{left:e.clientX,top:e.clientY}}function rk(e,t,n,r,o){if(-1==r)return!1;let l=e.state.doc.resolve(r);for(let r=l.depth+1;r>0;r--)if(e.someProp(t,t=>r>l.depth?t(e,n,l.nodeAfter,l.before(r),o,!0):t(e,n,l.node(r),l.before(r),o,!1)))return!0;return!1}function rM(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}rv.keydown=(e,t)=>{if((e.input.shiftKey=16==t.keyCode||t.shiftKey,!rT(e,t))&&(e.input.lastKeyCode=t.keyCode,e.input.lastKeyCodeTime=Date.now(),!na||!nt||13!=t.keyCode))if(229!=t.keyCode&&e.domObserver.forceFlush(),!no||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",n=>n(e,t))||function(e,t){let n,r=t.keyCode,o=(n="",t.ctrlKey&&(n+="c"),t.metaKey&&(n+="m"),t.altKey&&(n+="a"),t.shiftKey&&(n+="s"),n);if(8==r||nl&&72==r&&"c"==o)return ro(e,-1)||n8(e,-1);if(46==r&&!t.shiftKey||nl&&68==r&&"c"==o)return ro(e,1)||n8(e,1);if(13==r||27==r)return!0;if(37==r||nl&&66==r&&"c"==o){let t=37==r?"ltr"==rn(e,e.state.selection.from)?-1:1:-1;return n9(e,t,o)||n8(e,t)}if(39==r||nl&&70==r&&"c"==o){let t=39==r?"ltr"==rn(e,e.state.selection.from)?1:-1:1;return n9(e,t,o)||n8(e,t)}else if(38==r||nl&&80==r&&"c"==o)return rr(e,-1,o)||n8(e,-1);else if(40==r||nl&&78==r&&"c"==o)return function(e){if(!nr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;rl(e,n,"true"),setTimeout(()=>rl(e,n,"false"),20)}return!1}(e)||rr(e,1,o)||n8(e,1);else if(o==(nl?"m":"c")&&(66==r||73==r||89==r||90==r))return!0;return!1}(e,t)?t.preventDefault():rw(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,t0(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},rv.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},rv.keypress=(e,t)=>{if(rT(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||nl&&t.metaKey)return;if(e.someProp("handleKeyPress",n=>n(e,t)))return void t.preventDefault();let n=e.state.selection;if(!(n instanceof e8)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(t.charCode),o=()=>e.state.tr.insertText(r).scrollIntoView();/[\r\n]/.test(r)||e.someProp("handleTextInput",t=>t(e,n.$from.pos,n.$to.pos,r,o))||e.dispatch(o()),t.preventDefault()}};let rR=nl?"metaKey":"ctrlKey";rg.mousedown=(e,t)=>{e.input.shiftKey=t.shiftKey;let n=rN(e),r=Date.now(),o="singleClick";r-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.input.lastClick)&&!t[rR]&&e.input.lastClick.button==t.button&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:o,button:t.button};let l=e.posAtCoords(rS(t));l&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new rE(e,l,t,!!n)):("doubleClick"==o?function(e,t,n,r){return rk(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}:function(e,t,n,r){return rk(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(rM(e,e8.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),l=o.before(t);if(n.inlineContent)rM(e,e8.create(r,l+1,l+1+n.content.size),"pointer");else{if(!tt.isSelectable(n))continue;rM(e,tt.create(r,l),"pointer")}return!0}}(e,n,r)})(e,l.pos,l.inside,t)?t.preventDefault():rw(e,"pointer"))};class rE{done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>n$(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;if(this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(rS(e))),this.updateAllowDefault(e),this.allowDefault||!t)rw(this.view,"pointer");else{var n,r,o,l;(n=this.view,r=t.pos,o=t.inside,l=this.selectNode,rk(n,"handleClickOn",r,o,e)||n.someProp("handleClick",t=>t(n,r,e))||(l?function(e,t){if(-1==t)return!1;let n=e.state.selection,r,o;n instanceof tt&&(r=n.node);let l=e.state.doc.resolve(t);for(let e=l.depth+1;e>0;e--){let t=e>l.depth?l.nodeAfter:l.node(e);if(tt.isSelectable(t)){o=r&&n.$from.depth>0&&e>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?l.before(n.$from.depth):l.before(e);break}}return null!=o&&(rM(e,tt.create(e.state.doc,o),"pointer"),!0)}(n,o):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&tt.isSelectable(r))&&(rM(e,new tt(n),"pointer"),!0)}(n,o)))?e.preventDefault():0==e.button&&(this.flushed||nr&&this.mightDrag&&!this.mightDrag.node.isAtom||nt&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to)))?(rM(this.view,e4.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):rw(this.view,"pointer")}}move(e){this.updateAllowDefault(e),rw(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}constructor(e,t,n,r){let o,l;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[rR],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),l=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,l=n.depth?n.before():0}let i=r?null:n.target,a=i?e.docView.nearestDesc(i,!0):null;this.target=a&&1==a.nodeDOM.nodeType?a.nodeDOM:null;let{selection:s}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||s instanceof tt&&s.from<=l&&s.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&t8&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rw(e,"pointer")}}function rT(e,t){return!!e.composing||!!(nr&&500>Math.abs(t.timeStamp-e.input.compositionEndedAt))&&(e.input.compositionEndedAt=-2e8,!0)}rg.touchstart=e=>{e.input.lastTouch=Date.now(),rN(e),rw(e,"pointer")},rg.touchmove=e=>{e.input.lastTouch=Date.now(),rw(e,"pointer")},rg.contextmenu=e=>rN(e);let rI=na?5e3:-1;function rO(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>rN(e),t))}function rP(e){let t;for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function rN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!na||!(e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),rP(e),t||e.docView&&e.docView.dirty){let n=nq(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}rv.compositionstart=rv.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof e8&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),rN(e,!0),e.markCursor=null;else if(rN(e,!t.selection.empty),t8&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}rO(e,rI)},rv.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,rO(e,20))};let rD=t6&&t7<15||no&&nu<604;function rA(e,t,n,r,o){let l=ra(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,l||P.empty)))return!0;if(!l)return!1;let i=0==l.openStart&&0==l.openEnd&&1==l.content.childCount?l.content.firstChild:null,a=i?e.state.tr.replaceSelectionWith(i,r):e.state.tr.replaceSelection(l);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function rL(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}rg.copy=rv.cut=(e,t)=>{let n=e.state.selection,r="cut"==t.type;if(n.empty)return;let o=rD?null:t.clipboardData,{dom:l,text:i}=ri(e,n.content());o?(t.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",i)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,l),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},rv.paste=(e,t)=>{if(e.composing&&!na)return;let n=rD?null:t.clipboardData,r=e.input.shiftKey&&45!=e.input.lastKeyCode;n&&rA(e,rL(n),n.getData("text/html"),r,t)?t.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?rA(e,r.value,null,o,t):rA(e,r.textContent,r.innerHTML,o,t)},50)}(e,t)};class rj{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}let rz=nl?"altKey":"ctrlKey";function rF(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[rz]}for(let e in rg.dragstart=(e,t)=>{let n,r=e.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=e.state.selection,l=o.empty?null:e.posAtCoords(rS(t));if(l&&l.pos>=o.from&&l.pos<=(o instanceof tt?o.to-1:o.to));else if(r&&r.mightDrag)n=tt.create(e.state.doc,r.mightDrag.pos);else if(t.target&&1==t.target.nodeType){let r=e.docView.nearestDesc(t.target,!0);r&&r.node.type.spec.draggable&&r!=e.docView&&(n=tt.create(e.state.doc,r.posBefore))}let i=(n||e.state.selection).content(),{dom:a,text:s,slice:u}=ri(e,i);t.dataTransfer.files.length&&nt&&!(nn>120)||t.dataTransfer.clearData(),t.dataTransfer.setData(rD?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",rD||t.dataTransfer.setData("text/plain",s),e.dragging=new rj(u,rF(e,t),n)},rg.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},rv.dragover=rv.dragenter=(e,t)=>t.preventDefault(),rv.drop=(e,t)=>{let n=e.dragging;if(e.dragging=null,!t.dataTransfer)return;let r=e.posAtCoords(rS(t));if(!r)return;let o=e.state.doc.resolve(r.pos),l=n&&n.slice;l?e.someProp("transformPasted",t=>{l=t(l,e,!1)}):l=ra(e,rL(t.dataTransfer),rD?null:t.dataTransfer.getData("text/html"),!1,o);let i=!!(n&&rF(e,t));if(e.someProp("handleDrop",n=>n(e,t,l||P.empty,i)))return void t.preventDefault();if(!l)return;t.preventDefault();let a=l?e_(e.state.doc,o.pos,l):o.pos;null==a&&(a=o.pos);let s=e.state.tr;if(i){let{node:e}=n;e?e.replace(s):s.deleteSelection()}let u=s.mapping.map(a),c=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,d=s.doc;if(c?s.replaceRangeWith(u,u,l.content.firstChild):s.replaceRange(u,u,l),s.doc.eq(d))return;let p=s.doc.resolve(u);if(c&&tt.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))s.setSelection(new tt(p));else{let t=s.mapping.map(a);s.mapping.maps[s.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),s.setSelection(n1(e,p,s.doc.resolve(t)))}e.focus(),e.dispatch(s.setMeta("uiEvent","drop"))},rg.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&n$(e)},20))},rg.blur=(e,t)=>{e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},rg.beforeinput=(e,t)=>{if(nt&&na&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,t0(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},rv)rg[e]=rv[e];function rH(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class rB{map(e,t,n,r){let{pos:o,deleted:l}=e.mapResult(t.from+r,this.side<0?-1:1);return l?null:new rG(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof rB&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&rH(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}constructor(e,t){this.toDOM=e,this.spec=t||r_,this.side=this.spec.side||0}}class rV{map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,l=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=l?null:new rG(o,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof rV&&rH(this.attrs,e.attrs)&&rH(this.spec,e.spec)}static is(e){return e.type instanceof rV}destroy(){}constructor(e,t){this.attrs=e,this.spec=t||r_}}class rW{map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let l=e.mapResult(t.to+r,-1);return l.deleted||l.pos<=o.pos?null:new rG(o.pos-n,l.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),o;return r==t.from&&!(o=e.child(n)).isText&&r+o.nodeSize==t.to}eq(e){return this==e||e instanceof rW&&rH(this.attrs,e.attrs)&&rH(this.spec,e.spec)}destroy(){}constructor(e,t){this.attrs=e,this.spec=t||r_}}class rG{copy(e,t){return new rG(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new rG(e,e,new rB(t,n))}static inline(e,t,n,r){return new rG(e,t,new rV(n,r))}static node(e,t,n,r){return new rG(e,t,new rW(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof rV}get widget(){return this.type instanceof rB}constructor(e,t,n){this.from=e,this.to=t,this.type=n}}let rU=[],r_={};class rq{static create(e,t){return t.length?rQ(t,e,0,r_):rK}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let l=0;l<this.local.length;l++){let i=this.local[l];i.from<=t&&i.to>=e&&(!o||o(i.spec))&&n.push(i.copy(i.from+r,i.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let i=this.children[l]+1;this.children[l+2].findInner(e-i,t-i,n,r+i,o)}}map(e,t,n){return this==rK||0==e.maps.length?this:this.mapInner(e,t,0,0,n||r_)}mapInner(e,t,n,r,o){let l;for(let i=0;i<this.local.length;i++){let a=this.local[i].map(e,n,r);a&&a.type.valid(t,a)?(l||(l=[])).push(a):o.onRemove&&o.onRemove(this.local[i].spec)}return this.children.length?function(e,t,n,r,o,l,i){let a=e.slice();for(let e=0,t=l;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,o,l)=>{let i=l-o-(n-e);for(let o=0;o<a.length;o+=3){let l=a[o+1];if(l<0||e>l+t-r)continue;let s=a[o]+t-r;n>=s?a[o+1]=e<=s?-2:-1:e>=t&&i&&(a[o]+=i,a[o+1]+=i)}r+=i}),t=n.maps[e].map(t,-1)}let s=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){s=!0,a[t+1]=-1;continue}let u=n.map(e[t]+l),c=u-o;if(c<0||c>=r.content.size){s=!0;continue}let d=n.map(e[t+1]+l,-1)-o,{index:p,offset:h}=r.content.findIndex(c),f=r.maybeChild(p);if(f&&h==c&&h+f.nodeSize==d){let r=a[t+2].mapInner(n,f,u+1,e[t]+l+1,i);r!=rK?(a[t]=c,a[t+1]=d,a[t+2]=r):(a[t+1]=-2,s=!0)}else s=!0}if(s){let s=rQ(function(e,t,n,r,o,l,i){for(let a=0;a<e.length;a+=3)-1==e[a+1]&&function e(t,l){for(let e=0;e<t.local.length;e++){let a=t.local[e].map(r,o,l);a?n.push(a):i.onRemove&&i.onRemove(t.local[e].spec)}for(let n=0;n<t.children.length;n+=3)e(t.children[n+2],t.children[n]+l+1)}(e[a+2],t[a]+l+1);return n}(a,e,t,n,o,l,i),r,0,i);t=s.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<s.children.length;e+=3){let n=s.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,s.children[e],s.children[e+1],s.children[e+2])}}return new rq(t.sort(rZ),a)}(this.children,l||[],e,t,n,r,o):l?new rq(l.sort(rZ),rU):rK}add(e,t){return t.length?this==rK?rq.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,l)=>{let i=l+n,a;if(a=rX(t,e,i)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(e,a,i+1):r.splice(o,0,l,l+e.nodeSize,rQ(a,e,i+1,r_)),o+=3}});let l=rJ(o?rY(t):t,-n);for(let t=0;t<l.length;t++)l[t].type.valid(e,l[t])||l.splice(t--,1);return new rq(l.length?this.local.concat(l).sort(rZ):this.local,r||this.children)}remove(e){return 0==e.length||this==rK?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,l=n[r]+t,i=n[r+1]+t;for(let t=0,n;t<e.length;t++)(n=e[t])&&n.from>l&&n.to<i&&(e[t]=null,(o||(o=[])).push(n));if(!o)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(o,l+1);a!=rK?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length){for(let n=0,o;n<e.length;n++)if(o=e[n])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new rq(r,n):rK}forChild(e,t){let n,r;if(this==rK)return this;if(t.isLeaf)return rq.empty;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,l=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<l&&t.to>o&&t.type instanceof rV){let e=Math.max(o,t.from)-o,n=Math.min(l,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new rq(r.sort(rZ),rU);return n?new r$([e,n]):e}return n||rK}eq(e){if(this==e)return!0;if(!(e instanceof rq)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return r0(this.localsInner(e))}localsInner(e){if(this==rK)return rU;if(e.inlineContent||!this.local.some(rV.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof rV||t.push(this.local[e]);return t}forEachSet(e){e(this)}constructor(e,t){this.local=e.length?e:rU,this.children=t.length?t:rU}}rq.empty=new rq([],[]),rq.removeOverlap=r0;let rK=rq.empty;class r${map(e,t){let n=this.members.map(n=>n.map(e,t,r_));return r$.from(n)}forChild(e,t){if(t.isLeaf)return rq.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=rK&&(o instanceof r$?n=n.concat(o.members):n.push(o))}return r$.from(n)}eq(e){if(!(e instanceof r$)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?r0(n?t:t.sort(rZ)):rU}static from(e){switch(e.length){case 0:return rK;case 1:return e[0];default:return new r$(e.every(e=>e instanceof rq)?e:e.reduce((e,t)=>e.concat(t instanceof rq?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}constructor(e){this.members=e}}function rJ(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new rG(o.from+t,o.to+t,o.type))}return n}function rX(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t=0,l;t<e.length;t++)(l=e[t])&&l.from>n&&l.to<r&&((o||(o=[])).push(l),e[t]=null);return o}function rY(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function rQ(e,t,n,r){let o=[],l=!1;t.forEach((t,i)=>{let a=rX(e,t,i+n);if(a){l=!0;let e=rQ(a,t,n+i+1,r);e!=rK&&o.push(i,i+t.nodeSize,e)}});let i=rJ(l?rY(e):e,-n).sort(rZ);for(let e=0;e<i.length;e++)i[e].type.valid(t,i[e])||(r.onRemove&&r.onRemove(i[e].spec),i.splice(e--,1));return i.length||o.length?new rq(i,o):rK}function rZ(e,t){return e.from-t.from||e.to-t.to}function r0(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let l=t[o];if(l.from==r.from){l.to!=r.to&&(t==e&&(t=e.slice()),t[o]=l.copy(l.from,r.to),r1(t,o+1,l.copy(r.to,l.to)));continue}l.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,l.from),r1(t,o,r.copy(l.from,r.to)));break}}return t}function r1(e,t,n){for(;t<e.length&&rZ(n,e[t])>0;)t++;e.splice(t,0,n)}function r2(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=rK&&t.push(r)}),e.cursorWrapper&&t.push(rq.create(e.state.doc,[e.cursorWrapper.deco])),r$.from(t)}let r5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},r3=t6&&t7<=11;class r4{set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}}class r9{flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,r5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(n2(this.view)){if(this.suppressingSelectionUpdates)return n$(this.view);if(t6&&t7<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&t$(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let n=e.focusNode;n;n=tU(n))t.add(n);for(let r=e.anchorNode;r;r=tU(r))if(t.has(r)){n=r;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){var e;let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&n2(t)&&!this.ignoreSelectionChange(r),l=-1,i=-1,a=!1,s=[];if(t.editable)for(let e=0;e<n.length;e++){let t=this.registerMutation(n[e],s);t&&(l=l<0?t.from:Math.min(t.from,l),i=i<0?t.to:Math.max(t.to,i),t.typeOver&&(a=!0))}if(t8&&s.length){let e=s.filter(e=>"BR"==e.nodeName);if(2==e.length){let[t,n]=e;t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of e){let e=r.parentNode;e&&"LI"==e.nodeName&&(!n||function(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}(t,n)!=e)&&r.remove()}}}let u=null;l<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&tZ(r)&&(u=nq(t))&&u.eq(e4.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,n$(t),this.currentSelection.set(r),t.scrollToSelection()):(l>-1||o)&&(l>-1&&(t.docView.markDirty(l,i),e=t,!r6.has(e)&&(r6.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))&&(e.requiresGeckoHackNode=t8,r7||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),r7=!0))),this.handleDOMChange(l,i,a,s),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||n$(t),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(t6&&t7<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:l}=e.addedNodes[t];(!n||0>Array.prototype.indexOf.call(e.addedNodes,n))&&(r=n),(!l||0>Array.prototype.indexOf.call(e.addedNodes,l))&&(o=l)}let l=r&&r.parentNode==e.target?tG(r)+1:0,i=n.localPosFromDOM(e.target,l,-1),a=o&&o.parentNode==e.target?tG(o):e.target.childNodes.length;return{from:i,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new r4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);t6&&t7<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),r3&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}}let r6=new WeakMap,r7=!1;function r8(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,l=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return t$(i.node,i.offset,o,l)&&([n,r,o,l]=[o,l,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}}function oe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(nr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(e.parentNode.lastChild==e||nr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}let ot=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function on(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:n1(e,t.resolve(n.anchor),t.resolve(n.head))}function or(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function oo(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ol{get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;for(let t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&rx(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(od),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];for(let n in t.state=this.state,e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n,r,o;let l=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(rP(this),a=!0),this.state=e;let s=l.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=oc(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,i=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&rx(this),this.editable=ou(this),oa(this);let u=r2(this),c=oi(this),d=l.plugins==e.plugins||l.doc.eq(e.doc)?e.scrollToSelection>l.scrollToSelection?"to selection":"preserve":"reset",p=i||!this.docView.matchesNode(e.doc,c,u);(p||!e.selection.eq(l.selection))&&(a=!0);let h="preserve"==d&&a&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let l=(r.left+r.right)/2,i=o+1;i<Math.min(innerHeight,r.bottom);i+=5){let r=e.root.elementFromPoint(l,i);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:np(e.dom)}}(this);if(a){let t,n,a;this.domObserver.stop();let s=p&&(t6||nt)&&!this.composing&&!l.selection.empty&&!e.selection.empty&&(r=l.selection,o=e.selection,a=Math.min(r.$anchor.sharedDepth(r.head),o.$anchor.sharedDepth(o.head)),r.$anchor.start(a)!=o.$anchor.start(a));if(p){let t=nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=tY(e=e.childNodes[t-1])}else{if(!e.parentNode||tQ(e))return null;t=tG(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||tQ(e))return null;t=tG(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(!(!e||!e.isText(n.nodeValue)))return r}}return n||r}(this)),(i||!this.docView.update(e.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=nN(e.doc,c,u,this.dom,this)),t&&!this.trackWrites&&(s=!0)}s||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(t=this.docView.domFromPos(this.state.selection.anchor,0),n=this.domSelectionRange(),t$(t.node,t.offset,n.anchorNode,n.anchorOffset)))?n$(this,s):(nZ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(l),(null==(n=this.dragging)?void 0:n.node)&&!l.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,l),"reset"==d?this.dom.scrollTop=0:"to selection"==d?this.scrollToSelection():h&&function(e){let{refDOM:t,refTop:n,stack:r}=e,o=t?t.getBoundingClientRect().top:0;nh(r,0==o?0:o-n)}(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof tt){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&nd(this,t.getBoundingClientRect(),e)}else nd(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new rj(e.slice,e.move,r<0?void 0:tt.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(null!=n&&(r=t?t(n):n))return r;for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n].props[e];if(null!=o&&(r=t?t(o):o))return r}let o=this.state.plugins;if(o)for(let n=0;n<o.length;n++){let l=o[n].props[e];if(null!=l&&(r=t?t(l):l))return r}}hasFocus(){if(t6){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(nf)return e.focus(nf);let t=np(e);e.focus(null==nf?{get preventScroll(){return nf={preventScroll:!0},!0}}:void 0),nf||(nf=!1,nh(t,0))}(this.dom),n$(this),this.domObserver.start()}get root(){let e=this._root;if(null==e){for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return e||document}updateRoot(){this._root=null}posAtCoords(e){return function(e,t){var n;let r,o,l=e.dom.ownerDocument,i,a=0,s=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(tY(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(tY(r.startContainer),r.startOffset)}}}(l,t.left,t.top);s&&({node:i,offset:a}=s);let u=(e.root.elementFromPoint?e.root:l).elementFromPoint(t.left,t.top);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){let n=e.dom.getBoundingClientRect();if(!nm(t,n)||!(u=function e(t,n,r){let o=t.childNodes.length;if(o&&r.top<r.bottom)for(let l=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),i=l;;){let r=t.childNodes[i];if(1==r.nodeType){let t=r.getClientRects();for(let o=0;o<t.length;o++){let l=t[o];if(nm(n,l))return e(r,n,l)}}if((i=(i+1)%o)==l)break}return t}(e.dom,t,n)))return null}if(nr)for(let e=u;i&&e;e=tU(e))e.draggable&&(i=void 0);if(u=(r=(n=u).parentNode)&&/^li$/i.test(r.nodeName)&&t.left<n.getBoundingClientRect().left?r:n,i){let n;if(t8&&1==i.nodeType&&(a=Math.min(a,i.childNodes.length))<i.childNodes.length){let e=i.childNodes[a],n;"IMG"==e.nodeName&&(n=e.getBoundingClientRect()).right<=t.left&&n.bottom>t.top&&a++}ns&&a&&1==i.nodeType&&1==(n=i.childNodes[a-1]).nodeType&&"false"==n.contentEditable&&n.getBoundingClientRect().top>=t.top&&a--,i==e.dom&&a==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(0==a||1!=i.nodeType||"BR"!=i.childNodes[a-1].nodeName)&&(o=function(e,t,n,r){let o=-1;for(let n=t,l=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0),i;if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent||!t.contentDOM)&&((i=t.dom.getBoundingClientRect()).width||i.height)&&(t.node.isBlock&&t.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(t.dom.nodeName)&&(!l&&i.left>r.left||i.top>r.top?o=t.posBefore:(!l&&i.right<r.left||i.bottom<r.top)&&(o=t.posAfter),l=!0),!t.contentDOM&&o<0&&!t.node.isText))return(t.node.isBlock?r.top<(i.top+i.bottom)/2:r.left<(i.left+i.right)/2)?t.posBefore:t.posAfter;n=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,i,a,t))}null==o&&(o=function(e,t,n){let{node:r,offset:o}=function e(t,n){let r,o,l,i=2e8,a,s=0,u=n.top,c=n.top;for(let e=t.firstChild,d=0;e;e=e.nextSibling,d++){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=tq(e).getClientRects()}for(let p=0;p<t.length;p++){let h=t[p];if(h.top<=u&&h.bottom>=c){u=Math.max(h.bottom,u),c=Math.min(h.top,c);let t=h.left>n.left?h.left-n.left:h.right<n.left?n.left-h.right:0;if(t<i){l=e,i=t,a=t&&3==l.nodeType?{left:h.right<n.left?h.right:h.left,top:n.top}:n,1==e.nodeType&&t&&(s=d+ +(n.left>=(h.left+h.right)/2));continue}}else h.top>n.top&&!r&&h.left<=n.left&&h.right>=n.left&&(r=e,o={left:Math.max(h.left,Math.min(h.right,n.left)),top:h.top});!l&&(n.left>=h.right&&n.top>=h.top||n.left>=h.left&&n.top>=h.bottom)&&(s=d+1)}}return(!l&&r&&(l=r,a=o,i=0),l&&3==l.nodeType)?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=nv(r,1);if(n.top!=n.bottom&&nm(t,n))return{node:e,offset:o+ +(t.left>=(n.left+n.right)/2)}}return{node:e,offset:0}}(l,a):!l||i&&1==l.nodeType?{node:t,offset:s}:e(l,a)}(t,n),l=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();l=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,l)}(e,u,t));let c=e.docView.nearestDesc(u,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}(this,e)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ny(this,e,t)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){let r,o;return nk==t&&nM==n?nR:(nk=t,nM=n,nR="up"==n||"down"==n?(r=t.selection,o="up"==n?r.$from:r.$to,nC(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=ny(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=tq(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>(o.bottom-r.top)*2:o.bottom-r.bottom>(r.bottom-o.top)*2))return!1}}return!0})):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=o==r.parent.content.size,i=e.domSelection();return i?nS.test(r.parent.textContent)&&i.modify?nC(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:l,anchorOffset:a}=e.domSelectionRange(),s=i.caretBidiLevel;i.modify("move",n,"character");let u=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:c,focusOffset:d}=e.domSelectionRange(),p=c&&!u.contains(1==c.nodeType?c:c.parentNode)||t==c&&o==d;try{i.collapse(l,a),t&&(t!=l||o!=a)&&i.extend&&i.extend(t,o)}catch(e){}return null!=s&&(i.caretBidiLevel=s),p}):"left"==n||"backward"==n?!o:l:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return rA(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return rA(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return ri(this,e)}destroy(){if(this.docView){for(let e in this.domObserver.stop(),this.input.eventHandlers)this.dom.removeEventListener(e,this.input.eventHandlers[e]);clearTimeout(this.input.composingTimeout),clearTimeout(this.input.lastIOSEnterFallbackTimeout),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],r2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,tK()}}get isDestroyed(){return null==this.docView}dispatchEvent(e){!rC(this,e)&&rg[e.type]&&(this.editable||!(e.type in rv))&&rg[e.type](this,e)}domSelectionRange(){let e=this.domSelection();return e?nr&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){let n;if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return r8(e,n)}function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?r8(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ry,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(od),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ou(this),oa(this),this.nodeViews=oc(this),this.docView=nN(this.state.doc,oi(this),r2(this),this.dom,this),this.domObserver=new r9(this,(e,t,n,r)=>(function(e,t,n,r,o){let l,i,a,s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=nq(e,t);if(n&&!e.state.selection.eq(n)){if(nt&&na&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,t0(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),s&&r.setMeta("composition",s),e.dispatch(r)}return}let u=e.state.doc.resolve(t),c=u.sharedDepth(n);t=u.before(c+1),n=e.state.doc.resolve(n).after(c+1);let d=e.state.selection,p=function(e,t,n){let r,{node:o,fromOffset:l,toOffset:i,from:a,to:s}=e.docView.parseRange(t,n),u=e.domSelectionRange(),c=u.anchorNode;if(c&&e.dom.contains(1==c.nodeType?c:c.parentNode)&&(r=[{node:c,offset:u.anchorOffset}],tZ(u)||r.push({node:u.focusNode,offset:u.focusOffset})),nt&&8===e.input.lastKeyCode)for(let e=i;e>l;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){i=e;break}if(!n||n.size)break}let d=e.state.doc,p=e.someProp("domParser")||ea.fromSchema(e.state.schema),h=d.resolve(a),f=null,m=p.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:l,to:i,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:oe,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:s}}(e,t,n),h=e.state.doc,f=h.slice(p.from,p.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,i="end"):(l=e.state.selection.from,i="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,o){let l=e.findDiffStart(t,n);if(null==l)return null;let{a:i,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){let e=Math.max(0,l-Math.min(i,a));r-=i+e-l}if(i<l&&e.size<t.size){let e=r<=l&&r>=i?l-r:0;(l-=e)&&l<t.size&&oo(t.textBetween(l-1,l+1))&&(l+=e?1:-1),a=l+(a-i),i=l}else if(a<l){let t=r<=l&&r>=a?l-r:0;(l-=t)&&l<e.size&&oo(e.textBetween(l-1,l+1))&&(l+=t?1:-1),i=l+(i-a),a=l}return{start:l,endA:i,endB:a}}(f.content,p.doc.content,p.from,l,i);if(m&&e.input.domChangeCount++,(no&&e.input.lastIOSEnter>Date.now()-225||na)&&o.some(e=>1==e.nodeType&&!ot.test(e.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",t=>t(e,t0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&d instanceof e8&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))m={start:d.from,endA:d.to,endB:d.to};else{if(p.sel){let t=on(e,e.state.doc,p.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);s&&n.setMeta("composition",s),e.dispatch(n)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof e8&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=p.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=p.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),t6&&t7<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>p.from&&" "==p.doc.textBetween(m.start-p.from-1,m.start-p.from+1)&&(m.start--,m.endA--,m.endB--);let g=p.doc.resolveNoCache(m.start-p.from),v=p.doc.resolveNoCache(m.endB-p.from),b=h.resolve(m.start),y=g.sameParent(v)&&g.parent.inlineContent&&b.end()>=m.endA;if((no&&e.input.lastIOSEnter>Date.now()-225&&(!y||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!y&&g.pos<p.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&g.pos<v.pos&&!/\S/.test(p.doc.textBetween(g.pos,v.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,t0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||or(r,!0,!1)<o.pos)return!1;let l=e.resolve(t);if(!r.parent.isTextblock){let e=l.nodeAfter;return null!=e&&n==t+e.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let i=e.resolve(or(l,!0,!0));return!(!i.parent.isTextblock||i.pos>n||or(i,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(i.parent.content)}(h,m.start,m.endA,g,v)&&e.someProp("handleKeyDown",t=>t(e,t0(8,"Backspace")))){na&&nt&&e.domObserver.suppressSelectionUpdates();return}nt&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),na&&!y&&g.start()!=v.start()&&0==v.parentOffset&&g.depth==v.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==m.endA&&(m.endB-=2,v=p.doc.resolveNoCache(m.endB-p.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,t0(13,"Enter"))})},20));let w=m.start,x=m.endA,C=t=>{let n=t||e.state.tr.replace(w,x,p.doc.slice(m.start-p.from,m.endB-p.from));if(p.sel){let t=on(e,n.doc,p.sel);t&&!(nt&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==w||t.head==n.mapping.map(x)-1)||t6&&t.empty&&t.head==w)&&n.setSelection(t)}return s&&n.setMeta("composition",s),n.scrollIntoView()};if(y)if(g.pos==v.pos){t6&&t7<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>n$(e),20));let t=C(e.state.tr.delete(w,x)),n=h.resolve(m.start).marksAcross(h.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(a=function(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,l=r,i,a,s;for(let e=0;e<r.length;e++)o=r[e].removeFromSet(o);for(let e=0;e<n.length;e++)l=n[e].removeFromSet(l);if(1==o.length&&0==l.length)a=o[0],i="add",s=e=>e.mark(a.addToSet(e.marks));else{if(0!=o.length||1!=l.length)return null;a=l[0],i="remove",s=e=>e.mark(a.removeFromSet(e.marks))}let u=[];for(let e=0;e<t.childCount;e++)u.push(s(t.child(e)));if(M.from(u).eq(e))return{mark:a,type:i}}(g.parent.content.cut(g.parentOffset,v.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start())))){let t=C(e.state.tr);"add"==a.type?t.addMark(w,x,a.mark):t.removeMark(w,x,a.mark),e.dispatch(t)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-!v.textOffset){let t=g.parent.textBetween(g.parentOffset,v.parentOffset),n=()=>C(e.state.tr.insertText(t,w,x));e.someProp("handleTextInput",r=>r(e,w,x,t,n))||e.dispatch(n())}else e.dispatch(C());else e.dispatch(C())})(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in rg){let n=rg[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||rC(e,t)||!e.editable&&t.type in rv||n(e,t)},rb[t]?{passive:!0}:void 0)}nr&&e.dom.addEventListener("input",()=>null),rx(e)}(this),this.updatePluginViews()}}function oi(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[rG.node(0,e.state.doc.content.size,t)]}function oa(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:rG.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function ou(e){return!e.someProp("editable",t=>!1===t(e.state))}function oc(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function od(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}ol.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var op={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},oh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},of="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),om="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),og=0;og<10;og++)op[48+og]=op[96+og]=String(og);for(var og=1;og<=24;og++)op[og+111]="F"+og;for(var og=65;og<=90;og++)op[og]=String.fromCharCode(og+32),oh[og]=String.fromCharCode(og);for(var ov in op)oh.hasOwnProperty(ov)||(oh[ov]=op[ov]);let ob="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),oy="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function ow(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function ox(e){let t=function(e){let t=Object.create(null);for(let n in e)t[function(e){let t,n,r,o,l=e.split(/-(?!$)/),i=l[l.length-1];"Space"==i&&(i=" ");for(let e=0;e<l.length-1;e++){let i=l[e];if(/^(cmd|meta|m)$/i.test(i))o=!0;else if(/^a(lt)?$/i.test(i))t=!0;else if(/^(c|ctrl|control)$/i.test(i))n=!0;else if(/^s(hift)?$/i.test(i))r=!0;else if(/^mod$/i.test(i))ob?o=!0:n=!0;else throw Error("Unrecognized modifier name: "+i)}return t&&(i="Alt-"+i),n&&(i="Ctrl-"+i),o&&(i="Meta-"+i),r&&(i="Shift-"+i),i}(n)]=e[n];return t}(e);return function(e,n){var r;let o=("Esc"==(r=!(of&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||om&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?oh:op)[n.keyCode]||n.key||"Unidentified")&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r),l,i=t[ow(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[ow(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(oy&&n.ctrlKey&&n.altKey)&&(l=op[n.keyCode])&&l!=o){let r=t[ow(l,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}var oC=Object.defineProperty,oS=(e,t)=>{for(var n in t)oC(e,n,{get:t[n],enumerable:!0})};function ok(e){let{state:t,transaction:n}=e,{selection:r}=n,{doc:o}=n,{storedMarks:l}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,l=n.storedMarks,n}}}var oM=class{get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,l=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;var i=this;return[t,function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=n(...t)(l);return o.getMeta("preventDispatch")||i.hasCustomState||r.dispatch(o),s}]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{rawCommands:n,editor:r,state:o}=this,{view:l}=r,i=[],a=!!e,s=e||o.tr,u=()=>(a||!t||s.getMeta("preventDispatch")||this.hasCustomState||l.dispatch(s),i.every(e=>!0===e)),c={...Object.fromEntries(Object.entries(n).map(e=>{let[n,r]=e;var o=this;return[n,function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];let a=o.buildProps(s,t),u=r(...n)(a);return i.push(u),c}]})),run:u};return c}createCan(e){let{rawCommands:t,state:n}=this,r=e||n.tr,o=this.buildProps(r,!1);return{...Object.fromEntries(Object.entries(t).map(e=>{let[t,n]=e;return[t,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(...t)({...o,dispatch:void 0})}]})),chain:()=>this.createChain(r,!1)}}buildProps(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{rawCommands:n,editor:r,state:o}=this,{view:l}=r,i={tr:e,editor:r,view:l,state:ok({state:o,transaction:e}),dispatch:t?()=>void 0:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(e=>{let[t,n]=e;return[t,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(...t)(i)}]}))}};return i}constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}},oR={};oS(oR,{blur:()=>oE,clearContent:()=>oT,clearNodes:()=>oI,command:()=>oO,createParagraphNear:()=>oP,cut:()=>oN,deleteCurrentNode:()=>oD,deleteNode:()=>oL,deleteRange:()=>oj,deleteSelection:()=>oz,enter:()=>oF,exitCode:()=>oH,extendMarkRange:()=>oq,first:()=>oK,focus:()=>oZ,forEach:()=>o0,insertContent:()=>o1,insertContentAt:()=>o4,joinBackward:()=>o7,joinDown:()=>o6,joinForward:()=>o8,joinItemBackward:()=>le,joinItemForward:()=>lt,joinTextblockBackward:()=>ln,joinTextblockForward:()=>lr,joinUp:()=>o9,keyboardShortcut:()=>ll,lift:()=>la,liftEmptyBlock:()=>ls,liftListItem:()=>lu,newlineInCode:()=>lc,resetAttributes:()=>lh,scrollIntoView:()=>lf,selectAll:()=>lm,selectNodeBackward:()=>lg,selectNodeForward:()=>lv,selectParentNode:()=>lb,selectTextblockEnd:()=>ly,selectTextblockStart:()=>lw,setContent:()=>lC,setMark:()=>lZ,setMeta:()=>l0,setNode:()=>l1,setNodeSelection:()=>l2,setTextSelection:()=>l5,sinkListItem:()=>l3,splitBlock:()=>l9,splitListItem:()=>l6,toggleList:()=>ie,toggleMark:()=>it,toggleNode:()=>ir,toggleWrap:()=>io,undoInputRule:()=>il,unsetAllMarks:()=>ii,unsetMark:()=>ia,updateAttributes:()=>is,wrapIn:()=>iu,wrapInList:()=>ic});var oE=()=>e=>{let{editor:t,view:n}=e;return requestAnimationFrame(()=>{var e;t.isDestroyed||(n.dom.blur(),null==(e=null==window?void 0:window.getSelection())||e.removeAllRanges())}),!0},oT=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t=>{let{commands:n}=t;return n.setContent("",{emitUpdate:e})}},oI=()=>e=>{let{state:t,tr:n,dispatch:r}=e,{selection:o}=n,{ranges:l}=o;return!r||(l.forEach(e=>{let{$from:r,$to:o}=e;t.doc.nodesBetween(r.pos,o.pos,(e,t)=>{if(e.type.isText)return;let{doc:r,mapping:o}=n,l=r.resolve(o.map(t)),i=r.resolve(o.map(t+e.nodeSize)),a=l.blockRange(i);if(!a)return;let s=ej(a);if(e.type.isTextblock){let{defaultType:e}=l.parent.contentMatchAt(l.index());n.setNodeMarkup(a.start,e)}(s||0===s)&&n.lift(a,s)})}),!0)},oO=e=>t=>e(t),oP=()=>e=>{let{state:t,dispatch:n}=e;return tP(t,n)},oN=(e,t)=>n=>{let{editor:r,tr:o}=n,{state:l}=r,i=l.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);let a=o.mapping.map(t);return o.insert(a,i.content),o.setSelection(new e8(o.doc.resolve(Math.max(a-1,0)))),!0},oD=()=>e=>{let{tr:t,dispatch:n}=e,{selection:r}=t,o=r.$anchor.node();if(o.content.size>0)return!1;let l=t.selection.$anchor;for(let e=l.depth;e>0;e-=1)if(l.node(e).type===o.type){if(n){let n=l.before(e),r=l.after(e);t.delete(n,r).scrollIntoView()}return!0}return!1};function oA(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error("There is no node type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.nodes[e]}return e}var oL=e=>t=>{let{tr:n,state:r,dispatch:o}=t,l=oA(e,r.schema),i=n.selection.$anchor;for(let e=i.depth;e>0;e-=1)if(i.node(e).type===l){if(o){let t=i.before(e),r=i.after(e);n.delete(t,r).scrollIntoView()}return!0}return!1},oj=e=>t=>{let{tr:n,dispatch:r}=t,{from:o,to:l}=e;return r&&n.delete(o,l),!0},oz=()=>e=>{let{state:t,dispatch:n}=e;return tv(t,n)},oF=()=>e=>{let{commands:t}=e;return t.keyboardShortcut("Enter")},oH=()=>e=>{let{state:t,dispatch:n}=e;return tO(t,n)};function oB(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function oV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0},r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:oB(t[r])?t[r].test(e[r]):t[r]===e[r])}function oW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.find(e=>e.type===t&&oV(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function oG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!oW(e,t,n)}function oU(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some(e=>e.type===t)||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(e=>e.type===t)||(n=n||(null==(r=o.node.marks[0])?void 0:r.attrs),!oW([...o.node.marks],t,n)))return;let l=o.index,i=e.start()+o.offset,a=l+1,s=i+o.node.nodeSize;for(;l>0&&oG([...e.parent.child(l-1).marks],t,n);)l-=1,i-=e.parent.child(l).nodeSize;for(;a<e.parent.childCount&&oG([...e.parent.child(a).marks],t,n);)s+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:s}}function o_(e,t){if("string"==typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}var oq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:l}=n,i=o_(e,o.schema),{doc:a,selection:s}=r,{$from:u,from:c,to:d}=s;if(l){let e=oU(u,i,t);if(e&&e.from<=c&&e.to>=d){let t=e8.create(a,e.from,e.to);r.setSelection(t)}}return!0}},oK=e=>t=>{let n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function o$(e){return e instanceof e8}function oJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),n)}function oX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;let n=e4.atStart(e),r=e4.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;let o=n.from,l=r.to;return"all"===t?e8.create(e,oJ(0,o,l),oJ(e.content.size,o,l)):e8.create(e,oJ(t,o,l),oJ(t,o,l))}function oY(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function oQ(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var oZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{editor:r,view:o,tr:l,dispatch:i}=n;t={scrollIntoView:!0,...t};let a=()=>{(oQ()||oY())&&o.dom.focus(),requestAnimationFrame(()=>{!r.isDestroyed&&(o.focus(),(null==t?void 0:t.scrollIntoView)&&r.commands.scrollIntoView())})};if(o.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!o$(r.state.selection))return a(),!0;let s=oX(l.doc,e)||r.state.selection,u=r.state.selection.eq(s);return i&&(u||l.setSelection(s),u&&l.storedMarks&&l.setStoredMarks(l.storedMarks),a()),!0}},o0=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),o1=(e,t)=>n=>{let{tr:r,commands:o}=n;return o.insertContentAt({from:r.selection.from,to:r.selection.to},e,t)},o2=e=>{let t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){let r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&o2(r)}return e};function o5(e){if("undefined"==typeof window)throw Error("[tiptap error]: there is no window object available, so this function cannot be used");return o2(new window.DOMParser().parseFromString("<body>".concat(e,"</body>"),"text/html").body)}function o3(e,t,n){if(e instanceof U||e instanceof M)return e;n={slice:!0,parseOptions:{},...n};let r="object"==typeof e&&null!==e,o="string"==typeof e;if(r)try{if(Array.isArray(e)&&e.length>0)return M.fromArray(e.map(e=>t.nodeFromJSON(e)));let r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(r){if(n.errorOnInvalidContent)throw Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),o3("",t,n)}if(o){if(n.errorOnInvalidContent){let r=!1,o="",l=new el({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?ea.fromSchema(l).parseSlice(o5(e),n.parseOptions):ea.fromSchema(l).parse(o5(e),n.parseOptions),n.errorOnInvalidContent&&r)throw Error("[tiptap error]: Invalid HTML content",{cause:Error("Invalid element found: ".concat(o))})}let r=ea.fromSchema(t);return n.slice?r.parseSlice(o5(e),n.parseOptions).content:r.parse(o5(e),n.parseOptions)}return o3("",t,n)}var o4=(e,t,n)=>r=>{var o;let{tr:l,dispatch:i,editor:a}=r;if(i){let r,i;n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s=e=>{a.emit("contentError",{editor:a,error:e,disableCollaboration:()=>{"collaboration"in a.storage&&"object"==typeof a.storage.collaboration&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{o3(t,a.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(e){s(e)}try{r=o3(t,a.schema,{parseOptions:u,errorOnInvalidContent:null!=(o=n.errorOnInvalidContent)?o:a.options.enableContentCheck})}catch(e){return s(e),!1}let{from:c,to:d}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},p=!0,h=!0;if((!("type"in r)?r:[r]).forEach(e=>{e.check(),p=!!p&&e.isText&&0===e.marks.length,h=!!h&&e.isBlock}),c===d&&h){let{parent:e}=l.doc.resolve(c);!e.isTextblock||e.type.spec.code||e.childCount||(c-=1,d+=1)}if(p){if(Array.isArray(t))i=t.map(e=>e.text||"").join("");else if(t instanceof M){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),i=e}else i="object"==typeof t&&t&&t.text?t.text:t;l.insertText(i,c,d)}else{i=r;let e=l.doc.resolve(c),t=e.node(),n=0===e.parentOffset,o=t.isText||t.isTextblock,a=t.content.size>0;n&&o&&a&&(c=Math.max(0,c-1)),l.replaceWith(c,d,i)}n.updateSelection&&function(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof eN||o instanceof eD))return;let l=e.mapping.maps[r],i=0;l.forEach((e,t,n,r)=>{0===i&&(i=r)}),e.setSelection(e4.near(e.doc.resolve(i),-1))}(l,l.steps.length-1,0),n.applyInputRules&&l.setMeta("applyInputRules",{from:c,text:i}),n.applyPasteRules&&l.setMeta("applyPasteRules",{from:c,text:i})}return!0},o9=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n=e.selection,r=n instanceof tt,o;if(r){if(n.node.isTextblock||!eW(e.doc,n.from))return!1;o=n.from}else if(null==(o=eU(e.doc,n.from,-1)))return!1;if(t){let n=e.tr.join(o);r&&n.setSelection(tt.create(n.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(n.scrollIntoView())}return!0})(t,n)},o6=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n=e.selection,r;if(n instanceof tt){if(n.node.isTextblock||!eW(e.doc,n.to))return!1;r=n.to}else if(null==(r=eU(e.doc,n.to,1)))return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0})(t,n)},o7=()=>e=>{let{state:t,dispatch:n}=e;return ty(t,n)},o8=()=>e=>{let{state:t,dispatch:n}=e;return tM(t,n)},le=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{let e=eU(t.doc,t.selection.$from.pos,-1);if(null==e)return!1;return r.join(e,2),n&&n(r),!0}catch(e){return!1}},lt=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{let e=eU(t.doc,t.selection.$from.pos,1);if(null==e)return!1;return r.join(e,2),n&&n(r),!0}catch(e){return!1}},ln=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=tb(e,n);if(!r)return!1;let o=tS(r);return!!o&&tw(e,o,t)})(t,n)},lr=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=tk(e,n);if(!r)return!1;let o=tE(r);return!!o&&tw(e,o,t)})(t,n)};function lo(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var ll=e=>t=>{let{editor:n,view:r,tr:o,dispatch:l}=t,i=(function(e){let t,n,r,o,l=e.split(/-(?!$)/),i=l[l.length-1];"Space"===i&&(i=" ");for(let e=0;e<l.length-1;e+=1){let i=l[e];if(/^(cmd|meta|m)$/i.test(i))o=!0;else if(/^a(lt)?$/i.test(i))t=!0;else if(/^(c|ctrl|control)$/i.test(i))n=!0;else if(/^s(hift)?$/i.test(i))r=!0;else if(/^mod$/i.test(i))oQ()||lo()?o=!0:n=!0;else throw Error("Unrecognized modifier name: ".concat(i))}return t&&(i="Alt-".concat(i)),n&&(i="Ctrl-".concat(i)),o&&(i="Meta-".concat(i)),r&&(i="Shift-".concat(i)),i})(e).split(/-(?!$)/),a=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=n.captureTransaction(()=>{r.someProp("handleKeyDown",e=>e(r,s))});return null==u||u.steps.forEach(e=>{let t=e.map(o.mapping);t&&l&&o.maybeStep(t)}),!0};function li(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{from:r,to:o,empty:l}=e.selection,i=t?oA(t,e.schema):null,a=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;let n=Math.max(r,t),l=Math.min(o,t+e.nodeSize);a.push({node:e,from:n,to:l})});let s=o-r,u=a.filter(e=>!i||i.name===e.node.type.name).filter(e=>oV(e.node.attrs,n,{strict:!1}));return l?!!u.length:u.reduce((e,t)=>e+t.to-t.from,0)>=s}var la=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n,l=oA(e,r.schema);return!!li(r,l,t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),l=o&&ej(o);return null!=l&&(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)})(r,o)}},ls=()=>e=>{let{state:t,dispatch:n}=e;return tN(t,n)},lu=e=>t=>{let{state:n,dispatch:r}=t;return(function(e){return function(t,n){let{$from:r,$to:o}=t.selection,l=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!l&&(!n||(r.node(l.depth-1).type==e?function(e,t,n,r){let o=e.tr,l=r.end,i=r.$to.end(r.depth);l<i&&(o.step(new eD(l-1,i,l,i,new P(M.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new W(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));let a=ej(r);if(null==a)return!1;o.lift(r,a);let s=o.doc.resolve(o.mapping.map(l,-1)-1);return eW(o.doc,s.pos)&&s.nodeBefore.type==s.nodeAfter.type&&o.join(s.pos),t(o.scrollIntoView()),!0}(t,n,e,l):function(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,l=n.startIndex;t>l;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let l=r.doc.resolve(n.start),i=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,s=n.endIndex==o.childCount,u=l.node(-1),c=l.index(-1);if(!u.canReplace(c+ +!a,c+1,i.content.append(s?M.empty:M.from(o))))return!1;let d=l.pos,p=d+i.nodeSize;return r.step(new eD(d-!!a,p+ +!!s,d+1,p-1,new P((a?M.empty:M.from(o.copy(M.empty))).append(s?M.empty:M.from(o.copy(M.empty))),+!a,+!s),+!a)),t(r.scrollIntoView()),!0}(t,n,l)))}})(oA(e,n.schema))(n,r)},lc=()=>e=>{let{state:t,dispatch:n}=e;return tT(t,n)};function ld(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function lp(e,t){let n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var lh=(e,t)=>n=>{let{tr:r,state:o,dispatch:l}=n,i=null,a=null,s=ld("string"==typeof e?e:e.name,o.schema);return!!s&&("node"===s&&(i=oA(e,o.schema)),"mark"===s&&(a=o_(e,o.schema)),l&&r.selection.ranges.forEach(e=>{o.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,n)=>{i&&i===e.type&&r.setNodeMarkup(n,void 0,lp(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(o=>{a===o.type&&r.addMark(n,n+e.nodeSize,a.create(lp(o.attrs,t)))})})}),!0)},lf=()=>e=>{let{tr:t,dispatch:n}=e;return n&&t.scrollIntoView(),!0},lm=()=>e=>{let{tr:t,dispatch:n}=e;if(n){let e=new tr(t.doc);t.setSelection(e)}return!0},lg=()=>e=>{let{state:t,dispatch:n}=e;return tC(t,n)},lv=()=>e=>{let{state:t,dispatch:n}=e;return tR(t,n)},lb=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let{$from:n,to:r}=e.selection,o,l=n.sharedDepth(r);return 0!=l&&(o=n.before(l),t&&t(e.tr.setSelection(tt.create(e.doc,o))),!0)})(t,n)},ly=()=>e=>{let{state:t,dispatch:n}=e;return tj(t,n)},lw=()=>e=>{let{state:t,dispatch:n}=e;return tL(t,n)};function lx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o3(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var lC=function(e){let{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{editor:l,tr:i,dispatch:a,commands:s}=o,{doc:u}=i;if("full"!==r.preserveWhitespace){let o=lx(e,l.schema,r,{errorOnInvalidContent:null!=t?t:l.options.enableContentCheck});return a&&i.replaceWith(0,u.content.size,o).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:u.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:l.options.enableContentCheck})}};function lS(e,t){let n=o_(t,e.schema),{from:r,to:o,empty:l}=e.selection,i=[];l?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{i.push(...e.marks)});let a=i.find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}function lk(e,t){let n=new e5(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function lM(e){return t=>(function(e,t){for(let n=e.depth;n>0;n-=1){let r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}})(t.$from,e)}function lR(e,t,n){return void 0===e.config[t]&&e.parent?lR(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?lR(e.parent,t,n):null}):e.config[t]}function lE(e){return e.map(e=>{let t={name:e.name,options:e.options,storage:e.storage},n=lR(e,"addExtensions",t);return n?[e,...lE(n())]:e}).flat(10)}function lT(e,t){let n=eg.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function lI(e){return"function"==typeof e}function lO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return lI(e)?t?e.bind(t)(...r):e(...r):e}function lP(e){let t=e.filter(e=>"extension"===e.type);return{baseExtensions:t,nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function lN(e){let t=[],{nodeExtensions:n,markExtensions:r}=lP(e),o=[...n,...r],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage,extensions:o},r=lR(e,"addGlobalAttributes",n);r&&r().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(e=>{let[r,o]=e;t.push({type:n,name:r,attribute:{...l,...o}})})})})}),o.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage},r=lR(e,"addAttributes",n);r&&Object.entries(r()).forEach(n=>{let[r,o]=n,i={...l,...o};"function"==typeof(null==i?void 0:i.default)&&(i.default=i.default()),(null==i?void 0:i.isRequired)&&(null==i?void 0:i.default)===void 0&&delete i.default,t.push({type:e.name,name:r,attribute:i})})}),t}function lD(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>!!e).reduce((e,t)=>{let n={...e};return Object.entries(t).forEach(e=>{let[t,r]=e;if(!n[t]){n[t]=r;return}if("class"===t){let e=r?String(r).split(" "):[],o=n[t]?n[t].split(" "):[],l=e.filter(e=>!o.includes(e));n[t]=[...o,...l].join(" ")}else if("style"===t){let e=r?r.split(";").map(e=>e.trim()).filter(Boolean):[],o=n[t]?n[t].split(";").map(e=>e.trim()).filter(Boolean):[],l=new Map;o.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());l.set(t,n)}),e.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());l.set(t,n)}),n[t]=Array.from(l.entries()).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join("; ")}else n[t]=r}),n},{})}function lA(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>lD(e,t),{})}function lL(e,t){return"style"in e?e:{...e,getAttrs:n=>{let r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;let o=t.reduce((e,t)=>{var r;let o=t.attribute.parseHTML?t.attribute.parseHTML(n):"string"!=typeof(r=n.getAttribute(t.name))?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):"true"===r||"false"!==r&&r;return null==o?e:{...e,[t.name]:o}},{});return{...r,...o}}}}function lj(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return!("attrs"===t&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length&&e.constructor===Object}(n))&&null!=n}))}function lz(e){return e.sort((e,t)=>{let n=lR(e,"priority")||100,r=lR(t,"priority")||100;return n>r?-1:+(n<r)})}function lF(e){var t;let n=lz(lE(e)),r=Array.from(new Set((t=n.map(e=>e.name)).filter((e,n)=>t.indexOf(e)!==n)));return r.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(r.map(e=>"'".concat(e,"'")).join(", "),"]. This can lead to issues.")),n}function lH(e,t,n){let{from:r,to:o}=t,{blockSeparator:l="\n\n",textSerializers:i={}}=n||{},a="";return e.nodesBetween(r,o,(e,n,s,u)=>{var c;e.isBlock&&n>r&&(a+=l);let d=null==i?void 0:i[e.type.name];if(d)return s&&(a+=d({node:e,pos:n,parent:s,index:u,range:t})),!1;e.isText&&(a+=null==(c=null==e?void 0:e.text)?void 0:c.slice(Math.max(r,n)-n,o-n))}),a}function lB(e){return Object.fromEntries(Object.entries(e.nodes).filter(e=>{let[,t]=e;return t.spec.toText}).map(e=>{let[t,n]=e;return[t,n.spec.toText]}))}function lV(e,t){let n=ld("string"==typeof t?t:t.name,e.schema);if("node"===n){let n=oA(t,e.schema),{from:r,to:o}=e.selection,l=[];e.doc.nodesBetween(r,o,e=>{l.push(e)});let i=l.reverse().find(e=>e.type.name===n.name);return i?{...i.attrs}:{}}return"mark"===n?lS(e,t):{}}function lW(e){let{mapping:t,steps:n}=e,r=[];t.maps.forEach((e,o)=>{let l=[];if(e.ranges.length)e.forEach((e,t)=>{l.push({from:e,to:t})});else{let{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;l.push({from:e,to:t})}l.forEach(e=>{let{from:n,to:l}=e,i=t.slice(o).map(n,-1),a=t.slice(o).map(l),s=t.invert().map(i,-1),u=t.invert().map(a);r.push({oldRange:{from:s,to:u},newRange:{from:i,to:a}})})});let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify,n={};return e.filter(e=>{let r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(r);return 1===o.length?o:o.filter((e,t)=>!o.filter((e,n)=>n!==t).some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}function lG(e,t,n){let r=[];return e===t?n.resolve(e).marks().forEach(t=>{let o=oU(n.resolve(e),t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{e&&(null==e?void 0:e.nodeSize)!==void 0&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}var lU=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=e.doc.resolve(n),l=r,i=null;for(;l>0&&null===i;){let e=o.node(l);(null==e?void 0:e.type.name)===t?i=e:l-=1}return[i,l]};function l_(e,t){return t.nodes[e]||t.marks[e]||null}function lq(e,t,n){return Object.fromEntries(Object.entries(n).filter(n=>{let[r]=n,o=e.find(e=>e.type===t&&e.name===r);return!!o&&o.attribute.keepOnSplit}))}var lK=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n="",r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,l)=>{var i,a;let s=(null==(a=(i=e.type.spec).toText)?void 0:a.call(i,{node:e,pos:t,parent:o,index:l}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?s:s.slice(0,Math.max(0,r-t))}),n};function l$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{empty:r,ranges:o}=e.selection,l=t?o_(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!l||l.name===e.type.name).find(e=>oV(e.attrs,n,{strict:!1}));let i=0,a=[];if(o.forEach(t=>{let{$from:n,$to:r}=t,o=n.pos,l=r.pos;e.doc.nodesBetween(o,l,(e,t)=>{if(!e.isText&&!e.marks.length)return;let n=Math.max(o,t),r=Math.min(l,t+e.nodeSize);i+=r-n,a.push(...e.marks.map(e=>({mark:e,from:n,to:r})))})}),0===i)return!1;let s=a.filter(e=>!l||l.name===e.mark.type.name).filter(e=>oV(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),u=a.filter(e=>!l||e.mark.type!==l&&e.mark.type.excludes(l)).reduce((e,t)=>e+t.to-t.from,0);return(s>0?s+u:s)>=i}function lJ(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function lX(e,t){let{nodeExtensions:n}=lP(t),r=n.find(t=>t.name===e);if(!r)return!1;let o={name:r.name,options:r.options,storage:r.storage},l=lO(lR(r,"group",o));return"string"==typeof l&&l.split(" ").includes("list")}function lY(e){var t;let{checkChildren:n=!0,ignoreWhitespace:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(t=e.text)?t:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(n){let t=!0;return e.content.forEach(e=>{!1!==t&&(lY(e,{ignoreWhitespace:r,checkChildren:n})||(t=!1))}),t}return!1}function lQ(e){return e instanceof tt}var lZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:l}=n,{selection:i}=r,{empty:a,ranges:s}=i,u=o_(e,o.schema);if(l)if(a){let e=lS(o,u);r.addStoredMark(u.create({...e,...t}))}else s.forEach(e=>{let n=e.$from.pos,l=e.$to.pos;o.doc.nodesBetween(n,l,(e,o)=>{let i=Math.max(o,n),a=Math.min(o+e.nodeSize,l);e.marks.find(e=>e.type===u)?e.marks.forEach(e=>{u===e.type&&r.addMark(i,a,u.create({...e.attrs,...t}))}):r.addMark(i,a,u.create(t))})});return function(e,t,n){var r;let{selection:o}=t,l=null;if(o$(o)&&(l=o.$cursor),l){let t=null!=(r=e.storedMarks)?r:l.marks();return l.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}let{ranges:i}=o;return i.some(t=>{let{$from:r,$to:o}=t,l=0===r.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(r.pos,o.pos,(e,t,r)=>{if(l)return!1;if(e.isInline){let t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));l=t&&o}return!l}),l})}(o,r,u)}},l0=(e,t)=>n=>{let{tr:r}=n;return r.setMeta(e,t),!0},l1=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let r,{state:o,dispatch:l,chain:i}=n,a=oA(e,o.schema);return(o.selection.$anchor.sameParent(o.selection.$head)&&(r=o.selection.$anchor.parent.attrs),a.isTextblock)?i().command(e=>{let{commands:n}=e;return!!tz(a,{...r,...t})(o)||n.clearNodes()}).command(e=>{let{state:n}=e;return tz(a,{...r,...t})(n,l)}).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}},l2=e=>t=>{let{tr:n,dispatch:r}=t;if(r){let{doc:t}=n,r=oJ(e,0,t.content.size),o=tt.create(t,r);n.setSelection(o)}return!0},l5=e=>t=>{let{tr:n,dispatch:r}=t;if(r){let{doc:t}=n,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,l=e8.atStart(t).from,i=e8.atEnd(t).to,a=oJ(r,l,i),s=oJ(o,l,i),u=e8.create(t,a,s);n.setSelection(u)}return!0},l3=e=>t=>{let{state:n,dispatch:r}=t;return(function(e){return function(t,n){let{$from:r,$to:o}=t.selection,l=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);if(!l)return!1;let i=l.startIndex;if(0==i)return!1;let a=l.parent,s=a.child(i-1);if(s.type!=e)return!1;if(n){let r=s.lastChild&&s.lastChild.type==a.type,o=M.from(r?e.create():null),i=new P(M.from(e.create(null,M.from(a.type.create(null,o)))),r?3:1,0),u=l.start,c=l.end;n(t.tr.step(new eD(u-(r?3:1),c,u,c,i,1,!0)).scrollIntoView())}return!0}})(oA(e,n.schema))(n,r)};function l4(e,t){let n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){let r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var l9=function(){let{keepMarks:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{tr:n,state:r,dispatch:o,editor:l}=t,{selection:i,doc:a}=n,{$from:s,$to:u}=i,c=lq(l.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof tt&&i.node.isBlock)return!!s.parentOffset&&!!eV(a,s.pos)&&(o&&(e&&l4(r,l.extensionManager.splittableMarks),n.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;let d=u.parentOffset===u.parent.content.size,p=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=d&&p?[{type:p,attrs:c}]:void 0,f=eV(n.doc,n.mapping.map(s.pos),1,h);if(!h&&!f&&eV(n.doc,n.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(f=!0,h=p?[{type:p,attrs:c}]:void 0),o){if(f&&(i instanceof e8&&n.deleteSelection(),n.split(n.mapping.map(s.pos),1,h),p&&!d&&!s.parentOffset&&s.parent.type!==p)){let e=n.mapping.map(s.before()),t=n.doc.resolve(e);s.node(-1).canReplaceWith(t.index(),t.index()+1,p)&&n.setNodeMarkup(n.mapping.map(s.before()),p)}e&&l4(r,l.extensionManager.splittableMarks),n.scrollIntoView()}return f}},l6=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{var r;let{tr:o,state:l,dispatch:i,editor:a}=n,s=oA(e,l.schema),{$from:u,$to:c}=l.selection,d=l.selection.node;if(d&&d.isBlock||u.depth<2||!u.sameParent(c))return!1;let p=u.node(-1);if(p.type!==s)return!1;let h=a.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==s||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let e=M.empty,n=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-n;t>=u.depth-3;t-=1)e=M.from(u.node(t).copy(e));let l=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,i={...lq(h,u.node().type.name,u.node().attrs),...t},a=(null==(r=s.contentMatch.defaultType)?void 0:r.createAndFill(i))||void 0;e=e.append(M.from(s.createAndFill(null,a)||void 0));let c=u.before(u.depth-(n-1));o.replace(c,u.after(-l),new P(e,4-n,0));let d=-1;o.doc.nodesBetween(c,o.doc.content.size,(e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)}),d>-1&&o.setSelection(e8.near(o.doc.resolve(d))),o.scrollIntoView()}return!0}let f=c.pos===u.end()?p.contentMatchAt(0).defaultType:null,m={...lq(h,p.type.name,p.attrs),...t},g={...lq(h,u.node().type.name,u.node().attrs),...t};o.delete(u.pos,c.pos);let v=f?[{type:s,attrs:m},{type:f,attrs:g}]:[{type:s,attrs:m}];if(!eV(o.doc,u.pos,2))return!1;if(i){let{selection:e,storedMarks:t}=l,{splittableMarks:n}=a.extensionManager,r=t||e.$to.parentOffset&&e.$from.marks();if(o.split(u.pos,2,v).scrollIntoView(),!r||!i)return!0;let s=r.filter(e=>n.includes(e.type.name));o.ensureMarks(s)}return!0}},l7=(e,t)=>{let n=lM(e=>e.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;let o=e.doc.nodeAt(r);return!(n.node.type===(null==o?void 0:o.type)&&eW(e.doc,n.pos))||(e.join(n.pos),!0)},l8=(e,t)=>{let n=lM(e=>e.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;let o=e.doc.nodeAt(r);return!(n.node.type===(null==o?void 0:o.type)&&eW(e.doc,r))||(e.join(r),!0)},ie=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{let{editor:l,tr:i,state:a,dispatch:s,chain:u,commands:c,can:d}=o,{extensions:p,splittableMarks:h}=l.extensionManager,f=oA(e,a.schema),m=oA(t,a.schema),{selection:g,storedMarks:v}=a,{$from:b,$to:y}=g,w=b.blockRange(y),x=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;let C=lM(e=>lX(e.type.name,p))(g);if(w.depth>=1&&C&&w.depth-C.depth<=1){if(C.node.type===f)return c.liftListItem(m);if(lX(C.node.type.name,p)&&f.validContent(C.node.content)&&s)return u().command(()=>(i.setNodeMarkup(C.pos,f),!0)).command(()=>l7(i,f)).command(()=>l8(i,f)).run()}return n&&x&&s?u().command(()=>{let e=d().wrapInList(f,r),t=x.filter(e=>h.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(f,r).command(()=>l7(i,f)).command(()=>l8(i,f)).run():u().command(()=>!!d().wrapInList(f,r)||c.clearNodes()).wrapInList(f,r).command(()=>l7(i,f)).command(()=>l8(i,f)).run()}},it=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:o,commands:l}=r,{extendEmptyMarkRange:i=!1}=n,a=o_(e,o.schema);return l$(o,a,t)?l.unsetMark(a,{extendEmptyMarkRange:i}):l.setMark(a,t)}},ir=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let o,{state:l,commands:i}=r,a=oA(e,l.schema),s=oA(t,l.schema),u=li(l,a,n);return(l.selection.$anchor.sameParent(l.selection.$head)&&(o=l.selection.$anchor.parent.attrs),u)?i.setNode(s,o):i.setNode(a,{...o,...n})}},io=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,commands:o}=n,l=oA(e,r.schema);return li(r,l,t)?o.lift(l):o.wrapIn(l,t)}},il=()=>e=>{let{state:t,dispatch:n}=e,r=t.plugins;for(let e=0;e<r.length;e+=1){let o,l=r[e];if(l.spec.isInputRules&&(o=l.getState(t))){if(n){let e=t.tr,n=o.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(o.text){let n=e.doc.resolve(o.from).marks();e.replaceWith(o.from,o.to,t.schema.text(o.text,n))}else e.delete(o.from,o.to)}return!0}}return!1},ii=()=>e=>{let{tr:t,dispatch:n}=e,{selection:r}=t,{empty:o,ranges:l}=r;return!!o||(n&&l.forEach(e=>{t.removeMark(e.$from.pos,e.$to.pos)}),!0)},ia=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{var r;let{tr:o,state:l,dispatch:i}=n,{extendEmptyMarkRange:a=!1}=t,{selection:s}=o,u=o_(e,l.schema),{$from:c,empty:d,ranges:p}=s;if(!i)return!0;if(d&&a){let{from:e,to:t}=s,n=null==(r=c.marks().find(e=>e.type===u))?void 0:r.attrs,l=oU(c,u,n);l&&(e=l.from,t=l.to),o.removeMark(e,t,u)}else p.forEach(e=>{o.removeMark(e.$from.pos,e.$to.pos,u)});return o.removeStoredMark(u),!0}},is=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:l}=n,i=null,a=null,s=ld("string"==typeof e?e:e.name,o.schema);return!!s&&("node"===s&&(i=oA(e,o.schema)),"mark"===s&&(a=o_(e,o.schema)),l&&r.selection.ranges.forEach(e=>{let n,l,s,u,c=e.$from.pos,d=e.$to.pos;r.selection.empty?o.doc.nodesBetween(c,d,(e,t)=>{i&&i===e.type&&(s=Math.max(t,c),u=Math.min(t+e.nodeSize,d),n=t,l=e)}):o.doc.nodesBetween(c,d,(e,o)=>{o<c&&i&&i===e.type&&(s=Math.max(o,c),u=Math.min(o+e.nodeSize,d),n=o,l=e),o>=c&&o<=d&&(i&&i===e.type&&r.setNodeMarkup(o,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach(n=>{if(a===n.type){let l=Math.max(o,c),i=Math.min(o+e.nodeSize,d);r.addMark(l,i,a.create({...n.attrs,...t}))}}))}),l&&(void 0!==n&&r.setNodeMarkup(n,void 0,{...l.attrs,...t}),a&&l.marks.length&&l.marks.forEach(e=>{a===e.type&&r.addMark(s,u,a.create({...e.attrs,...t}))}))}),!0)}},iu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:l}=n.selection,i=o.blockRange(l),a=i&&ez(i,e,t);return!!a&&(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0)}})(oA(e,r.schema),t)(r,o)}},ic=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:l}=n.selection,i=o.blockRange(l);if(!i)return!1;let a=r?n.tr:null;return!!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!1,l=t,i=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=i.resolve(t.start-2);l=new W(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new W(t.$from,i.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let a=ez(l,n,r,t);return!!a&&(e&&function(e,t,n,r,o){let l=M.empty;for(let e=n.length-1;e>=0;e--)l=M.from(n[e].type.create(n[e].attrs,l));e.step(new eD(t.start-2*!!r,t.end,t.start,t.end,new P(l,0,0),n.length,!0));let i=0;for(let e=0;e<n.length;e++)n[e].type==o&&(i=e+1);let a=n.length-i,s=t.start+n.length-2*!!r,u=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&eV(e.doc,s,a)&&(e.split(s,a),s+=2*a),s+=u.child(n).nodeSize}(e,t,a,o,n),!0)}(a,i,e,t)&&(r&&r(a.scrollIntoView()),!0)}})(oA(e,r.schema),t)(r,o)}},id=class{on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o=this.callbacks[e];return o&&o.forEach(e=>e.apply(this,n)),this}off(e,t){let n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){var n=this;let r=function(){for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];n.off(e,r),t.apply(n,l)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}constructor(){this.callbacks={}}},ip=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function ih(e){var t;let{editor:n,from:r,to:o,text:l,rules:i,plugin:a}=e,{view:s}=n;if(s.composing)return!1;let u=s.state.doc.resolve(r);if(u.parent.type.spec.code||(null==(t=u.nodeBefore||u.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let c=!1,d=lK(u)+l;return i.forEach(e=>{if(c)return;let t=((e,t)=>{if(oB(t))return t.exec(e);let n=t(e);if(!n)return null;let r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;let i=s.state.tr,u=ok({state:s.state,transaction:i}),p={from:r-(t[0].length-l.length),to:o},{commands:h,chain:f,can:m}=new oM({editor:n,state:u});null!==e.handler({state:u,range:p,match:t,commands:h,chain:f,can:m})&&i.steps.length&&(e.undoable&&i.setMeta(a,{transform:i,from:r,to:o,text:l}),s.dispatch(i),c=!0)}),c}function im(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}var ig=class{get options(){return{...lO(lR(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...lO(lR(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.extend({...this.config,addOptions:()=>(function e(t,n){let r={...t};return im(t)&&im(n)&&Object.keys(n).forEach(o=>{im(n[o])&&im(t[o])?r[o]=e(t[o],n[o]):r[o]=n[o]}),r})(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}},iv=class e extends ig{static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e("function"==typeof t?t():t)}static handleExit(e){let{editor:t,mark:n}=e,{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){let e=o.marks();if(!e.find(e=>(null==e?void 0:e.type.name)===n.name))return!1;let l=e.find(e=>(null==e?void 0:e.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){let t="function"==typeof e?e():e;return super.extend(t)}constructor(){super(...arguments),this.type="mark"}},ib=class{constructor(e){this.find=e.find,this.handler=e.handler}},iy=null,iw=class{get commands(){return this.extensions.reduce((e,t)=>{let n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:l_(t.name,this.schema)},r=lR(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){let{editor:e}=this;return lz([...this.extensions].reverse()).flatMap(t=>{let n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:l_(t.name,this.schema)},r=[],o=lR(t,"addKeyboardShortcuts",n),l={};if("mark"===t.type&&lR(t,"exitable",n)&&(l.ArrowRight=()=>iv.handleExit({editor:e,mark:t})),o){let t=Object.fromEntries(Object.entries(o()).map(t=>{let[n,r]=t;return[n,()=>r({editor:e})]}));l={...l,...t}}let i=new th({props:{handleKeyDown:ox(l)}});r.push(i);let a=lR(t,"addInputRules",n);if(lJ(t,e.options.enableInputRules)&&a){let t=a();if(t&&t.length){let n=function(e){let{editor:t,rules:n}=e,r=new th({state:{init:()=>null,apply(e,o,l){let i=e.getMeta(r);if(i)return i;let a=e.getMeta("applyInputRules");return a&&setTimeout(()=>{let{text:e}=a;"string"==typeof e||(e=lT(M.from(e),l.schema));let{from:o}=a,i=o+e.length;ih({editor:t,from:o,to:i,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,l,i)=>ih({editor:t,from:o,to:l,text:i,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{let{$cursor:o}=e.state.selection;o&&ih({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;let{$cursor:l}=e.state.selection;return!!l&&ih({editor:t,from:l.pos,to:l.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),o=Array.isArray(n)?n:[n];r.push(...o)}}let s=lR(t,"addPasteRules",n);if(lJ(t,e.options.enablePasteRules)&&s){let t=s();if(t&&t.length){let n=function(e){let t,{editor:n,rules:r}=e,o=null,l=!1,i=!1,a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{t="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(e){t=null}let s=e=>{let{state:r,from:o,to:l,rule:i,pasteEvt:s}=e,u=r.tr;if(function(e){let{editor:t,state:n,from:r,to:o,rule:l,pasteEvent:i,dropEvent:a}=e,{commands:s,chain:u,can:c}=new oM({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(e,t)=>{var p,h,f,m,g;if((null==(h=null==(p=e.type)?void 0:p.spec)?void 0:h.code)||!(e.isText||e.isTextblock||e.isInline))return;let v=null!=(g=null!=(m=null==(f=e.content)?void 0:f.size)?m:e.nodeSize)?g:0,b=Math.max(r,t),y=Math.min(o,t+v);b>=y||((e,t,n)=>{if(oB(t))return[...e.matchAll(t)];let r=t(e,n);return r?r.map(t=>{let n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(b-t,y-t,void 0,""),l.find,i).forEach(e=>{if(void 0===e.index)return;let t=b+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=l.handler({state:n,range:o,match:e,commands:s,chain:u,can:c,pasteEvent:i,dropEvent:a});d.push(p)})}),d.every(e=>null!==e)}({editor:n,state:ok({state:r,transaction:u}),from:Math.max(o-1,0),to:l.b-1,rule:i,pasteEvent:s,dropEvent:t})&&u.steps.length){try{t="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(e){t=null}return a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,u}};return r.map(e=>new th({view(e){let t=t=>{var r;(o=(null==(r=e.dom.parentElement)?void 0:r.contains(t.target))?e.dom.parentElement:null)&&(iy=n)},r=()=>{iy&&(iy=null)};return window.addEventListener("dragstart",t),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",t),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,n)=>{if(i=o===e.dom.parentElement,t=n,!i){let e=iy;(null==e?void 0:e.isEditable)&&setTimeout(()=>{let t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;let r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return a=t,l=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{let o=t[0],u="paste"===o.getMeta("uiEvent")&&!l,c="drop"===o.getMeta("uiEvent")&&!i,d=o.getMeta("applyPasteRules"),p=!!d;if(!u&&!c&&!p)return;if(p){let{text:t}=d;"string"==typeof t||(t=lT(M.from(t),r.schema));let{from:n}=d,o=n+t.length;return s({rule:e,state:r,from:n,to:{b:o},pasteEvt:(e=>{var t;let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t)})}let h=n.doc.content.findDiffStart(r.doc.content),f=n.doc.content.findDiffEnd(r.doc.content);if("number"==typeof h&&f&&h!==f.b)return s({rule:e,state:r,from:h,to:f,pasteEvt:a})}}))}({editor:e,rules:t});r.push(...n)}}let u=lR(t,"addProseMirrorPlugins",n);if(u){let e=u();r.push(...e)}return r})}get attributes(){return lN(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:t}=lP(this.extensions);return Object.fromEntries(t.filter(e=>!!lR(e,"addNodeView")).map(t=>{let n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:oA(t.name,this.schema)},o=lR(t,"addNodeView",r);return o?[t.name,(r,l,i,a,s)=>{let u=lA(r,n);return o()({node:r,view:l,getPos:i,decorations:a,innerDecorations:s,editor:e,extension:t,HTMLAttributes:u})}]:[]}))}get markViews(){let{editor:e}=this,{markExtensions:t}=lP(this.extensions);return Object.fromEntries(t.filter(e=>!!lR(e,"addMarkView")).map(t=>{let n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:o_(t.name,this.schema)},o=lR(t,"addMarkView",r);return o?[t.name,(r,l,i)=>{let a=lA(r,n);return o()({mark:r,view:l,inline:i,editor:e,extension:t,HTMLAttributes:a,updateAttributes:t=>{!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{state:r}=t,{doc:o,tr:l}=r;o.descendants((t,r)=>{let o=l.mapping.map(r),i=l.mapping.map(r)+t.nodeSize,a=null;if(t.marks.forEach(t=>{if(t!==e)return!1;a=t}),!a)return;let s=!1;if(Object.keys(n).forEach(e=>{n[e]!==a.attrs[e]&&(s=!0)}),s){let t=e.type.create({...e.attrs,...n});l.removeMark(o,i,e.type),l.addMark(o,i,t)}}),l.docChanged&&t.view.dispatch(l)}(r,e,t)}})}]:[]}))}setupExtensions(){let e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;let n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:l_(e.name,this.schema)};"mark"===e.type&&(null==(t=lO(lR(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);let r=lR(e,"onBeforeCreate",n),o=lR(e,"onCreate",n),l=lR(e,"onUpdate",n),i=lR(e,"onSelectionUpdate",n),a=lR(e,"onTransaction",n),s=lR(e,"onFocus",n),u=lR(e,"onBlur",n),c=lR(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),l&&this.editor.on("update",l),i&&this.editor.on("selectionUpdate",i),a&&this.editor.on("transaction",a),s&&this.editor.on("focus",s),u&&this.editor.on("blur",u),c&&this.editor.on("destroy",c)})}constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=lF(e),this.schema=function(e,t){var n;let r=lN(e),{nodeExtensions:o,markExtensions:l}=lP(e),i=null==(n=o.find(e=>lR(e,"topNode")))?void 0:n.name;return new el({topNode:i,nodes:Object.fromEntries(o.map(n=>{let o=r.filter(e=>e.type===n.name),l={name:n.name,options:n.options,storage:n.storage,editor:t},i=lj({...e.reduce((e,t)=>{let r=lR(t,"extendNodeSchema",l);return{...e,...r?r(n):{}}},{}),content:lO(lR(n,"content",l)),marks:lO(lR(n,"marks",l)),group:lO(lR(n,"group",l)),inline:lO(lR(n,"inline",l)),atom:lO(lR(n,"atom",l)),selectable:lO(lR(n,"selectable",l)),draggable:lO(lR(n,"draggable",l)),code:lO(lR(n,"code",l)),whitespace:lO(lR(n,"whitespace",l)),linebreakReplacement:lO(lR(n,"linebreakReplacement",l)),defining:lO(lR(n,"defining",l)),isolating:lO(lR(n,"isolating",l)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),a=lO(lR(n,"parseHTML",l));a&&(i.parseDOM=a.map(e=>lL(e,o)));let s=lR(n,"renderHTML",l);s&&(i.toDOM=e=>s({node:e,HTMLAttributes:lA(e,o)}));let u=lR(n,"renderText",l);return u&&(i.toText=u),[n.name,i]})),marks:Object.fromEntries(l.map(n=>{let o=r.filter(e=>e.type===n.name),l={name:n.name,options:n.options,storage:n.storage,editor:t},i=lj({...e.reduce((e,t)=>{let r=lR(t,"extendMarkSchema",l);return{...e,...r?r(n):{}}},{}),inclusive:lO(lR(n,"inclusive",l)),excludes:lO(lR(n,"excludes",l)),group:lO(lR(n,"group",l)),spanning:lO(lR(n,"spanning",l)),code:lO(lR(n,"code",l)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),a=lO(lR(n,"parseHTML",l));a&&(i.parseDOM=a.map(e=>lL(e,o)));let s=lR(n,"renderHTML",l);return s&&(i.toDOM=e=>s({mark:e,HTMLAttributes:lA(e,o)})),[n.name,i]}))})}(this.extensions,t),this.setupExtensions()}};iw.resolve=lF,iw.sort=lz,iw.flatten=lE,oS({},{ClipboardTextSerializer:()=>iC,Commands:()=>iS,Delete:()=>ik,Drop:()=>iM,Editable:()=>iR,FocusEvents:()=>iT,Keymap:()=>iI,Paste:()=>iO,Tabindex:()=>iP,focusEventsPluginKey:()=>iE});var ix=class e extends ig{static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e("function"==typeof t?t():t)}configure(e){return super.configure(e)}extend(e){let t="function"==typeof e?e():e;return super.extend(t)}constructor(){super(...arguments),this.type="extension"}},iC=ix.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new th({key:new tg("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:l}=o,i=Math.min(...l.map(e=>e.$from.pos)),a=Math.max(...l.map(e=>e.$to.pos)),s=lB(n);return lH(r,{from:i,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:s})}}})]}}),iS=ix.create({name:"commands",addCommands:()=>({...oR})}),ik=ix.create({name:"delete",onUpdate(e){var t,n,r;let{transaction:o,appendedTransactions:l}=e,i=()=>{var e,t,n,r;if(null!=(r=null==(n=null==(t=null==(e=this.editor.options.coreExtensionOptions)?void 0:e.delete)?void 0:t.filterTransaction)?void 0:n.call(t,o))?r:o.getMeta("y-sync$"))return;let i=lk(o.before,[o,...l]);lW(i).forEach(e=>{i.mapping.mapResult(e.oldRange.from).deletedAfter&&i.mapping.mapResult(e.oldRange.to).deletedBefore&&i.before.nodesBetween(e.oldRange.from,e.oldRange.to,(t,n)=>{let r=n+t.nodeSize-2,l=e.oldRange.from<=n&&r<=e.oldRange.to;this.editor.emit("delete",{type:"node",node:t,from:n,to:r,newFrom:i.mapping.map(n),newTo:i.mapping.map(r),deletedRange:e.oldRange,newRange:e.newRange,partial:!l,editor:this.editor,transaction:o,combinedTransform:i})})});let a=i.mapping;i.steps.forEach((e,t)=>{var n,r;if(e instanceof eI){let l=a.slice(t).map(e.from,-1),s=a.slice(t).map(e.to),u=a.invert().map(l,-1),c=a.invert().map(s),d=null==(n=i.doc.nodeAt(l-1))?void 0:n.marks.some(t=>t.eq(e.mark)),p=null==(r=i.doc.nodeAt(s))?void 0:r.marks.some(t=>t.eq(e.mark));this.editor.emit("delete",{type:"mark",mark:e.mark,from:e.from,to:e.to,deletedRange:{from:u,to:c},newRange:{from:l,to:s},partial:!!(p||d),editor:this.editor,transaction:o,combinedTransform:i})}})};null==(r=null==(n=null==(t=this.editor.options.coreExtensionOptions)?void 0:t.delete)?void 0:n.async)||r?setTimeout(i,0):i()}}),iM=ix.create({name:"drop",addProseMirrorPlugins(){return[new th({key:new tg("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),iR=ix.create({name:"editable",addProseMirrorPlugins(){return[new th({key:new tg("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iE=new tg("focusEvents"),iT=ix.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new th({key:iE,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;let r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;let r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),iI=ix.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.undoInputRule(),()=>t.command(e=>{let{tr:n}=e,{selection:r,doc:o}=n,{empty:l,$anchor:i}=r,{pos:a,parent:s}=i,u=i.parent.isTextblock&&a>0?n.doc.resolve(a-1):i,c=u.parent.type.spec.isolating,d=i.pos-i.parentOffset,p=c&&1===u.parent.childCount?d===i.pos:e4.atStart(o).from===a;return!!l&&!!s.type.isTextblock&&!s.textContent.length&&!!p&&(!p||"paragraph"!==i.parent.type.name)&&t.clearNodes()}),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]}),n={Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]}),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return oQ()||lo()?o:r},addProseMirrorPlugins(){return[new th({key:new tg("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;let r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;let{empty:l,from:i,to:a}=t.selection,s=e4.atStart(t.doc).from,u=e4.atEnd(t.doc).to;if(l||i!==s||a!==u||!lY(n.doc))return;let c=n.tr,d=ok({state:n,transaction:c}),{commands:p}=new oM({editor:this.editor,state:d});if(p.clearNodes(),c.steps.length)return c}})]}}),iO=ix.create({name:"paste",addProseMirrorPlugins(){return[new th({key:new tg("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),iP=ix.create({name:"tabindex",addProseMirrorPlugins(){return[new th({key:new tg("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),iN=class e{get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error("You cant set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+ +!this.node.isText}get parent(){if(0===this.depth)return null;let t=this.resolvedPos.start(this.resolvedPos.depth-1);return new e(this.resolvedPos.doc.resolve(t),this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){let t=[];return this.node.content.forEach((n,r)=>{let o=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,i=this.pos+r+ +!l;if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;let a=this.resolvedPos.doc.resolve(i);if(!o&&a.depth<=this.depth)return;let s=new e(a,this.editor,o,o?n:null);o&&(s.actualDepth=this.depth+1),t.push(new e(a,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){let e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){let o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.children||0===this.children.length)return r;let o=Object.keys(t);return this.children.forEach(l=>{(!n||!(r.length>0))&&(l.node.type.name===e&&o.every(e=>t[e]===l.node.attrs[e])&&r.push(l),n&&r.length>0||(r=r.concat(l.querySelectorAll(e,t,n))))}),r}setAttribute(e){let{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}},iD=class extends id{mount(e){if("undefined"==typeof document)throw Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){let e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t,n){let r=document.querySelector("style[data-tiptap-style".concat("","]"));if(null!==r)return r;let o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style".concat(""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw Error("[tiptap error]: The editor view is not available. Cannot access view['".concat(t,"']. The editor may not be mounted yet."))}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){let n=lI(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;let t=this.state.plugins,n=t;if([].concat(e).forEach(e=>{let t="string"==typeof e?"".concat(e,"$"):e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;let r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;let n=[...this.options.enableCoreExtensions?[iR,iC.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),iS,iT,iI,iP,iM,iO,ik].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new iw(n,this)}createCommandManager(){this.commandManager=new oM({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=lx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=lx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new ol(e,{...this.options.editorProps,attributes:{role:"textbox",...null==(t=this.options.editorProps)?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap ".concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)});return}let{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});let i=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),a=null==i?void 0:i.getMeta("focus"),s=null==i?void 0:i.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:i}),s&&this.emit("blur",{editor:this,event:s.event,transaction:i}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||l.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return lV(this.state,e)}isActive(e,t){let n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return li(e,null,n)||l$(e,null,n);let r=ld(t,e.schema);return"node"===r?li(e,t,n):"mark"===r&&l$(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lT(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){let n={from:0,to:e.content.size};return lH(e,n,t)}(this.state.doc,{blockSeparator:t,textSerializers:{...lB(this.schema),...n}})}get isEmpty(){return lY(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){return new iN(this.state.doc.resolve(e),this)}get $doc(){return this.$pos(0)}constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:e=>{let{error:t}=e;throw t},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",e=>{let{event:t,slice:n,moved:r}=e;return this.options.onDrop(t,n,r)}),this.on("paste",e=>{let{event:t,slice:n}=e;return this.options.onPaste(t,n)}),this.on("delete",this.options.onDelete);let t=this.createDoc(),n=oX(t,this.options.autofocus);this.editorState=tp.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}};function iA(e){return new ip({find:e.find,handler:t=>{let{state:n,range:r,match:o}=t,l=lO(e.getAttributes,void 0,o);if(!1===l||null===l)return null;let{tr:i}=n,a=o[o.length-1],s=o[0];if(a){let t=s.search(/\S/),o=r.from+s.indexOf(a),u=o+a.length;if(lG(r.from,r.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;u<r.to&&i.delete(u,r.to),o>r.from&&i.delete(r.from+t,o);let c=r.from+t+a.length;i.addMark(r.from+t,c,e.type.create(l||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function iL(e){return new ip({find:e.find,handler:t=>{let{state:n,range:r,match:o}=t,l=lO(e.getAttributes,void 0,o)||{},{tr:i}=n,a=r.from,s=r.to,u=e.type.create(l);if(o[1]){let e=a+o[0].lastIndexOf(o[1]);e>s?e=s:s=e+o[1].length;let t=o[0][o[0].length-1];i.insertText(t,a+o[0].length-1),i.replaceWith(e,s,u)}else if(o[0]){let t=e.type.isInline?a:a-1;i.insert(t,e.type.create(l)).delete(i.mapping.map(a),i.mapping.map(s))}i.scrollIntoView()},undoable:e.undoable})}function ij(e){return new ip({find:e.find,handler:t=>{let{state:n,range:r,match:o}=t,l=n.doc.resolve(r.from),i=lO(e.getAttributes,void 0,o)||{};if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),e.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,i)},undoable:e.undoable})}function iz(e){return new ip({find:e.find,handler:t=>{let{state:n,range:r,match:o,chain:l}=t,i=lO(e.getAttributes,void 0,o)||{},a=n.tr.delete(r.from,r.to),s=a.doc.resolve(r.from).blockRange(),u=s&&ez(s,e.type,i);if(!u)return null;if(a.wrap(s,u),e.keepMarks&&e.editor){let{selection:t,storedMarks:r}=n,{splittableMarks:o}=e.editor.extensionManager,l=r||t.$to.parentOffset&&t.$from.marks();if(l){let e=l.filter(e=>o.includes(e.type.name));a.ensureMarks(e)}}if(e.keepAttributes){let t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";l().updateAttributes(t,i).run()}let c=a.doc.resolve(r.from-1).nodeBefore;c&&c.type===e.type&&eW(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(o,c))&&a.join(r.from-1)},undoable:e.undoable})}function iF(e){if(!(null==e?void 0:e.trim()))return{};let t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),"__QUOTED_".concat(n.length-1,"__"))),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);o&&(t.class=o.map(e=>e.trim().slice(1)).join(" "));let l=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(t.id=l[1]),Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(e=>{var r;let[,o,l]=e,i=n[parseInt((null==(r=l.match(/__QUOTED_(\d+)__/))?void 0:r[1])||"0",10)];i&&(t[o]=i.slice(1,-1))});let i=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return i&&i.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)}),t}function iH(e){if(!e||0===Object.keys(e).length)return"";let t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(".".concat(e))),e.id&&t.push("#".concat(e.id)),Object.entries(e).forEach(e=>{let[n,r]=e;"class"!==n&&"id"!==n&&(!0===r?t.push(n):!1!==r&&null!=r&&t.push("".concat(n,'="').concat(String(r),'"')))}),t.join(" ")}function iB(e){let{nodeName:t,name:n,parseAttributes:r=iF,serializeAttributes:o=iH,defaultAttributes:l={},requiredAttributes:i=[],allowedAttributes:a}=e,s=n||t;return{parseMarkdown:(e,n)=>{let r={...l,...e.attributes};return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;let n=RegExp("^:::".concat(s,"(?:\\s|$)"),"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,o){let l=new RegExp("^:::".concat(s,"(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)")),a=e.match(l);if(!a)return;let u=r(a[1]||"");if(!i.find(e=>!(e in u)))return{type:t,raw:a[0],attributes:u}}},renderMarkdown:e=>{let t=o((e=>{if(!a)return e;let t={};return a.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}));return":::".concat(s).concat(t?" {".concat(t,"}"):""," :::")}}}function iV(e){let{nodeName:t,name:n,getContent:r,parseAttributes:o=iF,serializeAttributes:l=iH,defaultAttributes:i={},content:a="block",allowedAttributes:s}=e,u=n||t;return{parseMarkdown:(e,n)=>{let o;if(r){let t=r(e);o="string"==typeof t?[{type:"text",text:t}]:t}else o="block"===a?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);let l={...i,...e.attributes};return n.createNode(t,l,o)},markdownTokenizer:{name:t,level:"block",start(e){var t;let n=RegExp("^:::".concat(u),"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var l;let i=new RegExp("^:::".concat(u,"(?:\\s+\\{([^}]*)\\})?\\s*\\n")),s=e.match(i);if(!s)return;let[c,d=""]=s,p=o(d),h=1,f=c.length,m="",g=/^:::([\w-]*)(\s.*)?/gm,v=e.slice(f);for(g.lastIndex=0;;){let n=g.exec(v);if(null===n)break;let o=n.index,i=n[1];if(null==(l=n[2])||!l.endsWith(":::")){if(i)h+=1;else if(0==(h-=1)){let l=v.slice(0,o);m=l.trim();let i=e.slice(0,f+o+n[0].length),s=[];if(m)if("block"===a)for((s=r.blockTokens(l)).forEach(e=>{e.text&&(!e.tokens||0===e.tokens.length)&&(e.tokens=r.inlineTokens(e.text))});s.length>0;){let e=s[s.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;s.pop()}else s=r.inlineTokens(m);return{type:t,raw:i,attributes:p,content:m,tokens:s}}}}}},renderMarkdown:(e,t)=>{let n=l((e=>{if(!s)return e;let t={};return s.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{})),r=t.renderChildren(e.content||[],"\n\n");return":::".concat(u).concat(n?" {".concat(n,"}"):"","\n\n").concat(r,"\n\n:::")}}}function iW(e){if(!e.trim())return{};let t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g,r=n.exec(e);for(;null!==r;){let[,o,l,i]=r;t[o]=l||i,r=n.exec(e)}return t}function iG(e){return Object.entries(e).filter(e=>{let[,t]=e;return null!=t}).map(e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')}).join(" ")}function iU(e){let{nodeName:t,name:n,getContent:r,parseAttributes:o=iW,serializeAttributes:l=iG,defaultAttributes:i={},selfClosing:a=!1,allowedAttributes:s}=e,u=n||t,c=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{let o={...i,...e.attributes};if(a)return n.createNode(t,o);let l=r?r(e):e.content||"";return l?n.createNode(t,o,[n.createTextNode(l)]):n.createNode(t,o,[])},markdownTokenizer:{name:t,level:"inline",start(e){let t=new RegExp(a?"\\[".concat(c,"\\s*[^\\]]*\\]"):"\\[".concat(c,"\\s*[^\\]]*\\][\\s\\S]*?\\[\\/").concat(c,"\\]")),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){let l=new RegExp(a?"^\\[".concat(c,"\\s*([^\\]]*)\\]"):"^\\[".concat(c,"\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/").concat(c,"\\]")),i=e.match(l);if(!i)return;let s="",u="";if(a){let[,e]=i;u=e}else{let[,e,t]=i;u=e,s=t||""}let d=o(u.trim());return{type:t,raw:i[0],content:s.trim(),attributes:d}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));let n=l((e=>{if(!s)return e;let t={};return s.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{})),o=n?" ".concat(n):"";return a?"[".concat(u).concat(o,"]"):"[".concat(u).concat(o,"]").concat(t,"[/").concat(u,"]")}}}function i_(e,t,n){var r,o,l,i;let a=e.split("\n"),s=[],u="",c=0,d=t.baseIndentSize||2;for(;c<a.length;){let e,p=a[c],h=p.match(t.itemPattern);if(!h)if(s.length>0)break;else{if(""!==p.trim())return;c+=1;continue}let f=t.extractItemData(h),{indentLevel:m,mainContent:g}=f;u="".concat(u).concat(p,"\n");let v=[g];for(c+=1;c<a.length;){let e=a[c];if(""===e.trim()){let t=a.slice(c+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(o=null==(r=a[c+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:o.length)||0)>m){v.push(e),u="".concat(u).concat(e,"\n"),c+=1;continue}break}if(((null==(i=null==(l=e.match(/^(\s*)/))?void 0:l[1])?void 0:i.length)||0)>m)v.push(e),u="".concat(u).concat(e,"\n"),c+=1;else break}let b=v.slice(1);if(b.length>0){let r=b.map(e=>e.slice(m+d)).join("\n");r.trim()&&(e=t.customNestedParser?t.customNestedParser(r):n.blockTokens(r))}let y=t.createToken(f,e);s.push(y)}if(0!==s.length)return{items:s,raw:u.trim()}}function iq(e,t,n,r){if(!e||!Array.isArray(e.content))return"";let o="function"==typeof n?n(r):n,[l,...i]=e.content,a=t.renderChildren([l]),s=["".concat(o).concat(a)];return i&&i.length>0&&i.forEach(e=>{let n=t.renderChildren([e]);if(n){let e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");s.push(e)}}),s.join("\n")}oS({},{createAtomBlockMarkdownSpec:()=>iB,createBlockMarkdownSpec:()=>iV,createInlineMarkdownSpec:()=>iU,parseAttributes:()=>iF,parseIndentedBlocks:()=>i_,renderNestedMarkdownContent:()=>iq,serializeAttributes:()=>iH});var iK=class e extends ig{static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e("function"==typeof t?t():t)}configure(e){return super.configure(e)}extend(e){let t="function"==typeof e?e():e;return super.extend(t)}constructor(){super(...arguments),this.type="node"}},i$=class{mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,o,l,i,a;let{view:s}=this.editor,u=e.target,c=3===u.nodeType?null==(t=u.parentElement)?void 0:t.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||(null==(n=this.contentDOM)?void 0:n.contains(u))||!c)return;let d=0,p=0;if(this.dom!==c){let t=this.dom.getBoundingClientRect(),n=c.getBoundingClientRect(),a=null!=(o=e.offsetX)?o:null==(r=e.nativeEvent)?void 0:r.offsetX,s=null!=(i=e.offsetY)?i:null==(l=e.nativeEvent)?void 0:l.offsetY;d=n.x-t.x+a,p=n.y-t.y+s}let h=this.dom.cloneNode(!0);try{let e=this.dom.getBoundingClientRect();h.style.width="".concat(Math.round(e.width),"px"),h.style.height="".concat(Math.round(e.height),"px"),h.style.boxSizing="border-box",h.style.pointerEvents="none"}catch(e){}let f=null;try{(f=document.createElement("div")).style.position="absolute",f.style.top="-9999px",f.style.left="-9999px",f.style.pointerEvents="none",f.appendChild(h),document.body.appendChild(f),null==(a=e.dataTransfer)||a.setDragImage(h,d,p)}finally{f&&setTimeout(()=>{try{null==f||f.remove()}catch(e){}},0)}let m=this.getPos();if("number"!=typeof m)return;let g=tt.create(s.state.doc,m),v=s.state.tr.setSelection(g);s.dispatch(v)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});let n=e.target;if(!(this.dom.contains(n)&&!(null==(t=this.contentDOM)?void 0:t.contains(n))))return!1;let r=e.type.startsWith("drag"),o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;let{isEditable:l}=this.editor,{isDragging:i}=this,a=!!this.node.type.spec.draggable,s=tt.isSelectable(this.node),u="copy"===e.type,c="paste"===e.type,d="cut"===e.type,p="mousedown"===e.type;if(!a&&s&&r&&e.target===this.dom&&e.preventDefault(),a&&r&&!i&&e.target===this.dom)return e.preventDefault(),!1;if(a&&l&&!i&&p){let e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!i&&!o&&!u&&!c&&!d&&(!p||!s)}ignoreMutation(e){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:e}):!!this.node.isLeaf||!!this.node.isAtom||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(oQ()||oY())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)))}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t,r=this.getPos();return"number"==typeof r&&(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){let e=this.getPos();if("number"!=typeof e)return;let t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}};function iJ(e){return new ib({find:e.find,handler:t=>{let{state:n,range:r,match:o,pasteEvent:l}=t,i=lO(e.getAttributes,void 0,o,l);if(!1===i||null===i)return null;let{tr:a}=n,s=o[o.length-1],u=o[0],c=r.to;if(s){let t=u.search(/\S/),o=r.from+u.indexOf(s),l=o+s.length;if(lG(r.from,r.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;l<r.to&&a.delete(l,r.to),o>r.from&&a.delete(r.from+t,o),c=r.from+t+s.length,a.addMark(r.from+t,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}var iX=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,iY=iK.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML(e){let{HTMLAttributes:t}=e;return["img",lD(this.options.HTMLAttributes,t)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,o,l,i;let a=null!=(n=null==(t=e.attrs)?void 0:t.src)?n:"",s=null!=(o=null==(r=e.attrs)?void 0:r.alt)?o:"",u=null!=(i=null==(l=e.attrs)?void 0:l.title)?i:"";return u?"![".concat(s,"](").concat(a,' "').concat(u,'")'):"![".concat(s,"](").concat(a,")")},addCommands(){return{setImage:e=>t=>{let{commands:n}=t;return n.insertContent({type:this.name,attrs:e})}}},addInputRules(){return[iL({find:iX,type:this.type,getAttributes:e=>{let[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),iQ=g,iZ=e.i(802239),i0=e.i(233309),i1=e.i(430224),i2=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})}},i5=e=>{let{contentComponent:t}=e,n=(0,iZ.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,a.jsx)(a.Fragment,{children:Object.values(n)})},i3=class extends iQ.default.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){let e=new Set,t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:v.default.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){let r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;let t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;let n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(e){}}}render(){let{editor:e,innerRef:t,...n}=this.props;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:i2(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&(0,a.jsx)(i5,{contentComponent:e.contentComponent})]})}constructor(e){var t;super(e),this.editorContentRef=iQ.default.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(t=e.editor)?void 0:t.contentComponent)}}},i4=(0,iQ.forwardRef)((e,t)=>{let n=iQ.default.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[e.editor]);return iQ.default.createElement(i3,{key:n,innerRef:t,...e})}),i9=iQ.default.memo(i4),i6="undefined"!=typeof window?iQ.useLayoutEffect:iQ.useEffect,i7=class{getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){let e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}},i8="undefined"==typeof window,ae=i8||!!("undefined"!=typeof window&&window.next),at=class e{setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?i8||ae?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender)?this.createEditor():null}createEditor(){var e=this;return new iD({...this.options.current,onBeforeCreate:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onBeforeCreate)?void 0:n.call(t,...o)},onBlur:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onBlur)?void 0:n.call(t,...o)},onCreate:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onCreate)?void 0:n.call(t,...o)},onDestroy:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onDestroy)?void 0:n.call(t,...o)},onFocus:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onFocus)?void 0:n.call(t,...o)},onSelectionUpdate:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onSelectionUpdate)?void 0:n.call(t,...o)},onTransaction:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onTransaction)?void 0:n.call(t,...o)},onUpdate:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onUpdate)?void 0:n.call(t,...o)},onContentError:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onContentError)?void 0:n.call(t,...o)},onDrop:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onDrop)?void 0:n.call(t,...o)},onPaste:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onPaste)?void 0:n.call(t,...o)},onDelete:function(){for(var t,n,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null==(n=(t=e.options.current).onDelete)?void 0:n.call(t,...o)}})}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){let e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}};(0,iQ.createContext)({editor:null}).Consumer;var an=(0,iQ.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ar=iQ.default.forwardRef((e,t)=>{let{onDragStart:n}=(0,iQ.useContext)(an),r=e.as||"div";return(0,a.jsx)(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function ao(e){return!!("function"==typeof e&&e.prototype&&e.prototype.isReactComponent)}function al(e){return!!("object"==typeof e&&e.$$typeof&&("Symbol(react.forward_ref)"===e.$$typeof.toString()||"react.forward_ref"===e.$$typeof.description))}var ai=class{render(){var e;let t=this.component,n=this.props,r=this.editor,o=function(){try{if(iQ.version)return parseInt(iQ.version.split(".")[0],10)>=19}catch(e){}return!1}(),l=function(e){if(ao(e)||al(e))return!0;if("object"==typeof e&&e.$$typeof&&("Symbol(react.memo)"===e.$$typeof.toString()||"react.memo"===e.$$typeof.description)){let t=e.type;if(t)return ao(t)||al(t)}return!1}(t),i={...n};i.ref&&!(o||l)&&delete i.ref,!i.ref&&(o||l)&&(i.ref=e=>{this.ref=e}),this.reactElement=(0,a.jsx)(t,{...i}),null==(e=null==r?void 0:r.contentComponent)||e.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={...this.props,...e},this.render()}destroy(){var e;let t=this.editor;null==(e=null==t?void 0:t.contentComponent)||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch(e){}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}constructor(e,{editor:t,props:n={},as:r="div",className:o=""}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?(0,v.flushSync)(()=>{this.render()}):queueMicrotask(()=>{this.render()})}};iQ.default.createContext({markViewContentRef:()=>{}});var aa=class extends i${mount(){var e=this;let t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateAttributes(t)},deleteNode:()=>this.deleteNode(),ref:(0,iQ.createRef)()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let n={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&(e.hasAttribute("data-node-view-wrapper")&&e.removeAttribute("data-node-view-wrapper"),e.appendChild(this.contentDOMElement))}},r=this.component,o=(0,iQ.memo)(e=>(0,a.jsx)(an.Provider,{value:n,children:(0,iQ.createElement)(r,e)}));o.displayName="ReactNodeView";let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);let{className:i=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new ai(o,{editor:this.editor,props:t,as:l,className:"node-".concat(this.node.type.name," ").concat(i).trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection,n=this.getPos();if("number"==typeof n)if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){let r=e=>{this.renderer.updateProps(e),"function"==typeof this.options.attrs&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let o=this.node,l=this.decorations,i=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:o,oldDecorations:l,newNode:e,newDecorations:t,oldInnerDecorations:i,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n}),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if("function"==typeof this.options.attrs){let t=this.editor.extensionManager.attributes,n=lA(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}constructor(e,t,n){if(super(e,t,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";let e=this.dom.querySelector("[data-node-view-content]");if(!e)return;e.appendChild(this.contentDOMElement)}}};let as=iY.extend({addAttributes(){var e;return{...null==(e=this.parent)?void 0:e.call(this),alignment:{default:"left",parseHTML:e=>e.getAttribute("data-align")||"left",renderHTML:e=>{let{alignment:t}=e,n="";return"left"===t?n="float: left; margin: 0 1em 1em 0;":"right"===t?n="float: right; margin: 0 0 1em 1em;":"center"===t?n="display: block; margin: 0 auto 1em;":"justify"===t&&(n="display: block; margin: 0 auto 1em; width: 100%;"),{style:n,"data-align":t}}},width:{default:null,parseHTML:e=>e.getAttribute("width"),renderHTML:e=>e.width?{width:e.width}:{}}}},addNodeView:()=>e=>e.editor.contentComponent?new aa(au,e,void 0):{}}),au=e=>{let{node:t,updateAttributes:n,selected:r,editor:o,getPos:l}=e,{src:i,alt:s,width:u,alignment:c}=t.attrs,[d,p]=(0,g.useState)(!1),[h,f]=(0,g.useState)(!1),m=(0,g.useRef)(null),v=(0,g.useRef)(0),b=(0,g.useRef)(0),y=(0,g.useRef)(0),w=(0,g.useRef)(()=>{}),x=(0,g.useRef)(()=>{});(0,g.useEffect)(()=>{let e=m.current;if(e&&!u){let t=()=>{let t=Math.min(e.naturalWidth||300,800);n({width:"".concat(t,"px")})};if(!e.complete)return e.addEventListener("load",t),()=>e.removeEventListener("load",t);t()}},[i,u,n]);let C=(0,g.useCallback)(()=>{let e=l();void 0!==e?o.commands.setNodeSelection(e):o.commands.focus()},[o,l]),S=(0,g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),C()},[C]),k=(0,g.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),C())},[C]),M=(0,g.useCallback)(e=>{var t,r;if("ArrowLeft"===e.key){e.preventDefault();let r=Math.max(100,((null==(t=m.current)?void 0:t.clientWidth)||300)-5);n({width:"".concat(r,"px")})}else if("ArrowRight"===e.key){e.preventDefault();let t=Math.min(800,((null==(r=m.current)?void 0:r.clientWidth)||300)+5);n({width:"".concat(t,"px")})}},[n]),R=(0,g.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),!d)return;let t=e.clientX-b.current,n=Math.max(100,Math.min(800,y.current+t));v.current=n,m.current&&(m.current.style.width="".concat(n,"px"),m.current.style.maxWidth="800px")},[d]),E=(0,g.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),!d)return;let t=e.touches[0].clientX-b.current,n=Math.max(100,Math.min(800,y.current+t));v.current=n,m.current&&(m.current.style.width="".concat(n,"px"),m.current.style.maxWidth="800px")},[d]),T=(0,g.useCallback)(()=>{let e=v.current;e!==y.current&&n({width:"".concat(e,"px")}),m.current&&(m.current.style.removeProperty("width"),m.current.style.maxWidth="800px"),p(!1)},[n]);w.current=(0,g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d&&(T(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w.current))},[d,T,R]),x.current=(0,g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d&&(T(),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",x.current))},[d,T,E]);let I=(0,g.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),C(),p(!0),b.current=e.clientX,y.current=(null==(t=m.current)?void 0:t.clientWidth)||300,v.current=y.current,document.addEventListener("mousemove",R),document.addEventListener("mouseup",w.current)},[C,R]),O=(0,g.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),C(),p(!0),b.current=e.touches[0].clientX,y.current=(null==(t=m.current)?void 0:t.clientWidth)||300,v.current=y.current,document.addEventListener("touchmove",E),document.addEventListener("touchend",x.current)},[C,E]);(0,g.useEffect)(()=>()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w.current),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",x.current)},[R,E]);let P="center"===c||"justify"===c,N=h||r||d;return(0,a.jsxs)(ar,{as:P?"div":"span",role:"figure",tabIndex:0,"aria-label":s||"Resizable image",className:"resizable-image-wrapper",contentEditable:!1,style:{position:"relative",display:P?"block":"inline-block",float:"left"===c?"left":"right"===c?"right":"none",margin:P?"0 auto 1em":"left"===c?"0 1em 1em 0":"right"===c?"0 0 1em 1em":"0",width:"justify"===c?"100%":"auto",outline:r||d?"1px dashed #2196f3":"none",cursor:d?"nwse-resize":"default"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:S,onKeyDown:k,children:[(0,a.jsx)("img",{ref:m,src:i,alt:s,draggable:!1,style:{maxWidth:"800px",height:"auto",display:P?"block":"inline-block",margin:P?"0 auto":"0",pointerEvents:d?"none":"auto",width:d?"".concat(v.current,"px"):u||"auto"}}),(0,a.jsx)("div",{role:"slider",tabIndex:0,"aria-label":"Resize image width","aria-valuenow":v.current,"aria-valuemin":100,"aria-valuemax":800,className:"resize-handle",onMouseDown:I,onTouchStart:O,onKeyDown:M,style:{position:"absolute",bottom:"0",right:"0",width:"28px",height:"28px",background:"#2196f3",border:"2px solid white",borderRadius:"50%",cursor:"nwse-resize",opacity:+!!N,transition:"opacity 0.2s",zIndex:20,boxShadow:N?"0 0 4px rgba(0, 0, 0, 0.2)":"none"}})]})};var ac=e.i(149092),ad=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);let{children:n,...r}=null!=t?t:{};if("svg"===e)throw Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},ap=/^\s*>\s$/,ah=iK.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML(e){let{HTMLAttributes:t}=e;return ad("blockquote",{...lD(this.options.HTMLAttributes,t),children:ad("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";let n=[];return e.content.forEach(e=>{let r=t.renderChildren(e).split("\n").map(e=>"> ".concat(e)).join("\n");n.push(r)}),n.flatMap(e=>[e,"> "]).slice(0,-1).join("\n")},addCommands(){return{setBlockquote:()=>e=>{let{commands:t}=e;return t.wrapIn(this.name)},toggleBlockquote:()=>e=>{let{commands:t}=e;return t.toggleWrap(this.name)},unsetBlockquote:()=>e=>{let{commands:t}=e;return t.lift(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[iz({find:ap,type:this.type})]}}),af=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,am=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ag=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,av=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ab=iv.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML(e){let{HTMLAttributes:t}=e;return ad("strong",{...lD(this.options.HTMLAttributes,t),children:ad("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>"**".concat(t.renderChildren(e),"**"),addCommands(){return{setBold:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleBold:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetBold:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[iA({find:af,type:this.type}),iA({find:ag,type:this.type})]},addPasteRules(){return[iJ({find:am,type:this.type}),iJ({find:av,type:this.type})]}}),ay=/(^|[^`])`([^`]+)`(?!`)$/,aw=/(^|[^`])`([^`]+)`(?!`)/g,ax=iv.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML(e){let{HTMLAttributes:t}=e;return["code",lD(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?"`".concat(t.renderChildren(e.content),"`"):"",addCommands(){return{setCode:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleCode:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetCode:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[iA({find:ay,type:this.type})]},addPasteRules(){return[iJ({find:aw,type:this.type})]}}),aC=/^```([a-z]+)?[\s\n]$/,aS=/^~~~([a-z]+)?[\s\n]$/,ak=iK.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;let{languageClassPrefix:n}=this.options;if(!n)return null;let r=[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["pre",lD(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return(null==(n=e.raw)?void 0:n.startsWith("```"))===!1&&"indented"!==e.codeBlockStyle?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r=(null==(n=e.attrs)?void 0:n.language)||"";return e.content?["```".concat(r),t.renderChildren(e.content),"```"].join("\n"):"```".concat(r,"\n\n```")},addCommands(){return{setCodeBlock:e=>t=>{let{commands:n}=t;return n.setNode(this.name,e)},toggleCodeBlock:e=>t=>{let{commands:n}=t;return n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!!e&&t.parent.type.name===this.name&&(!!n||!t.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:e=>{var t;let{editor:n}=e;if(!this.options.enableTabIndentation)return!1;let r=null!=(t=this.options.tabSize)?t:4,{state:o}=n,{selection:l}=o,{$from:i,empty:a}=l;if(i.parent.type!==this.type)return!1;let s=" ".repeat(r);return a?n.commands.insertContent(s):n.commands.command(e=>{let{tr:t}=e,{from:n,to:r}=l,i=o.doc.textBetween(n,r,"\n","\n").split("\n").map(e=>s+e).join("\n");return t.replaceWith(n,r,o.schema.text(i)),!0})},"Shift-Tab":e=>{var t;let{editor:n}=e;if(!this.options.enableTabIndentation)return!1;let r=null!=(t=this.options.tabSize)?t:4,{state:o}=n,{selection:l}=o,{$from:i,empty:a}=l;return i.parent.type===this.type&&(a?n.commands.command(e=>{var t;let{tr:n}=e,{pos:l}=i,a=i.start(),s=i.end(),u=o.doc.textBetween(a,s,"\n","\n").split("\n"),c=0,d=0,p=l-a;for(let e=0;e<u.length;e+=1){if(d+u[e].length>=p){c=e;break}d+=u[e].length+1}let h=Math.min(((null==(t=u[c].match(/^ */))?void 0:t[0])||"").length,r);if(0===h)return!0;let f=a;for(let e=0;e<c;e+=1)f+=u[e].length+1;return n.delete(f,f+h),l-f<=h&&n.setSelection(e8.create(n.doc,f)),!0}):n.commands.command(e=>{let{tr:t}=e,{from:n,to:i}=l,a=o.doc.textBetween(n,i,"\n","\n").split("\n").map(e=>{var t;let n=Math.min(((null==(t=e.match(/^ */))?void 0:t[0])||"").length,r);return e.slice(n)}).join("\n");return t.replaceWith(n,i,o.schema.text(a)),!0}))},Enter:e=>{let{editor:t}=e;if(!this.options.exitOnTripleEnter)return!1;let{state:n}=t,{selection:r}=n,{$from:o,empty:l}=r;if(!l||o.parent.type!==this.type)return!1;let i=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith("\n\n");return!!i&&!!a&&t.chain().command(e=>{let{tr:t}=e;return t.delete(o.pos-2,o.pos),!0}).exitCode().run()},ArrowDown:e=>{let{editor:t}=e;if(!this.options.exitOnArrowDown)return!1;let{state:n}=t,{selection:r,doc:o}=n,{$from:l,empty:i}=r;if(!i||l.parent.type!==this.type||l.parentOffset!==l.parent.nodeSize-2)return!1;let a=l.after();return void 0!==a&&(o.nodeAt(a)?t.commands.command(e=>{let{tr:t}=e;return t.setSelection(e4.near(o.resolve(a))),!0}):t.commands.exitCode())}}},addInputRules(){return[ij({find:aC,type:this.type,getAttributes:e=>({language:e[1]})}),ij({find:aS,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new th({key:new tg("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;let n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=null==o?void 0:o.mode;if(!n||!l)return!1;let{tr:i,schema:a}=e.state,s=a.text(n.replace(/\r\n?/g,"\n"));return i.replaceSelectionWith(this.type.create({language:l},s)),i.selection.$from.parent.type!==this.type&&i.setSelection(e8.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),aM=iK.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),aR=iK.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML(e){let{HTMLAttributes:t}=e;return["br",lD(this.options.HTMLAttributes,t)]},renderText:()=>"\n",renderMarkdown:(e,t)=>t.indent("\n"),addCommands(){return{setHardBreak:()=>e=>{let{commands:t,chain:n,state:r,editor:o}=e;return t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:e,storedMarks:t}=r;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:l}=this.options,{splittableMarks:i}=o.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();return n().insertContent({type:this.name}).command(e=>{let{tr:t,dispatch:n}=e;if(n&&a&&l){let e=a.filter(e=>i.includes(e.type.name));t.ensureMarks(e)}return!0}).run()})])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aE=iK.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:"h".concat(e),attrs:{level:e}}))},renderHTML(e){let{node:t,HTMLAttributes:n}=e,r=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return["h".concat(r),lD(this.options.HTMLAttributes,n),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;let r=(null==(n=e.attrs)?void 0:n.level)?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?"".concat(o," ").concat(t.renderChildren(e.content)):""},addCommands(){return{setHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.setNode(this.name,e)},toggleHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,...{["Mod-Alt-".concat(t)]:()=>this.editor.commands.toggleHeading({level:t})}}),{})},addInputRules(){return this.options.levels.map(e=>ij({find:new RegExp("^(#{".concat(Math.min(...this.options.levels),",").concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}}))}}),aT=iK.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",lD(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>e=>{let{chain:t,state:n}=e;if(!function(e,t){let{selection:n}=e,{$from:r}=n;if(n instanceof tt){let e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let o=r.depth;for(;o>=0;){let e=r.index(o);if(r.node(o).contentMatchAt(e).matchType(t))return!0;o-=1}return!1}(n,n.schema.nodes[this.name]))return!1;let{selection:r}=n,{$to:o}=r,l=t();return lQ(r)?l.insertContentAt(o.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(e=>{let{state:t,tr:n,dispatch:r}=e;if(r){let{$to:e}=n.selection,r=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?n.setSelection(e8.create(n.doc,e.pos+1)):e.nodeAfter.isBlock?n.setSelection(tt.create(n.doc,e.pos)):n.setSelection(e8.create(n.doc,e.pos));else{let o=t.schema.nodes[this.options.nextNodeType]||e.parent.type.contentMatch.defaultType,l=null==o?void 0:o.create();l&&(n.insert(r,l),n.setSelection(e8.create(n.doc,r+1)))}n.scrollIntoView()}return!0}).run()}}},addInputRules(){return[iL({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),aI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,aO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,aP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,aN=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,aD=iv.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML(e){let{HTMLAttributes:t}=e;return["em",lD(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleItalic:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetItalic:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>"*".concat(t.renderChildren(e),"*"),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[iA({find:aI,type:this.type}),iA({find:aP,type:this.type})]},addPasteRules(){return[iJ({find:aO,type:this.type}),iJ({find:aN,type:this.type})]}});let aA="numeric",aL="ascii",aj="alpha",az="asciinumeric",aF="alphanumeric",aH="domain",aB="emoji",aV="whitespace";function aW(e,t,n){for(let r in t[aA]&&(t[az]=!0,t[aF]=!0),t[aL]&&(t[az]=!0,t[aj]=!0),t[az]&&(t[aF]=!0),t[aj]&&(t[aF]=!0),t[aF]&&(t[aH]=!0),t[aB]&&(t[aH]=!0),t){let t=(r in n||(n[r]=[]),n[r]);0>t.indexOf(e)&&t.push(e)}}function aG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.j={},this.jr=[],this.jd=null,this.t=e}aG.groups={},aG.prototype={accepts(){return!!this.t},go(e){let t=this.j[e];if(t)return t;for(let t=0;t<this.jr.length;t++){let n=this.jr[t][0],r=this.jr[t][1];if(r&&n.test(e))return r}return this.jd},has(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||aG.groups,t&&t.j?o=t:(o=new aG(t),n&&r&&aW(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this,l=e.length;if(!l)return o;for(let t=0;t<l-1;t++)o=o.tt(e[t]);return o.tt(e[l-1],t,n,r)},tt(e,t,n,r){if(r=r||aG.groups,t&&t.j)return this.j[e]=t,t;let o,l=this.go(e);return l?(Object.assign((o=new aG).j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new aG,t&&(r&&(o.t&&"string"==typeof o.t?aW(t,Object.assign(function(e,t){let n={};for(let r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(o.t,r),n),r):n&&aW(t,n,r)),o.t=t),this.j[e]=o,o}};let aU=(e,t,n,r,o)=>e.ta(t,n,r,o),a_=(e,t,n,r,o)=>e.tr(t,n,r,o),aq=(e,t,n,r,o)=>e.ts(t,n,r,o),aK=(e,t,n,r,o)=>e.tt(t,n,r,o),a$="WORD",aJ="UWORD",aX="ASCIINUMERICAL",aY="ALPHANUMERICAL",aQ="LOCALHOST",aZ="UTLD",a0="SCHEME",a1="SLASH_SCHEME",a2="OPENBRACE",a5="CLOSEBRACE",a3="OPENBRACKET",a4="CLOSEBRACKET",a9="OPENPAREN",a6="CLOSEPAREN",a7="OPENANGLEBRACKET",a8="CLOSEANGLEBRACKET",se="FULLWIDTHLEFTPAREN",st="FULLWIDTHRIGHTPAREN",sn="LEFTCORNERBRACKET",sr="RIGHTCORNERBRACKET",so="LEFTWHITECORNERBRACKET",sl="RIGHTWHITECORNERBRACKET",si="FULLWIDTHLESSTHAN",sa="FULLWIDTHGREATERTHAN",ss="AMPERSAND",su="APOSTROPHE",sc="ASTERISK",sd="BACKSLASH",sp="BACKTICK",sh="CARET",sf="COLON",sm="COMMA",sg="DOLLAR",sv="EQUALS",sb="EXCLAMATION",sy="HYPHEN",sw="PERCENT",sx="PIPE",sC="PLUS",sS="POUND",sk="QUERY",sM="QUOTE",sR="FULLWIDTHMIDDLEDOT",sE="SEMI",sT="SLASH",sI="TILDE",sO="UNDERSCORE",sP="EMOJI";var sN=Object.freeze({__proto__:null,ALPHANUMERICAL:aY,AMPERSAND:ss,APOSTROPHE:su,ASCIINUMERICAL:aX,ASTERISK:sc,AT:"AT",BACKSLASH:sd,BACKTICK:sp,CARET:sh,CLOSEANGLEBRACKET:a8,CLOSEBRACE:a5,CLOSEBRACKET:a4,CLOSEPAREN:a6,COLON:sf,COMMA:sm,DOLLAR:sg,DOT:"DOT",EMOJI:sP,EQUALS:sv,EXCLAMATION:sb,FULLWIDTHGREATERTHAN:sa,FULLWIDTHLEFTPAREN:se,FULLWIDTHLESSTHAN:si,FULLWIDTHMIDDLEDOT:sR,FULLWIDTHRIGHTPAREN:st,HYPHEN:sy,LEFTCORNERBRACKET:sn,LEFTWHITECORNERBRACKET:so,LOCALHOST:aQ,NL:"NL",NUM:"NUM",OPENANGLEBRACKET:a7,OPENBRACE:a2,OPENBRACKET:a3,OPENPAREN:a9,PERCENT:sw,PIPE:sx,PLUS:sC,POUND:sS,QUERY:sk,QUOTE:sM,RIGHTCORNERBRACKET:sr,RIGHTWHITECORNERBRACKET:sl,SCHEME:a0,SEMI:sE,SLASH:sT,SLASH_SCHEME:a1,SYM:"SYM",TILDE:sI,TLD:"TLD",UNDERSCORE:sO,UTLD:aZ,UWORD:aJ,WORD:a$,WS:"WS"});let sD=/[a-z]/,sA=RegExp("\\p{L}","u"),sL=RegExp("\\p{Emoji}","u"),sj=/\d/,sz=/\s/,sF=null,sH=null;function sB(e,t){let n=function(e){let t=[],n=e.length,r=0;for(;r<n;){let o,l=e.charCodeAt(r),i=l<55296||l>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(i),r+=i.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[],l=0,i=0;for(;i<r;){let a=e,s=null,u=0,c=null,d=-1,p=-1;for(;i<r&&(s=a.go(n[i]));)(a=s).accepts()?(d=0,p=0,c=a):d>=0&&(d+=n[i].length,p++),u+=n[i].length,l+=n[i].length,i++;l-=d,i-=p,u-=d,o.push({t:c.t,v:t.slice(l-u,l),s:l-u,e:l})}return o}function sV(e,t,n,r,o){let l,i=t.length;for(let n=0;n<i-1;n++){let i=t[n];e.j[i]?l=e.j[i]:((l=new aG(r)).jr=o.slice(),e.j[i]=l),e=l}return(l=new aG(n)).jr=o.slice(),e.j[t[i-1]]=l,l}function sW(e){let t=[],n=[],r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}let sG={defaultProtocol:"http",events:null,format:s_,formatHref:s_,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function sU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},sG);e&&(n=Object.assign(n,e instanceof sU?e.o:e));let r=n.ignoreTags,o=[];for(let e=0;e<r.length;e++)o.push(r[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function s_(e){return e}function sq(e,t){this.t="token",this.v=e,this.tk=t}function sK(e,t){class n extends sq{constructor(t,n){super(t,n),this.t=e}}for(let e in t)n.prototype[e]=t[e];return n.t=e,n}sU.prototype={o:sG,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){let r=null!=t,o=this.o[e];return o&&("object"==typeof o?"function"==typeof(o=n.t in o?o[n.t]:sG[e])&&r&&(o=o(t,n)):"function"==typeof o&&r&&(o=o(t,n.t,n))),o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){let t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},sq.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){let t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sG.defaultProtocol;return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){let t=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",t,this),r=e.get("tagName",t,this),o=this.toFormattedString(e),l={},i=e.get("className",t,this),a=e.get("target",t,this),s=e.get("rel",t,this),u=e.getObj("attributes",t,this),c=e.getObj("events",t,this);return l.href=n,i&&(l.class=i),a&&(l.target=a),s&&(l.rel=s),u&&Object.assign(l,u),{tagName:r,attributes:l,content:o,eventListeners:c}}};let s$=sK("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),sJ=sK("text"),sX=sK("nl"),sY=sK("url",{isLink:!0,toHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sG.defaultProtocol;return this.hasProtocol()?this.v:"".concat(e,"://").concat(this.v)},hasProtocol(){let e=this.tk;return e.length>=2&&e[0].t!==aQ&&e[1].t===sf}}),sQ=e=>new aG(e);function sZ(e,t,n){let r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}let s0="undefined"!=typeof console&&console&&console.warn||(()=>{}),s1={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function s2(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s1.initialized&&s0('linkifyjs: already initialized - will not register custom scheme "'.concat(e,'" ').concat("until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.")),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');s1.customSchemes.push([e,t])}function s5(e){return s1.initialized||function(){s1.scanner=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};aG.groups=t;let n=new aG;null==sF&&(sF=sW("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==sH&&(sH=sW("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),aK(n,"'",su),aK(n,"{",a2),aK(n,"}",a5),aK(n,"[",a3),aK(n,"]",a4),aK(n,"(",a9),aK(n,")",a6),aK(n,"<",a7),aK(n,">",a8),aK(n,"",se),aK(n,"",st),aK(n,"",sn),aK(n,"",sr),aK(n,"",so),aK(n,"",sl),aK(n,"",si),aK(n,"",sa),aK(n,"&",ss),aK(n,"*",sc),aK(n,"@","AT"),aK(n,"`",sp),aK(n,"^",sh),aK(n,":",sf),aK(n,",",sm),aK(n,"$",sg),aK(n,".","DOT"),aK(n,"=",sv),aK(n,"!",sb),aK(n,"-",sy),aK(n,"%",sw),aK(n,"|",sx),aK(n,"+",sC),aK(n,"#",sS),aK(n,"?",sk),aK(n,'"',sM),aK(n,"/",sT),aK(n,";",sE),aK(n,"~",sI),aK(n,"_",sO),aK(n,"\\",sd),aK(n,"",sR);let r=a_(n,sj,"NUM",{[aA]:!0});a_(r,sj,r);let o=a_(r,sD,aX,{[az]:!0}),l=a_(r,sA,aY,{[aF]:!0}),i=a_(n,sD,a$,{[aL]:!0});a_(i,sj,o),a_(i,sD,i),a_(o,sj,o),a_(o,sD,o);let a=a_(n,sA,aJ,{[aj]:!0});a_(a,sD),a_(a,sj,l),a_(a,sA,a),a_(l,sj,l),a_(l,sD),a_(l,sA,l);let s=aK(n,"\n","NL",{[aV]:!0}),u=aK(n,"\r","WS",{[aV]:!0}),c=a_(n,sz,"WS",{[aV]:!0});aK(n,"",c),aK(u,"\n",s),aK(u,"",c),a_(u,sz,c),aK(c,"\r"),aK(c,"\n"),a_(c,sz,c),aK(c,"",c);let d=a_(n,sL,sP,{[aB]:!0});aK(d,"#"),a_(d,sL,d),aK(d,"",d);let p=aK(d,"");aK(p,"#"),a_(p,sL,d);let h=[[sD,i],[sj,o]],f=[[sD,null],[sA,a],[sj,l]];for(let e=0;e<sF.length;e++)sV(n,sF[e],"TLD",a$,h);for(let e=0;e<sH.length;e++)sV(n,sH[e],aZ,aJ,f);aW("TLD",{tld:!0,ascii:!0},t),aW(aZ,{utld:!0,alpha:!0},t),sV(n,"file",a0,a$,h),sV(n,"mailto",a0,a$,h),sV(n,"http",a1,a$,h),sV(n,"https",a1,a$,h),sV(n,"ftp",a1,a$,h),sV(n,"ftps",a1,a$,h),aW(a0,{scheme:!0,ascii:!0},t),aW(a1,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){let r=e[t][0],o=e[t][1]?{scheme:!0}:{slashscheme:!0};r.indexOf("-")>=0?o[aH]=!0:sD.test(r)?sj.test(r)?o[az]=!0:o[aL]=!0:o[aA]=!0,aq(n,r,r,o)}return aq(n,"localhost",aQ,{ascii:!0}),n.jd=new aG("SYM"),{start:n,tokens:Object.assign({groups:t},sN)}}(s1.customSchemes);for(let e=0;e<s1.tokenQueue.length;e++)s1.tokenQueue[e][1]({scanner:s1.scanner});s1.parser=function(e){let{groups:t}=e,n=t.domain.concat([ss,sc,"AT",sd,sp,sh,sg,sv,sy,"NUM",sw,sx,sC,sS,sT,"SYM",sI,sO]),r=[su,sf,sm,"DOT",sb,sw,sk,sM,sE,a7,a8,a2,a5,a4,a3,a9,a6,se,st,sn,sr,so,sl,si,sa],o=[ss,su,sc,sd,sp,sh,sg,sv,sy,a2,a5,sw,sx,sC,sS,sk,sT,"SYM",sI,sO],l=sQ(),i=aK(l,sI);aU(i,o,i),aU(i,t.domain,i);let a=sQ(),s=sQ(),u=sQ();aU(l,t.domain,a),aU(l,t.scheme,s),aU(l,t.slashscheme,u),aU(a,o,i),aU(a,t.domain,a);let c=aK(a,"AT");aK(i,"AT",c),aK(s,"AT",c),aK(u,"AT",c);let d=aK(i,"DOT");aU(d,o,i),aU(d,t.domain,i);let p=sQ();aU(c,t.domain,p),aU(p,t.domain,p);let h=aK(p,"DOT");aU(h,t.domain,p);let f=sQ(s$);aU(h,t.tld,f),aU(h,t.utld,f),aK(c,aQ,f);let m=aK(p,sy);aK(m,sy,m),aU(m,t.domain,p),aU(f,t.domain,p),aK(f,"DOT",h),aK(f,sy,m),aU(aK(f,sf),t.numeric,s$);let g=aK(a,sy),v=aK(a,"DOT");aK(g,sy,g),aU(g,t.domain,a),aU(v,o,i),aU(v,t.domain,a);let b=sQ(sY);aU(v,t.tld,b),aU(v,t.utld,b),aU(b,t.domain,a),aU(b,o,i),aK(b,"DOT",v),aK(b,sy,g),aK(b,"AT",c);let y=aK(b,sf),w=sQ(sY);aU(y,t.numeric,w);let x=sQ(sY),C=sQ();aU(x,n,x),aU(x,r,C),aU(C,n,x),aU(C,r,C),aK(b,sT,x),aK(w,sT,x);let S=aK(s,sf),k=aK(u,sf),M=aK(k,sT),R=aK(M,sT);aU(s,t.domain,a),aK(s,"DOT",v),aK(s,sy,g),aU(u,t.domain,a),aK(u,"DOT",v),aK(u,sy,g),aU(S,t.domain,x),aK(S,sT,x),aK(S,sk,x),aU(R,t.domain,x),aU(R,n,x),aK(R,sT,x);let E=[[a2,a5],[a3,a4],[a9,a6],[a7,a8],[se,st],[sn,sr],[so,sl],[si,sa]];for(let e=0;e<E.length;e++){let[t,o]=E[e],l=aK(x,t);aK(C,t,l),aK(l,o,x);let i=sQ(sY);aU(l,n,i);let a=sQ();aU(l,r),aU(i,n,i),aU(i,r,a),aU(a,n,i),aU(a,r,a),aK(i,o,x),aK(a,o,x)}return aK(l,aQ,b),aK(l,"NL",sX),{start:l,tokens:sN}}(s1.scanner.tokens);for(let e=0;e<s1.pluginQueue.length;e++)s1.pluginQueue[e][1]({scanner:s1.scanner,parser:s1.parser});s1.initialized=!0}(),function(e,t,n){let r=n.length,o=0,l=[],i=[];for(;o<r;){let a=e,s=null,u=null,c=0,d=null,p=-1;for(;o<r&&!(s=a.go(n[o].t));)i.push(n[o++]);for(;o<r&&(u=s||a.go(n[o].t));)s=null,(a=u).accepts()?(p=0,d=a):p>=0&&p++,o++,c++;if(p<0)(o-=c)<r&&(i.push(n[o]),o++);else{i.length>0&&(l.push(sZ(sJ,t,i)),i=[]),o-=p,c-=p;let e=d.t,r=n.slice(o-c,o);l.push(sZ(e,t,r))}}return i.length>0&&l.push(sZ(sJ,t,i)),l}(s1.parser.start,e,sB(s1.scanner.start,e))}function s3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&"object"==typeof t){if(n)throw Error("linkifyjs: Invalid link type ".concat(t,"; must be a string"));n=t,t=null}let r=new sU(n),o=s5(e),l=[];for(let e=0;e<o.length;e++){let n=o[e];n.isLink&&(!t||n.t===t)&&r.check(n)&&l.push(n.toFormattedObject(r))}return l}s5.scan=sB;var s4="[\0- -\u2029]",s9=new RegExp(s4),s6=new RegExp("".concat(s4,"$")),s7=RegExp(s4,"g");function s8(e,t){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{let t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(s7,"").match(RegExp("^(?:(?:".concat(n.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}var ue=iv.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if("string"==typeof e)return void s2(e);s2(e.scheme,e.optionalSlashes)})},onDestroy(){aG.groups={},s1.scanner=null,s1.parser=null,s1.tokenQueue=[],s1.pluginQueue=[],s1.customSchemes=[],s1.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!s8(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{let t=e.getAttribute("href");return!!t&&!!this.options.isAllowedUri(t,{defaultValidate:e=>!!s8(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&null}}]},renderHTML(e){let{HTMLAttributes:t}=e;return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!s8(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",lD(this.options.HTMLAttributes,t),0]:["a",lD(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;let r=(null==(n=e.attrs)?void 0:n.href)||"",o=t.renderChildren(e);return"[".concat(o,"](").concat(r,")")},addCommands(){return{setLink:e=>t=>{let{chain:n}=t,{href:r}=e;return!!this.options.isAllowedUri(r,{defaultValidate:e=>!!s8(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&n().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>t=>{let{chain:n}=t,{href:r}=e||{};return(!r||!!this.options.isAllowedUri(r,{defaultValidate:e=>!!s8(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&n().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>e=>{let{chain:t}=e;return t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}},addPasteRules(){return[iJ({find:e=>{let t=[];if(e){let{protocols:n,defaultProtocol:r}=this.options,o=s3(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!s8(e,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){var e,t,n;let r=[],{protocols:o,defaultProtocol:l}=this.options;return this.options.autolink&&r.push((e={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!s8(e,o),protocols:o,defaultProtocol:l}),shouldAutoLink:this.options.shouldAutoLink},new th({key:new tg("autolink"),appendTransaction:(t,n,r)=>{let o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),l=t.some(e=>e.getMeta("preventAutolink"));if(!o||l)return;let{tr:i}=r;if(lW(lk(n.doc,[...t])).forEach(t=>{let n,o,{newRange:l}=t,a=function(e,t,n){let r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}(r.doc,l,e=>e.isTextblock);if(a.length>1)n=a[0],o=r.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ");else if(a.length){let e=r.doc.textBetween(l.from,l.to," "," ");if(!s6.test(e))return;n=a[0],o=r.doc.textBetween(n.pos,l.to,void 0," ")}if(n&&o){let t=o.split(s9).filter(Boolean);if(t.length<=0)return!1;let l=t[t.length-1],a=n.pos+o.lastIndexOf(l);if(!l)return!1;let s=s5(l).map(t=>t.toObject(e.defaultProtocol));if(!(1===s.length?s[0].isLink:3===s.length&&!!s[1].isLink&&["()","[]"].includes(s[0].value+s[2].value)))return!1;s.filter(e=>e.isLink).map(e=>({...e,from:a+e.start+1,to:a+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{lG(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||i.addMark(t.from,t.to,e.type.create({href:t.href}))})}}),i.steps.length)return i}}))),!0===this.options.openOnClick&&r.push((t={type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection},new th({key:new tg("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,l;if(0!==r.button||!e.editable)return!1;let i=null;if(r.target instanceof HTMLAnchorElement)i=r.target;else{let e=r.target,t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;i=t.find(e=>"A"===e.nodeName)}if(!i)return!1;let a=lV(e.state,t.type.name),s=null!=(o=null==i?void 0:i.href)?o:a.href,u=null!=(l=null==i?void 0:i.target)?l:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),!!i&&!!s&&(window.open(s,u),!0)}}}))),this.options.linkOnPaste&&r.push((n={editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink},new th({key:new tg("handlePasteLink"),props:{handlePaste:(e,t,r)=>{let{shouldAutoLink:o}=n,{state:l}=e,{selection:i}=l,{empty:a}=i;if(a)return!1;let s="";r.content.forEach(e=>{s+=e.textContent});let u=s3(s,{defaultProtocol:n.defaultProtocol}).find(e=>e.isLink&&e.value===s);return!!s&&!!u&&(void 0===o||!!o(u.href))&&n.editor.commands.setMark(n.type,{href:u.href})}}}))),r}}),ut=Object.defineProperty,un="textStyle",ur=/^\s*([-+*])\s$/,uo=iK.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML:()=>[{tag:"ul"}],renderHTML(e){let{HTMLAttributes:t}=e;return["ul",lD(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>"list"!==e.type||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(un)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=iz({find:ur,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=iz({find:ur,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(un),editor:this.editor})),[e]}}),ul=iK.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML(e){let{HTMLAttributes:t}=e;return["li",lD(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if("list_item"!==e.type)return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(e=>"paragraph"===e.type))n=t.parseChildren(e.tokens);else{let r=e.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){let r=e.tokens.slice(1),o=t.parseChildren(r);n.push(...o)}}else n=t.parseChildren(e.tokens)}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>iq(e,t,e=>"bulletList"===e.parentType?"- ":"orderedList"===e.parentType?"".concat(e.index+1,". "):"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)ut(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>ui,getNextListDepth:()=>ua,handleBackspace:()=>ud,handleDelete:()=>uf,hasListBefore:()=>us,hasListItemAfter:()=>um,hasListItemBefore:()=>uu,listItemHasSubList:()=>uc,nextListIsDeeper:()=>up,nextListIsHigher:()=>uh});var ui=(e,t)=>{let{$from:n}=t.selection,r=oA(e,t.schema),o=n.depth,l=n.pos,i=null;for(;o>0&&null===i;)n.node(o).type===r?i=o:(o-=1,l-=1);return null===i?null:{$pos:t.doc.resolve(l),depth:i}},ua=(e,t)=>{let n=ui(e,t);if(!n)return!1;let[,r]=lU(t,e,n.$pos.pos+4);return r},us=(e,t,n)=>{let{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),l=e.doc.resolve(o).node();return!!l&&!!n.includes(l.type.name)},uu=(e,t)=>{var n;let{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return 0!==o.index()&&(null==(n=o.nodeBefore)?void 0:n.type.name)===e},uc=(e,t,n)=>{if(!n)return!1;let r=oA(e,t.schema),o=!1;return n.descendants(e=>{e.type===r&&(o=!0)}),o},ud=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!li(e.state,t)&&us(e.state,t,n)){let{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),o=[];r.node().descendants((e,n)=>{e.type.name===t&&o.push({node:e,pos:n})});let l=o.at(-1);if(!l)return!1;let i=e.state.doc.resolve(r.start()+l.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},i.end()).joinForward().run()}if(!li(e.state,t)||!(e=>{let{$from:t,$to:n}=e.selection;return!(t.parentOffset>0)&&t.pos===n.pos})(e.state))return!1;let r=ui(t,e.state);if(!r)return!1;let o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=uc(t,e.state,o);return uu(t,e.state)&&!l?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},up=(e,t)=>{let n=ua(e,t),r=ui(e,t);return!!r&&!!n&&n>r.depth},uh=(e,t)=>{let n=ua(e,t),r=ui(e,t);return!!r&&!!n&&n<r.depth},uf=(e,t)=>{if(!li(e.state,t)||!((e,t)=>{let{$from:n,$to:r,$anchor:o}=e.selection;if(t){let n=lM(e=>e.type.name===t)(e.selection);if(!n)return!1;let r=e.doc.resolve(n.pos+1);return o.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2)&&n.pos===r.pos})(e.state,t))return!1;let{selection:n}=e.state,{$from:r,$to:o}=n;return!(!n.empty&&r.sameParent(o))&&(up(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():uh(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},um=(e,t)=>{var n;let{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(n=o.nodeAfter)?void 0:n.type.name)===e},ug=ix.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach(e=>{let{itemName:r}=e;void 0!==t.state.schema.nodes[r]&&uf(t,r)&&(n=!0)}),n},"Mod-Delete":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach(e=>{let{itemName:r}=e;void 0!==t.state.schema.nodes[r]&&uf(t,r)&&(n=!0)}),n},Backspace:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach(e=>{let{itemName:r,wrapperNames:o}=e;void 0!==t.state.schema.nodes[r]&&ud(t,r,o)&&(n=!0)}),n},"Mod-Backspace":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach(e=>{let{itemName:r,wrapperNames:o}=e;void 0!==t.state.schema.nodes[r]&&ud(t,r,o)&&(n=!0)}),n}}}}),uv=/^(\s*)(\d+)\.\s+(.*)$/,ub=/^\s/,uy="textStyle",uw=/^(\d+)\.\s$/,ux=iK.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML(e){let{HTMLAttributes:t}=e,{start:n,...r}=t;return 1===n?["ol",lD(this.options.HTMLAttributes,r),0]:["ol",lD(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if("list"!==e.type||!e.ordered)return[];let n=e.start||1,r=e.items?function(e,t){return e.map(e=>{if("list_item"!==e.type)return t.parseChildren([e])[0];let n=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(e=>{if("paragraph"===e.type||"list"===e.type||"blockquote"===e.type||"code"===e.type)n.push(...t.parseChildren([e]));else if("text"===e.type&&e.tokens){let r=t.parseChildren([e]);n.push({type:"paragraph",content:r})}else{let r=t.parseChildren([e]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}(e.items,t):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{let t=e.match(/^(\s*)(\d+)\.\s+/),n=null==t?void 0:t.index;return void 0!==n?n:-1},tokenize:(e,t,n)=>{var r;let o=e.split("\n"),[l,i]=function(e){let t=[],n=0,r=0;for(;n<e.length;){let o=e[n],l=o.match(uv);if(!l)break;let[,i,a,s]=l,u=i.length,c=s,d=n+1,p=[o];for(;d<e.length;){let t=e[d];if(t.match(uv))break;if(""===t.trim())p.push(t),c+="\n",d+=1;else if(t.match(ub))p.push(t),c+="\n".concat(t.slice(u+2)),d+=1;else break}t.push({indent:u,number:parseInt(a,10),content:c.trim(),raw:p.join("\n")}),r=d,n=d}return[t,r]}(o);if(0===l.length)return;let a=function e(t,n,r){var o;let l=[],i=0;for(;i<t.length;){let a=t[i];if(a.indent===n){let s=a.content.split("\n"),u=(null==(o=s[0])?void 0:o.trim())||"",c=[];u&&c.push({type:"paragraph",raw:u,tokens:r.inlineTokens(u)});let d=s.slice(1).join("\n").trim();if(d){let e=r.blockTokens(d);c.push(...e)}let p=i+1,h=[];for(;p<t.length&&t[p].indent>n;)h.push(t[p]),p+=1;if(h.length>0){let t=Math.min(...h.map(e=>e.indent)),n=e(h,t,r);c.push({type:"list",ordered:!0,start:h[0].number,items:n,raw:h.map(e=>e.raw).join("\n")})}l.push({type:"list_item",raw:a.raw,tokens:c}),i=p}else i+=1}return l}(l,0,n);if(0!==a.length)return{type:"list",ordered:!0,start:(null==(r=l[0])?void 0:r.number)||1,items:a,raw:o.slice(0,i).join("\n")}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(uy)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=iz({find:uw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=iz({find:uw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(uy)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),uC=/^\s*(\[([( |x])?\])\s$/,uS=iK.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{let t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:'li[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["li",lD(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{let n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){let r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;let r=(null==(n=e.attrs)?void 0:n.checked)?"x":" ";return iq(e,t,"- [".concat(r,"] "))},addKeyboardShortcuts(){let e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return e=>{let{node:t,HTMLAttributes:n,getPos:r,editor:o}=e,l=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),u=document.createElement("div"),c=e=>{var t,n;s.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,s.checked))||"Task item checkbox for ".concat(e.textContent||"empty task item")};return c(t),i.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",e=>e.preventDefault()),s.addEventListener("change",e=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}let{checked:n}=e.target;o.isEditable&&"function"==typeof r&&o.chain().focus(void 0,{scrollIntoView:!1}).command(e=>{let{tr:t}=e,o=r();if("number"!=typeof o)return!1;let l=t.doc.nodeAt(o);return t.setNodeMarkup(o,void 0,{...null==l?void 0:l.attrs,checked:n}),!0}).run(),o.isEditable||!this.options.onReadOnlyChecked||this.options.onReadOnlyChecked(t,n)||(s.checked=!s.checked)}),Object.entries(this.options.HTMLAttributes).forEach(e=>{let[t,n]=e;l.setAttribute(t,n)}),l.dataset.checked=t.attrs.checked,s.checked=t.attrs.checked,i.append(s,a),l.append(i,u),Object.entries(n).forEach(e=>{let[t,n]=e;l.setAttribute(t,n)}),{dom:l,contentDOM:u,update:e=>e.type===this.type&&(l.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,c(e),!0)}}},addInputRules(){return[iz({find:uC,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),uk=iK.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:'ul[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t}=e;return["ul",lD(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;let n=null==(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:t.index;return void 0!==n?n:-1},tokenize(e,t,n){let r=e=>{let t=i_(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);return t?[{type:"taskList",raw:t.raw,items:t.items}]:n.blockTokens(e)},o=i_(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>e=>{let{commands:t}=e;return t.toggleList(this.name,this.options.itemTypeName)}}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ix.create({name:"listKit",addExtensions(){let e=[];return!1!==this.options.bulletList&&e.push(uo.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(ul.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(ug.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(ux.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(uS.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(uk.configure(this.options.taskList)),e}});var uM=iK.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",lD(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>{let n=e.tokens||[];return 1===n.length&&"image"===n[0].type?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>e&&Array.isArray(e.content)?t.renderChildren(e.content):"",addCommands(){return{setParagraph:()=>e=>{let{commands:t}=e;return t.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),uR=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,uE=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,uT=iv.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["s",lD(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>"~~".concat(t.renderChildren(e),"~~"),addCommands(){return{setStrike:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleStrike:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetStrike:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[iA({find:uR,type:this.type})]},addPasteRules(){return[iJ({find:uE,type:this.type})]}}),uI=iK.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),uO=iv.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["u",lD(this.options.HTMLAttributes,t),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>"++".concat(t.renderChildren(e),"++"),markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){let r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;let o=r[2].trim();return{type:"underline",raw:r[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleUnderline:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetUnderline:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});class uP{destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,o,l=this.editorView.dom,i=l.getBoundingClientRect(),a=i.width/l.offsetWidth,s=i.height/l.offsetHeight;if(r){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let r=n.getBoundingClientRect(),l=e?r.bottom:r.top;e&&t&&(l=(l+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let i=this.width/2*s;o={left:r.left,right:r.right,top:l-i,bottom:l+i}}}}if(!o){let e=this.editorView.coordsAtPos(this.cursorPos),t=this.width/2*a;o={left:e.left-t,right:e.left+t,top:e.top,bottom:e.bottom}}let u=this.editorView.dom.offsetParent;if(!this.element&&(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r),u&&(u!=document.body||"static"!=getComputedStyle(u).position)){let n=u.getBoundingClientRect(),r=n.width/u.offsetWidth,o=n.height/u.offsetHeight;e=n.left-u.scrollLeft*r,t=n.top-u.scrollTop*o}else e=-pageXOffset,t=-pageYOffset;this.element.style.left=(o.left-e)/a+"px",this.element.style.top=(o.top-t)/s+"px",this.element.style.width=(o.right-o.left)/a+"px",this.element.style.height=(o.bottom-o.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=e_(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!=(n=t.width)?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}}class uN extends e4{map(e,t){let n=e.resolve(t.map(this.head));return uN.valid(n)?new uN(n):e4.near(n)}content(){return P.empty}eq(e){return e instanceof uN&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new uN(e.resolve(t.pos))}getBookmark(){return new uD(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0==n){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||uA(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||uA(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o:for(;;){if(!n&&uN.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let l=e.node(n);if(t>0?e.indexAfter(n)<l.childCount:e.index(n)>0){o=l.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let i=e.doc.resolve(r);if(uN.valid(i))return i}for(;;){let l=t>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!tt.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue o}break}o=l,r+=t;let i=e.doc.resolve(r);if(uN.valid(i))return i}return null}}constructor(e){super(e,e)}}uN.prototype.visible=!1,uN.findFrom=uN.findGapCursorFrom,e4.jsonID("gapcursor",uN);class uD{map(e){return new uD(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return uN.valid(t)?new uN(t):e4.near(t)}constructor(e){this.pos=e}}function uA(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}let uL=ox({ArrowLeft:uj("horiz",-1),ArrowRight:uj("horiz",1),ArrowUp:uj("vert",-1),ArrowDown:uj("vert",1)});function uj(e,t){let n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let l=e.selection,i=t>0?l.$to:l.$from,a=l.empty;if(l instanceof e8){if(!o.endOfTextblock(n)||0==i.depth)return!1;a=!1,i=e.doc.resolve(t>0?i.after():i.before())}let s=uN.findGapCursorFrom(i,t,a);return!!s&&(r&&r(e.tr.setSelection(new uN(s))),!0)}}function uz(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!uN.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&tt.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new uN(r))),!0)}function uF(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof uN))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=M.empty;for(let e=r.length-1;e>=0;e--)o=M.from(r[e].createAndFill(null,o));let l=e.state.tr.replace(n.pos,n.pos,new P(o,0,0));return l.setSelection(e8.near(l.doc.resolve(n.pos+1))),e.dispatch(l),!1}function uH(e){if(!(e.selection instanceof uN))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",rq.create(e.doc,[rG.widget(e.selection.head,t,{key:"gapcursor"})])}var uB=function(){};uB.prototype.append=function(e){return e.length?(e=uB.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},uB.prototype.prepend=function(e){return e.length?uB.from(e).append(this):this},uB.prototype.appendInner=function(e){return new uW(this,e)},uB.prototype.slice=function(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?uB.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},uB.prototype.get=function(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)},uB.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},uB.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},uB.from=function(e){return e instanceof uB?e:e&&e.length?new uV(e):uB.empty};var uV=function(e){function t(t){e.call(this),this.values=t}t.__proto__=e,t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(uB);uB.empty=new uV([]);var uW=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return t.__proto__=e,t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;if(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r)||n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;if(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o)||n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))return!1},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(uB);class uG{popEvent(e,t){let n,r,o,l;if(0==this.eventCount)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}t&&(r=(n=this.remapping(i,this.items.length)).maps.length);let a=e.tr,s=[],u=[];return this.items.forEach((e,t)=>{if(!e.step){n||(r=(n=this.remapping(i,t+1)).maps.length),r--,u.push(e);return}if(n){u.push(new uU(e.map));let t=e.step.map(n.slice(r)),o;t&&a.maybeStep(t).doc&&(o=a.mapping.maps[a.mapping.maps.length-1],s.push(new uU(o,void 0,void 0,s.length+u.length))),r--,o&&n.appendMap(o,r)}else a.maybeStep(e.step);if(e.selection)return o=n?e.selection.map(n.slice(r)):e.selection,l=new uG(this.items.slice(0,i).append(u.reverse().concat(s)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,t,n,r){var o,l;let i,a=[],s=this.eventCount,u=this.items,c=!r&&u.length?u.get(u.length-1):null;for(let n=0;n<e.steps.length;n++){let o=e.steps[n].invert(e.docs[n]),l=new uU(e.mapping.maps[n],o,t),i;(i=c&&c.merge(l))&&(l=i,n?a.pop():u=u.slice(0,u.length-1)),a.push(l),t&&(s++,t=void 0),r||(c=l)}let d=s-n.depth;return d>uq&&(o=u,l=d,o.forEach((e,t)=>{if(e.selection&&0==l--)return i=t,!1}),u=o.slice(i),s-=d),new uG(u.append(a),s)}remapping(e,t){let n=new eS;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new uG(this.items.append(e.map(e=>new uU(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,l=e.steps.length,i=this.eventCount;this.items.forEach(e=>{e.selection&&i--},r);let a=t;this.items.forEach(t=>{let r=o.getMirror(--a);if(null==r)return;l=Math.min(l,r);let s=o.maps[r];if(t.step){let l=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(a+1,r));u&&i++,n.push(new uU(s,l,u))}else n.push(new uU(s))},r);let s=[];for(let e=t;e<l;e++)s.push(new uU(o.maps[e]));let u=new uG(this.items.slice(0,r).append(s).append(n),i);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((l,i)=>{if(i>=e)r.push(l),l.selection&&o++;else if(l.step){let e=l.step.map(t.slice(n)),i=e&&e.getMap();if(n--,i&&t.appendMap(i,n),e){let a=l.selection&&l.selection.map(t.slice(n));a&&o++;let s=new uU(i.invert(),e,a),u,c=r.length-1;(u=r.length&&r[c].merge(s))?r[c]=u:r.push(s)}}else l.map&&n--},this.items.length,0),new uG(uB.from(r.reverse()),o)}constructor(e,t){this.items=e,this.eventCount=t}}uG.empty=new uG(uB.empty,0);class uU{merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new uU(t.getMap().invert(),t,this.selection)}}constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}}class u_{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}let uq=20;function uK(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,o)=>t.push(r,o));return t}function u$(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),l=t.map(e[r+1],-1);o<=l&&n.push(o,l)}return n}let uJ=!1,uX=null;function uY(e){let t=e.plugins;if(uX!=t){uJ=!1,uX=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){uJ=!0;break}}return uJ}let uQ=new tg("history"),uZ=new tg("closeHistory");function u0(e,t){return(n,r)=>{let o=uQ.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let l=function(e,t,n){let r=uY(t),o=uQ.get(t).spec.config,l=(n?e.undone:e.done).popEvent(t,r);if(!l)return null;let i=l.selection.resolve(l.transform.doc),a=(n?e.done:e.undone).addTransform(l.transform,t.selection.getBookmark(),o,r),s=new u_(n?a:l.remaining,n?l.remaining:a,null,0,-1);return l.transform.setSelection(i).setMeta(uQ,{redo:n,historyState:s})}(o,n,e);l&&r(t?l.scrollIntoView():l)}return!0}}let u1=u0(!1,!0),u2=u0(!0,!0);u0(!1,!1),u0(!0,!1),ix.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{let t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){let e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{let t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new th({key:new tg("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;let o=this.options.limit;if(null==o||0===o){e=!0;return}let l=this.storage.characters({node:r.doc});if(l>o){console.warn("[CharacterCount] Initial content exceeded limit of ".concat(o," characters. Content was automatically trimmed."));let t=r.tr.deleteRange(0,l-o);return e=!0,t}e=!0},filterTransaction:(e,t)=>{let n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;let r=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n||r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r||!e.getMeta("paste"))return!1;let l=e.selection.$head.pos;return e.deleteRange(l-(o-n),l),!(this.storage.characters({node:e.doc})>n)}})]}});var u5=ix.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new th({view:t=>new uP(t,e)})}(this.options)]}});ix.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new th({key:new tg("focus"),props:{decorations:e=>{let{doc:t,selection:n}=e,{isEditable:r,isFocused:o}=this.editor,{anchor:l}=n,i=[];if(!r||!o)return rq.create(t,[]);let a=0;"deepest"===this.options.mode&&t.descendants((e,t)=>{if(!e.isText){if(!(l>=t&&l<=t+e.nodeSize-1))return!1;a+=1}});let s=0;return t.descendants((e,t)=>!e.isText&&!!(l>=t&&l<=t+e.nodeSize-1)&&((s+=1,"deepest"===this.options.mode&&a-s>0||"shallowest"===this.options.mode&&s>1)?"deepest"===this.options.mode:void i.push(rG.node(t,t+e.nodeSize,{class:this.options.className})))),rq.create(t,i)}}})]}});var u3=ix.create({name:"gapCursor",addProseMirrorPlugins:()=>[new th({props:{decorations:uH,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&uN.valid(n)?new uN(n):null,handleClick:uz,handleKeyDown:uL,handleDOMEvents:{beforeinput:uF}}})],extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!=(t=lO(lR(e,"allowGapCursor",n)))?t:null}}});function u4(e){let{types:t,node:n}=e;return n&&Array.isArray(t)&&t.includes(n.type)||(null==n?void 0:n.type)===t}ix.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new th({key:new tg("placeholder"),props:{decorations:e=>{let{doc:t,selection:n}=e,r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=n,l=[];if(!r)return null;let i=this.editor.isEmpty;return t.descendants((e,t)=>{let n=o>=t&&o<=t+e.nodeSize,r=!e.isLeaf&&lY(e);if((n||!this.options.showOnlyCurrent)&&r){let r=[this.options.emptyNodeClass];i&&r.push(this.options.emptyEditorClass);let o=rG.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});l.push(o)}return this.options.includeChildren}),rq.create(t,l)}}})]}}),ix.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){let{editor:e,options:t}=this;return[new th({key:new tg("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||lQ(n.selection)||e.view.dragging?null:rq.create(n.doc,[rG.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var u9=ix.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;let t=new tg(this.name),n=(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(e=>{let[,t]=e;return t}).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new th({key:t,appendTransaction:(e,r,o)=>{let{doc:l,tr:i,schema:a}=o,s=t.getState(o),u=l.content.size,c=a.nodes[n];if(s)return i.insert(u,c.create())},state:{init:(e,t)=>!u4({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>e.docChanged?!u4({node:e.doc.lastChild,types:r}):t}})]}}),u6=ix.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>e=>{let{state:t,dispatch:n}=e;return u1(t,n)},redo:()=>e=>{let{state:t,dispatch:n}=e;return u2(t,n)}}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new th({key:uQ,state:{init:()=>new u_(uG.empty,uG.empty,null,0,-1),apply:(t,n,r)=>(function(e,t,n,r){let o=n.getMeta(uQ),l;if(o)return o.historyState;n.getMeta(uZ)&&(e=new u_(e.done,e.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(i&&i.getMeta(uQ))if(i.getMeta(uQ).redo)return new u_(e.done.addTransform(n,void 0,r,uY(t)),e.undone,uK(n.mapping.maps),e.prevTime,e.prevComposition);else return new u_(e.done,e.undone.addTransform(n,void 0,r,uY(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory"))if(l=n.getMeta("rebased"))return new u_(e.done.rebased(n,l),e.undone.rebased(n,l),u$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);else return new u_(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),u$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),l=0==e.prevTime||!i&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),a=i?u$(e.prevRanges,n.mapping):uK(n.mapping.maps);return new u_(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,uY(t)),uG.empty,a,n.time,null==o?e.prevComposition:o)}})(n,r,t,e)},config:e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?u1:"historyRedo"==n?u2:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),u7=ix.create({name:"starterKit",addExtensions(){var e,t,n,r;let o=[];return!1!==this.options.bold&&o.push(ab.configure(this.options.bold)),!1!==this.options.blockquote&&o.push(ah.configure(this.options.blockquote)),!1!==this.options.bulletList&&o.push(uo.configure(this.options.bulletList)),!1!==this.options.code&&o.push(ax.configure(this.options.code)),!1!==this.options.codeBlock&&o.push(ak.configure(this.options.codeBlock)),!1!==this.options.document&&o.push(aM.configure(this.options.document)),!1!==this.options.dropcursor&&o.push(u5.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&o.push(u3.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&o.push(aR.configure(this.options.hardBreak)),!1!==this.options.heading&&o.push(aE.configure(this.options.heading)),!1!==this.options.undoRedo&&o.push(u6.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&o.push(aT.configure(this.options.horizontalRule)),!1!==this.options.italic&&o.push(aD.configure(this.options.italic)),!1!==this.options.listItem&&o.push(ul.configure(this.options.listItem)),!1!==this.options.listKeymap&&o.push(ug.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&o.push(ue.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&o.push(ux.configure(this.options.orderedList)),!1!==this.options.paragraph&&o.push(uM.configure(this.options.paragraph)),!1!==this.options.strike&&o.push(uT.configure(this.options.strike)),!1!==this.options.text&&o.push(uI.configure(this.options.text)),!1!==this.options.underline&&o.push(uO.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&o.push(u9.configure(null==(r=this.options)?void 0:r.trailingNode)),o}}),u8=ix.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{let t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:"text-align: ".concat(e.textAlign)}:{}}}}]},addCommands(){return{setTextAlign:e=>t=>{let{commands:n}=t;return!!this.options.alignments.includes(e)&&this.options.types.map(t=>n.updateAttributes(t,{textAlign:e})).every(e=>e)},unsetTextAlign:()=>e=>{let{commands:t}=e;return this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)},toggleTextAlign:e=>t=>{let{editor:n,commands:r}=t;return!!this.options.alignments.includes(e)&&(n.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e))}}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),ce=e.i(454624);let ct=(0,ce.default)((0,a.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),cn=(0,ce.default)((0,a.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),cr=(0,ce.default)((0,a.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted"),co=(0,ce.default)((0,a.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),cl=(0,ce.default)((0,a.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),ci=(0,ce.default)((0,a.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),ca=(0,ce.default)((0,a.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),cs=(0,ce.default)((0,a.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),cu=(0,ce.default)((0,a.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),cc=(0,ce.default)((0,a.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify"),cd=(0,ce.default)((0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),cp="bg-transparent border border-gray-300 px-2.5 py-2 !text-black hover:bg-gray-50 transition-colors rounded-none min-w-[50px] disabled:opacity-50 disabled:cursor-not-allowed",ch=e=>{let{value:t="",onChange:n,upload:r}=e,o=(0,u.useTranslation)(),l=(0,g.useRef)(null),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,iQ.useRef)(e);n.current=e;let[r]=(0,iQ.useState)(()=>new at(n)),o=(0,iZ.useSyncExternalStore)(r.subscribe,r.getEditor,r.getServerSnapshot);return(0,iQ.useDebugValue)(o),(0,iQ.useEffect)(r.onRender(t)),!function(e){var t;let[n]=(0,iQ.useState)(()=>new i7(e.editor)),r=(0,i1.useSyncExternalStoreWithSelector)(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:i0.default);i6(()=>n.watch(e.editor),[e.editor,n]),(0,iQ.useDebugValue)(r)}({editor:o,selector:t=>{let{transactionNumber:n}=t;return!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===n?0:n+1}}),o}({immediatelyRender:!1,extensions:[u7,iY,as,u8.configure({types:["heading","paragraph","image"]})],content:t,onUpdate:e=>{let{editor:r}=e,o=r.getHTML();o!==t&&(null==n||n(o))}});(0,g.useEffect)(()=>{i&&void 0!==t&&i.getHTML()!==t&&i.commands.setContent(t)},[i,t]);let s=async e=>{var t;let n=null==(t=e.target.files)?void 0:t[0];if(n){if(!n.type.startsWith("image/"))return void alert(o("editor.alerts.selectImageFile"));if(n.size>5242880)return void alert(o("editor.alerts.fileSizeExceeded"));if(!r)return void alert(o("editor.alerts.uploadUnavailable"));try{let e=await r({image:n});if(null==e?void 0:e.public_id){let t="".concat("https://res.cloudinary.com/dfj52taqr/image/upload/").concat(e.public_id);null==i||i.chain().focus().setImage({src:t,alt:n.name}).run()}else alert(o("editor.alerts.uploadError"))}catch(e){console.log(e),alert(o("editor.alerts.serverUploadError"))}e.target.value=""}};return(0,a.jsxs)(ac.Box,{className:"flex flex-col gap-4",children:[(0,a.jsx)(ac.Box,{className:"border-secondary-main flex border p-4",children:(0,a.jsxs)(ac.Box,{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)(ac.Box,{className:"flex gap-1",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleBold().run(),className:cp,"aria-label":o("editor.ariaLabels.bold"),children:(0,a.jsx)(ct,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleItalic().run(),className:cp,"aria-label":o("editor.ariaLabels.italic"),children:(0,a.jsx)(cn,{fontSize:"small"})})]}),(0,a.jsxs)(ac.Box,{className:"flex gap-1",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleHeading({level:2}).run(),className:cp,"aria-label":o("editor.ariaLabels.headingH2"),children:"H1"}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleHeading({level:3}).run(),className:cp,"aria-label":o("editor.ariaLabels.headingH3"),children:"H2"})]}),(0,a.jsxs)(ac.Box,{className:"flex gap-1",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleBulletList().run(),className:cp,"aria-label":o("editor.ariaLabels.bulletList"),children:(0,a.jsx)(cr,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().toggleOrderedList().run(),className:cp,"aria-label":o("editor.ariaLabels.orderedList"),children:(0,a.jsx)(co,{fontSize:"small"})})]}),(0,a.jsxs)(ac.Box,{className:"flex gap-1",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().undo().run(),className:cp,"aria-label":o("editor.ariaLabels.undo"),disabled:!(null==i?void 0:i.can().undo()),children:(0,a.jsx)(cl,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>null==i?void 0:i.chain().focus().redo().run(),className:cp,"aria-label":o("editor.ariaLabels.redo"),disabled:!(null==i?void 0:i.can().redo()),children:(0,a.jsx)(ci,{fontSize:"small"})})]}),(0,a.jsxs)(ac.Box,{className:"flex gap-1",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:e}=i,{selection:t}=e,n=e.doc.nodeAt(t.from);(null==n?void 0:n.type.name)==="image"?null==i||i.chain().focus().updateAttributes("image",{alignment:"left"}).run():null==i||i.chain().focus().setTextAlign("left").run()},className:cp,"aria-label":o("editor.ariaLabels.alignLeft"),children:(0,a.jsx)(ca,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:e}=i,{selection:t}=e,n=e.doc.nodeAt(t.from);(null==n?void 0:n.type.name)==="image"?null==i||i.chain().focus().updateAttributes("image",{alignment:"center"}).run():null==i||i.chain().focus().setTextAlign("center").run()},className:cp,"aria-label":o("editor.ariaLabels.alignCenter"),children:(0,a.jsx)(cs,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:e}=i,{selection:t}=e,n=e.doc.nodeAt(t.from);(null==n?void 0:n.type.name)==="image"?null==i||i.chain().focus().updateAttributes("image",{alignment:"right"}).run():null==i||i.chain().focus().setTextAlign("right").run()},className:cp,"aria-label":o("editor.ariaLabels.alignRight"),children:(0,a.jsx)(cu,{fontSize:"small"})}),(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:e}=i,{selection:t}=e,n=e.doc.nodeAt(t.from);(null==n?void 0:n.type.name)==="image"?null==i||i.chain().focus().updateAttributes("image",{alignment:"justify"}).run():null==i||i.chain().focus().setTextAlign("justify").run()},className:cp,"aria-label":o("editor.ariaLabels.alignJustify"),children:(0,a.jsx)(cc,{fontSize:"small"})})]}),(0,a.jsx)(ac.Box,{className:"flex gap-1",children:(0,a.jsx)(y.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{var e;null==(e=l.current)||e.click()},className:cp,"aria-label":o("editor.ariaLabels.insertImage"),children:(0,a.jsx)(cd,{fontSize:"small"})})})]})}),(0,a.jsx)("input",{ref:l,type:"file",accept:"image/*",onChange:s,style:{display:"none"}}),(0,a.jsx)(i9,{className:"border-secondary-main border p-4",editor:i})]})};var cf=e.i(118228);let cm=()=>{var e,t,n,r,o;let l=(0,u.useTranslation)(),i=(0,m.useAppSelector)(e=>e.locationsSlice.locations),h=(0,m.useAppSelector)(e=>e.locationsSlice.brothers),k=h?[...i,h]:i,M=(0,m.useAppSelector)(e=>e.userSlice.user),{control:R,register:E,handleSubmit:T,formState:{errors:I},reset:O,setValue:P,clearErrors:N}=(()=>{let e=(0,u.useTranslation)();return(0,c.useForm)({resolver:(0,d.zodResolver)((e=>s.default.object({title:s.default.string().min(1,e("news.validation.titleRequired")),image:s.default.string().min(1,e("news.validation.imagesRequired")),content:s.default.string().min(1,e("news.validation.contentRequired")),description:s.default.string().min(1,e("news.validation.descriptionRequired")),locationUuid:s.default.string().min(1,e("news.validation.locationRequired"))}))(e)),defaultValues:{title:"",description:"",image:"",content:"",locationUuid:""},mode:"onSubmit"})})(),D=(()=>{let[e]=(0,p.useCreateNewsMutation)();return async t=>{try{await e(t).unwrap()}catch(e){console.log(e)}}})(),A=f(),[L,j]=(0,g.useState)(null),z=(0,g.useRef)(null),F=()=>{O({locationUuid:"",content:"",title:"",description:"",image:""},{keepErrors:!1,keepDirty:!1}),(0,v.flushSync)(()=>{P("locationUuid",""),P("content",""),P("title",""),P("description",""),P("image","")}),N(),L&&URL.revokeObjectURL(L),j(null),z.current&&(z.current.value="")},H=async e=>{try{await D(e),F()}catch(e){console.error("   :",e)}},{ref:B,onChange:V,...W}=E("image",{required:l("news.validation.imagesRequired")}),G=(0,g.useCallback)(e=>{P("content",e,{shouldValidate:!0})},[P]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:l("news.createNews")}),(0,a.jsxs)("form",{onSubmit:T(H),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)(C.Typography,{className:"mb-2",children:l("news.mainImage")}),(null==(e=I.image)?void 0:e.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:I.image.message}),(0,a.jsxs)("label",{htmlFor:"file-upload",className:"file:border-primary-main text-secondary-main file:text-primary-main border-primary-main inline-flex w-full max-w-96 cursor-pointer items-center justify-center rounded border bg-white px-8 py-2 font-[Inter] text-sm font-bold uppercase transition-colors hover:bg-gray-50",children:[l("editor.labels.selectImage")," "]}),(0,a.jsx)("input",{id:"file-upload",ref:e=>{z.current=e,B(e)},type:"file",accept:"image/*",onChange:e=>{V(e),(e=>{var t;let n=null==(t=e.target.files)?void 0:t[0];n&&(L&&URL.revokeObjectURL(L),j(URL.createObjectURL(n)),A({image:n}).then(e=>{P("image",(null==e?void 0:e.public_id)||"",{shouldValidate:!0})}))})(e)},className:"hidden",...W}),L&&(0,a.jsx)("img",{src:L,alt:l("images.previewAlt"),className:"mt-2 max-h-64 object-cover"})]}),(0,a.jsxs)(b.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:l("news.section")}),(null==(t=I.locationUuid)?void 0:t.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:I.locationUuid.message})]}),(0,a.jsx)(c.Controller,{name:"locationUuid",control:R,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,a.jsx)(x.TextField,{select:!0,onChange:t,value:n,variant:"standard",fullWidth:!0,placeholder:l("news.selectSection"),className:"border px-2.5 py-2 !text-black",error:!!I.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:k.filter(e=>(null==M?void 0:M.role)===cf.UserRole.ADMIN||(null==M?void 0:M.role)===cf.UserRole.EDITOR&&e.uuid===M.locationUuid).map(e=>(0,a.jsx)(w.MenuItem,{value:e.uuid,className:"bg-white text-black hover:bg-gray-100",children:e.title},e.uuid))})}})]}),(0,a.jsx)(S.Input,{...E("title"),errorMessage:null==(n=I.title)?void 0:n.message,label:l("news.title"),className:"mb-4",fullWidth:!0}),(0,a.jsx)(S.Input,{...E("description"),errorMessage:null==(r=I.description)?void 0:r.message,label:l("news.shortDescription"),className:"mb-4",multiline:!0,rows:3,fullWidth:!0}),(0,a.jsxs)(b.Box,{className:"mb-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:l("news.fullDescription")}),(null==(o=I.content)?void 0:o.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:I.content.message})]}),(0,a.jsx)(c.Controller,{name:"content",control:R,render:e=>{let{field:{value:t}}=e;return(0,a.jsx)(ch,{value:t,onChange:G,upload:A})}})]}),(0,a.jsxs)(b.Box,{className:"flex justify-end gap-4",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",onClick:F,children:l("news.clear")}),(0,a.jsx)(y.Button,{type:"submit",variant:"contained",children:l("news.create")})]})]})]})};var cg=e.i(553351),cv=e.i(78420),cb=e.i(968037),cy=e.i(875402);let cw=()=>{var e,t;let n=(0,u.useTranslation)(),r=(0,m.useAppSelector)(e=>e.userSlice.user),{register:o,handleSubmit:l,formState:{errors:i,isDirty:p},reset:h}=(()=>{let e=(0,u.useTranslation)(),t=(0,m.useAppSelector)(e=>{var t;return null==(t=e.userSlice.user)?void 0:t.firstName}),n=(0,m.useAppSelector)(e=>{var t;return null==(t=e.userSlice.user)?void 0:t.lastName});return(0,c.useForm)({resolver:(0,d.zodResolver)((e=>s.default.object({firstName:s.default.string().trim().min(1,e("profile.validation.firstNameRequired")).max(50,e("profile.validation.firstNameMaxLength")),lastName:s.default.string().trim().min(1,e("profile.validation.lastNameRequired")).max(50,e("profile.validation.lastNameMaxLength"))}))(e)),defaultValues:{firstName:t,lastName:n},mode:"onChange"})})(),{onSubmit:f,isLoading:g}=(e=>{let[t,{isLoading:n}]=(0,cv.useUpdateUserMutation)(),r=(0,cg.useAppDispatch)();return{onSubmit:async n=>{try{let o=await t(n).unwrap();o&&o.data&&(r((0,cb.updateUser)(o.data)),e({firstName:o.data.firstName,lastName:o.data.lastName}))}catch(e){console.error("User update error:",e)}},isLoading:n}})(h);return r?(0,a.jsxs)(b.Box,{component:"form",onSubmit:l(f),className:"border-secondary-main flex max-w-md flex-col gap-10 border-4 p-10",children:[(0,a.jsx)(C.Typography,{variant:"h5",className:"text-center text-[32px] font-bold text-black",children:(0,a.jsx)(cy.Translate,{value:"profile.title"})}),(0,a.jsx)("div",{className:"bg-secondary-main h-1"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(S.Input,{...o("firstName"),errorMessage:null==(e=i.firstName)?void 0:e.message,label:n("profile.firstName"),placeholder:n("profile.firstNamePlaceholder")}),(0,a.jsx)(S.Input,{...o("lastName"),errorMessage:null==(t=i.lastName)?void 0:t.message,label:n("profile.lastName"),placeholder:n("profile.lastNamePlaceholder")}),(0,a.jsx)(S.Input,{value:r.email,label:n("profile.email"),placeholder:"example@email.com",disabled:!0,type:"email"}),(0,a.jsx)(S.Input,{value:r.role,label:n("profile.role"),placeholder:n("profile.rolePlaceholder"),disabled:!0}),(0,a.jsx)(y.Button,{type:"submit",className:"w-full",variant:"contained",color:"primary",disabled:!p||g,children:n("profile.saveChanges")})]})]}):(0,a.jsx)(C.Typography,{children:n("profile.loading")})};var cx=e.i(791882),cC=e.i(819646),cS=e.i(931067),ck=e.i(745009);let cM=parseInt(g.version,10),cR=e=>{if(cM>=19){var t;let n=t=>{var n;return e(t,null!=(n=t.ref)?n:null)};return n.displayName=null!=(t=e.displayName)?t:e.name,n}return g.forwardRef(e)};var cE=e.i(915874),cT=e.i(207670);function cI(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=g.useRef(void 0),o=g.useCallback(e=>{let n=t.map(t=>{if(null==t)return null;if("function"==typeof t){let n=t(e);return"function"==typeof n?n:()=>{t(null)}}return t.current=e,()=>{t.current=null}});return()=>{n.forEach(e=>null==e?void 0:e())}},t);return g.useMemo(()=>t.every(e=>null==e)?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=o(e))},t)}function cO(e){if("string"!=typeof e)throw Error(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o=new URL("https://mui.com/production-error/?code=".concat(e));return n.forEach(e=>o.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(o," for the full message.")}(7));return e.charAt(0).toUpperCase()+e.slice(1)}function cP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};for(let o in e){let l=e[o],i="",a=!0;for(let e=0;e<l.length;e+=1){let r=l[e];r&&(i+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(i+=" "+n[r]))}r[o]=i}return r}let cN=Object.is;function cD(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(let r in e)if(n+=1,!cN(e[r],t[r])||!(r in t))return!1;for(let e in t)r+=1;return n===r}function cA(e){return g.memo(e,cD)}var cL=e.i(940799);let cj=e=>e,cz=(()=>{let e=cj;return{configure(t){e=t},generate:t=>e(t),reset(){e=cj}}})(),cF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function cH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=cF[t];return r?"".concat(n,"-").concat(r):"".concat(cz.generate(e),"-").concat(t)}function cB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach(t=>{r[t]=cH(e,t,n)}),r}function cV(e){return cH("MuiDataGrid",e)}let cW=cB("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]),cG={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{let t=cG.values,n="number"==typeof t[e]?t[e]:e;return"@media (min-width:".concat(n,"px)")}},cU={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},c_=function e(t){if("string"==typeof t)return"var(".concat(t,")");let n={};for(let r in t)Object.hasOwn(t,r)&&(n[r]=e(t[r]));return n}(cU),cq=(0,cS.default)({breakpoints:cG,spacing:function(e,t,n,r){return void 0===e?cK(1):void 0===t?cK(e):void 0===n?cK(e)+" "+cK(t):void 0===r?cK(e)+" "+cK(t)+" "+cK(n):cK(e)+" "+cK(t)+" "+cK(n)+" "+cK(r)},transition:function(e,t){let{duration:n=cq.transitions.duration.base,easing:r=cq.transitions.easing.easeInOut,delay:o=0}=null!=t?t:{};return e.map(e=>"".concat(e," ").concat(n," ").concat(r," ").concat(o,"ms")).join(", ")},keys:cU},c_);function cK(e){return 0===e?"0":"calc(var(--DataGrid-t-spacing-unit) * ".concat(e,")")}var c$=e.i(561806);let cJ={};function cX(e,t){let n=g.useRef(cJ);return n.current===cJ&&(n.current=e(t)),n}let cY=Object.is,cQ=(e,t)=>e===t||e.length===t.length&&e.every((e,n)=>e===t[n]),cZ=()=>({state:null,equals:null,selector:null,args:void 0}),c0=[],c1=()=>null;function c2(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cY,l=cX(cZ),i=null!==l.current.selector,[a,s]=g.useState(i?null:t(e,r));l.current.state=a,l.current.equals=o,l.current.selector=t;let u=l.current.args;if(l.current.args=r,i&&(n=Object.is,r instanceof Array?n=cQ:r instanceof Object&&(n=cD),!n(u,r))){let t=l.current.selector(e,l.current.args);l.current.equals(l.current.state,t)||(l.current.state=t,s(t))}let c=g.useCallback(()=>(l.current.subscription||(l.current.subscription=e.current.store.subscribe(()=>{let t=l.current.selector(e,l.current.args);l.current.equals(l.current.state,t)||(l.current.state=t,s(t))})),null),c0),d=g.useCallback(()=>(l.current.subscription||c(),()=>{l.current.subscription&&(l.current.subscription(),l.current.subscription=void 0)}),c0);return(0,c$.useSyncExternalStore)(d,c,c1),a}let c5=g.createContext(void 0);function c3(){let e=g.useContext(c5);if(void 0===e)throw Error("MUI X: Could not find the Data Grid private context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return e}let c4={width:3,rx:1.5,x:10.5},c9=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||0===e.current.state.dimensions.scrollbarSize),c6=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat(cW.autoHeight)]:t.autoHeight},{["&.".concat(cW.autosizing)]:t.autosizing},{["&.".concat(cW["root--densityStandard"])]:t["root--densityStandard"]},{["&.".concat(cW["root--densityComfortable"])]:t["root--densityComfortable"]},{["&.".concat(cW["root--densityCompact"])]:t["root--densityCompact"]},{["&.".concat(cW["root--disableUserSelection"])]:t["root--disableUserSelection"]},{["&.".concat(cW["root--noToolbar"])]:t["root--noToolbar"]},{["&.".concat(cW.withVerticalBorder)]:t.withVerticalBorder},{["& .".concat(cW.actionsCell)]:t.actionsCell},{["& .".concat(cW.booleanCell)]:t.booleanCell},{["& .".concat(cW.cell)]:t.cell},{["& .".concat(cW["cell--editable"])]:t["cell--editable"]},{["& .".concat(cW["cell--editing"])]:t["cell--editing"]},{["& .".concat(cW["cell--flex"])]:t["cell--flex"]},{["& .".concat(cW["cell--pinnedLeft"])]:t["cell--pinnedLeft"]},{["& .".concat(cW["cell--pinnedRight"])]:t["cell--pinnedRight"]},{["& .".concat(cW["cell--rangeBottom"])]:t["cell--rangeBottom"]},{["& .".concat(cW["cell--rangeLeft"])]:t["cell--rangeLeft"]},{["& .".concat(cW["cell--rangeRight"])]:t["cell--rangeRight"]},{["& .".concat(cW["cell--rangeTop"])]:t["cell--rangeTop"]},{["& .".concat(cW["cell--selectionMode"])]:t["cell--selectionMode"]},{["& .".concat(cW["cell--textCenter"])]:t["cell--textCenter"]},{["& .".concat(cW["cell--textLeft"])]:t["cell--textLeft"]},{["& .".concat(cW["cell--textRight"])]:t["cell--textRight"]},{["& .".concat(cW["cell--withLeftBorder"])]:t["cell--withLeftBorder"]},{["& .".concat(cW["cell--withRightBorder"])]:t["cell--withRightBorder"]},{["& .".concat(cW.cellCheckbox)]:t.cellCheckbox},{["& .".concat(cW.cellEmpty)]:t.cellEmpty},{["& .".concat(cW.cellOffsetLeft)]:t.cellOffsetLeft},{["& .".concat(cW.cellSkeleton)]:t.cellSkeleton},{["& .".concat(cW.checkboxInput)]:t.checkboxInput},{["& .".concat(cW.columnHeader)]:t.columnHeader},{["& .".concat(cW["columnHeader--alignCenter"])]:t["columnHeader--alignCenter"]},{["& .".concat(cW["columnHeader--alignLeft"])]:t["columnHeader--alignLeft"]},{["& .".concat(cW["columnHeader--alignRight"])]:t["columnHeader--alignRight"]},{["& .".concat(cW["columnHeader--dragging"])]:t["columnHeader--dragging"]},{["& .".concat(cW["columnHeader--emptyGroup"])]:t["columnHeader--emptyGroup"]},{["& .".concat(cW["columnHeader--filledGroup"])]:t["columnHeader--filledGroup"]},{["& .".concat(cW["columnHeader--filtered"])]:t["columnHeader--filtered"]},{["& .".concat(cW["columnHeader--last"])]:t["columnHeader--last"]},{["& .".concat(cW["columnHeader--moving"])]:t["columnHeader--moving"]},{["& .".concat(cW["columnHeader--numeric"])]:t["columnHeader--numeric"]},{["& .".concat(cW["columnHeader--pinnedLeft"])]:t["columnHeader--pinnedLeft"]},{["& .".concat(cW["columnHeader--pinnedRight"])]:t["columnHeader--pinnedRight"]},{["& .".concat(cW["columnHeader--siblingFocused"])]:t["columnHeader--siblingFocused"]},{["& .".concat(cW["columnHeader--sortable"])]:t["columnHeader--sortable"]},{["& .".concat(cW["columnHeader--sorted"])]:t["columnHeader--sorted"]},{["& .".concat(cW["columnHeader--withLeftBorder"])]:t["columnHeader--withLeftBorder"]},{["& .".concat(cW["columnHeader--withRightBorder"])]:t["columnHeader--withRightBorder"]},{["& .".concat(cW.columnHeaderCheckbox)]:t.columnHeaderCheckbox},{["& .".concat(cW.columnHeaderDraggableContainer)]:t.columnHeaderDraggableContainer},{["& .".concat(cW.columnHeaderTitleContainer)]:t.columnHeaderTitleContainer},{["& .".concat(cW.columnHeaderTitleContainerContent)]:t.columnHeaderTitleContainerContent},{["& .".concat(cW.columnSeparator)]:t.columnSeparator},{["& .".concat(cW["columnSeparator--resizable"])]:t["columnSeparator--resizable"]},{["& .".concat(cW["columnSeparator--resizing"])]:t["columnSeparator--resizing"]},{["& .".concat(cW["columnSeparator--sideLeft"])]:t["columnSeparator--sideLeft"]},{["& .".concat(cW["columnSeparator--sideRight"])]:t["columnSeparator--sideRight"]},{["& .".concat(cW["container--bottom"])]:t["container--bottom"]},{["& .".concat(cW["container--top"])]:t["container--top"]},{["& .".concat(cW.detailPanelToggleCell)]:t.detailPanelToggleCell},{["& .".concat(cW["detailPanelToggleCell--expanded"])]:t["detailPanelToggleCell--expanded"]},{["& .".concat(cW.editBooleanCell)]:t.editBooleanCell},{["& .".concat(cW.filterIcon)]:t.filterIcon},{["& .".concat(cW["filler--borderBottom"])]:t["filler--borderBottom"]},{["& .".concat(cW["filler--pinnedLeft"])]:t["filler--pinnedLeft"]},{["& .".concat(cW["filler--pinnedRight"])]:t["filler--pinnedRight"]},{["& .".concat(cW.groupingCriteriaCell)]:t.groupingCriteriaCell},{["& .".concat(cW.groupingCriteriaCellLoadingContainer)]:t.groupingCriteriaCellLoadingContainer},{["& .".concat(cW.groupingCriteriaCellToggle)]:t.groupingCriteriaCellToggle},{["& .".concat(cW.headerFilterRow)]:t.headerFilterRow},{["& .".concat(cW.iconSeparator)]:t.iconSeparator},{["& .".concat(cW.menuIcon)]:t.menuIcon},{["& .".concat(cW.menuIconButton)]:t.menuIconButton},{["& .".concat(cW.menuList)]:t.menuList},{["& .".concat(cW.menuOpen)]:t.menuOpen},{["& .".concat(cW.overlayWrapperInner)]:t.overlayWrapperInner},{["& .".concat(cW.pinnedRows)]:t.pinnedRows},{["& .".concat(cW["pinnedRows--bottom"])]:t["pinnedRows--bottom"]},{["& .".concat(cW["pinnedRows--top"])]:t["pinnedRows--top"]},{["& .".concat(cW.row)]:t.row},{["& .".concat(cW["row--borderBottom"])]:t["row--borderBottom"]},{["& .".concat(cW["row--detailPanelExpanded"])]:t["row--detailPanelExpanded"]},{["& .".concat(cW["row--dragging"])]:t["row--dragging"]},{["& .".concat(cW["row--dynamicHeight"])]:t["row--dynamicHeight"]},{["& .".concat(cW["row--editable"])]:t["row--editable"]},{["& .".concat(cW["row--editing"])]:t["row--editing"]},{["& .".concat(cW["row--firstVisible"])]:t["row--firstVisible"]},{["& .".concat(cW["row--lastVisible"])]:t["row--lastVisible"]},{["& .".concat(cW.rowReorderCell)]:t.rowReorderCell},{["& .".concat(cW["rowReorderCell--draggable"])]:t["rowReorderCell--draggable"]},{["& .".concat(cW.rowReorderCellContainer)]:t.rowReorderCellContainer},{["& .".concat(cW.rowReorderCellPlaceholder)]:t.rowReorderCellPlaceholder},{["& .".concat(cW.rowSkeleton)]:t.rowSkeleton},{["& .".concat(cW.scrollbar)]:t.scrollbar},{["& .".concat(cW["scrollbar--horizontal"])]:t["scrollbar--horizontal"]},{["& .".concat(cW["scrollbar--vertical"])]:t["scrollbar--vertical"]},{["& .".concat(cW.scrollbarFiller)]:t.scrollbarFiller},{["& .".concat(cW["scrollbarFiller--pinnedRight"])]:t["scrollbarFiller--pinnedRight"]},{["& .".concat(cW.sortIcon)]:t.sortIcon},{["& .".concat(cW.treeDataGroupingCell)]:t.treeDataGroupingCell},{["& .".concat(cW.treeDataGroupingCellLoadingContainer)]:t.treeDataGroupingCellLoadingContainer},{["& .".concat(cW.treeDataGroupingCellToggle)]:t.treeDataGroupingCellToggle},{["& .".concat(cW.withBorderColor)]:t.withBorderColor},{["& .".concat(cW["row--dropAbove"])]:t["row--dropAbove"]},{["& .".concat(cW["row--dropBelow"])]:t["row--dropBelow"]},{["& .".concat(cW["row--beingDragged"])]:t["row--beingDragged"]}]})(()=>{let e=c2(c3(),c9),t=cq.colors.background.base,n=cq.header.background.base,r=cq.cell.background.pinned,o=c7(cq.colors.interactive.hover,1),l=cq.colors.interactive.hoverOpacity,i=cq.colors.interactive.selected,a=cq.colors.interactive.selectedOpacity,s="calc(".concat(a," + ").concat(l,")"),u=c8(t,o,l),c=c8(t,i,a),d=c8(t,i,s),p=c8(r,o,l),h=c8(r,i,a),f=c8(r,i,s),m=e=>({["& .".concat(cW["cell--pinnedLeft"],", & .").concat(cW["cell--pinnedRight"])]:{backgroundColor:e,"&.Mui-selected":{backgroundColor:c8(e,c,a),"&:hover":{backgroundColor:c8(e,d,s)}}}}),g=m(p),v=m(h),b=m(f),y={backgroundColor:c,"&:hover":{backgroundColor:d,"@media (hover: none)":{backgroundColor:c}}};return{"--unstable_DataGrid-radius":cq.radius.base,"--unstable_DataGrid-headWeight":cq.typography.fontWeight.medium,"--DataGrid-rowBorderColor":cq.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:cq.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:cq.colors.background.base,color:cq.colors.foreground.base,font:cq.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[".".concat(cW.main," > *:first-child").concat("/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */")]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},["&.".concat(cW.autoHeight)]:{height:"auto"},["&.".concat(cW.autosizing)]:{["& .".concat(cW.columnHeaderTitleContainerContent," > *")]:{overflow:"visible !important"},"@media (hover: hover)":{["& .".concat(cW.menuIcon)]:{width:"0 !important",visibility:"hidden !important"}},["& .".concat(cW.cell)]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},["& .".concat(cW.groupingCriteriaCell)]:{width:"unset"},["& .".concat(cW.treeDataGroupingCell)]:{width:"unset"}},["&.".concat(cW.withSidePanel)]:{flexDirection:"row"},["& .".concat(cW.mainContent)]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},["& .".concat(cW.columnHeader,", & .").concat(cW.cell)]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},["& .".concat(cW.columnHeader,":focus-within, & .").concat(cW.cell,":focus-within")]:{outline:"solid ".concat(c7(cq.colors.interactive.focus,.5)," ").concat(1,"px"),outlineOffset:-1},["& .".concat(cW.columnHeader,":focus, & .").concat(cW.cell,":focus")]:{outline:"solid ".concat(cq.colors.interactive.focus," ").concat(1,"px"),outlineOffset:-1},["& .".concat(cW.columnHeader,":focus,\n      & .").concat(cW["columnHeader--withLeftBorder"],",\n      & .").concat(cW["columnHeader--withRightBorder"],",\n      & .").concat(cW["columnHeader--siblingFocused"],"\n      ")]:{["& .".concat(cW.columnSeparator)]:{opacity:0},"@media (hover: none)":{["& .".concat(cW["columnSeparator--resizable"])]:{opacity:1}},["& .".concat(cW["columnSeparator--resizable"],":hover")]:{opacity:1}},["&.".concat(cW["root--noToolbar"],' [aria-rowindex="1"] [aria-colindex="1"]')]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},["&.".concat(cW["root--noToolbar"],' [aria-rowindex="1"] .').concat(cW["columnHeader--last"])]:{borderTopRightRadius:e?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},["& .".concat(cW.columnHeaderCheckbox,", & .").concat(cW.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(cW.columnHeader)]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:n},["& .".concat(cW["columnHeader--filter"])]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},["& .".concat(cW["virtualScroller--hasScrollX"]," .").concat(cW["columnHeader--last"])]:{overflow:"hidden"},["& .".concat(cW["pivotPanelField--sorted"]," .").concat(cW.iconButtonContainer,",\n      & .").concat(cW["columnHeader--sorted"]," .").concat(cW.iconButtonContainer,",\n      & .").concat(cW["columnHeader--filtered"]," .").concat(cW.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(cW.pivotPanelField,":not(.").concat(cW["pivotPanelField--sorted"],") .").concat(cW.sortButton,",\n      & .").concat(cW.columnHeader,":not(.").concat(cW["columnHeader--sorted"],") .").concat(cW.sortButton)]:{opacity:0,transition:cq.transition(["opacity"],{duration:cq.transitions.duration.short})},["& .".concat(cW.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",gap:cq.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},["& .".concat(cW.columnHeaderTitleContainerContent)]:{overflow:"hidden",display:"flex",alignItems:"center"},["& .".concat(cW["columnHeader--filledGroup"]," .").concat(cW.columnHeaderTitleContainer)]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(cW.sortIcon,", & .").concat(cW.filterIcon)]:{fontSize:"inherit"},["& .".concat(cW["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(cW["columnHeader--alignCenter"]," .").concat(cW.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(cW["columnHeader--alignRight"]," .").concat(cW.columnHeaderDraggableContainer,", & .").concat(cW["columnHeader--alignRight"]," .").concat(cW.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(cW["columnHeader--alignCenter"]," .").concat(cW.menuIcon)]:{marginLeft:"auto"},["& .".concat(cW["columnHeader--alignRight"]," .").concat(cW.menuIcon)]:{marginRight:"auto",marginLeft:-5},["& .".concat(cW["columnHeader--moving"])]:{backgroundColor:u},["& .".concat(cW["columnHeader--pinnedLeft"],", & .").concat(cW["columnHeader--pinnedRight"])]:{position:"sticky",zIndex:40,background:cq.header.background.base},["& .".concat(cW.columnSeparator)]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:10,color:cq.colors.border.base},["& .".concat(cW.columnHeaders)]:{width:"var(--DataGrid-rowWidth)",backgroundColor:n},"@media (hover: hover)":{["& .".concat(cW.columnHeader,":hover")]:{["& .".concat(cW.menuIcon)]:{width:"auto",visibility:"visible"},["& .".concat(cW.iconButtonContainer)]:{visibility:"visible",width:"auto"}},["& .".concat(cW.columnHeader,":not(.").concat(cW["columnHeader--sorted"],"):hover .").concat(cW.sortButton,",\n        & .").concat(cW.pivotPanelField,":not(.").concat(cW["pivotPanelField--sorted"],"):hover .").concat(cW.sortButton,",\n        & .").concat(cW.pivotPanelField,":not(.").concat(cW["pivotPanelField--sorted"],") .").concat(cW.sortButton,":focus-visible")]:{opacity:.5}},"@media (hover: none)":{["& .".concat(cW.columnHeader," .").concat(cW.menuIcon)]:{width:"auto",visibility:"visible"},["& .".concat(cW.columnHeader,":focus,\n        & .").concat(cW["columnHeader--siblingFocused"])]:{[".".concat(cW["columnSeparator--resizable"])]:{color:cq.colors.foreground.accent}},["& .".concat(cW.pivotPanelField,":not(.").concat(cW["pivotPanelField--sorted"],") .").concat(cW.sortButton)]:{opacity:.5}},["& .".concat(cW["columnHeader--withLeftBorder"]," .").concat(cW["columnSeparator--sideLeft"],":not(.").concat(cW["columnSeparator--resizable"],"), & .").concat(cW["columnHeader--withRightBorder"]," .").concat(cW["columnSeparator--sideRight"],":not(.").concat(cW["columnSeparator--resizable"],")")]:{display:"none"},["& .".concat(cW["columnSeparator--sideLeft"])]:{left:-5},["& .".concat(cW["columnSeparator--sideRight"])]:{right:-5},["& .".concat(cW["columnHeader--withRightBorder"]," .").concat(cW["columnSeparator--sideLeft"])]:{left:-5.5},["& .".concat(cW["columnHeader--withRightBorder"]," .").concat(cW["columnSeparator--sideRight"])]:{right:-5.5},["& .".concat(cW["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none",["&.".concat(cW["columnSeparator--resizing"])]:{color:cq.colors.foreground.accent},"@media (hover: none)":{["& .".concat(cW.iconSeparator," rect")]:c4},"@media (hover: hover)":{"&:hover":{color:cq.colors.foreground.accent,["& .".concat(cW.iconSeparator," rect")]:c4}},"& svg":{pointerEvents:"none"}},["& .".concat(cW.iconSeparator)]:{color:"inherit",transition:cq.transition(["color","width"],{duration:cq.transitions.duration.short})},["& .".concat(cW.menuIcon)]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[".".concat(cW.menuOpen)]:{visibility:"visible",width:"auto"},["& .".concat(cW.headerFilterRow)]:{["& .".concat(cW.columnHeader,", & .").concat(cW.scrollbarFiller)]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},["& .".concat(cW["row--borderBottom"]," .").concat(cW.columnHeader,",\n      & .").concat(cW["row--borderBottom"]," .").concat(cW.filler,",\n      & .").concat(cW["row--borderBottom"]," .").concat(cW.scrollbarFiller)]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(cW["row--borderBottom"]," .").concat(cW.cell)]:{borderBottom:"1px solid var(--rowBorderColor)"},[".".concat(cW.row)]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",["&.".concat(cW["row--firstVisible"])]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:u,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(cW.rowSkeleton,":hover")]:{backgroundColor:"transparent"},"&.Mui-selected":y},["& .".concat(cW.cell)]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":y},["& .".concat(cW["virtualScrollerContent--overflowed"]," .").concat(cW["row--lastVisible"]," .").concat(cW.cell)]:{borderTopColor:"transparent"},["& .".concat(cW.pinnedRows," .").concat(cW.row,", .").concat(cW.aggregationRowOverlayWrapper," .").concat(cW.row)]:{backgroundColor:r,"&:hover":{backgroundColor:p}},["& .".concat(cW["pinnedRows--top"]," :first-of-type")]:{["& .".concat(cW.cell,", .").concat(cW.scrollbarFiller)]:{borderTop:"none"}},["&.".concat(cW["root--disableUserSelection"])]:{userSelect:"none"},["& .".concat(cW["row--dynamicHeight"]," > .").concat(cW.cell)]:{whiteSpace:"initial",lineHeight:"inherit"},["& .".concat(cW.cellEmpty)]:{flex:1,padding:0,height:"unset"},["& .".concat(cW.cell,".").concat(cW["cell--selectionMode"])]:{cursor:"default"},["& .".concat(cW.cell,".").concat(cW["cell--editing"])]:{padding:1,display:"flex",boxShadow:cq.shadows.base,backgroundColor:cq.colors.background.overlay,"&:focus-within":{outline:"".concat(1,"px solid ").concat(cq.colors.interactive.focus),outlineOffset:-1}},["& .".concat(cW["cell--editing"])]:{"& .MuiInputBase-root":{height:"100%"}},["& .".concat(cW["row--editing"])]:{boxShadow:cq.shadows.base},["& .".concat(cW["row--editing"]," .").concat(cW.cell)]:{boxShadow:"none",backgroundColor:cq.colors.background.overlay},["& .".concat(cW.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(cW.booleanCell,'[data-value="true"]')]:{color:cq.colors.foreground.muted},["& .".concat(cW.booleanCell,'[data-value="false"]')]:{color:cq.colors.foreground.disabled},["& .".concat(cW.actionsCell)]:{display:"inline-flex",alignItems:"center",gridGap:cq.spacing(1)},["& .".concat(cW.rowReorderCell)]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:cq.colors.interactive.disabledOpacity},["& .".concat(cW["rowReorderCell--draggable"])]:{cursor:"grab",opacity:1},["& .".concat(cW.rowReorderCellContainer)]:{padding:0,display:"flex",alignItems:"stretch"},[".".concat(cW.withBorderColor)]:{borderColor:cq.colors.border.base},["& .".concat(cW["cell--withLeftBorder"],", & .").concat(cW["columnHeader--withLeftBorder"])]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},["& .".concat(cW["cell--withRightBorder"],", & .").concat(cW["columnHeader--withRightBorder"])]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(cW["cell--flex"])]:{display:"flex",alignItems:"center",lineHeight:"inherit"},["& .".concat(cW["cell--textLeft"])]:{textAlign:"left",justifyContent:"flex-start"},["& .".concat(cW["cell--textRight"])]:{textAlign:"right",justifyContent:"flex-end"},["& .".concat(cW["cell--textCenter"])]:{textAlign:"center",justifyContent:"center"},["& .".concat(cW["cell--pinnedLeft"],", & .").concat(cW["cell--pinnedRight"])]:{position:"sticky",zIndex:30,background:cq.cell.background.pinned,"&.Mui-selected":{backgroundColor:h}},["& .".concat(cW.row)]:{"&:hover":g,"&.Mui-selected":v,"&.Mui-selected:hover":b},["& .".concat(cW.cellOffsetLeft)]:{flex:"0 0 auto",display:"inline-block"},["& .".concat(cW.cellSkeleton)]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},["& .".concat(cW.columnHeaderDraggableContainer)]:{display:"flex",width:"100%",height:"100%"},["& .".concat(cW.rowReorderCellPlaceholder)]:{display:"none"},["& .".concat(cW["columnHeader--dragging"])]:{background:cq.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:cq.colors.interactive.disabledOpacity},["& .".concat(cW["row--dragging"])]:{background:cq.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:cq.colors.foreground.base,transform:"translateZ(0)",["& .".concat(cW.rowReorderCellPlaceholder)]:{padding:"0 6px",display:"flex"}},["& .".concat(cW.treeDataGroupingCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(cW.treeDataGroupingCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:cq.spacing(2)},["& .".concat(cW.treeDataGroupingCellLoadingContainer,", .").concat(cW.groupingCriteriaCellLoadingContainer)]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},["& .".concat(cW.groupingCriteriaCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(cW.groupingCriteriaCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:cq.spacing(2)},["& .".concat(cW.columnHeaders," .").concat(cW.scrollbarFiller)]:{backgroundColor:n},[".".concat(cW.scrollbarFiller)]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",backgroundColor:n,["&.".concat(cW["scrollbarFiller--pinnedRight"])]:{position:"sticky",zIndex:40,right:0}},["& .".concat(cW.filler)]:{flex:"1 0 auto"},["& .".concat(cW["filler--borderBottom"])]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(cW.columnHeaders," .").concat(cW.filler)]:{backgroundColor:n},["& .".concat(cW["main--hiddenContent"])]:{["& .".concat(cW.virtualScrollerContent)]:{position:"fixed",visibility:"hidden"},["& .".concat(cW.pinnedRows)]:{display:"none"}},["& .".concat(cW["row--dropAbove"])]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:cq.colors.interactive.selected}},["& .".concat(cW["row--dropBelow"])]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:cq.colors.interactive.selected},["&.".concat(cW["row--lastVisible"])]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},["& .".concat(cW["row--beingDragged"])]:{color:cq.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function c7(e,t){return"rgba(from ".concat(e," r g b / ").concat(t,")")}function c8(e,t,n){return"color-mix(in srgb,".concat(e,", ").concat(t," calc(").concat(n," * 100%))")}let de=g.createContext(void 0),dt=()=>{let e=g.useContext(de);if(!e)throw Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},dn=g.createContext(void 0),dr=()=>{let e=g.useContext(dn);if(void 0===e)throw Error("MUI X: Could not find the Data Grid configuration context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return e},dl=g.createContext({className:"unset",tag:(0,a.jsx)("style",{href:"/unset"})});function di(){return g.useContext(dl).className}function da(e){let t=dr(),n=dt(),r=t.hooks.useCSSVariables(),o=g.useMemo(()=>{let e="".concat("MuiDataGridVariables","-").concat(r.id),t=".".concat(e,"{").concat(function(e){let t="";for(let n in e)Object.hasOwn(e,n)&&void 0!==e[n]&&(t+="".concat(n,":").concat(e[n],";"));return t}(r.variables),"}"),o=(0,a.jsx)("style",{href:"/".concat(e),nonce:n.nonce,children:t});return{className:e,tag:o}},[n.nonce,r]);return(0,a.jsx)(dl.Provider,{value:o,children:e.children})}var ds=e.i(661849);let du=(0,ds.createSelectorCreator)({memoize:ds.lruMemoize,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),dc=function(e,t,n,r,o,l){let i;for(var a=arguments.length,s=Array(a>6?a-6:0),u=6;u<a;u++)s[u-6]=arguments[u];if(s.length>0)throw Error("Unsupported number of selectors");if(e&&t&&n&&r&&o&&l)i=(i,a,s,u)=>{let c=e(i,a,s,u),d=t(i,a,s,u),p=n(i,a,s,u);return l(c,d,p,r(i,a,s,u),o(i,a,s,u),a,s,u)};else if(e&&t&&n&&r&&o)i=(l,i,a,s)=>{let u=e(l,i,a,s),c=t(l,i,a,s);return o(u,c,n(l,i,a,s),r(l,i,a,s),i,a,s)};else if(e&&t&&n&&r)i=(o,l,i,a)=>{let s=e(o,l,i,a);return r(s,t(o,l,i,a),n(o,l,i,a),l,i,a)};else if(e&&t&&n)i=(r,o,l,i)=>n(e(r,o,l,i),t(r,o,l,i),o,l,i);else if(e&&t)i=(n,r,o,l)=>t(e(n,r,o,l),r,o,l);else if(e)i=e;else throw Error("Missing arguments");return i},dd=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=new WeakMap,o=1,l=t[t.length-1],i=t.length-1||1,a=Math.max(l.length-i,0);if(a>3)throw Error("Unsupported number of arguments");return(e,n,i,s)=>{let u=e.__cacheKey__;u||(e.__cacheKey__=u={id:o},o+=1);let c=r.get(u);if(!c){let e=1===t.length?[e=>e,l]:t,n=t,o=[void 0,void 0,void 0];switch(a){case 0:break;case 1:n=[...e.slice(0,-1),()=>o[0],l];break;case 2:n=[...e.slice(0,-1),()=>o[0],()=>o[1],l];break;case 3:n=[...e.slice(0,-1),()=>o[0],()=>o[1],()=>o[2],l];break;default:throw Error("Unsupported number of arguments")}(c=du(...n)).selectorArgs=o,r.set(u,c)}switch(a){case 3:c.selectorArgs[2]=s;case 2:c.selectorArgs[1]=i;case 1:c.selectorArgs[0]=n}switch(a){case 0:return c(e);case 1:return c(e,n);case 2:return c(e,n,i);case 3:return c(e,n,i,s);default:throw Error("unreachable")}}},dp=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=dc(...t);return(e,t,n,o)=>r(dm(e),t,n,o)},dh=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=dd(...t);return(e,t,n,o)=>r(dm(e),t,n,o)},df=e=>(t,n)=>e(dm(t),n);function dm(e){return"current"in e?e.current.state:e}let dg={compact:.7,comfortable:1.3,standard:1},dv=df(e=>e.density),db=dp(dv,e=>dg[e]),dy=()=>()=>{},dw=()=>!1,dx=()=>!0,dC=function(e){return e.LEFT="left",e.RIGHT="right",e}({}),dS={left:[],right:[]},dk=df(e=>e.isRtl),dM=df(e=>{var t;return null!=(t=e.props.listView)&&t}),dR=df(e=>e.listViewColumn),dE=df(e=>e.columns),dT=dp(dE,e=>e.orderedFields),dI=dp(dE,e=>e.lookup),dO=dh(dT,dI,(e,t)=>e.map(e=>t[e])),dP=dp(dE,e=>e.columnVisibilityModel),dN=dp(dE,e=>e.initialColumnVisibilityModel),dD=dh(dO,dP,dM,dR,(e,t,n,r)=>n&&r?[r]:e.filter(e=>!1!==t[e.field])),dA=dh(dD,e=>e.map(e=>e.field)),dL=df(e=>e.pinnedColumns);dh(dL,dT,dk,(e,t,n)=>dz(e,t,n));let dj=dh(dE,dL,dA,dk,dM,(e,t,n,r,o)=>{if(o)return dS;let l=dz(t,n,r);return{left:l.left.map(t=>e.lookup[t]),right:l.right.map(t=>e.lookup[t])}});function dz(e,t,n){var r,o;if(!Array.isArray(e.left)&&!Array.isArray(e.right)||(null==(r=e.left)?void 0:r.length)===0&&(null==(o=e.right)?void 0:o.length)===0)return dS;let l=(e,t)=>Array.isArray(e)?e.filter(e=>t.includes(e)):[],i=l(e.left,t),a=t.filter(e=>!i.includes(e)),s=l(e.right,a);return n?{left:s,right:i}:{left:i,right:s}}let dF=dh(dD,e=>{let t=[],n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),dH=dh(dO,e=>e.filter(e=>e.filterable)),dB=dh(dO,e=>e.reduce((e,t)=>(t.filterable&&(e[t.field]=t),e),{})),dV=dh(dO,e=>e.some(e=>void 0!==e.colSpan)),dW=df(e=>e.preferencePanel),dG=dp(dW,(e,t)=>!!e.open&&e.labelId===t);var dU=function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e}(dU||{});let d_=g.createContext(void 0);function dq(){let e=g.useContext(d_);if(void 0===e)throw Error("MUI X: Could not find the Data Grid context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return e}let dK=g.createContext(void 0);function d$(){let e=g.useContext(dK);if(void 0===e)throw Error("MUI X: Missing context.");return e}function dJ(e){let{children:t}=e,n=g.useRef(null),r=g.useRef(null),o=g.useRef(null),l=g.useMemo(()=>({columnsPanelTriggerRef:n,filterPanelTriggerRef:r,aiAssistantPanelTriggerRef:o}),[]);return(0,a.jsx)(dK.Provider,{value:l,children:t})}function dX(){var e,t;let n=dq(),r=c2(n,dO),o=dt(),l=c2(n,dW),{columnsPanelTriggerRef:i,filterPanelTriggerRef:s,aiAssistantPanelTriggerRef:u}=d$(),c=n.current.unstable_applyPipeProcessors("preferencePanel",null,null!=(t=l.openedPanelValue)?t:dU.filters),d=null;switch(l.openedPanelValue){case dU.filters:d=s.current;break;case dU.columns:d=i.current;break;case dU.aiAssistant:d=u.current}return(0,a.jsx)(o.slots.panel,(0,cS.default)({id:l.panelId,open:r.length>0&&l.open,"aria-labelledby":l.labelId,target:d,onClose:()=>n.current.hidePreferences()},null==(e=o.slotProps)?void 0:e.panel,{children:c}))}function dY(){var e;let t=dt();return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(dX,{}),t.showToolbar&&(0,a.jsx)(t.slots.toolbar,(0,cS.default)({},null==(e=t.slotProps)?void 0:e.toolbar))]})}var dQ=e.i(501434),dQ=dQ;let dZ=df(e=>e.dimensions),d0=dp(dZ,e=>e.columnsTotalWidth),d1=dp(dZ,e=>e.rowHeight);dp(dZ,e=>e.contentSize.height);let d2=dp(dZ,e=>e.hasScrollX),d5=dp(dZ,e=>e.hasScrollY),d3=dp(dZ,e=>e.columnsTotalWidth<e.viewportOuterSize.width),d4=dp(dZ,e=>e.headerHeight),d9=dp(dZ,e=>e.groupHeaderHeight);dp(dZ,e=>e.headerFilterHeight);let d6=dp(dZ,e=>e.hasScrollX?e.scrollbarSize:0),d7=dp(dZ,e=>e.hasScrollY?e.scrollbarSize:0),d8=dp(dZ,d6,(e,t)=>{let n=e.viewportOuterSize.height-e.minimumSize.height>0;return 0!==t||!!n}),pe=df(e=>e.rows),pt=dp(pe,e=>e.totalRowCount),pn=dp(pe,e=>e.loading),pr=dp(pe,e=>e.totalTopLevelRowCount),po=dp(pe,e=>e.dataRowIdToModelLookup);dp(po,(e,t)=>e[t]);let pl=dp(pe,e=>e.tree),pi=dp(pl,(e,t)=>e[t]),pa=dp(pe,e=>e.groupsToFetch),ps=dp(pe,e=>e.groupingName),pu=dp(pe,e=>e.treeDepths),pc=dh(pe,e=>{var t;let n=Object.entries(e.treeDepths);return 0===n.length?1:(null!=(t=n.filter(e=>{let[,t]=e;return t>0}).map(e=>{let[t]=e;return Number(t)}).sort((e,t)=>t-e)[0])?t:0)+1}),pd=dp(pe,e=>e.dataRowIds),pp=dh(pd,po,(e,t)=>e.reduce((e,n)=>(t[n]&&e.push(t[n]),e),[])),ph=dh(dp(pe,e=>null==e?void 0:e.additionalRowGroups),e=>{var t,n,r,o;let l=null==e?void 0:e.pinnedRows;return{bottom:null!=(r=null==l||null==(t=l.bottom)?void 0:t.map(e=>{var t;return{id:e.id,model:null!=(t=e.model)?t:{}}}))?r:[],top:null!=(o=null==l||null==(n=l.top)?void 0:n.map(e=>{var t;return{id:e.id,model:null!=(t=e.model)?t:{}}}))?o:[]}}),pf=dp(ph,e=>{var t,n;return((null==e||null==(t=e.top)?void 0:t.length)||0)+((null==e||null==(n=e.bottom)?void 0:n.length)||0)}),pm="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,pg=function(e){let t=g.useRef(e);return pm(()=>{t.current=e}),g.useRef(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.current)(...n)}).current};var dQ=dQ,pv=e.i(299749);class pb{register(e,t,n){this.timeouts||(this.timeouts=new Map);let r=setTimeout(()=>{"function"==typeof t&&t(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,r)}unregister(e){let t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach((e,t)=>{this.unregister({cleanupToken:t})}),this.timeouts=void 0)}constructor(e=1e3){(0,pv._)(this,"timeouts",new Map),(0,pv._)(this,"cleanupTimeout",1e3),this.cleanupTimeout=e}}class py{register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}constructor(){(0,pv._)(this,"registry",new FinalizationRegistry(e=>{"function"==typeof e&&e()}))}}class pw{static create(){return new pw}}let px={current:"undefined"!=typeof FinalizationRegistry?new py:new pb},pC=0;function pS(e,t,n,r){let o=g.useState(pw.create)[0],l=g.useRef(null),i=g.useRef(null);i.current=n;let a=g.useRef(null);!l.current&&i.current?(l.current=e.current.subscribeEvent(t,(e,t,n)=>{if(!t.defaultMuiPrevented){var r;null==(r=i.current)||r.call(i,e,t,n)}},r),a.current={cleanupToken:pC+=1},px.current.register(o,()=>{var e;null==(e=l.current)||e.call(l),l.current=null,a.current=null},a.current)):!i.current&&l.current&&(l.current(),l.current=null,a.current&&(px.current.unregister(a.current),a.current=null)),g.useEffect(()=>(!l.current&&i.current&&(l.current=e.current.subscribeEvent(t,(e,t,n)=>{if(!t.defaultMuiPrevented){var r;null==(r=i.current)||r.call(i,e,t,n)}},r)),a.current&&px.current&&(px.current.unregister(a.current),a.current=null),()=>{var e;null==(e=l.current)||e.call(l),l.current=null}),[e,t,r])}let pk={isFirst:!0};function pM(e,t,n){pS(e,t,n,pk)}let pR=[];function pE(e){g.useEffect(e,pR)}class pT{static create(){return new pT}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}constructor(){(0,pv._)(this,"currentId",null),(0,pv._)(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),(0,pv._)(this,"disposeEffect",()=>this.clear)}}function pI(){let e=cX(pT.create).current;return pE(e.disposeEffect),e}function pO(e){throw Error("Failed assertion: should not be rendered")}let pP=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],pN=(0,cL.styled)(pO,{name:"MuiDataGrid",slot:"EditInputCell"})({font:cq.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),pD=cR((e,t)=>{let n=dt(),{id:r,value:o,field:l,colDef:i,hasFocus:s,debounceMs:u=200,isProcessingProps:c,onValueChange:d,slotProps:p}=e,h=(0,cE.default)(e,pP),f=dq(),m=g.useRef(null),[v,b]=g.useState(o),y=(e=>{let{classes:t}=e;return cP({root:["editInputCell"]},cV,t)})(n),w=g.useCallback(async e=>{let t=e.target.value,n=f.current.getColumn(l),o=t;n.valueParser&&(o=n.valueParser(t,f.current.getRow(r),n,f)),b(o),f.current.setEditCellValue({id:r,field:l,value:o,debounceMs:u,unstable_skipValueParser:!0},e),d&&await d(e,t)},[f,u,l,r,d]),x=f.current.unstable_getEditCellMeta(r,l);return g.useEffect(()=>{(null==x?void 0:x.changeReason)!=="debouncedSetEditCellValue"&&b(o)},[x,o]),pm(()=>{s&&m.current.focus()},[s]),(0,a.jsx)(pN,(0,cS.default)({as:n.slots.baseInput,inputRef:m,className:y.root,ownerState:n,fullWidth:!0,type:"number"===i.type?i.type:"text",value:null!=v?v:"",onChange:w,endAdornment:c?(0,a.jsx)(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},h,null==p?void 0:p.root,{ref:t}))}),pA=(e,t)=>t&&e.length>1?[e[0]]:e,pL=(e,t)=>n=>(0,cS.default)({},n,{sorting:(0,cS.default)({},n.sorting,{sortModel:pA(e,t)})}),pj=(e,t)=>{let n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},pz=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,pF=new Intl.Collator,pH=(e,t)=>{let n=pz(e,t);return null!==n?n:Number(e)-Number(t)},pB=(e,t)=>{let n=pz(e,t);return null!==n?n:e>t?1:e<t?-1:0},pV=0,pW={...g}.useId;function pG(e){if(void 0!==pW){let t=pW();return null!=e?e:t}let[t,n]=g.useState(e),r=e||t;return g.useEffect(()=>{null==t&&(pV+=1,n("mui-".concat(pV)))},[t]),r}let pU=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function p_(e){var t,n,r;let{item:o,applyValue:l,type:i,apiRef:s,focusElementRef:u,tabIndex:c,disabled:d,slotProps:p,clearButton:h,headerFilterMenu:f}=e,m=(0,cE.default)(e,pU),v=null==p?void 0:p.root,b=pI(),[y,w]=g.useState(pq(o.value)),[x,C]=g.useState(!1),S=pG(),k=dt(),M=g.useCallback(e=>{let t=pq(e.target.value);w(t),C(!0),b.start(k.filterDebounceMs,()=>{l((0,cS.default)({},o,{value:"number"!==i||Number.isNaN(Number(t))?t:Number(t),fromInput:S})),C(!1)})},[b,k.filterDebounceMs,o,i,S,l]);return g.useEffect(()=>{(o.fromInput!==S||null==o.value)&&w(pq(o.value))},[S,o]),(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(k.slots.baseTextField,(0,cS.default)({id:S,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:null!=y?y:"",onChange:M,type:i||"text",disabled:d,slotProps:(0,cS.default)({},null==v?void 0:v.slotProps,{input:(0,cS.default)({endAdornment:x?(0,a.jsx)(k.slots.loadIcon,{fontSize:"small",color:"action"}):null},null==v||null==(t=v.slotProps)?void 0:t.input),htmlInput:(0,cS.default)({tabIndex:c},null==v||null==(n=v.slotProps)?void 0:n.htmlInput)}),inputRef:u},null==(r=k.slotProps)?void 0:r.baseTextField,m,v)),f,h]})}function pq(e){if(null!=e&&""!==e)return String(e)}function pK(e){return"object"==typeof e&&null!==e}function p$(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}let pJ=(e,t,n)=>Math.max(t,Math.min(n,e));function pX(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}let pY=(e,t)=>n=>{e&&t(n)};function pQ(e){let{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,slotProps:i}=e,s=pG(),[u,c]=g.useState([]),[d,p]=g.useState(t.value||[]),h=dt();g.useEffect(()=>{var e;p((null!=(e=t.value)?e:[]).map(String))},[t.value]);let f=g.useCallback((e,o)=>{p(o.map(String)),n((0,cS.default)({},t,{value:[...o.map(e=>"number"===r?Number(e):e)]}))},[n,t,r]),m=g.useCallback((e,t)=>{""===t?c([]):c([t])},[c]),v=h.slots.baseAutocomplete;return(0,a.jsx)(v,(0,cS.default)({multiple:!0,freeSolo:!0,options:u,id:s,value:d,onChange:f,onInputChange:m,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:l}}},null==i?void 0:i.root))}var pZ=function(e){return e.And="and",e.Or="or",e}(pZ||{});let p0={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},p1=()=>({items:[],logicOperator:pZ.And,quickFilterValues:[],quickFilterLogicOperator:pZ.And});function p2(e){return{current:e.current.getPublicApi()}}let p5=(e,t)=>{let n=(0,cS.default)({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operator){let e=dI(t)[n.field];n.operator=e&&e.filterOperators[0].value}return n},p3=(e,t,n)=>{let r,o=e.items.length>1;r=o&&t?[e.items[0]]:e.items;let l=o&&r.some(e=>null==e.id);return r.some(e=>null==e.operator)||l?(0,cS.default)({},e,{items:r.map(e=>p5(e,n))}):e.items!==r?(0,cS.default)({},e,{items:r}):e},p4=(e,t,n)=>r=>(0,cS.default)({},r,{filterModel:p3(e,t,n)}),p9=e=>"string"==typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,p6=(e,t,n)=>{let r;if(!e.field||!e.operator)return null;let o=n.current.getColumn(e.field);if(!o)return null;if(o.valueParser){var l;let t=o.valueParser;r=Array.isArray(e.value)?null==(l=e.value)?void 0:l.map(e=>t(e,void 0,o,n)):t(e.value,void 0,o,n)}else r=e.value;let{ignoreDiacritics:i}=n.current.rootProps;i&&(r=p9(r));let a=(0,cS.default)({},e,{value:r}),s=o.filterOperators;if(!(null==s?void 0:s.length))throw Error("MUI X: No filter operators found for column '".concat(o.field,"'."));let u=s.find(e=>e.value===a.operator);if(!u)throw Error("MUI X: No filter operator found for column '".concat(o.field,"' and operator value '").concat(a.operator,"'."));let c=p2(n),d=u.getApplyFilterFn(a,o);return"function"!=typeof d?null:{item:a,fn:e=>{let n=t(e,o);return i&&(n=p9(n)),d(n,e,o,c)}}},p7=1,p8=e=>{var t;return null==(t=e.quickFilterExcludeHiddenColumns)||t},he=e=>null!=e,ht=(e,t,n,r,o,l)=>{var i,a;let s=((e,t,n,r)=>(e.cleanedFilterItems||(e.cleanedFilterItems=r.filter(e=>null!==p6(e,t,n))),e.cleanedFilterItems))(l,r,o,n.items),u=e.filter(he),c=t.filter(he);if(u.length>0){let e=e=>u.some(t=>t[e.id]);if((null!=(i=n.logicOperator)?i:p1().logicOperator)===pZ.And){if(!s.every(e))return!1}else if(!s.some(e))return!1}if(c.length>0&&null!=n.quickFilterValues){let e=e=>c.some(t=>t[e]);if((null!=(a=n.quickFilterLogicOperator)?a:p1().quickFilterLogicOperator)===pZ.And){if(!n.quickFilterValues.every(e))return!1}else if(!n.quickFilterValues.some(e))return!1}return!0},hn=(e,t)=>n=>{if(!n.value)return null;let r=RegExp(p$(e?n.value:n.value.trim()),"i");return e=>{if(null==e)return t;let n=r.test(String(e));return t?!n:n}},hr=(e,t)=>n=>{if(!n.value)return null;let r=e?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>{if(null==e)return t;let n=0===o.compare(r,e.toString());return t?!n:n}},ho=e=>()=>t=>{let n=""===t||null==t;return e?!n:n},hl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,chartable:!0,editable:!1,sortComparator:(e,t)=>{let n=pz(e,t);return null!==n?n:"string"==typeof e?pF.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{value:"contains",getApplyFilterFn:hn(e,!1),InputComponent:p_},{value:"doesNotContain",getApplyFilterFn:hn(e,!0),InputComponent:p_},{value:"equals",getApplyFilterFn:hr(e,!1),InputComponent:p_},{value:"doesNotEqual",getApplyFilterFn:hr(e,!0),InputComponent:p_},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;let n=e?t.value:t.value.trim(),r=RegExp("^".concat(p$(n),".*$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:p_},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;let n=e?t.value:t.value.trim(),r=RegExp(".*".concat(p$(n),"$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:p_},{value:"isEmpty",getApplyFilterFn:ho(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:ho(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||0===t.value.length)return null;let n=e?t.value:t.value.map(e=>e.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>null!=e&&n.some(t=>0===r.compare(t,e.toString()||""))},InputComponent:pQ}]}(),renderEditCell:e=>(0,a.jsx)(pD,(0,cS.default)({},e)),getApplyQuickFilterFn:e=>{if(!e)return null;let t=RegExp(p$(e),"i");return(e,n,r,o)=>{let l=o.current.getRowFormattedValue(n,r);return o.current.ignoreDiacritics&&(l=p9(l)),null!=l&&t.test(l.toString())}}},hi=e=>null==e?null:Number(e),ha=(0,cS.default)({},hl,{type:"number",align:"right",headerAlign:"right",sortComparator:pH,valueParser:e=>""===e?null:Number(e),valueFormatter:e=>!function(e){return"number"==typeof e&&!Number.isNaN(e)}(e)?e||"":e.toLocaleString(),filterOperators:[{value:"=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>hi(t)===e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>hi(t)!==e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hi(t)>e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hi(t)>=e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hi(t)<e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hi(t)<=e.value,InputComponent:p_,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>Array.isArray(e.value)&&0!==e.value.length?t=>null!=t&&e.value.includes(Number(t)):null,InputComponent:pQ,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:e=>null==e||Number.isNaN(e)||""===e?null:t=>hi(t)===hi(e)}),hs=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function hu(e,t){if(null==e)return"";let n=new Date(e);return Number.isNaN(n.getTime())?"":"date"===t?n.toISOString().substring(0,10):"datetime-local"===t?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function hc(e){var t;let{item:n,applyValue:r,type:o,apiRef:l,focusElementRef:i,slotProps:s,headerFilterMenu:u,clearButton:c,tabIndex:d,disabled:p}=e,h=(0,cE.default)(e,hs),f=null==s?void 0:s.root.slotProps,m=pI(),[v,b]=g.useState(()=>hu(n.value,o)),[y,w]=g.useState(!1),x=pG(),C=dt(),S=g.useCallback(e=>{m.clear();let t=e.target.value;b(t),w(!0),m.start(C.filterDebounceMs,()=>{let e=new Date(t);r((0,cS.default)({},n,{value:Number.isNaN(e.getTime())?void 0:e})),w(!1)})},[r,n,C.filterDebounceMs,m]);return g.useEffect(()=>{b(hu(n.value,o))},[n.value,o]),(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(C.slots.baseTextField,(0,cS.default)({fullWidth:!0,id:x,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:S,type:o||"text",disabled:p,inputRef:i,slotProps:(0,cS.default)({},f,{input:(0,cS.default)({endAdornment:y?(0,a.jsx)(C.slots.loadIcon,{fontSize:"small",color:"action"}):null},null==f?void 0:f.input),htmlInput:(0,cS.default)({max:"datetime-local"===o?"9999-12-31T23:59":"9999-12-31",tabIndex:d},null==f?void 0:f.htmlInput)})},null==(t=C.slotProps)?void 0:t.baseTextField,h,null==s?void 0:s.root)),u,c]})}function hd(e,t,n,r){if(!e.value)return null;let o=new Date(e.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));let l=o.getTime();return e=>{if(!e)return!1;if(r)return t(e.getTime(),l);let o=new Date(e);return n?o.setSeconds(0,0):o.setHours(0,0,0,0),t(o.getTime(),l)}}let hp=e=>[{value:"is",getApplyFilterFn:t=>hd(t,(e,t)=>e===t,e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>hd(t,(e,t)=>e!==t,e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>hd(t,(e,t)=>e>t,e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>hd(t,(e,t)=>e>=t,e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>hd(t,(e,t)=>e<t,e,!e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>hd(t,(e,t)=>e<=t,e),InputComponent:hc,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1}],hh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],hf=(0,cL.styled)(pO)({fontSize:"inherit"});function hm(e){var t,n;let{id:r,value:o,field:l,colDef:i,hasFocus:s,onValueChange:u,slotProps:c}=e,d=(0,cE.default)(e,hh),p="dateTime"===i.type,h=dq(),f=g.useRef(null),m=g.useMemo(()=>{let e,t;return t=null==(e=null==o?null:o instanceof Date?o:new Date((null!=o?o:"").toString()))||Number.isNaN(e.getTime())?"":new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,p?16:10),{parsed:e,formatted:t}},[o,p]),[v,b]=g.useState(m),y=dt(),w=(e=>{let{classes:t}=e;return cP({root:["editInputCell"]},cV,t)})({classes:y.classes}),x=g.useCallback(e=>{if(""===e)return null;let[t,n]=e.split("T"),[r,o,l]=t.split("-"),i=new Date;if(i.setFullYear(Number(r),Number(o)-1,Number(l)),i.setHours(0,0,0,0),n){let[e,t]=n.split(":");i.setHours(Number(e),Number(t),0,0)}return i},[]),C=g.useCallback(async e=>{let t=e.target.value,n=x(t);u&&await u(e,n),b({parsed:n,formatted:t}),h.current.setEditCellValue({id:r,field:l,value:n},e)},[h,l,r,u,x]);return g.useEffect(()=>{b(e=>{var t,n;return m.parsed!==e.parsed&&(null==(t=m.parsed)?void 0:t.getTime())!==(null==(n=e.parsed)?void 0:n.getTime())?m:e})},[m]),pm(()=>{s&&f.current.focus()},[s]),(0,a.jsx)(hf,(0,cS.default)({as:y.slots.baseInput,inputRef:f,fullWidth:!0,className:w.root,type:p?"datetime-local":"date",value:v.formatted,onChange:C},d,null==c?void 0:c.root,{slotProps:{htmlInput:(0,cS.default)({max:p?"9999-12-31T23:59":"9999-12-31"},null==c||null==(n=c.root)||null==(t=n.slotProps)?void 0:t.htmlInput)}}))}let hg=e=>(0,a.jsx)(hm,(0,cS.default)({},e)),hv="auto-generated-group-node-root",hb=Symbol("mui.id_autogenerated"),hy=(e,t,n)=>{let r=t?t(e):e.id;return!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:";if(null==e)throw Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.\nAlternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join("\n"))}(r,e,n),r},hw=e=>{let{rows:t,getRowId:n,loading:r,rowCount:o}=e,l={type:"full",rows:[]},i={};for(let e=0;e<t.length;e+=1){let r=t[e],o=hy(r,n);i[o]=r,l.rows.push(o)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:o,updates:l,dataRowIdToModelLookup:i}},hx=e=>{let{tree:t,rowCountProp:n=0}=e,r=t[hv];return Math.max(n,r.children.length+ +(null!=r.footerId))},hC=e=>{let{apiRef:t,rowCountProp:n=0,loadingProp:r,previousTree:o,previousTreeDepths:l,previousGroupsToFetch:i}=e,a=t.current.caches.rows,{tree:s,treeDepths:u,dataRowIds:c,groupingName:d,groupsToFetch:p=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:o,previousTreeDepths:l,updates:a.updates,dataRowIdToModelLookup:a.dataRowIdToModelLookup,previousGroupsToFetch:i}),h=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:s,treeDepths:u,dataRowIds:c,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},(0,cS.default)({},h,{totalRowCount:Math.max(n,h.dataRowIds.length),totalTopLevelRowCount:hx({tree:h.tree,rowCountProp:n}),groupingName:d,loading:r,groupsToFetch:p})},hS=e=>"skeletonRow"===e.type||"footer"===e.type||"group"===e.type&&e.isAutoGenerated||"pinnedRow"===e.type&&e.isAutoGenerated,hk=(e,t,n,r)=>{let o=e[t];if("group"!==o.type)return[];let l=[];for(let t=0;t<o.children.length;t+=1){let i=o.children[t];if(n&&hS(e[i])||l.push(i),r)continue;let a=hk(e,i,n,r);for(let e=0;e<a.length;e+=1)l.push(a[e])}return n||null==o.footerId||l.push(o.footerId),l},hM=e=>{var t,n,r;let{previousCache:o,getRowId:l,updates:i,groupKeys:a}=e;if("full"===o.updates.type)throw Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");let s=new Map;i.forEach(e=>{let t=hy(e,l,"A row was provided without id when calling updateRows():");s.has(t)?s.set(t,(0,cS.default)({},s.get(t),e)):s.set(t,e)});let u={type:"partial",actions:{insert:[...null!=(t=o.updates.actions.insert)?t:[]],modify:[...null!=(n=o.updates.actions.modify)?n:[]],remove:[...null!=(r=o.updates.actions.remove)?r:[]]},idToActionLookup:(0,cS.default)({},o.updates.idToActionLookup),groupKeys:a},c=(0,cS.default)({},o.dataRowIdToModelLookup),d={insert:{},modify:{},remove:{}};s.forEach((e,t)=>{let n=u.idToActionLookup[t];if("delete"===e._action){if("remove"===n||!c[t])return;null!=n&&(d[n][t]=!0),u.actions.remove.push(t),delete c[t];return}let r=c[t];if(r){"remove"===n?(d.remove[t]=!0,u.actions.modify.push(t)):null==n&&u.actions.modify.push(t),c[t]=(0,cS.default)({},r,e);return}"remove"===n?(d.remove[t]=!0,u.actions.insert.push(t)):null==n&&u.actions.insert.push(t),c[t]=e});let p=Object.keys(d);for(let e=0;e<p.length;e+=1){let t=p[e],n=d[t];Object.keys(n).length>0&&(u.actions[t]=u.actions[t].filter(e=>!n[e]))}return{dataRowIdToModelLookup:c,updates:u,rowsBeforePartialUpdates:o.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:o.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:o.rowCountPropBeforePartialUpdates}},hR="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function hE(e,t,n){let r=[];return t.forEach(t=>{let o=hy(t,n,"A row was provided without id when calling updateRows():"),l=pi(e,o);if((null==l?void 0:l.type)==="pinnedRow"){let n=e.current.caches.pinnedRows,r=n.idLookup[o];r&&(n.idLookup[o]=(0,cS.default)({},r,t))}else r.push(t)}),r}let hT=(e,t,n)=>"number"==typeof e&&e>0?e:t,hI="MUI X: The `rowHeight` prop should be a number greater than 0.\nThe default value will be used instead.",hO=df((e,t)=>hb in t?t[hb]:e.props.getRowId?e.props.getRowId(t):t.id);function hP(e){let{value:t,columnType:n,rowId:r,field:o}=e;if(!(t instanceof Date))throw Error(["MUI X: `".concat(n,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(r,', field: "').concat(o,'".')].join("\n"))}let hN=(0,cS.default)({},hl,{type:"date",sortComparator:pB,valueFormatter:(e,t,n,r)=>{if(!e)return"";let o=hO(r,t);return hb in t&&!(e instanceof Date)?e:(hP({value:e,columnType:"date",rowId:o,field:n.field}),e.toLocaleDateString())},filterOperators:hp(),renderEditCell:hg,pastedValueParser:e=>new Date(e)}),hD=(0,cS.default)({},hl,{type:"dateTime",sortComparator:pB,valueFormatter:(e,t,n,r)=>{if(!e)return"";let o=hO(r,t);return hb in t&&!(e instanceof Date)?e:(hP({value:e,columnType:"dateTime",rowId:o,field:n.field}),e.toLocaleString())},filterOperators:hp(!0),renderEditCell:hg,pastedValueParser:e=>new Date(e)}),hA="__row_group_by_columns_group__",hL="__detail_panel_toggle__",hj=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({}),hz=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],hF=g.memo(function(e){let{value:t,rowNode:n}=e,r=(0,cE.default)(e,hz),o=dq(),l=dt(),i=(e=>{let{classes:t}=e;return cP({root:["booleanCell"]},cV,t)})({classes:l.classes}),s=c2(o,pc)>0&&"group"===n.type&&!1===l.treeData,u=g.useMemo(()=>t?l.slots.booleanCellTrueIcon:l.slots.booleanCellFalseIcon,[l.slots.booleanCellFalseIcon,l.slots.booleanCellTrueIcon,t]);return s&&void 0===t?null:(0,a.jsx)(u,(0,cS.default)({fontSize:"small",className:i.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},r))}),hH=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function hB(e){var t;let{id:n,value:r,field:o,className:l,hasFocus:i,onValueChange:s}=e,u=(0,cE.default)(e,hH),c=dq(),d=g.useRef(null),p=pG(),[h,f]=g.useState(r),m=dt(),v=(e=>{let{classes:t}=e;return cP({root:["editBooleanCell"]},cV,t)})({classes:m.classes}),b=g.useCallback(async e=>{let t=e.target.checked;s&&await s(e,t),f(t),await c.current.setEditCellValue({id:n,field:o,value:t},e)},[c,o,n,s]);return g.useEffect(()=>{f(r)},[r]),pm(()=>{i&&d.current.focus()},[i]),(0,a.jsx)("label",(0,cS.default)({htmlFor:p,className:(0,cT.default)(v.root,l)},u,{children:(0,a.jsx)(m.slots.baseCheckbox,(0,cS.default)({id:p,inputRef:d,checked:!!h,onChange:b,size:"small"},null==(t=m.slotProps)?void 0:t.baseCheckbox))}))}let hV=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function hW(e){return"true"===String(e).toLowerCase()||"false"!==String(e).toLowerCase()&&void 0}let hG=(0,cS.default)({},hl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:e=>e.field!==hA&&hS(e.rowNode)?"":(0,a.jsx)(hF,(0,cS.default)({},e)),renderEditCell:e=>(0,a.jsx)(hB,(0,cS.default)({},e)),sortComparator:pH,valueFormatter:(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:e=>{let t=hW(e.value);return void 0===t?null:e=>!!e===t},InputComponent:function(e){var t,n,r,o;let{item:l,applyValue:i,apiRef:s,focusElementRef:u,headerFilterMenu:c,clearButton:d,tabIndex:p,slotProps:h}=e,f=(0,cE.default)(e,hV),[m,v]=g.useState(hW(l.value)),b=dt(),y=pG(),w=pG(),x=(null==(t=b.slotProps)?void 0:t.baseSelect)||{},C=null!=(r=x.native)&&r,S=(null==(n=b.slotProps)?void 0:n.baseSelectOption)||{},k=g.useCallback(e=>{let t=hW(e.target.value);v(t),i((0,cS.default)({},l,{value:t}))},[i,l]);g.useEffect(()=>{v(hW(l.value))},[l.value]);let M=null!=(o=null==h?void 0:h.root.label)?o:s.current.getLocaleText("filterPanelInputLabel"),R=null==h?void 0:h.root.slotProps;return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsxs)(b.slots.baseSelect,(0,cS.default)({fullWidth:!0,labelId:y,id:w,label:M,value:void 0===m?"":String(m),onChange:k,native:C,slotProps:{htmlInput:(0,cS.default)({ref:u,tabIndex:p},null==R?void 0:R.htmlInput)}},x,f,null==h?void 0:h.root,{children:[(0,a.jsx)(b.slots.baseSelectOption,(0,cS.default)({},S,{native:C,value:"",children:s.current.getLocaleText("filterValueAny")})),(0,a.jsx)(b.slots.baseSelectOption,(0,cS.default)({},S,{native:C,value:"true",children:s.current.getLocaleText("filterValueTrue")})),(0,a.jsx)(b.slots.baseSelectOption,(0,cS.default)({},S,{native:C,value:"false",children:s.current.getLocaleText("filterValueFalse")}))]})),c,d]})}}],getApplyQuickFilterFn:()=>null,aggregable:!1,chartable:!1,pastedValueParser:e=>(e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(e)});var hU=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(hU||{}),h_=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(h_||{}),hq=function(e){return e.Cell="cell",e.Row="row",e}(hq||{}),hK=function(e){return e.Edit="edit",e.View="view",e}(hK||{}),h$=function(e){return e.Edit="edit",e.View="view",e}(h$||{});function hJ(e){return(null==e?void 0:e.type)==="singleSelect"}function hX(e,t){if(e)return"function"==typeof e.valueOptions?e.valueOptions((0,cS.default)({field:e.field},t)):e.valueOptions}function hY(e,t,n){if(void 0===t)return;let r=t.find(t=>String(n(t))===String(e));return n(r)}let hQ=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function hZ(e){var t,n,r;let o=dt(),{id:l,value:i,field:s,row:u,colDef:c,hasFocus:d,error:p,onValueChange:h,initialOpen:f=o.editMode===hq.Cell,slotProps:m}=e,v=(0,cE.default)(e,hQ),b=dq(),y=g.useRef(null),w=g.useRef(null),[x,C]=g.useState(f),S=null!=(r=((null==(t=o.slotProps)?void 0:t.baseSelect)||{}).native)&&r;if(pm(()=>{if(d){var e;null==(e=w.current)||e.focus()}},[d]),!hJ(c))return null;let k=hX(c,{id:l,row:u});if(!k)return null;let M=c.getOptionValue,R=c.getOptionLabel,E=async e=>{if(!hJ(c)||!k)return;C(!1);let t=hY(e.target.value,k,M);h&&await h(e,t),await b.current.setEditCellValue({id:l,field:s,value:t},e)};return k&&c?(0,a.jsx)(o.slots.baseSelect,(0,cS.default)({ref:y,value:i,onChange:E,open:x,onOpen:e=>{"key"in e&&e.key&&"Enter"===e.key||C(!0)},onClose:(e,t)=>{if(o.editMode===hq.Row)return void C(!1);if("backdropClick"===t||"Escape"===e.key){let t=b.current.getCellParams(l,s);b.current.publishEvent("cellEditStop",(0,cS.default)({},t,{reason:"Escape"===e.key?h_.escapeKeyDown:h_.cellFocusOut}))}},error:p,native:S,fullWidth:!0,slotProps:{htmlInput:{ref:w}}},v,null==m?void 0:m.root,null==(n=o.slotProps)?void 0:n.baseSelect,{children:k.map(e=>{var t;let n=M(e);return(0,g.createElement)(o.slots.baseSelectOption,(0,cS.default)({},(null==(t=o.slotProps)?void 0:t.baseSelectOption)||{},{native:S,key:n,value:n}),R(e))})})):null}let h0=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"];function h1(e){var t,n,r,o,l,i,s,u,c;let{item:d,applyValue:p,type:h,apiRef:f,focusElementRef:m,tabIndex:v,clearButton:b,headerFilterMenu:y,slotProps:w}=e,x=(0,cE.default)(e,h0),C=null!=(i=d.value)?i:"",S=pG(),k=pG(),M=dt(),R=null!=(s=null==(n=M.slotProps)||null==(t=n.baseSelect)?void 0:t.native)&&s,E=f.current.getColumn(d.field),T=E.getOptionValue,I=E.getOptionLabel,O=g.useMemo(()=>hX(E),[E]),P=g.useCallback(e=>{let t=e.target.value;t=hY(t,O,T),p((0,cS.default)({},d,{value:t}))},[O,T,p,d]);if(!E||!hJ(E))return null;let N=null!=(u=null==w?void 0:w.root.label)?u:f.current.getLocaleText("filterPanelInputLabel");return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(M.slots.baseSelect,(0,cS.default)({fullWidth:!0,id:S,label:N,labelId:k,value:C,onChange:P,slotProps:{htmlInput:(0,cS.default)({tabIndex:v,ref:m,type:h||"text",placeholder:null!=(c=null==w?void 0:w.root.placeholder)?c:f.current.getLocaleText("filterPanelInputPlaceholder")},null==w||null==(r=w.root.slotProps)?void 0:r.htmlInput)},native:R},null==(o=M.slotProps)?void 0:o.baseSelect,x,null==w?void 0:w.root,{children:(e=>{let{column:t,OptionComponent:n,getOptionLabel:r,getOptionValue:o,isSelectNative:l,baseSelectOptionProps:i}=e;return["",...hX(t)||[]].map(e=>{let t=o(e),a=r(e);return""===a&&(a=""),(0,g.createElement)(n,(0,cS.default)({},i,{native:l,key:t,value:t}),a)})})({column:E,OptionComponent:M.slots.baseSelectOption,getOptionLabel:I,getOptionValue:T,isSelectNative:R,baseSelectOptionProps:null==(l=M.slotProps)?void 0:l.baseSelectOption})})),y,b]})}let h2=["item","applyValue","type","apiRef","focusElementRef","slotProps"],h5=e=>null!=e&&pK(e)?e.value:e,h3=(0,cS.default)({},hl,{type:"singleSelect",getOptionLabel:e=>pK(e)?e.label:String(e),getOptionValue:e=>pK(e)?e.value:e,valueFormatter(e,t,n,r){let o=hO(r,t);if(!hJ(n))return"";let l=hX(n,{id:o,row:t});if(null==e)return"";if(!l)return e;if("object"!=typeof l[0])return n.getOptionLabel(e);let i=l.find(t=>n.getOptionValue(t)===e);return i?n.getOptionLabel(i):""},renderEditCell:e=>(0,a.jsx)(hZ,(0,cS.default)({},e)),filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>h5(t)===h5(e.value),InputComponent:h1},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>h5(t)!==h5(e.value),InputComponent:h1},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||0===e.value.length)return null;let t=e.value.map(h5);return e=>t.includes(h5(e))},InputComponent:function(e){let{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,slotProps:i}=e,s=(0,cE.default)(e,h2),u=pG(),c=dt(),d=o.current.getColumn(t.field),p=d.getOptionValue,h=d.getOptionLabel,f=g.useCallback((e,t)=>p(e)===p(t),[p]),m=g.useMemo(()=>hX(d)||[],[d]),v=g.useMemo(()=>Array.isArray(t.value)?t.value.reduce((e,t)=>{let n=m.find(e=>p(e)===t);return null!=n&&e.push(n),e},[]):[],[p,t.value,m]),b=g.useCallback((e,r)=>{n((0,cS.default)({},t,{value:r.map(p)}))},[n,t,p]);if(!d||!hJ(d))return null;let y=c.slots.baseAutocomplete;return(0,a.jsx)(y,(0,cS.default)({multiple:!0,options:m,isOptionEqualToValue:f,id:u,value:v,onChange:b,getOptionLabel:h,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:l}}},s,null==i?void 0:i.root))}}],pastedValueParser:(e,t,n)=>{let r=hX(n)||[],o=n.getOptionValue;if(r.find(t=>o(t)===e))return e}});var h4=e.i(868308);function h9(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}let h6=e=>0===e.indexOf("Arrow")||0===e.indexOf("Page")||" "===e||"Home"===e||"End"===e,h7=e=>"Tab"===e||"Escape"===e;function h8(e){return(e.ctrlKey||e.metaKey)&&"V"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey}let fe=["open","target","onClose","children","position","className","onExited"],ft=(0,cL.styled)(pO,{name:"MuiDataGrid",slot:"Menu"})({zIndex:cq.zIndex.menu,["& .".concat(cW.menuList)]:{outline:0}});function fn(e){var t;let{open:n,target:r,onClose:o,children:l,position:i,className:s,onExited:u}=e,c=(0,cE.default)(e,fe),d=dq(),p=dt(),h=(e=>{let{classes:t}=e;return cP({root:["menu"]},cV,t)})(p),f=di(),m=g.useRef(null);return pm(()=>{if(n)m.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var e,t;null==(t=m.current)||null==(e=t.focus)||e.call(t),m.current=null}},[n]),g.useEffect(()=>{let e=n?"menuOpen":"menuClose";d.current.publishEvent(e,{target:r})},[d,n,r]),(0,a.jsx)(ft,(0,cS.default)({as:p.slots.basePopper,className:(0,cT.default)(h.root,s,f),ownerState:p,open:n,target:r,transition:!0,placement:i,onClickAway:e=>{e.target&&(r===e.target||(null==r?void 0:r.contains(e.target)))||o(e)},onExited:u,clickAwayMouseEvent:"onMouseDown",onKeyDown:e=>{h7(e.key)&&o(e)}},c,null==(t=p.slotProps)?void 0:t.basePopper,{children:l}))}let fr=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function fo(e){var t;let{colDef:n,id:r,hasFocus:o,tabIndex:l,position:i="bottom-end",focusElementRef:s}=e,u=(0,cE.default)(e,fr),[c,d]=g.useState(-1),[p,h]=g.useState(!1),f=dq(),m=g.useRef(null),v=g.useRef(null),b=g.useRef(!1),y=g.useRef({}),w=(0,h4.useRtl)(),x=pG(),C=pG(),S=dt();if("function"!=typeof n.getActions)throw Error("MUI X: Missing the `getActions` property in the `GridColDef`.");let k=n.getActions(f.current.getRowParams(r)),M=k.filter(e=>!e.props.showInMenu),R=k.filter(e=>e.props.showInMenu),E=M.length+ +!!R.length;g.useLayoutEffect(()=>{o||Object.entries(y.current).forEach(e=>{let[t,n]=e;null==n||n.stop({},()=>{delete y.current[t]})})},[o]),g.useEffect(()=>{c<0||!m.current||c>=m.current.children.length||m.current.children[c].focus({preventScroll:!0})},[c]),g.useEffect(()=>{o||(d(-1),b.current=!1)},[o]),g.useImperativeHandle(s,()=>({focus(){b.current||d(k.findIndex(e=>!e.props.disabled))}}),[k]),g.useEffect(()=>{c>=E&&d(E-1)},[c,E]);let T=()=>{h(!1)},I=e=>t=>{y.current[e]=t},O=E>0?{role:"menu",onKeyDown:e=>{if(E<=1)return;let t=(e,n)=>{var r;if(e<0||e>k.length)return e;let o=("left"===n?-1:1)*(w?-1:1);return(null==(r=k[e+o])?void 0:r.props.disabled)?t(e+o,n):e+o},n=c;"ArrowRight"===e.key?n=t(c,"right"):"ArrowLeft"===e.key&&(n=t(c,"left")),n<0||n>=E||n!==c&&(e.preventDefault(),e.stopPropagation(),d(n))}}:void 0;return(0,a.jsxs)("div",(0,cS.default)({ref:m,tabIndex:-1,className:cW.actionsCell},O,u,{children:[M.map((e,t)=>{let n;return g.cloneElement(e,{key:t,touchRippleRef:I(t),onClick:(n=e.props.onClick,e=>{d(t),b.current=!0,n&&n(e)}),tabIndex:c===t?l:-1})}),R.length>0&&C&&(0,a.jsx)(S.slots.baseIconButton,(0,cS.default)({ref:v,id:C,"aria-label":f.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":p,"aria-controls":p?x:void 0,role:"menuitem",size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),p?T():(h(!0),d(E-1),b.current=!0)},touchRippleRef:I(C),tabIndex:c===M.length?l:-1},null==(t=S.slotProps)?void 0:t.baseIconButton,{children:(0,a.jsx)(S.slots.moreActionsIcon,{fontSize:"small"})})),R.length>0&&(0,a.jsx)(fn,{open:p,target:v.current,position:i,onClose:T,children:(0,a.jsx)(S.slots.baseMenuList,{id:x,className:cW.menuList,"aria-labelledby":C,autoFocusItem:!0,children:R.map((e,t)=>g.cloneElement(e,{key:t,closeMenu:T}))})})]}))}let fl="actions",fi=(0,cS.default)({},hl,{sortable:!1,filterable:!1,aggregable:!1,chartable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:e=>(0,a.jsx)(fo,(0,cS.default)({},e)),getApplyQuickFilterFn:()=>null}),fa=df(e=>e.headerFiltering),fs=dp(fa,e=>{var t;return null!=(t=null==e?void 0:e.enabled)&&t}),fu=dp(fa,e=>e.editing),fc=dp(fa,e=>e.menuOpen),fd=df(e=>e.columnGrouping),fp=dh(fd,e=>{var t;return null!=(t=null==e?void 0:e.unwrappedGroupingModel)?t:{}}),fh=dh(fd,e=>{var t;return null!=(t=null==e?void 0:e.lookup)?t:{}}),ff=dh(fd,e=>{var t;return null!=(t=null==e?void 0:e.headerStructure)?t:[]}),fm=dp(fd,e=>{var t;return null!=(t=null==e?void 0:e.maxDepth)?t:0}),fg=["maxWidth","minWidth","width","flex"],fv={string:hl,number:ha,date:hN,dateTime:hD,boolean:hG,singleSelect:h3,[fl]:fi,custom:hl},fb=(e,t)=>{let n={},r=0,o=0,l=[];e.orderedFields.forEach(t=>{let i=e.lookup[t],a=0,s=!1;!1!==e.columnVisibilityModel[t]&&(i.flex&&i.flex>0?(r+=i.flex,s=!0):a=pJ(i.width||hl.width,i.minWidth||hl.minWidth,i.maxWidth||hl.maxWidth),o+=a),i.computedWidth!==a&&(i=(0,cS.default)({},i,{computedWidth:a})),s&&l.push(i),n[t]=i});let i=void 0===t?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(i-o,0);if(r>0&&i>0){let e=function(e){let{initialFreeSpace:t,totalFlexUnits:n,flexColumns:r}=e,o=new Set(r.map(e=>e.field)),l={all:{},frozenFields:[],freeze:e=>{let t=l.all[e];t&&!0!==t.frozen&&(l.all[e].frozen=!0,l.frozenFields.push(e))}};return!function e(){if(l.frozenFields.length===o.size)return;let i={},a={},s=t,u=n,c=0;l.frozenFields.forEach(e=>{s-=l.all[e].computedWidth,u-=l.all[e].flex});for(let e=0;e<r.length;e+=1){let t=r[e];if(l.all[t.field]&&!0===l.all[t.field].frozen)continue;let n=s/u*t.flex;n<t.minWidth?(c+=t.minWidth-n,n=t.minWidth,i[t.field]=!0):n>t.maxWidth&&(c+=t.maxWidth-n,n=t.maxWidth,a[t.field]=!0),l.all[t.field]={frozen:!1,computedWidth:n,flex:t.flex}}c<0?Object.keys(a).forEach(e=>{l.freeze(e)}):c>0?Object.keys(i).forEach(e=>{l.freeze(e)}):r.forEach(e=>{let{field:t}=e;l.freeze(t)}),e()}(),l.all}({initialFreeSpace:a,totalFlexUnits:r,flexColumns:l});Object.keys(e).forEach(t=>{n[t]=(0,cS.default)({},n[t],{computedWidth:e[t].computedWidth})})}return(0,cS.default)({},e,{lookup:n})};function fy(e){let t=fv.string;return e&&fv[e]&&(t=fv[e]),t}let fw=e=>{var t,n,r;let o,{apiRef:l,columnsToUpsert:i,initialState:a,columnVisibilityModel:s=dP(l),keepOnlyColumnsToUpsert:u=!1,updateInitialVisibilityModel:c=!1}=e,d=!l.current.state.columns;if(d)o={orderedFields:[],lookup:{},columnVisibilityModel:s,initialColumnVisibilityModel:s};else{let e=dE(l);o={orderedFields:u?[]:[...e.orderedFields],lookup:(0,cS.default)({},e.lookup),columnVisibilityModel:s,initialColumnVisibilityModel:c?s:e.initialColumnVisibilityModel}}let p={};if(u&&!d)for(let e in o.lookup)Object.prototype.hasOwnProperty.call(o.lookup,e)&&(p[e]=!1);let h={};return i.forEach(e=>{let{field:t}=e;h[t]=!0,p[t]=!0;let n=o.lookup[t];null==n?(n=(0,cS.default)({},fy(e.type),{field:t,hasBeenResized:!1}),o.orderedFields.push(t)):u&&o.orderedFields.push(t),n&&n.type!==e.type&&(n=(0,cS.default)({},fy(e.type),{field:t}));let r=n.hasBeenResized;fg.forEach(t=>{void 0!==e[t]&&(r=!0,-1===e[t]&&(e[t]=1/0))}),o.lookup[t]=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={...n};for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l))if("components"===l||"slots"===l)o[l]={...t[l],...o[l]};else if("componentsProps"===l||"slotProps"===l){let i=t[l],a=n[l];if(a)if(i)for(let t in o[l]={...a},i)Object.prototype.hasOwnProperty.call(i,t)&&(o[l][t]=e(i[t],a[t],r));else o[l]=a;else o[l]=i||{}}else"className"===l&&r&&n.className?o.className=(0,cT.default)(null==t?void 0:t.className,null==n?void 0:n.className):"style"===l&&r&&n.style?o.style={...null==t?void 0:t.style,...null==n?void 0:n.style}:void 0===o[l]&&(o[l]=t[l]);return o}(n,(0,cS.default)({},fy(e.type),e,{hasBeenResized:r}))}),u&&!d&&Object.keys(o.lookup).forEach(e=>{p[e]||delete o.lookup[e]}),fb(((e,t)=>{if(!t)return e;let{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(0===o.length&&0===n.length)return e;let l={},i=[];for(let t=0;t<n.length;t+=1){let r=n[t];e.lookup[r]&&(l[r]=!0,i.push(r))}let a=0===i.length?e.orderedFields:[...i,...e.orderedFields.filter(e=>!l[e])],s=(0,cS.default)({},e.lookup);for(let e=0;e<o.length;e+=1){let t=o[e],n=(0,cS.default)({},s[t],{hasBeenResized:!0});Object.entries(r[t]).forEach(e=>{let[t,r]=e;n[t]=-1===r?1/0:r}),s[t]=n}return(0,cS.default)({},e,{orderedFields:a,lookup:s})})(l.current.unstable_applyPipeProcessors("hydrateColumns",o),a),null!=(r=null==(t=(n=l.current).getRootDimensions)?void 0:t.call(n))?r:void 0)};function fx(e,t){var n,r;if(t.listView)return 0;let o=db(e),l=fm(e),i=fs(e),a=Math.floor(t.columnHeaderHeight*o);return a+Math.floor((null!=(n=t.columnGroupHeaderHeight)?n:t.columnHeaderHeight)*o)*l+(i?Math.floor((null!=(r=t.headerFilterHeight)?r:t.columnHeaderHeight)*o):0)}let fC=df(e=>e.rowsMeta),fS=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{["&.".concat(cW["scrollArea--left"])]:t["scrollArea--left"]},{["&.".concat(cW["scrollArea--right"])]:t["scrollArea--right"]},{["&.".concat(cW["scrollArea--up"])]:t["scrollArea--up"]},{["&.".concat(cW["scrollArea--down"])]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,["&.".concat(cW["scrollArea--left"])]:{top:0,left:0,width:20,bottom:0},["&.".concat(cW["scrollArea--right"])]:{top:0,right:0,width:20,bottom:0},["&.".concat(cW["scrollArea--up"])]:{top:0,left:0,right:0,height:20},["&.".concat(cW["scrollArea--down"])]:{bottom:0,left:0,right:0,height:20}})),fk=dp(dZ,(e,t)=>"left"===t?e.leftPinnedWidth:"right"===t?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function fM(e){let{scrollDirection:t,scrollPosition:n}=e,r=g.useRef(null),o=dq(),l=pI(),i=c2(o,db),s=c2(o,d0),u=c2(o,fk,t),c=dt(),d=fx(o,c),p=Math.floor(c.columnHeaderHeight*i),h=(0,cS.default)({height:p,top:d-p},"left"===t?{left:u}:{},"right"===t?{right:u}:{}),f=pg(e=>{let i;if(e.preventDefault(),"left"===t)i=e.clientX-r.current.getBoundingClientRect().right;else if("right"===t)i=Math.max(1,e.clientX-r.current.getBoundingClientRect().left);else throw Error("MUI X: Wrong drag direction");i=(i-1)*1.5+1,l.start(0,()=>{o.current.scroll({left:n.current.left+i,top:n.current.top})})});return(0,a.jsx)(fE,(0,cS.default)({},e,{ref:r,getCanScrollMore:()=>{let e=dZ(o);if("left"===t)return n.current.left>0;if("right"===t){let t=s-e.viewportInnerSize.width;return n.current.left<t}return!1},style:h,handleDragOver:f}))}function fR(e){let{scrollDirection:t,scrollPosition:n}=e,r=g.useRef(null),o=dq(),l=pI(),i=c2(o,fC),s=fx(o,dt()),u=pg(e=>{let i;if(e.preventDefault(),"up"===t)i=e.clientY-r.current.getBoundingClientRect().bottom;else if("down"===t)i=Math.max(1,e.clientY-r.current.getBoundingClientRect().top);else throw Error("MUI X: Wrong drag direction");i=(i-1)*1.5+1,l.start(0,()=>{o.current.scroll({left:n.current.left,top:n.current.top+i})})});return(0,a.jsx)(fE,(0,cS.default)({},e,{ref:r,getCanScrollMore:()=>{let e=dZ(o);if("up"===t)return n.current.top>0;if("down"===t){let t=(i.currentPageTotalHeight||0)-e.viewportInnerSize.height-(e.hasScrollX?e.scrollbarSize:0);return n.current.top<t}return!1},style:{top:"up"===t?s:void 0,bottom:"down"===t?0:void 0},handleDragOver:u}))}let fE=cR(function(e,t){let{scrollDirection:n,getCanScrollMore:r,style:o,handleDragOver:l}=e,i=dq(),[s,u]=g.useState(r),c=dt(),d=(0,cS.default)({},c,{scrollDirection:n}),p=(e=>{let{scrollDirection:t,classes:n}=e;return cP({root:["scrollArea","scrollArea--".concat(t)]},cV,n)})(d);return(pS(i,"scrollPositionChange",()=>{u(r)}),s)?(0,a.jsx)(fS,{ref:t,className:p.root,ownerState:d,onDragOver:l,style:o}):null}),fT=cA(function(e){let t=dq(),[n,r]=g.useState("none");return(pS(t,"columnHeaderDragStart",()=>r("horizontal")),pS(t,"columnHeaderDragEnd",()=>r("none")),pS(t,"rowDragStart",()=>r("vertical")),pS(t,"rowDragEnd",()=>r("none")),"none"===n)?null:"horizontal"===n?(0,a.jsx)(fM,(0,cS.default)({},e)):(0,a.jsx)(fR,(0,cS.default)({},e))});function fI(e){for(let t in e)return!1;return!0}let fO=df(e=>e.sorting),fP=dp(fO,e=>e.sortedRows),fN=dh(fP,po,pl,(e,t,n)=>e.reduce((e,r)=>{let o=t[r];if(o)e.push({id:r,model:o});else{let t=n[r];t&&hS(t)&&e.push({id:r,model:{[hb]:r}})}return e},[])),fD=dp(fO,e=>e.sortModel),fA=dh(fD,e=>e.reduce((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t),{}));dh(fP,e=>e.reduce((e,t,n)=>(e[t]=n,e),Object.create(null)));let fL=df(e=>e.filter),fj=dp(fL,e=>e.filterModel),fz=dp(fj,e=>e.quickFilterValues),fF=df(e=>e.visibleRowsLookup),fH=dp(fL,e=>e.filteredRowsLookup);dp(fL,e=>e.filteredChildrenCountLookup),dp(fL,e=>e.filteredDescendantCountLookup);let fB=dh(fF,fN,(e,t)=>fI(e)?t:t.filter(t=>!1!==e[t.id])),fV=dh(fB,e=>e.map(e=>e.id)),fW=dh(fH,fN,(e,t)=>fI(e)?t:t.filter(t=>!1!==e[t.id])),fG=dh(fW,e=>e.map(e=>e.id));dh(fV,pl,(e,t)=>{let n={},r=0;return e.reduce((e,o)=>{let l=t[o];return n[l.depth]||(n[l.depth]=0),l.depth>r&&(n[l.depth]=0),r=l.depth,n[l.depth]+=1,e[o]=n[l.depth],e},{})});let fU=dp(dh(fW,pl,pc,(e,t,n)=>n<2?[e]:e.reduce((e,n)=>{var r;let o=null==(r=t[n.id])?void 0:r.depth;return void 0===o||(e[o]||(e[o]=[]),e[o].push(n)),e},[[]])),e=>{var t;return null!=(t=e[0])?t:[]}),f_=dp(fB,e=>e.length),fq=dp(fU,e=>e.length),fK=dp(fW,e=>e.length);dp(fK,fq,(e,t)=>e-t);let f$=dh(fj,dI,(e,t)=>{var n;return null==(n=e.items)?void 0:n.filter(e=>{var n,r;if(!e.field)return!1;let o=t[e.field];if(!(null==o?void 0:o.filterOperators)||(null==o||null==(n=o.filterOperators)?void 0:n.length)===0)return!1;let l=o.filterOperators.find(t=>t.value===e.operator);return!!l&&(!l.InputComponent||null!=e.value&&(null==(r=e.value)?void 0:r.toString())!=="")})}),fJ=dh(f$,e=>e.reduce((e,t)=>(e[t.field]?e[t.field].push(t):e[t.field]=[t],e),{}));dh(fV,e=>e.reduce((e,t,n)=>(e[t]=n,e),Object.create(null)));let fX=df(e=>e.pivoting),fY=dp(fX,e=>null==e?void 0:e.active),fQ=new Map,fZ=dp(fX,e=>(null==e?void 0:e.initialColumns)||fQ),f0=(e,t)=>{let n=c2(e,pt),r=c2(e,f_),o=c2(e,pf),l=c2(e,dD),i=0===n&&0===o,a=c2(e,pn),s=c2(e,fY),u=!a&&i,c=!a&&0===l.length,d=null,p=null;if(u&&(d="noRowsOverlay"),c&&(d="noColumnsOverlay"),u&&s&&(d="emptyPivotOverlay"),!a&&n>0&&0===r&&(d="noResultsOverlay"),a){var h,f,m;d="loadingOverlay",p=null!=(m=null==(f=t.slotProps)||null==(h=f.loadingOverlay)?void 0:h[i?"noRowsVariant":"variant"])?m:i?"skeleton":"linear-progress"}return{overlayType:d,loadingOverlayVariant:p}},f1=df(e=>e.focus),f2=dp(f1,e=>e.cell),f5=dp(f1,e=>e.columnHeader);dp(f1,e=>e.columnHeaderFilter);let f3=dp(f1,e=>e.columnGroupHeader),f4=df(e=>e.tabIndex),f9=dp(f4,e=>e.cell),f6=dp(f4,e=>e.columnHeader);dp(f4,e=>e.columnHeaderFilter);let f7=dp(f4,e=>e.columnGroupHeader),f8=df(e=>e.columnMenu),me=cA(function(){var e;let t=c3(),n=dt(),r=c2(t,dD),o=c2(t,fJ),l=c2(t,fA),i=c2(t,f6),s=c2(t,()=>null===f9(t)),u=c2(t,f7),c=c2(t,f5),d=c2(t,f3),p=c2(t,fm),h=c2(t,f8),f=c2(t,dP),m=c2(t,ff),g=t.current.columnHeadersContainerRef;return(0,a.jsx)(n.slots.columnHeaders,(0,cS.default)({ref:g,visibleColumns:r,filterColumnLookup:o,sortColumnLookup:l,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:u,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:p,columnMenuState:h,columnVisibility:f,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:!(null===u&&null===i&&s)},null==(e=n.slotProps)?void 0:e.columnHeaders))});var dQ=dQ;let mt=(0,dQ.default)("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),mn=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{let{ownerState:n,loadingOverlayVariant:r,overlayType:o}=e;return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],("skeleton"===r||"noColumnsOverlay"===o)&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),mr=cR((e,t)=>{var n;let{ownerState:r}=e,o=dt(),l=dr().hooks.useGridAriaAttributes();return(0,a.jsxs)(mn,(0,cS.default)({ownerState:r,className:e.className,tabIndex:-1},l,null==(n=o.slotProps)?void 0:n.main,{ref:t,children:[(0,a.jsx)(mt,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))});var dQ=dQ;let mo=(0,dQ.default)("div")({position:"sticky",zIndex:40,top:0});function ml(e){let t=cP({root:["topContainer"]},cV,{});return(0,a.jsx)(mo,(0,cS.default)({},e,{className:(0,cT.default)(t.root,cW["container--top"]),role:"presentation"}))}var dQ=dQ;let mi=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),ma=cR(function(e,t){var n;let r=dt(),o=!r.autoHeight&&(null==(n=e.style)?void 0:n.minHeight)==="auto",l=((e,t)=>{let{classes:n}=e;return cP({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},cV,n)})(r,o),i={classes:r.classes,overflowedContent:o};return(0,a.jsx)(mi,(0,cS.default)({},e,{ownerState:i,className:(0,cT.default)(l.root,e.className),ref:t}))});var dQ=dQ;let ms=(0,dQ.default)("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),mu=(0,dQ.default)("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:cq.cell.background.pinned}),mc=(0,dQ.default)(mu)({left:0}),md=(0,dQ.default)(mu)({right:0}),mp=(0,dQ.default)("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"}),mh=cA(function(e){let{rowsLength:t}=e,{viewportOuterSize:n,minimumSize:r,hasScrollX:o,hasScrollY:l,scrollbarSize:i,leftPinnedWidth:s,rightPinnedWidth:u}=c2(dq(),dZ),c=o?i:0,d=n.height-r.height>0;return 0!==c||d?(0,a.jsxs)(ms,{className:cW.filler,role:"presentation",style:{height:c,"--rowBorderColor":0===t?"transparent":"var(--DataGrid-rowBorderColor)"},children:[s>0&&(0,a.jsx)(mc,{className:cW["filler--pinnedLeft"],style:{width:s}}),(0,a.jsx)(mp,{}),u>0&&(0,a.jsx)(md,{className:cW["filler--pinnedRight"],style:{width:u+(l?i:0)}})]}):null});var dQ=dQ;let mf=["className"],mm=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),mg=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,mf),o=c3(),l=dt(),i=(e=>{let{classes:t}=e;return cP({root:["virtualScrollerRenderZone"]},cV,t)})(l),s=o.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return(0,a.jsx)(mm,(0,cS.default)({className:(0,cT.default)(i.root,n),ownerState:l,style:{transform:"translate3d(0, ".concat(s,"px, 0)")}},r,{ref:t}))});var dQ=dQ;let mv=(0,dQ.default)("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),mb=(0,dQ.default)(mv)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-headersTotalHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-headersTotalHeight)",right:0}),my=(0,dQ.default)(mv)({width:"calc(var(--DataGrid-hasScrollX) * (100% - var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:0}),mw=(0,dQ.default)(mv)({width:"var(--size)",height:"var(--size)",right:0,bottom:0,overflow:"scroll"}),mx=cR(function(e,t){let n=c3(),r=dt(),o=g.useRef(!1),l=g.useRef(0),i=g.useRef(null),s=((e,t)=>{let{classes:n}=e;return cP({root:["scrollbar","scrollbar--".concat(t)],content:["scrollbarContent"]},cV,n)})(r,e.position),u=c2(n,dZ),c="vertical"===e.position?"height":"width",d="vertical"===e.position?"scrollTop":"scrollLeft",p="vertical"===e.position?"top":"left",h="horizontal"===e.position?u.minimumSize.width:u.minimumSize.height-u.headersTotalHeight,f=pg(()=>{let t=i.current,n=e.scrollPosition.current;if(t&&n[p]!==l.current){if(l.current=n[p],o.current){o.current=!1;return}o.current=!0,t[d]=n[p]}}),m=pg(()=>{let e=n.current.virtualScrollerRef.current,t=i.current;if(t){if(o.current){o.current=!1;return}o.current=!0,e[d]=t[d]}});pE(()=>{let e=n.current.virtualScrollerRef.current,t=i.current,r={passive:!0};return e.addEventListener("scroll",f,r),t.addEventListener("scroll",m,r),()=>{e.removeEventListener("scroll",f,r),t.removeEventListener("scroll",m,r)}});let v="vertical"===e.position?mb:my,b=g.useMemo(()=>({[c]:"".concat(h,"px")}),[c,h]);return(0,a.jsx)(v,{ref:cI(t,i),className:s.root,tabIndex:-1,"aria-hidden":"true",onFocus:e=>{e.target.blur()},children:(0,a.jsx)("div",{className:s.content,style:b})})});var dQ=dQ;let mC=(0,dQ.default)("div")(e=>{let{theme:t}=e;return{position:"absolute",inset:0,pointerEvents:"none",transition:cq.transition(["box-shadow"],{duration:cq.transitions.duration.short}),"--length":"dark"===t.palette.mode?"8px":"6px","--length-inverse":"calc(var(--length) * -1)","--opacity":"dark"===t.palette.mode?"0.7":"0.18","--blur":"var(--length)","--spread":"calc(var(--length) * -1)","--color-start":"rgba(0, 0, 0, calc(var(--hasScrollStart) * var(--opacity)))","--color-end":"rgba(0, 0, 0, calc(var(--hasScrollEnd) * var(--opacity)))",variants:[{props:{position:"vertical"},style:{top:"var(--DataGrid-topContainerHeight)",bottom:"calc(var(--DataGrid-bottomContainerHeight) + var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))",boxShadow:"inset 0 var(--length) var(--blur) var(--spread) var(--color-start), inset 0 var(--length-inverse) var(--blur) var(--spread) var(--color-end)"}},{props:{position:"horizontal"},style:{left:"var(--DataGrid-leftPinnedWidth)",right:"calc(var(--DataGrid-rightPinnedWidth) + var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",boxShadow:"inset var(--length) 0 var(--blur) var(--spread) var(--color-start), inset var(--length-inverse) 0 var(--blur) var(--spread) var(--color-end)"}}]}});function mS(e){var t,n,r;let{position:o}=e,l={classes:dt().classes,position:o},i=g.useRef(null),s=c3(),u=c2(s,d2),c=c2(s,d5),d=c2(s,ph),p=c2(s,dL),h="vertical"===o?c&&(null==d||null==(t=d.bottom)?void 0:t.length)>0:u&&(null==p||null==(n=p.right)?void 0:n.length)!==void 0&&(null==p||null==(r=p.right)?void 0:r.length)>0,f=(0,h4.useRtl)(),m=g.useCallback(e=>{var t,n,r,l,a,u;if(!i.current)return;let c=Math.abs(Math.round(e)),h=dZ(s),m=Math.round(h.contentSize["vertical"===o?"height":"width"]-h.viewportInnerSize["vertical"===o?"height":"width"]),g="vertical"===o?(null==d||null==(t=d.top)?void 0:t.length)>0:(null==p||null==(n=p.left)?void 0:n.length)!==void 0&&(null==p||null==(r=p.left)?void 0:r.length)>0,v="vertical"===o?(null==d||null==(l=d.bottom)?void 0:l.length)>0:(null==p||null==(a=p.right)?void 0:a.length)!==void 0&&(null==p||null==(u=p.right)?void 0:u.length)>0,b=f?c<m:c>0,y=f?c>0:c<m;i.current.style.setProperty("--hasScrollStart",g&&b?"1":"0"),i.current.style.setProperty("--hasScrollEnd",v&&y?"1":"0")},[d,p,f,o,s]);return pS(s,"scrollPositionChange",e=>{m(e["vertical"===o?"top":"left"])}),pS(s,"columnResizeStop",()=>{if("horizontal"===o){var e,t;m((null==(t=s.current.virtualScrollerRef)||null==(e=t.current)?void 0:e.scrollLeft)||0)}}),g.useEffect(()=>{var e,t,n,r,l;m(null!=(l="horizontal"===o?null==(t=s.current.virtualScrollerRef)||null==(e=t.current)?void 0:e.scrollLeft:null==(r=s.current.virtualScrollerRef)||null==(n=r.current)?void 0:n.scrollTop)?l:0)},[m,s,o]),(0,a.jsx)(mC,{ownerState:l,ref:i,style:{"--hasScrollStart":0,"--hasScrollEnd":h?"1":"0"}})}var dQ=dQ;let mk=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e&&"right"!==e})(e=>{let{overlayType:t,loadingOverlayVariant:n,right:r}=e;return"skeleton"!==n?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:"".concat(r,"px"),width:0,height:0,zIndex:"loadingOverlay"===t?5:4}:{}}),mM=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e})({});function mR(e){let t=dq(),n=dt(),r=c2(t,dZ),o=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);0===o&&(o=hR);let l=(e=>{let{classes:t}=e;return cP({root:["overlayWrapper"],inner:["overlayWrapperInner"]},cV,t)})((0,cS.default)({},e,{classes:n.classes}));return(0,a.jsx)(mk,(0,cS.default)({className:l.root},e,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:(0,a.jsx)(mM,(0,cS.default)({className:l.inner,style:{height:o,width:r.viewportOuterSize.width}},e))}))}let mE=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),mT=e=>e.current.state.dimensions.rightPinnedWidth>0;function mI(e){var t,n,r,o;let l=c3(),i=dt(),s=c2(l,d5),u=c2(l,d2),c=c2(l,mT),d=c2(l,d8),{overlayType:p,loadingOverlayVariant:h}=f0(l,i),f=null==(t=i.slots)?void 0:t[p],m={classes:i.classes,hasScrollX:u,hasPinnedRight:c,overlayType:p,loadingOverlayVariant:h},v=(e=>{let{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:o,overlayType:l}=e;return cP({root:["main",r&&"main--hasPinnedRight",("skeleton"===o||"noColumnsOverlay"===l)&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},cV,t)})(m),b=l.current.virtualizer.api.useVirtualization().getters,{getContainerProps:y,getScrollerProps:w,getContentProps:x,getScrollbarVerticalProps:C,getScrollbarHorizontalProps:S,getRows:k,getScrollAreaProps:M}=b,R=k(void 0,pl(l));return(0,a.jsxs)(mr,(0,cS.default)({className:v.root},y(),{ownerState:m,children:[(0,a.jsx)(fT,(0,cS.default)({scrollDirection:"left"},M())),(0,a.jsx)(fT,(0,cS.default)({scrollDirection:"right"},M())),(0,a.jsx)(fT,(0,cS.default)({scrollDirection:"up"},M())),(0,a.jsx)(fT,(0,cS.default)({scrollDirection:"down"},M())),(0,a.jsxs)(mE,(0,cS.default)({className:v.scroller},w(),{ownerState:m,children:[(0,a.jsxs)(ml,{children:[!i.listView&&(0,a.jsx)(me,{}),(0,a.jsx)(i.slots.pinnedRows,{position:"top",virtualScroller:b})]}),p&&(0,a.jsx)(mR,{overlayType:p,loadingOverlayVariant:h,children:(0,a.jsx)(f,(0,cS.default)({},null==(n=i.slotProps)?void 0:n[p]))}),(0,a.jsx)(ma,(0,cS.default)({},x(),{children:(0,a.jsxs)(mg,{role:"rowgroup",children:[R,(0,a.jsx)(i.slots.detailPanels,{virtualScroller:b})]})})),d&&(0,a.jsx)(mh,{rowsLength:R.length}),(0,a.jsx)(i.slots.bottomContainer,{children:(0,a.jsx)(i.slots.pinnedRows,{position:"bottom",virtualScroller:b})})]})),u&&(0,a.jsxs)(g.Fragment,{children:[(null==(r=i.pinnedColumnsSectionSeparator)?void 0:r.endsWith("shadow"))&&(0,a.jsx)(mS,{position:"horizontal"}),(0,a.jsx)(mx,(0,cS.default)({position:"horizontal"},S()))]}),s&&(0,a.jsxs)(g.Fragment,{children:[(null==(o=i.pinnedRowsSectionSeparator)?void 0:o.endsWith("shadow"))&&(0,a.jsx)(mS,{position:"vertical"}),(0,a.jsx)(mx,(0,cS.default)({position:"vertical"},C()))]}),u&&s&&(0,a.jsx)(mw,{"aria-hidden":"true"}),e.children]}))}function mO(){var e;let t=dt();return t.hideFooter?null:(0,a.jsx)(t.slots.footer,(0,cS.default)({},null==(e=t.slotProps)?void 0:e.footer))}let mP=["className","children","sidePanel"],mN=cA(cR(function(e,t){let n=dt(),{className:r,children:o,sidePanel:l}=e,i=(0,cE.default)(e,mP),s=c3(),u=c2(s,dv),c=cI(s.current.rootElementRef,t,g.useCallback(e=>{null!==e&&s.current.publishEvent("rootMount",e)},[s])),d=((e,t)=>{let{autoHeight:n,classes:r,showCellVerticalBorder:o}=e;return cP({root:["root",n&&"autoHeight","root--density".concat(cO(t)),null===e.slots.toolbar&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]},cV,r)})(n,u),p=g.useContext(dl);return(0,c$.useSyncExternalStore)(dy,dw,dx)?null:(0,a.jsxs)(c6,(0,cS.default)({className:(0,cT.default)(d.root,r,p.className,l&&cW.withSidePanel),ownerState:n},i,{ref:c,children:[(0,a.jsxs)("div",{className:cW.mainContent,role:"presentation",children:[(0,a.jsx)(dY,{}),(0,a.jsx)(mI,{children:o}),(0,a.jsx)(mO,{})]}),l,p.tag]}))})),mD=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}({});class mA{has(e){return this.data.has(e)}select(e){this.data.add(e)}unselect(e){this.data.delete(e)}constructor(e){this.data=e.ids}}class mL{has(e){return!this.data.has(e)}select(e){this.data.delete(e)}unselect(e){this.data.add(e)}constructor(e){this.data=e.ids}}let mj=e=>"include"===e.type?new mA(e):new mL(e),mz=df(e=>e.rowSelection),mF=dh(mz,mj),mH=dp(mz,fK,(e,t)=>"include"===e.type?e.ids.size:t-e.ids.size),mB=dh(mz,po,pd,(e,t,n)=>{let r=new Map;if("include"===e.type)for(let n of e.ids)r.set(n,t[n]);else for(let o=0;o<n.length;o+=1){let l=n[o];e.ids.has(l)||r.set(l,t[l])}return r});function mV(e,t){var n;let r=pl(e),o=fP(e),l=fH(e),i=r[t];if(!i||"group"!==i.type)return[];let a=[],s=o.findIndex(e=>e===t)+1;for(let t=s;t<o.length&&(null==(n=r[o[t]])?void 0:n.depth)>i.depth;t+=1){let n=o[t];!1!==l[n]&&e.current.isRowSelectable(n)&&a.push(n)}return a}let mW=dp(pl,fH,mF,(e,t,n,r)=>{let{groupId:o,autoSelectParents:l}=r,i=e[o];if(!i||"group"!==i.type||n.has(o))return{isIndeterminate:!1,isChecked:n.has(o)};let a=!1,s=!1,u=r=>{if(!1===t[r]||a&&s)return;let o=e[r];(null==o?void 0:o.type)==="group"&&o.children.forEach(u),n.has(r)?a=!0:s=!0};return u(o),{isIndeterminate:a&&s,isChecked:!!l&&a&&!s}});function mG(e){return e.signature===mD.DataGrid?e.checkboxSelection&&!0!==e.disableMultipleRowSelection:!e.disableMultipleRowSelection}let mU=function(e,t,n,r,o,l){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mF(e),a=fH(e),s=new Set([]);if((r||o)&&!1!==a[n]){if(r){let r=t[n];(null==r?void 0:r.type)==="group"&&mV(e,n).forEach(e=>{l(e),s.add(e)})}if(o){let r=e=>{if(!i.has(e)&&!s.has(e))return!1;let n=t[e];return!!n&&("group"!==n.type||n.children.every(r))},o=n=>{let i=((e,t,n)=>{let r=e[n];if(!r)return[];let o=r.parent;return null==o?[]:e[o].children.filter(e=>e!==n&&!1!==t[e])})(t,a,n);if(0===i.length||i.every(r)){let r=t[n],i=null==r?void 0:r.parent;null!=i&&i!==hv&&e.current.isRowSelectable(i)&&(l(i),s.add(i),o(i))}},u=t[n];if(!u||u.parent===hv)return;o(n)}}},m_=(e,t,n,r,o,l)=>{let i=mF(e);if((o||r)&&(o&&((e,t)=>{let n=[],r=t;for(;null!=r&&r!==hv;){let t=e[r];if(!t)break;n.push(r),r=t.parent}return n})(t,n).forEach(e=>{i.has(e)&&l(e)}),r)){let r=t[n];(null==r?void 0:r.type)==="group"&&mV(e,n).forEach(e=>{l(e)})}};function mq(e){let{privateApiRef:t,configuration:n,props:r,children:o}=e,l=g.useRef(t.current.getPublicApi());return(0,a.jsx)(dn.Provider,{value:n,children:(0,a.jsx)(de.Provider,{value:r,children:(0,a.jsx)(c5.Provider,{value:t,children:(0,a.jsx)(d_.Provider,{value:l,children:(0,a.jsx)(dJ,{children:(0,a.jsx)(da,{children:o})})})})})})}function mK(e,t,n){let r=g.useRef(!0);pm(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}let m$=function(){try{let e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),mJ=()=>{},mX={debug:mJ,info:mJ,warn:mJ,error:mJ},mY=["debug","info","warn","error"];function mQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console,r=mY.indexOf(t);if(-1===r)throw Error("MUI X: Log level ".concat(t," not recognized."));return mY.reduce((t,o,l)=>(l>=r?t[o]=function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];let[i,...a]=r;n[o]("MUI X: ".concat(e," - ").concat(i),...a)}:t[o]=mJ,t),{})}var mZ=e.i(394257);let m0=function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e}({}),m1="none",m2={dataSourceRowsUpdate:m0.DataSource,rowTreeCreation:m0.RowTree,filtering:m0.RowTree,sorting:m0.RowTree,visibleRowsLookupCreation:m0.RowTree},m5=(e,t)=>(0,cS.default)({},e,{props:{listView:t.listView,getRowId:t.getRowId,isCellEditable:t.isCellEditable}});function m3(e,t){return Math.round(e*10**t)/10**t}let m4={},m9=[],m6=()=>{};function m7(e,t,n){var r;let o=function(e,t){let n=g.useRef(m4);return n.current===m4&&(n.current=e(t)),n}(m8,{store:e,selector:t}).current;o.effect=n,r=o.onMount,g.useEffect(r,m9)}function m8(e){let{store:t,selector:n}=e,r=n(t.state),o={effect:m6,dispose:null,subscribe:()=>{null!=o.dispose||(o.dispose=t.subscribe(e=>{let t=n(e);o.effect(r,t),r=t}))},onMount:()=>(o.subscribe(),()=>{var e;null==(e=o.dispose)||e.call(o),o.dispose=null})};return o.subscribe(),o}let ge={};function gt(e,t){let n=g.useRef(ge);return n.current===ge&&(n.current=e(t)),n}class gn{static create(e){return new gn(e)}setState(e){let t;this.state=e,this.updateTick+=1;let n=this.updateTick,r=this.listeners.values();for(;!(t=r.next()).done;){if(n!==this.updateTick)return;(0,t.value)(e)}}update(e){for(let t in e)if(!Object.is(this.state[t],e[t]))return void this.setState((0,cS.default)({},this.state,e))}set(e,t){Object.is(this.state[e],t)||this.setState((0,cS.default)({},this.state,{[e]:t}))}constructor(e){(0,pv._)(this,"subscribe",e=>(this.listeners.add(e),()=>{this.listeners.delete(e)})),(0,pv._)(this,"getSnapshot",()=>this.state),this.state=e,this.listeners=new Set,this.updateTick=0}}let gr="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,go=function(e){let t=g.useRef(e);return gr(()=>{t.current=e}),g.useRef(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.current)(...n)}).current};function gl(e,t,n,r){let o=e.get(t);o||(o={},e.set(t,o)),o[n]=r}function gi(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(!gi(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;let n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;for(let e=0;e<n.length;e+=1){let r=n[e];if(!gi(r[1],t.get(r[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;let n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();let n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let e=0;e<r;e+=1)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let o=0;o<r;o+=1){let r=n[o];if(!gi(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}var ga=e.i(719160);function gs(e,t,n,r,o){return(0,ga.useSyncExternalStoreWithSelector)(e.subscribe,e.getSnapshot,e.getSnapshot,e=>t(e,n,r,o))}let gu={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},gc={EMPTY:{top:[],bottom:[]}},gd={EMPTY:{left:[],right:[]}},gp=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}({});(gp||(gp={})).forDelta=function(e,t){if(0===e&&0===t)return gp.NONE;if(Math.abs(t)>=Math.abs(e))if(t>0)return gp.DOWN;else return gp.UP;return e>0?gp.RIGHT:gp.LEFT};let gh={isReady:!1,root:gu.EMPTY,viewportOuterSize:gu.EMPTY,viewportInnerSize:gu.EMPTY,contentSize:gu.EMPTY,minimumSize:gu.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},gf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:dd((e,t)=>{let n=[],r=0;for(let e=0;e<t.length;e+=1)n.push(r),r+=t[e].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},gm={initialize:function(e){let t=(0,cS.default)({},gh,e.dimensions),{rowCount:n}=e,{rowHeight:r}=t,o={currentPageTotalHeight:n*r,positions:Array.from({length:n},(e,t)=>t*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},l=new Map;return{rootSize:gu.EMPTY,dimensions:t,rowsMeta:o,rowHeights:l}},use:function(e,t,n){let r=g.useRef(!0),{refs:o,dimensions:{rowHeight:l,columnsTotalWidth:i,leftPinnedWidth:a,rightPinnedWidth:s,topPinnedHeight:u,bottomPinnedHeight:c},onResize:d}=t,p=o.container.current,h=g.useCallback(()=>{let n,o;if(r.current)return;let h=gf.rootSize(e.state),f=gf.rowsMeta(e.state),m=function(e,t){if(void 0!==t)return t;if(null===e)return 0;let n=gg.get(e);if(void 0!==n)return n;let r=(e&&e.ownerDocument||document).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",e.appendChild(r);let o=r.offsetWidth-r.clientWidth;return e.removeChild(r),gg.set(e,o),o}(p,t.dimensions.scrollbarSize),g=u+f.pinnedTopRowsTotalHeight,v=c+f.pinnedBottomRowsTotalHeight,b={width:i,height:m3(f.currentPageTotalHeight,1)},y=!1,w=!1;if(t.autoHeight)w=!1,y=Math.round(i)>Math.round(h.width),o={width:Math.max(0,(n={width:h.width,height:g+v+b.height}).width-(w?m:0)),height:Math.max(0,n.height-(y?m:0))};else{let e=o={width:Math.max(0,(n={width:h.width,height:h.height}).width),height:Math.max(0,n.height-g-v)},t=b.width>e.width,r=b.height>e.height;(t||r)&&(w=r,(y=b.width+(w?m:0)>e.width)&&(w=b.height+m>e.height)),w&&(o.width-=m),y&&(o.height-=m)}t.disableHorizontalScroll&&(y=!1),t.disableVerticalScroll&&(w=!1);let x=Math.max(n.width,i+(w?m:0)),C={width:i,height:g+b.height+v},S={isReady:!0,root:h,viewportOuterSize:n,viewportInnerSize:o,contentSize:b,minimumSize:C,hasScrollX:y,hasScrollY:w,scrollbarSize:m,rowWidth:x,rowHeight:l,columnsTotalWidth:i,leftPinnedWidth:a,rightPinnedWidth:s,topContainerHeight:g,bottomContainerHeight:v};gi(e.state.dimensions,S)||(e.update({dimensions:S}),null==d||d(S.root))},[e,p,t.dimensions.scrollbarSize,t.autoHeight,t.disableHorizontalScroll,t.disableVerticalScroll,d,l,i,a,s,u,c]),{resizeThrottleMs:f}=t,m=go(h),v=g.useMemo(()=>f>0?function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166,o=()=>{t=void 0,e(...n)};function l(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];n=l,void 0===t&&(t=setTimeout(o,r))}return l.clear=()=>{clearTimeout(t),t=void 0},l}(m,f):void 0,[f,m]);g.useEffect(()=>null==v?void 0:v.clear,[v]);let b=go(t=>{e.state.rootSize=t,r.current||!v?(r.current=!1,h()):v()});gr(()=>(function(e,t,n){if(!e)return;let r=e.getBoundingClientRect(),o={width:m3(r.width,1),height:m3(r.height,1)};if(t.state.rootSize!==gu.EMPTY&&gu.equals(o,t.state.rootSize)||n(o),"undefined"==typeof ResizeObserver)return;let l=new ResizeObserver(e=>{let[r]=e;if(!r)return;let o={width:m3(r.contentRect.width,1),height:m3(r.contentRect.height,1)};gu.equals(o,t.state.rootSize)||n(o)});return l.observe(e),()=>{l.disconnect()}})(p,e,b),[p,e,b]),gr(h,[h]);let y=function(e,t,n){let r=e.state.rowHeights,{rows:o,getRowHeight:l,getRowSpacing:i,getEstimatedRowHeight:a}=t,s=g.useRef(-1),u=g.useRef(!1),c=g.useRef(!1),d=t.pinnedRows,p=gs(e,gf.rowHeight),h=go(t=>{let n=r.get(t);return void 0===n&&(n={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(t,n)),n}),{applyRowHeight:f}=t,m=g.useCallback(t=>{let n=gf.dimensions(e.state),r=n.rowHeight,o=h(t.id);if(l){let e=l(t);if("auto"===e){if(o.needsFirstMeasurement){let e=a?a(t):r;o.content=null!=e?e:r}u.current=!0,o.autoHeight=!0}else o.content=null!=e?e:n.rowHeight,o.needsFirstMeasurement=!1,o.autoHeight=!1}else o.content=r,o.needsFirstMeasurement=!1;if(i){var s,c;let e=i(t);o.spacingTop=null!=(s=e.top)?s:0,o.spacingBottom=null!=(c=e.bottom)?c:0}else o.spacingTop=0,o.spacingBottom=0;return null==f||f(o,t),o},[e,l,h,a,p,i,f]),v=g.useCallback(()=>{var t,r;u.current=!1;let l=null!=(t=null==d?void 0:d.top.reduce((e,t)=>{let n=m(t);return e+n.content+n.spacingTop+n.spacingBottom+n.detail},0))?t:0,i=null!=(r=null==d?void 0:d.bottom.reduce((e,t)=>{let n=m(t);return e+n.content+n.spacingTop+n.spacingBottom+n.detail},0))?r:0,a=[],p=o.reduce((e,t)=>{a.push(e);let n=m(t);return e+(n.content+n.spacingTop+n.spacingBottom+n.detail)},0);u.current||(s.current=1/0);let h=l!==e.state.rowsMeta.pinnedTopRowsTotalHeight||i!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||p!==e.state.rowsMeta.currentPageTotalHeight;e.set("rowsMeta",{currentPageTotalHeight:p,positions:a,pinnedTopRowsTotalHeight:l,pinnedBottomRowsTotalHeight:i}),h&&n(),c.current=!0},[e,d,o,m,n]),b=go(v),y=(e,t)=>{let n=h(e),r=n.content!==t;n.needsFirstMeasurement=!1,n.content=t,c.current&&(c.current=!r)},w=gt(()=>"undefined"==typeof ResizeObserver?void 0:new ResizeObserver(e=>{for(let o=0;o<e.length;o+=1){var n,r;let l=e[o],i=l.borderBoxSize&&l.borderBoxSize.length>0?l.borderBoxSize[0].blockSize:l.contentRect.height,a=l.target.__mui_id;if((null==(r=t.focusedVirtualCell)||null==(n=r.call(t))?void 0:n.id)===a&&0===i)return;y(a,i)}c.current||requestAnimationFrame(()=>{b()})})).current;return gr(()=>{v()},[v]),{getRowHeight:t=>{var n,o;return null!=(o=null==(n=r.get(t))?void 0:n.content)?o:gf.rowHeight(e.state)},setLastMeasuredRowIndex:e=>{u.current&&e>s.current&&(s.current=e)},storeRowHeightMeasurement:y,hydrateRowsMeta:v,observeRowHeight:(e,t)=>(e.__mui_id=t,null==w||w.observe(e),()=>null==w?void 0:w.unobserve(e)),rowHasAutoHeight:e=>{var t,n;return null!=(n=null==(t=r.get(e))?void 0:t.autoHeight)&&n},getRowHeightEntry:h,getLastMeasuredRowIndex:()=>s.current,resetRowHeights:()=>{r.clear(),v()}}}(e,t,h);return{updateDimensions:h,debouncedUpdateDimensions:v,rowsMeta:y}},selectors:gf},gg=new WeakMap,gv=[];class gb{static create(){return new gb}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}constructor(){(0,pv._)(this,"currentId",null),(0,pv._)(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),(0,pv._)(this,"disposeEffect",()=>this.clear)}}let gy=("undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"empty").includes("firefox"),gw="undefined"!=typeof window&&/jsdom|HappyDOM/.test(window.navigator.userAgent),gx="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,gC=()=>{};function gS(e){let t=g.useRef(!0);t.current&&(t.current=!1,e())}let gk=(e,t,n)=>Math.max(t,Math.min(n,e)),gM={top:0,left:0},gR=Object.freeze(new Map),gE={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},gT={renderContext:dc(e=>e.virtualization.renderContext),enabledForRows:dc(e=>e.virtualization.enabledForRows),enabledForColumns:dc(e=>e.virtualization.enabledForColumns)},gI={initialize:function(e){var t;return{virtualization:(0,cS.default)({enabled:!gw,enabledForRows:!gw,enabledForColumns:!gw,renderContext:gE},null==(t=e.initialState)?void 0:t.virtualization),getters:null}},use:function(e,t,n){var r;let{refs:o,dimensions:{rowHeight:l,columnsTotalWidth:i},virtualization:{isRtl:a=!1,rowBufferPx:s=150,columnBufferPx:u=150},colspan:c,initialState:d,rows:p,range:h,columns:f,pinnedRows:m=gc.EMPTY,pinnedColumns:b=gd.EMPTY,minimalContentHeight:y,autoHeight:w,onWheel:x,onTouchMove:C,onRenderContextChange:S,onScrollChange:k,scrollReset:M,renderRow:R,renderInfiniteLoadingTrigger:E}=t,T=gs(e,gm.selectors.needsHorizontalScrollbar),I=m.bottom.length>0,[O,P]=g.useState(gR),[,N]=g.useState(0),D=g.useRef(!1),A=gs(e,gT.renderContext),L=gs(e,gT.enabledForRows),j=gs(e,gT.enabledForColumns),z=gs(e,gm.selectors.rowsMeta),F=gs(e,gm.selectors.contentHeight),H=g.useRef(null!=(r=null==d?void 0:d.scroll)?r:gM),B=g.useRef(!1),V=g.useRef(gM),W=g.useRef(gE),G=function(){var e;let t=gt(gb.create).current;return e=t.disposeEffect,g.useEffect(e,gv),t}(),U=g.useRef(void 0),_=gt(()=>{var e,t,n,r,o;return e=a,t=s,n=u,r=15*l,o=300,{direction:gp.NONE,buffer:gz(e,gp.NONE,t,n,r,300)}}).current,q=g.useCallback(t=>{gL(t,e.state.virtualization.renderContext)||e.set("virtualization",(0,cS.default)({},e.state.virtualization,{renderContext:t}));let n=gm.selectors.dimensions(e.state).isReady,r=t.firstRowIndex!==W.current.firstRowIndex||t.lastRowIndex!==W.current.lastRowIndex;n&&r&&(W.current=t,null==S||S(t)),V.current=H.current},[e,S]),K=go(()=>{let r=o.scroller.current;if(!r)return;let i=gm.selectors.dimensions(e.state),c=Math.ceil(i.contentSize.height-i.viewportInnerSize.height),d=Math.ceil(i.contentSize.width-i.viewportInnerSize.width),p={top:gk(r.scrollTop,0,c),left:a?gk(r.scrollLeft,-d,0):gk(r.scrollLeft,0,d)},h=p.left-H.current.left,f=p.top-H.current.top,m=0!==h||0!==f;H.current=p;let g=m?gp.forDelta(h,f):gp.NONE,b=Math.abs(H.current.top-V.current.top),y=Math.abs(H.current.left-V.current.left),w=_.direction!==g;if(!(b>=l||y>=50||w))return A;if(w)switch(g){case gp.NONE:case gp.LEFT:case gp.RIGHT:U.current=void 0;break;default:U.current=A}_.direction=g,_.buffer=gz(a,g,s,u,15*l,300);let x=gP(gO(e,t,n,L,j),H.current,_);return gL(x,A)||(v.flushSync(()=>{q(x)}),G.start(1e3,K)),x}),$=go(()=>{if(!gm.selectors.dimensions(e.state).isReady&&(L||j))return;let r=gP(gO(e,t,n,L,j),H.current,_);U.current=void 0,q(r)}),J=go(()=>{if(B.current){B.current=!1;return}let e=K();e&&(null==k||k(H.current,e))}),X=g.useMemo(()=>({overflowX:T?void 0:"hidden",overflowY:w?"hidden":void 0}),[T,w]),Y=g.useMemo(()=>{let e={width:T?i:"auto",flexBasis:F,flexShrink:0};return 0===e.flexBasis&&(e.flexBasis=y),e},[i,F,T,y]),Q=g.useRef(null),Z=g.useCallback(e=>{var t;e&&(null==(t=Q.current)||t.call(Q,i,F))},[i,F]);gr(()=>{D.current&&$()},[j,L,$]),gr(()=>{o.scroller.current&&(o.scroller.current.scrollLeft=0)},[o.scroller,M]),((e,t)=>{let n=g.useRef(!1);gx(()=>n.current||!e?gC:(n.current=!0,t()),[n.current||e])})(A!==gE,()=>{if(null==k||k(H.current,A),D.current=!0,(null==d?void 0:d.scroll)&&o.scroller.current){let e=o.scroller.current,{top:t,left:n}=d.scroll,r={top:!(t>0),left:!(n>0)};!r.left&&i&&(e.scrollLeft=n,r.left=!0,B.current=!0),!r.top&&F&&(e.scrollTop=t,B.current=!0),r.top&&r.left||(Q.current=(o,l)=>{!r.left&&o&&(e.scrollLeft=n,r.left=!0,B.current=!0),!r.top&&l&&(e.scrollTop=t,r.top=!0,B.current=!0),r.left&&r.top&&(Q.current=null)})}}),m7(e,gm.selectors.dimensions,$);let ee=e=>t=>{t&&o[e].current!==t&&(o[e].current=t,N(e=>e+1))},et={setPanels:P,getOffsetTop:()=>{var e;return null!=(e=z.positions[A.firstRowIndex])?e:0},getRows:function(){var r,o;let l,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(!a.rows&&!h)return[];let u=A;a.renderContext&&((u=a.renderContext).firstColumnIndex=A.firstColumnIndex,u.lastColumnIndex=A.lastColumnIndex);let d=!I&&void 0===a.position||I&&"bottom"===a.position,g=void 0!==a.position;switch(a.position){case"top":l=0;break;case"bottom":l=m.top.length+p.length;break;default:l=m.top.length}let v=null!=(o=a.rows)?o:p,y=u.firstRowIndex,w=Math.min(u.lastRowIndex,v.length),x=a.rows?gF(0,a.rows.length):gF(y,w),C=-1,S=null==(r=t.focusedVirtualCell)?void 0:r.call(t);!g&&S&&(S.rowIndex<y&&(x.unshift(S.rowIndex),C=S.rowIndex),S.rowIndex>w&&(x.push(S.rowIndex),C=S.rowIndex));let k=[],M=gm.selectors.columnPositions(e.state,f);return x.forEach(e=>{let{id:t,model:r}=v[e];if(s&&!s[t])return;let o=((null==h?void 0:h.firstRowIndex)||0)+l+e;if(null==c?void 0:c.enabled){let e=b.left.length,r=f.length-b.right.length;n.calculateColSpan(t,e,r,f),b.left.length>0&&n.calculateColSpan(t,0,b.left.length,f),b.right.length>0&&n.calculateColSpan(t,f.length-b.right.length,f.length,f)}let m=n.rowsMeta.rowHasAutoHeight(t)?"auto":n.rowsMeta.getRowHeight(t),y=!1;void 0===a.position&&(y=0===e);let w=!1,x=e===v.length-1;d&&(g?w=x:e===p.length-1&&(w=!0));let T=u;U.current&&e>=U.current.firstRowIndex&&e<U.current.lastRowIndex&&(T=U.current);let I=e===C,P=(null==S?void 0:S.rowIndex)===o,N=gj(M,T,b.left.length),D=x&&"top"===a.position,A=T.firstColumnIndex,L=T.lastColumnIndex;if(k.push(R({id:t,model:r,rowIndex:o,offsetLeft:N,columnsTotalWidth:i,baseRowHeight:m,firstColumnIndex:A,lastColumnIndex:L,focusedColumnIndex:P?S.columnIndex:void 0,isFirstVisible:y,isLastVisible:w,isVirtualFocusRow:I,showBottomBorder:D})),I)return;let j=O.get(t);j&&k.push(j),void 0===a.position&&x&&k.push(E(t))}),k},getContainerProps:()=>({ref:ee("container")}),getScrollerProps:()=>({ref:ee("scroller"),onScroll:J,onWheel:x,onTouchMove:C,style:X,role:"presentation",tabIndex:gy?-1:void 0}),getContentProps:()=>({ref:Z,style:Y,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:ee("scrollbarVertical"),scrollPosition:H}),getScrollbarHorizontalProps:()=>({ref:ee("scrollbarHorizontal"),scrollPosition:H}),getScrollAreaProps:()=>({scrollPosition:H})};return gS(()=>{e.state=(0,cS.default)({},e.state,{getters:et})}),g.useEffect(()=>{e.update({getters:et})},Object.values(et)),{getters:et,useVirtualization:()=>gs(e,e=>e),setPanels:P,forceUpdateRenderContext:$,getCellColSpanInfo:()=>{throw Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw Error("Unimplemented: rowspan feature is required")}}},selectors:gT};function gO(e,t,n,r,o){var l,i;let a=gm.selectors.dimensions(e.state),s=t.rows,u=t.range,c=t.columns,d=n.getHiddenCellsOrigin(),p=null==(l=t.rows.at(-1))?void 0:l.id,h=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:o,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:a.leftPinnedWidth,columnsTotalWidth:a.columnsTotalWidth,viewportInnerWidth:a.viewportInnerSize.width,viewportInnerHeight:a.viewportInnerSize.height,lastRowHeight:void 0!==p?n.rowsMeta.getRowHeight(p):0,lastColumnWidth:null!=(i=null==h?void 0:h.computedWidth)?i:0,rowsMeta:gm.selectors.rowsMeta(e.state),columnPositions:gm.selectors.columnPositions(e.state,t.columns),rows:s,range:u,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:d,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function gP(e,t,n){let r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:o,left:l}=t,i=Math.abs(l)+e.leftPinnedWidth;if(e.enabledForRows){let t=Math.min(gN(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1),n=e.hiddenCellsOriginMap[t];n&&(t=Math.min(t,Math.min(...Object.values(n))));let l=e.autoHeight?t+e.rows.length:gN(e,o+e.viewportInnerHeight);r.firstRowIndex=t,r.lastRowIndex=l}if(e.enabledForColumns){let t=0,o=e.columnPositions.length,l=!1,[a,s]=gA({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let t=a;t<s&&!l;t+=1){let n=e.rows[t];l=e.api.rowsMeta.rowHasAutoHeight(n.id)}(!l||e.virtualizeColumnsWithAutoRowHeight)&&(t=gD(i,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),o=gD(i+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=t,r.lastColumnIndex=o}return function(e,t,n){var r,o,l,i;let[a,s]=gA({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[u,c]=gA({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:null!=(l=null==(r=e.pinnedColumns)?void 0:r.left.length)?l:0,maxLastIndex:e.columns.length-(null!=(i=null==(o=e.pinnedColumns)?void 0:o.right.length)?i:0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),d=function(e){let{api:t,firstColumnToRender:n,firstRowToRender:r,lastRowToRender:o,visibleRows:l}=e,i=n,a=!1;for(;!a&&i>=0;){a=!0;for(let e=r;e<o;e+=1)if(l[e]){let n=l[e].id,r=t.getCellColSpanInfo(n,i);if(r&&r.spannedByColSpan&&r.leftVisibleCellIndex<i){i=r.leftVisibleCellIndex,a=!1;break}}}return i}({api:e.api,firstColumnToRender:u,firstRowToRender:a,lastRowToRender:s,visibleRows:e.rows});return{firstRowIndex:a,lastRowIndex:s,firstColumnIndex:d,lastColumnIndex:c}}(e,r,n)}function gN(e,t,n){var r,o;let l=e.api.rowsMeta.getLastMeasuredRowIndex(),i=l===1/0;(null==(r=e.range)?void 0:r.lastRowIndex)&&!i&&(i=l>=e.range.lastRowIndex);let a=gk(l-((null==(o=e.range)?void 0:o.firstRowIndex)||0),0,e.rowsMeta.positions.length);return i||e.rowsMeta.positions[a]>=t?gD(t,e.rowsMeta.positions,n):function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return gD(e,t,r,Math.floor(n/2),Math.min(n,t.length))}(t,e.rowsMeta.positions,a,n)}function gD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(t.length<=0)return -1;if(r>=o)return r;let l=r+Math.floor((o-r)/2),i=t[l];return((null==n?void 0:n.atStart)?e-((l===t.length-1?n.lastPosition:t[l+1])-i)<i:e<=i)?gD(e,t,n,r,l):gD(e,t,n,l+1,o)}function gA(e){let{firstIndex:t,lastIndex:n,bufferBefore:r,bufferAfter:o,minFirstIndex:l,maxLastIndex:i,positions:a,lastSize:s}=e,u=a[t]-r,c=a[n]+o,d=gD(u,a,{atStart:!0,lastPosition:a[a.length-1]+s}),p=gD(c,a);return[gk(d,l,i),gk(p,l,i)]}function gL(e,t){return e===t||e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function gj(e,t,n){var r,o;return Math.abs((null!=(r=e[t.firstColumnIndex])?r:0)-(null!=(o=e[n])?o:0))}function gz(e,t,n,r,o,l){if(e)switch(t){case gp.LEFT:t=gp.RIGHT;break;case gp.RIGHT:t=gp.LEFT}switch(t){case gp.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case gp.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:l};case gp.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:l,columnBefore:0};case gp.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case gp.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw Error("unreachable")}}function gF(e,t){return Array.from({length:t-e}).map((t,n)=>e+n)}let gH={firstRowIndex:0,lastRowIndex:0},gB={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},gV={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},gW={initialize:function(e){var t,n;return{rowSpanning:null!=(n=null==(t=e.initialState)?void 0:t.rowSpanning)?n:{caches:gB,processedRange:gH}}},use:function(e,t,n){return{getHiddenCellsOrigin:()=>gV.hiddenCellsOriginMap(e.state)}},selectors:gV},gG=[gm,gI,{initialize:function(e){return{colspanMap:new Map}},use:function(e,t,n){var r;let o=null==(r=t.colspan)?void 0:r.getColspan,l=go(o?(t,n,r,l)=>{for(let i=n;i<r;i+=1){let a=function(e,t,n,r,o,l,i){let a=l.length,s=l[t],u=i(n,s,t);if(!u||1===u)return gl(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:s.computedWidth}}),{colSpan:1};let c=s.computedWidth;for(let i=1;i<u;i+=1){let s=t+i;s>=r&&s<o&&(c+=l[s].computedWidth,gl(e,n,t+i,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+u,a-1),leftVisibleCellIndex:t})),gl(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:u,width:c}})}return{colSpan:u}}(e.state.colspanMap,i,t,n,r,l,o);a.colSpan>1&&(i+=a.colSpan-1)}}:()=>{});return n.calculateColSpan=l,{resetColSpan:()=>{e.state.colspanMap=new Map},getCellColSpanInfo:(t,n)=>{var r;return null==(r=e.state.colspanMap.get(t))?void 0:r[n]},calculateColSpan:l}},selectors:{}},gW,{initialize:function(e){return{}},use:function(e,t,n){return{getViewportPageSize:()=>{let n=gm.selectors.dimensions(e.state);if(!n.isReady)return 0;if(t.getRowHeight){let n=gI.selectors.renderContext(e.state);return Math.min(n.lastRowIndex-n.firstRowIndex-1,t.rows.length)}return Math.min(Math.floor(n.viewportInnerSize.height/n.rowHeight),t.rows.length)}}},selectors:{}}],gU=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):-1===e?n+2:0,g_=e=>({page:0,pageSize:100*!e}),gq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e:Math.max(Math.min(e,t-1),0)},gK=(e,t)=>{if(t===mD.DataGrid&&e>100)throw Error("MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.")},g$=df(e=>e.pagination),gJ=dp(g$,e=>e.enabled&&"client"===e.paginationMode),gX=dp(g$,e=>e.paginationModel),gY=dp(g$,e=>e.rowCount),gQ=dp(g$,e=>e.meta),gZ=dp(gX,e=>e.page),g0=dp(gX,e=>e.pageSize),g1=dp(gX,gY,(e,t)=>gU(t,e.pageSize,e.page)),g2=dh(gJ,gX,pl,pc,fB,fU,(e,t,n,r,o,l)=>{if(!e)return null;let i=l.length,a=Math.min(t.pageSize*t.page,i-1),s=-1===t.pageSize?i-1:Math.min(a+t.pageSize-1,i-1);if(-1===a||-1===s)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:s};let u=l[a],c=s-a+1,d=o.findIndex(e=>e.id===u.id),p=d,h=0;for(;p<o.length&&h<=c;){var f;let e=null==(f=n[o[p].id])?void 0:f.depth;void 0===e?p+=1:((h<c||e>0)&&(p+=1),0===e&&(h+=1))}return{firstRowIndex:d,lastRowIndex:p-1}}),g5=dh(fB,g2,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),g3=dh(fV,g2,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),g4=dh(gJ,g2,g5,fB,(e,t,n,r)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((e,t,n)=>(e.set(t.id,n),e),new Map)}:{rows:r,range:0===r.length?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((e,t,n)=>(e.set(t.id,n),e),new Map)}),g9=(e,t)=>g4(e),g6=(e,t)=>c2(e,g4),g7=df(e=>e.virtualization);dp(g7,e=>e.enabled);let g8=dp(g7,e=>e.enabledForColumns);dp(g7,e=>e.enabledForRows);let ve=dp(g7,e=>e.renderContext),vt=dh(df(e=>e.virtualization.renderContext.firstColumnIndex),df(e=>e.virtualization.renderContext.lastColumnIndex),(e,t)=>({firstColumnIndex:e,lastColumnIndex:t})),vn=dh(dp(f2,ve,g4,dD,(e,t,n,r)=>{if(!e)return!1;let o=n.rowIdToIndexMap.get(e.id),l=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(t=>t.field===e.field);return!(void 0!==o&&-1!==l&&o>=t.firstRowIndex&&o<=t.lastRowIndex)}),dD,g4,f2,(e,t,n,r)=>{if(!e)return null;let o=n.rowIdToIndexMap.get(r.id);if(void 0===o)return null;let l=t.findIndex(e=>e.field===r.field);return -1===l?null:(0,cS.default)({},r,{rowIndex:o,columnIndex:l})}),vr={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:hq.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function vo(e){return e}let vl=dp(dD,dF,(e,t)=>{let n=e.length;return 0===n?0:m3(t[n-1]+e[n-1].computedWidth,1)}),vi=()=>(0,ds.lruMemoize)((e,t,n,r,o)=>(0,cS.default)({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:o}),{maxSize:1}),va=(e,t,n,r)=>{let o=g.useRef(r),l=g.useRef(!1);r!==o.current&&(l.current=!1,o.current=r),l.current||(t.current.state=e(t.current.state,n,t),l.current=!0)};function vs(e,t){let n=g.useRef(null);if(n.current)return n.current;let r=e.current.getLogger(t);return n.current=r,r}let vu=(e,t,n,r,o)=>{let l=vs(e,"useNativeEventListener");pM(e,"rootMount",()=>{let e=t();if(e&&n)return l.debug("Binding native ".concat(n," event")),e.addEventListener(n,r,o),()=>{l.debug("Clearing native ".concat(n," event")),e.removeEventListener(n,r,o)}})},vc=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],vd=cR(function(e,t){var n,r,o;let{field:l,id:i,rowNode:s,tabIndex:u}=e,c=(0,cE.default)(e,vc),d=dq(),p=dt(),h=(e=>{let{classes:t}=e;return cP({root:["checkboxInput"]},cV,t)})({classes:p.classes});g.useLayoutEffect(()=>{if(0===u){let e=d.current.getCellElement(i,l);e&&(e.tabIndex=-1)}},[d,u,i,l]);let f=g.useCallback(e=>{" "===e.key&&e.stopPropagation()},[]),m=d.current.isRowSelectable(i),{isIndeterminate:v,isChecked:b}=c2(d,mW,{groupId:i,autoSelectParents:null!=(o=null==(n=p.rowSelectionPropagation)?void 0:n.parents)&&o});if("footer"===s.type||"pinnedRow"===s.type)return null;let y=d.current.getLocaleText(b&&!v?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,a.jsx)(p.slots.baseCheckbox,(0,cS.default)({tabIndex:u,checked:b&&!v,onChange:e=>{let t={value:e.target.checked,id:i};d.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:h.root,slotProps:{htmlInput:{"aria-label":y,name:"select_row"}},onKeyDown:f,indeterminate:v,disabled:!m},null==(r=p.slotProps)?void 0:r.baseCheckbox,c,{ref:t}))}),vp=["field","colDef"],vh=cR(function(e,t){var n;let r=(0,cE.default)(e,vp),[,o]=g.useState(!1),l=dq(),i=dt(),s=(e=>{let{classes:t}=e;return cP({root:["checkboxInput"]},cV,t)})({classes:i.classes}),u=c2(l,f6),c=c2(l,mz),d=c2(l,fV),p=c2(l,g3),h=g.useMemo(()=>{let e=i.isRowSelectable;if("function"!=typeof e||"exclude"===c.type)return c;let t={type:"include",ids:new Set};for(let n of c.ids)i.keepNonExistentRowsSelected&&t.ids.add(n),l.current.getRow(n)&&e(l.current.getRowParams(n))&&t.ids.add(n);return t},[l,i.isRowSelectable,i.keepNonExistentRowsSelected,c]),f=g.useMemo(()=>{let e=i.pagination&&i.checkboxSelectionVisibleOnly&&"server"!==i.paginationMode?p:d,t=new Set;for(let n=0;n<e.length;n+=1){let r=e[n];l.current.getRow(r)&&l.current.isRowSelectable(r)&&t.add(r)}return t},[l,i.pagination,i.paginationMode,i.checkboxSelectionVisibleOnly,p,d]),m=g.useMemo(()=>{let e=mj(h),t=0;for(let n of f)e.has(n)&&(t+=1);return t},[h,f]),v=g.useMemo(()=>{if(0===m)return!1;let e=mj(h);for(let t of f)if(!e.has(t))return!0;return!1},[m,h,f]),b=m>0,y=null!==u&&u.field===e.field?0:-1;g.useLayoutEffect(()=>{let t=l.current.getColumnHeaderElement(e.field);0===y&&t&&(t.tabIndex=-1)},[y,l,e.field]);let w=g.useCallback(e=>{" "===e.key&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!b})},[l,b]),x=g.useCallback(()=>{o(e=>!e)},[]);g.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",x),[l,x]);let C=l.current.getLocaleText(b&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,a.jsx)(i.slots.baseCheckbox,(0,cS.default)({indeterminate:v,checked:b&&!v,onChange:e=>{let t={value:e.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",t)},className:s.root,slotProps:{htmlInput:{"aria-label":C,name:"select_all_rows"}},tabIndex:y,onKeyDown:w,disabled:!mG(i)},null==(n=i.slotProps)?void 0:n.baseCheckbox,r,{ref:t}))}),vf="__check__",vm=(0,cS.default)({},hG,{type:"custom",field:vf,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,chartable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,r)=>{let o=hO(r,t);return r.current.isRowSelected(o)},rowSpanValueGetter:(e,t,n,r)=>hO(r,t),renderHeader:e=>(0,a.jsx)(vh,(0,cS.default)({},e)),renderCell:e=>(0,a.jsx)(vd,(0,cS.default)({},e))});function vg(e,t){if(null==e)return"";let n="string"==typeof e?e:"".concat(e);if(t.shouldAppendQuotes||t.escapeFormulas){let e=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(e[0])?"\"'".concat(e,'"'):[t.delimiter,"\n","\r",'"'].some(e=>n.includes(e))?'"'.concat(e,'"'):e}return n}let vv=(e,t)=>{let n,{csvOptions:r,ignoreValueFormatter:o}=t;if(o){var l,i;let t=e.colDef.type;n="number"===t?String(e.value):"date"===t||"dateTime"===t?null==(i=e.value)?void 0:i.toISOString():"function"==typeof(null==(l=e.value)?void 0:l.toString)?e.value.toString():e.value}else n=e.formattedValue;return vg(n,r)};class vb{addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),"function"==typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}constructor(e){(0,pv._)(this,"rowString",""),(0,pv._)(this,"isEmpty",!0),this.options=e}}function vy(e){let t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);let n=document.createRange();n.selectNode(t);let r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}let vw=e=>(0,cS.default)({},e,{columnMenu:{open:!1}}),vx=function(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=g.useRef(null),l=g.useRef("mui-".concat(Math.round(1e9*Math.random()))),i=g.useCallback(()=>{o.current=e.current.registerPipeProcessor(t,l.current,n)},[e,n,t]);gS(()=>{r&&i()});let a=g.useRef(!0);g.useEffect(()=>(a.current?a.current=!1:r&&i(),()=>{o.current&&(o.current(),o.current=null)}),[i,r])},vC=(e,t,n)=>{let r=g.useRef(null),o=g.useRef("mui-".concat(Math.round(1e9*Math.random()))),l=g.useCallback(()=>{r.current=e.current.registerPipeApplier(t,o.current,n)},[e,n,t]);gS(()=>{l()});let i=g.useRef(!0);g.useEffect(()=>(i.current?i.current=!1:l(),()=>{r.current&&(r.current(),r.current=null)}),[l])},vS=(e,t,n)=>{var r,o,l,i,a,s;n.current.caches.columns={lastColumnsProp:t.columns};let u=fw({apiRef:n,columnsToUpsert:t.columns,initialState:null==(r=t.initialState)?void 0:r.columns,columnVisibilityModel:null!=(a=null!=(i=t.columnVisibilityModel)?i:null==(l=t.initialState)||null==(o=l.columns)?void 0:o.columnVisibilityModel)?a:{},keepOnlyColumnsToUpsert:!0});return(0,cS.default)({},e,{columns:u,pinnedColumns:null!=(s=e.pinnedColumns)?s:dS})},vk=(e,t)=>{var n,r,o;return(0,cS.default)({},e,{density:null!=(o=null!=(r=null==(n=t.initialState)?void 0:n.density)?r:t.density)?o:"standard"})},vM=e=>{let{apiRef:t,options:n}=e,r=dO(t);return n.fields?n.fields.reduce((e,t)=>{let n=r.find(e=>e.field===t);return n&&e.push(n),e},[]):(n.allColumns?r:dD(t)).filter(e=>!0!==e.disableExport)},vR=e=>{var t,n;let{apiRef:r}=e,o=fG(r),l=pl(r),i=mH(r),a=o.filter(e=>"footer"!==l[e].type),s=ph(r),u=(null==s||null==(t=s.top)?void 0:t.map(e=>e.id))||[],c=(null==s||null==(n=s.bottom)?void 0:n.map(e=>e.id))||[];if(a.unshift(...u),a.push(...c),i>0){let e=mB(r);return a.filter(t=>e.has(t))}return a},vE=cR(function(e,t){var n,r;let{children:o,slotProps:l={}}=e,i=l.button||{},s=l.tooltip||{},u=dq(),c=dt(),d=pG(),p=pG(),[h,f]=g.useState(!1),m=g.useRef(null),v=cI(t,m),b=()=>f(!1);return null==o?null:(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(c.slots.baseTooltip,(0,cS.default)({title:u.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},null==(n=c.slotProps)?void 0:n.baseTooltip,s,{children:(0,a.jsx)(c.slots.baseButton,(0,cS.default)({size:"small",startIcon:(0,a.jsx)(c.slots.exportIcon,{}),"aria-expanded":h,"aria-label":u.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":h?p:void 0,id:d},null==(r=c.slotProps)?void 0:r.baseButton,i,{onClick:e=>{var t;f(e=>!e),null==(t=i.onClick)||t.call(i,e)},ref:v,children:u.current.getLocaleText("toolbarExport")}))})),(0,a.jsx)(fn,{open:h,target:m.current,onClose:b,position:"bottom-end",children:(0,a.jsx)(c.slots.baseMenuList,{id:p,className:cW.menuList,"aria-labelledby":d,autoFocusItem:h,children:g.Children.map(o,e=>g.isValidElement(e)?g.cloneElement(e,{hideMenu:b}):e)})})]})}),vT=["hideMenu","options"],vI=["hideMenu","options"],vO=["csvOptions","printOptions","excelOptions"];function vP(e){let t=dq(),n=dt(),{hideMenu:r,options:o}=e,l=(0,cE.default)(e,vT);return(0,a.jsx)(n.slots.baseMenuItem,(0,cS.default)({onClick:()=>{t.current.exportDataAsCsv(o),null==r||r()}},l,{children:t.current.getLocaleText("toolbarExportCSV")}))}function vN(e){let t=dq(),n=dt(),{hideMenu:r,options:o}=e,l=(0,cE.default)(e,vI);return(0,a.jsx)(n.slots.baseMenuItem,(0,cS.default)({onClick:()=>{t.current.exportDataAsPrint(o),null==r||r()}},l,{children:t.current.getLocaleText("toolbarExportPrint")}))}function vD(e){return e&&e.ownerDocument||document}cR(function(e,t){let{csvOptions:n={},printOptions:r={},excelOptions:o}=e,l=(0,cE.default)(e,vO),i=dq().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:o,csvOptions:n,printOptions:r}).sort((e,t)=>e.componentName>t.componentName?1:-1);return 0===i.length?null:(0,a.jsx)(vE,(0,cS.default)({},l,{ref:t,children:i.map((e,t)=>g.cloneElement(e.component,{key:t}))}))});let vA=(e,t,n)=>{var r,o;let l=e.paginationModel,i=e.rowCount,a=null!=(r=null==n?void 0:n.pageSize)?r:l.pageSize,s=gU(i,a,null!=(o=null==n?void 0:n.page)?o:l.page);n&&((null==n?void 0:n.page)!==l.page||(null==n?void 0:n.pageSize)!==l.pageSize)&&(l=n);let u=-1===a?0:gq(l.page,s);return u!==l.page&&(l=(0,cS.default)({},l,{page:u})),gK(l.pageSize,t),l},vL=(e,t,n,r)=>{let o=g.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);gS(()=>{o()});let l=g.useRef(!0);g.useEffect(()=>{l.current?l.current=!1:o()},[o])},vj=(e,t,n)=>{var r,o,l,i;let a=null!=(i=null!=(l=t.filterModel)?l:null==(o=t.initialState)||null==(r=o.filter)?void 0:r.filterModel)?i:p1();return(0,cS.default)({},e,{filter:(0,cS.default)({filterModel:p3(a,t.disableMultipleColumnsFiltering,n)},p0),visibleRowsLookup:{}})},vz=e=>e.filteredRowsLookup;function vF(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function vH(){return(0,ds.lruMemoize)(Object.values)}let vB=e=>(0,cS.default)({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}});function vV(e,t){return e.closest(".".concat(t))}function vW(e){return e.replace(/["\\]/g,"\\$&")}function vG(e){return".".concat(cW.row,'[data-id="').concat(vW(String(e)),'"]')}function vU(e){return!(1!==e.target.nodeType||e.currentTarget.contains(e.target))}function v_(e,t){return e.rootElementRef.current.querySelector(".".concat(cW[t]))}let vq=e=>{let{api:t,colIndex:n,position:r,filterFn:o}=e;if(null===n)return[];let l=[];return v$(t).forEach(e=>{e.getAttribute("data-id")&&e.querySelectorAll(".".concat(cW["left"===r?"cell--pinnedLeft":"cell--pinnedRight"])).forEach(e=>{let t=vJ(e);null!==t&&o(t)&&l.push(e)})}),l},vK=e=>{var t;let{api:n,colIndex:r,position:o,filterFn:l}=e;if(!(null==(t=n.columnHeadersContainerRef)?void 0:t.current)||null===r)return[];let i=[];return n.columnHeadersContainerRef.current.querySelectorAll(".".concat(cW["left"===o?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"])).forEach(e=>{let t=vJ(e);null!==t&&l(t,e)&&i.push(e)}),i};function v$(e){return e.virtualScrollerRef.current.querySelectorAll(":scope > div > div > .".concat(cW.row))}function vJ(e){let t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}let vX=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:o}=e;if(o){if(t<r)return t+1}else if(!o&&t>n)return t-1;return null},vY=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:o}=e;if(o){if(t>n)return t-1}else if(!o&&t<r)return t+1;return null},vQ=dh(g4,ph,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),vZ=(e,t)=>{var n,r,o,l,i,a,s,u,c,d,p,h;let f=(0,cS.default)({},g_(t.autoPageSize),null!=(u=t.paginationModel)?u:null==(r=t.initialState)||null==(n=r.pagination)?void 0:n.paginationModel);gK(f.pageSize,t.signature);let m=null!=(d=null!=(c=t.rowCount)?c:null==(l=t.initialState)||null==(o=l.pagination)?void 0:o.rowCount)?d:"client"===t.paginationMode?null==(i=e.rows)?void 0:i.totalRowCount:void 0,g=null!=(h=null!=(p=t.paginationMeta)?p:null==(s=t.initialState)||null==(a=s.pagination)?void 0:a.meta)?h:{};return(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationModel:f,rowCount:m,meta:g,enabled:!0===t.pagination,paginationMode:t.paginationMode})})},v0=(e,t)=>{var n,r;return(0,cS.default)({},e,{preferencePanel:null!=(r=null==(n=t.initialState)?void 0:n.preferencePanel)?r:{open:!1}})},v1=df(e=>e.editRows),v2=dp(v1,(e,t)=>{let{rowId:n,editMode:r}=t;return r===hq.Row&&!!e[n]}),v5=dp(v1,(e,t)=>{var n,r;let{rowId:o,field:l}=t;return null!=(r=null==(n=e[o])?void 0:n[l])?r:null}),v3=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},v4=["id","field"],v9=["id","field"];var v6=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(v6||{}),v7=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(v7||{});let v8=["id"],be=["id"],bt=e=>(0,cS.default)({},e,{editRows:{}}),bn=(e,t,n)=>{let r=!!t.dataSource;return n.current.caches.rows=hw({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),(0,cS.default)({},e,{rows:hC({apiRef:n,rowCountProp:t.rowCount,loadingProp:!!r||t.loading,previousTree:null,previousTreeDepths:null})})},br=e=>"full"===e.updates.type?(e=>{let t={[hv]:(0,cS.default)({},{type:"group",id:hv,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:e})};for(let n=0;n<e.length;n+=1){let r=e[n];t[r]={id:r,depth:0,parent:hv,type:"leaf",groupingKey:null}}return{groupingName:m1,tree:t,treeDepths:{0:e.length},dataRowIds:e}})(e.updates.rows):(e=>{let{previousTree:t,actions:n}=e,r=(0,cS.default)({},t),o={};for(let e=0;e<n.remove.length;e+=1){let t=n.remove[e];o[t]=!0,delete r[t]}for(let e=0;e<n.insert.length;e+=1){let t=n.insert[e];r[t]={id:t,depth:0,parent:hv,type:"leaf",groupingKey:null}}let l=r[hv],i=[...l.children,...n.insert];return Object.values(o).length&&(i=i.filter(e=>!o[e])),r[hv]=(0,cS.default)({},l,{children:i}),{groupingName:m1,tree:r,treeDepths:{0:i.length},dataRowIds:i}})({previousTree:e.previousTree,actions:e.updates.actions});class bo extends Error{}let bl={type:"include",ids:new Set},bi=(e,t)=>{var n;return(0,cS.default)({},e,{rowSelection:t.rowSelection&&null!=(n=t.rowSelectionModel)?n:bl})},ba=(e,t)=>{var n,r,o,l;let i=null!=(l=null!=(o=t.sortModel)?o:null==(r=t.initialState)||null==(n=r.sorting)?void 0:n.sortModel)?l:[];return(0,cS.default)({},e,{sorting:{sortModel:pA(i,t.disableMultipleColumnsSorting),sortedRows:[]}})};function bs(e){let{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:o}=e,l=o+r;return r>t?o:l-t>n?l-t:o<n?o:void 0}let bu={width:0,height:0},bc={isReady:!1,root:bu,viewportOuterSize:bu,viewportInnerSize:bu,contentSize:bu,minimumSize:bu,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},bd=(e,t,n)=>{let r=db(n);return(0,cS.default)({},e,{dimensions:(0,cS.default)({},bc,function(e,t,n,r){var o,l;return{rowHeight:Math.floor(hT(e.rowHeight,vr.rowHeight,hI)*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((null!=(o=e.columnGroupHeaderHeight)?o:e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((null!=(l=e.headerFilterHeight)?l:e.columnHeaderHeight)*n),columnsTotalWidth:bp(t),headersTotalHeight:fx(t,e),leftPinnedWidth:r.left.reduce((e,t)=>e+t.computedWidth,0),rightPinnedWidth:r.right.reduce((e,t)=>e+t.computedWidth,0)}}(t,n,r,dj(n)))})},bp=dp(dD,dF,(e,t)=>{let n=e.length;return 0===n?0:m3(t[n-1]+e[n-1].computedWidth,1)});function bh(e,t){let n=(t,n)=>e.style.setProperty(t,n);n("--DataGrid-hasScrollX","".concat(Number(t.hasScrollX))),n("--DataGrid-hasScrollY","".concat(Number(t.hasScrollY))),n("--DataGrid-scrollbarSize","".concat(t.scrollbarSize,"px")),n("--DataGrid-rowWidth","".concat(t.rowWidth,"px")),n("--DataGrid-columnsTotalWidth","".concat(t.columnsTotalWidth,"px")),n("--DataGrid-leftPinnedWidth","".concat(t.leftPinnedWidth,"px")),n("--DataGrid-rightPinnedWidth","".concat(t.rightPinnedWidth,"px")),n("--DataGrid-headerHeight","".concat(t.headerHeight,"px")),n("--DataGrid-headersTotalHeight","".concat(t.headersTotalHeight,"px")),n("--DataGrid-topContainerHeight","".concat(t.topContainerHeight,"px")),n("--DataGrid-bottomContainerHeight","".concat(t.bottomContainerHeight,"px")),n("--height","".concat(t.rowHeight,"px"))}let bf=(e,t,n)=>{let r=d1(n),o=pt(n),l=g$(n),i=Math.min(l.enabled?l.paginationModel.pageSize:o,o);return(0,cS.default)({},e,{rowsMeta:{currentPageTotalHeight:i*r,positions:Array.from({length:i},(e,t)=>t*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})};function bm(e){return void 0!==e.field}let bg=["groupId","children"],bv=e=>{let t={};for(let n=0;n<e.length;n+=1){let r=e[n];if(bm(r))continue;let{groupId:o,children:l}=r,i=(0,cE.default)(r,bg);if(!o)throw Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");let a=(0,cS.default)({},i,{groupId:o}),s=bv(l);if(void 0!==s[o]||void 0!==t[o])throw Error("MUI X: The groupId ".concat(o," is used multiple times in the columnGroupingModel."));Object.assign(t,s),t[o]=a}return t},bb=(e,t,n)=>{if(bm(e)){if(void 0!==n[e.field])throw Error(["MUI X: columnGroupingModel contains duplicated field","column field ".concat(e.field," occurs two times in the grouping model:"),"- ".concat(n[e.field].join(" > ")),"- ".concat(t.join(" > "))].join("\n"));n[e.field]=t;return}let{groupId:r,children:o}=e;o.forEach(e=>{bb(e,[...t,r],n)})},by=e=>{if(!e)return{};let t={};return e.forEach(e=>{bb(e,[],t)}),t},bw=(e,t,n)=>{let r=e=>{var n;return null!=(n=t[e])?n:[]},o=[],l=Math.max(0,...e.map(e=>r(e).length)),i=(e,t,n)=>{let o=r(e),l=r(t);for(let e=0;e<=n;e+=1)if(o[e]!==l[e])return!1;return!0},a=(e,t)=>{let r=null==n?void 0:n.left,o=null==n?void 0:n.right,l=!!(null==r?void 0:r.includes(e)),i=!!(null==r?void 0:r.includes(t)),a=!!(null==o?void 0:o.includes(e)),s=!!(null==o?void 0:o.includes(t));return l!==i||a!==s};for(let t=0;t<l;t+=1){let n=[];for(let o=0;o<e.length;o+=1){var s;let l=e[o],u=null!=(s=r(l)[t])?s:null;if(0===n.length){n.push({columnFields:[l],groupId:u});continue}let c=n[n.length-1],d=c.columnFields[c.columnFields.length-1];c.groupId!==u||!i(d,l,t)||a(d,l)?n.push({columnFields:[l],groupId:u}):c.columnFields.push(l)}o.push(n)}return o},bx=(e,t,n)=>{var r,o,l;if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;let i=dT(n),a=dA(n),s=bv(null!=(r=t.columnGroupingModel)?r:[]),u=by(null!=(o=t.columnGroupingModel)?o:[]),c=bw(i,u,null!=(l=n.current.state.pinnedColumns)?l:{}),d=0===a.length?0:Math.max(...a.map(e=>{var t,n;return null!=(n=null==(t=u[e])?void 0:t.length)?n:0}));return(0,cS.default)({},e,{columnGrouping:{lookup:s,unwrappedGroupingModel:u,headerStructure:c,maxDepth:d}})},bC=!("undefined"!=typeof window&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),bS=(e,t)=>{let{disableVirtualization:n,autoHeight:r}=t;return(0,cS.default)({},e,{virtualization:{enabled:!n&&bC,enabledForColumns:!n&&bC,enabledForRows:!n&&!r&&bC,renderContext:gE}})},bk={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0};function bM(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){let r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function bR(e,t,n,r){let o=e;return"Right"===r?o+=t-n.left:o+=n.right-t,Math.round(o)}function bE(e,t){return t===dC.LEFT?e?"--DataGrid-rightPinnedWidth":"--DataGrid-leftPinnedWidth":e?"--DataGrid-leftPinnedWidth":"--DataGrid-rightPinnedWidth"}function bT(e,t,n){return n===dC.LEFT?t?e.rightPinnedWidth:e.leftPinnedWidth:t?e.leftPinnedWidth:e.rightPinnedWidth}function bI(e){e.preventDefault(),e.stopImmediatePropagation()}let bO=e=>(0,cS.default)({},e,{columnResize:{resizingColumnField:""}});function bP(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}function bN(e,t,n){e&&(e.style[t]="".concat(Math.round(parseFloat(e.style[t]))+n,"px"))}function bD(e){return 0!==e.firstRowIndex||0!==e.lastRowIndex}let bA=(e,t,n)=>{var r;if(!e)return null;let o=e[t.field],l=null!=(r=t.rowSpanValueGetter)?r:t.valueGetter;return l&&(o=l(o,e,t,n)),o},bL={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},bj={caches:bL,processedRange:{firstRowIndex:0,lastRowIndex:0}},bz=(e,t,n,r,o,l)=>{let i=e.current.virtualizer,a=l?bj:gW.selectors.state(i.store.state),s=(0,cS.default)({},a.caches.spannedCells),u=(0,cS.default)({},a.caches.hiddenCells),c=(0,cS.default)({},a.caches.hiddenCellOriginMap),d={firstRowIndex:Math.min(a.processedRange.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,o.lastRowIndex)};return t.forEach((t,l)=>{for(let a=o.firstRowIndex;a<o.lastRowIndex;a+=1){var i;let d=n[a];if(null==(i=u[d.id])?void 0:i[l])continue;let p=bA(d.model,t,e);if(null==p)continue;let h=d.id,f=a,m=0,g=[];if(a===o.firstRowIndex){let o=a-1,i=n[o];for(;o>=r.firstRowIndex&&i&&bA(i.model,t,e)===p;){let e=n[o+1];u[e.id]?u[e.id][l]=!0:u[e.id]={[l]:!0},g.push(a),m+=1,h=i.id,f=o,o-=1,i=n[o]}}g.forEach(e=>{c[e]?c[e][l]=f:c[e]={[l]:f}});let v=a+1;for(;v<=r.lastRowIndex&&n[v]&&bA(n[v].model,t,e)===p;){let e=n[v];u[e.id]?u[e.id][l]=!0:u[e.id]={[l]:!0},c[v]?c[v][l]=f:c[v]={[l]:f},v+=1,m+=1}m>0&&(s[h]?s[h][l]=m+1:s[h]={[l]:m+1})}}),{caches:{spannedCells:s,hiddenCells:u,hiddenCellOriginMap:c},processedRange:d}},bF=(e,t,n)=>{var r;if(!t.rowSpanning)return(0,cS.default)({},e,{rowSpanning:bj});let o=e.rows.dataRowIds||[],l=e.columns.orderedFields||[],i=e.rows.dataRowIdToModelLookup,a=e.columns.lookup,s=!!e.filter.filterModel.items.length||!!(null==(r=e.filter.filterModel.quickFilterValues)?void 0:r.length);if(!o.length||!l.length||!i||!a||s)return(0,cS.default)({},e,{rowSpanning:bj});let u=((e,t)=>{let n=pd(t).length;if(e.pagination){let e=g0(t),r=20;return e>0&&(r=e-1),{firstRowIndex:0,lastRowIndex:Math.min(r,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(20,n)}})(t,n),c=o.map(e=>({id:e,model:i[e]})),d=bz(n,l.map(e=>a[e]),c,u,u,!0);return(0,cS.default)({},e,{rowSpanning:d})},bH=(e,t,n)=>(0,cS.default)({},e,{listViewColumn:t.listViewColumn?(0,cS.default)({},t.listViewColumn,{computedWidth:bB(n)}):void 0});function bB(e){return dZ(e).viewportInnerSize.width}function bV(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];let i=()=>{e.apply(this,o)};clearTimeout(t),t=setTimeout(i,n)}return r.clear=()=>{clearTimeout(t)},r}let bW=dp(fj,fD,gX,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1})),bG=function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e}({});class bU{constructor(e){(0,pv._)(this,"getCacheKeys",e=>{if(this.chunkSize<1||"number"!=typeof e.start)return[e];let t=[];for(let n=e.start;n<=e.end;n+=this.chunkSize){let r=Math.min(n+this.chunkSize-1,e.end);t.push((0,cS.default)({},e,{start:n,end:r}))}return t}),(0,pv._)(this,"splitResponse",(e,t)=>{let n=this.getCacheKeys(e);if(1===n.length)return new Map([[e,t]]);let r=new Map;return n.forEach(n=>{var o,l,i,a;let s=n.end===e.end,u=(0,cS.default)({},t,{pageInfo:(0,cS.default)({},t.pageInfo,{hasNextPage:(null==(o=t.pageInfo)?void 0:o.hasNextPage)!==void 0&&!s||(null==(l=t.pageInfo)?void 0:l.hasNextPage),nextCursor:(null==(i=t.pageInfo)?void 0:i.nextCursor)===void 0||s?null==(a=t.pageInfo)?void 0:a.nextCursor:t.rows[n.end+1].id}),rows:"number"!=typeof n.start||"number"!=typeof e.start?t.rows:t.rows.slice(n.start-e.start,n.end-e.start+1)});r.set(n,u)}),r}),this.chunkSize=e}}function b_(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}(0,pv._)(bU,"mergeResponses",e=>1===e.length?e[0]:e.reduce((e,t)=>(0,cS.default)({},t,{rows:[...e.rows,...t.rows]}),{rows:[],rowCount:0,pageInfo:{}}));class bq{set(e,t){let n=this.getKey(e),r=Date.now()+this.ttl;this.cache[n]={value:t,expiry:r}}get(e){let t=this.getKey(e),n=this.cache[t];if(n)return Date.now()>n.expiry?void delete this.cache[t]:n.value}clear(){this.cache={}}constructor({ttl:e=3e5,getKey:t=b_}){this.cache={},this.ttl=e,this.getKey=t}}class bK extends Error{constructor(e){super(e.message),this.name="GridGetRowsError",this.params=e.params,this.cause=e.cause}}class b$ extends Error{constructor(e){super(e.message),this.name="GridUpdateRowError",this.params=e.params,this.cause=e.cause}}let bJ=["skipCache"],bX={clear:()=>{},get:()=>void 0,set:()=>{}};function bY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null===e?bX:null!=e?e:new bq(t)}let bQ=function(e,t){var n,r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=g.useCallback(()=>{e.current.setStrategyAvailability(m0.DataSource,bG.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[i,a]=g.useState(e.current.getActiveStrategy(m0.DataSource)),s=g.useMemo(()=>i===bG.Default,[i]),u=c2(e,gX),c=g.useRef(0),d=t.onDataSourceError,p=cX(()=>{if(!t.pagination)return new bU(u.pageSize);let e=t.pageSizeOptions.map(e=>"number"==typeof e?e:e.value).sort((e,t)=>e-t);return new bU(Math.min(u.pageSize,e[0]))}).current,[h,f]=g.useState(()=>bY(t.dataSourceCache,o.cacheOptions)),m=g.useCallback(async(n,r)=>{var l,i,a;let u=null==(l=t.dataSource)?void 0:l.getRows;if(!u)return;if(n&&n!==hv&&"DataGrid"!==t.signature){null==(a=o.fetchRowChildren)||a.call(o,[n]);return}null==(i=o.clearDataSourceState)||i.call(o);let f=r||{},{skipCache:m}=f,g=(0,cE.default)(f,bJ),v=(0,cS.default)({},bW(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),g),b=p.getCacheKeys(v).map(e=>h.get(e));if(!m&&b.every(e=>void 0!==e))return void e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:bU.mergeResponses(b),fetchParams:v});(s||0===e.current.getRowsCount())&&e.current.setLoading(!0);let y=c.current+1;c.current=y;try{let t=await u(v);p.splitResponse(v,t).forEach((e,t)=>h.set(t,e)),c.current===y&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:t,fetchParams:v})}catch(t){c.current===y&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:t,fetchParams:v}),"function"==typeof d&&d(new bK({message:null==t?void 0:t.message,params:v,cause:t})))}finally{s&&c.current===y&&e.current.setLoading(!1)}},[p,h,e,s,null==(n=t.dataSource)?void 0:n.getRows,d,o,t.signature]),v=g.useCallback(()=>{a(e.current.getActiveStrategy(m0.DataSource))},[e]),b=g.useCallback(t=>{if("error"in t)return void e.current.setRows([]);let{response:n}=t;void 0!==n.rowCount&&e.current.setRowCount(n.rowCount),e.current.setRows(n.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:t.fetchParams,response:n},!0)},[e]),y=null==(r=t.dataSource)?void 0:r.updateRow,w=o.handleEditRow,x=g.useCallback(async t=>{if(y)try{let n=await y(t);if("function"==typeof w)return w(t,n),n;return n&&!gi(n,t.previousRow)&&e.current.dataSource.cache.clear(),e.current.updateNestedRows([n],[]),n}catch(e){throw"function"==typeof d&&d(new b$({message:null==e?void 0:e.message,params:t,cause:e})),e}},[e,y,d,w]),C=g.useMemo(()=>bV(m,0),[m]),S=g.useRef(!0);return g.useEffect(()=>{if(S.current){S.current=!1;return}if(void 0===t.dataSourceCache)return;let e=bY(t.dataSourceCache,o.cacheOptions);f(t=>t!==e?e:t)},[t.dataSourceCache,o.cacheOptions]),g.useEffect(()=>{if(i===bG.Default||i===bG.LazyLoading)return t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{c.current+=1}},[e,t.dataSource,i]),{api:{public:{dataSource:{fetchRows:m,cache:h,editRow:x}}},debouncedFetchRows:C,strategyProcessor:{strategyName:bG.Default,group:"dataSourceRowsUpdate",processor:b},setStrategyAvailability:l,cacheChunkManager:p,cache:h,events:{strategyAvailabilityChange:v,sortModelChange:pY(s,()=>C()),filterModelChange:pY(s,()=>C()),paginationModelChange:pY(s,()=>C())}}};var bZ=e.i(210557),b0=e.i(294231),b0=b0;let b1={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?"".concat(e," active filters"):"".concat(e," active filter"),toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarCharts:"Charts",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>"".concat(e," column menu"),columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnMenuManageCharts:"Manage charts",columnHeaderFiltersTooltipActive:e=>1!==e?"".concat(e," active filters"):"".concat(e," active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?"".concat(e.toLocaleString()," rows selected"):"".concat(e.toLocaleString()," row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," of ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>"Group by ".concat(e),unGroupColumn:e=>"Stop grouping by ".concat(e),detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:e=>{let{from:t,to:n,count:r,estimated:o}=e;if(!o)return"".concat(t,"").concat(n," of ").concat(-1!==r?r:"more than ".concat(n));let l=o&&o>n?"around ".concat(o):"more than ".concat(n);return"".concat(t,"").concat(n," of ").concat(-1!==r?r:l)},paginationItemAriaLabel:e=>"first"===e?"Go to first page":"last"===e?"Go to last page":"next"===e?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelNone:"none",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",chartsNoCharts:"There are no charts available",chartsChartNotSelected:"Select a chart type to configure its options",chartsTabChart:"Chart",chartsTabFields:"Fields",chartsTabCustomize:"Customize",chartsCloseButton:"Close charts configuration",chartsSyncButtonLabel:"Sync chart",chartsSearchPlaceholder:"Search fields",chartsSearchLabel:"Search fields",chartsSearchClear:"Clear search",chartsNoFields:"No fields",chartsFieldBlocked:"This field cannot be added to any section",chartsCategories:"Categories",chartsSeries:"Series",chartsMenuAddToDimensions:e=>"Add to ".concat(e),chartsMenuAddToValues:e=>"Add to ".concat(e),chartsMenuMoveUp:"Move up",chartsMenuMoveDown:"Move down",chartsMenuMoveToTop:"Move to top",chartsMenuMoveToBottom:"Move to bottom",chartsMenuOptions:"Field options",chartsMenuRemove:"Remove",chartsDragToDimensions:e=>"Drag here to use column as ".concat(e),chartsDragToValues:e=>"Drag here to use column as ".concat(e),aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt",promptFieldPlaceholderWithRecording:"Type or record a prompt",promptFieldPlaceholderListening:"Listening for prompt",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>"Group by ".concat(e),promptChangeAggregationLabel:(e,t)=>"".concat(e," (").concat(t,")"),promptChangeAggregationDescription:(e,t)=>"Aggregate ".concat(e," (").concat(t,")"),promptChangeFilterLabel:(e,t,n)=>"is any of"===t?"".concat(e," is any of: ").concat(n):"".concat(e," ").concat(t," ").concat(n),promptChangeFilterDescription:(e,t,n)=>"is any of"===t?"Filter where ".concat(e," is any of: ").concat(n):"Filter where ".concat(e," ").concat(t," ").concat(n),promptChangeSortDescription:(e,t)=>"Sort by ".concat(e," (").concat(t,")"),promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>"Columns (".concat(e,")"),promptChangePivotColumnsDescription:(e,t)=>"".concat(e).concat(t?" (".concat(t,")"):""),promptChangePivotRowsLabel:e=>"Rows (".concat(e,")"),promptChangePivotValuesLabel:e=>"Values (".concat(e,")"),promptChangePivotValuesDescription:(e,t)=>"".concat(e," (").concat(t,")")},b2=["field","type","align","width","height","empty","style","className"],b5="1.3em",b3=[40,80],b4={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},b9=function(e){var t;let n=(t=12345,()=>{let e=t+=0x6d2b79f5;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/0x100000000});return(e,t)=>e+(t-e)*n()}(0),b6=cA(function(e){let{field:t,type:n,align:r,width:o,height:l,empty:i=!1,style:s,className:u}=e,c=(0,cE.default)(e,b2),d=dt(),p=(e=>{let{align:t,classes:n,empty:r}=e;return cP({root:["cell","cellSkeleton","cell--text".concat(t?cO(t):"Left"),r&&"cellEmpty"]},cV,n)})({classes:d.classes,align:r,empty:i}),h=g.useMemo(()=>{var e;if("boolean"===n||"actions"===n)return{variant:"circular",width:b5,height:b5};let[t,r]=n&&null!=(e=b4[n])?e:b3;return{variant:"text",width:"".concat(Math.round(b9(t,r)),"%"),height:"1.2em"}},[n]);return(0,a.jsx)("div",(0,cS.default)({"data-field":t,className:(0,cT.default)(p.root,u),style:(0,cS.default)({height:l,maxWidth:o,minWidth:o},s)},c,{children:!i&&(0,a.jsx)(d.slots.baseSkeleton,(0,cS.default)({},h))}))}),b7=["className"],b8=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),ye=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,b7),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["panelWrapper"]},cV,t)})(o);return(0,a.jsx)(b8,(0,cS.default)({tabIndex:-1,className:(0,cT.default)(l.root,n),ownerState:o},r,{ref:t}))});var dQ=dQ;let yt=["className"],yn=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:cq.spacing(2.5,1.5,2,1),gap:cq.spacing(2.5)});function yr(e){let{className:t}=e,n=(0,cE.default)(e,yt),r=dt(),o=(e=>{let{classes:t}=e;return cP({root:["panelContent"]},cV,t)})(r);return(0,a.jsx)(yn,(0,cS.default)({className:(0,cT.default)(o.root,t),ownerState:r},n))}let yo=["className"],yl=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:cq.spacing(1),display:"flex",justifyContent:"space-between",borderTop:"1px solid ".concat(cq.colors.border.base)});function yi(e){let{className:t}=e,n=(0,cE.default)(e,yo),r=dt(),o=(e=>{let{classes:t}=e;return cP({root:["panelFooter"]},cV,t)})(r);return(0,a.jsx)(yl,(0,cS.default)({className:(0,cT.default)(o.root,t),ownerState:r},n))}let ya=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],ys=["InputComponentProps"],yu=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:cq.spacing(1.5)}),yc=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),yd=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),yp=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),yh=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),yf=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),ym=new Intl.Collator,yg=cR(function(e,t){var n,r,o,l,i,s,u,c,d;let{item:p,hasMultipleFilters:h,deleteFilter:f,applyFilterChanges:m,showMultiFilterOperators:v,disableMultiFilterOperator:b,applyMultiFilterOperatorChanges:y,focusElementRef:w,logicOperators:x=[pZ.And,pZ.Or],columnsSort:C,filterColumns:S,deleteIconProps:k={},logicOperatorInputProps:M={},operatorInputProps:R={},columnInputProps:E={},valueInputProps:T={},readOnly:I}=e,O=(0,cE.default)(e,ya),P=dq(),N=c2(P,dI),D=c2(P,dH),A=c2(P,fj),L=pG(),j=pG(),z=pG(),F=pG(),H=dt(),B=(e=>{let{classes:t}=e;return cP({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},cV,t)})(H),V=g.useRef(null),W=g.useRef(null),G=null!=(c=A.logicOperator)?c:pZ.And,U=h&&x.length>0,_=null!=(d=((null==(n=H.slotProps)?void 0:n.baseSelect)||{}).native)&&d,q=(null==(r=H.slotProps)?void 0:r.baseSelectOption)||{},{InputComponentProps:K}=T,$=(0,cE.default)(T,ys),J=c2(P,fY),X=c2(P,fZ),{filteredColumns:Y,selectedField:Q}=g.useMemo(()=>{let e=p.field,t=!1===N[p.field].filterable?N[p.field]:null;if(t)return{filteredColumns:[t],selectedField:e};if(J)return{filteredColumns:D.filter(e=>void 0!==X.get(e.field)),selectedField:e};if(void 0===S||"function"!=typeof S)return{filteredColumns:D,selectedField:e};let n=S({field:p.field,columns:D,currentFilters:(null==A?void 0:A.items)||[]});return{filteredColumns:D.filter(t=>{let r=n.includes(t.field);return t.field!==p.field||r||(e=void 0),r}),selectedField:e}},[p.field,N,J,S,D,null==A?void 0:A.items,X]),Z=g.useMemo(()=>{switch(C){case"asc":return Y.sort((e,t)=>ym.compare(e.headerName||e.field,t.headerName||t.field));case"desc":return Y.sort((e,t)=>-ym.compare(e.headerName||e.field,t.headerName||t.field));default:return Y}},[Y,C]),ee=p.field?P.current.getColumn(p.field):null,et=g.useMemo(()=>{var e;return p.operator&&ee?null==(e=ee.filterOperators)?void 0:e.find(e=>e.value===p.operator):null},[p,ee]),en=g.useCallback(e=>{let t=e.target.value,n=P.current.getColumn(t);if(n.field===ee.field)return;let r=n.filterOperators.find(e=>e.value===p.operator)||n.filterOperators[0],o=r.InputComponent&&r.InputComponent===(null==et?void 0:et.InputComponent)&&n.type===ee.type?p.value:void 0;if("singleSelect"===n.type&&void 0!==o){let e=hX(n);Array.isArray(o)?o=o.filter(t=>void 0!==hY(t,e,null==n?void 0:n.getOptionValue)):void 0===hY(p.value,e,null==n?void 0:n.getOptionValue)&&(o=void 0)}m((0,cS.default)({},p,{field:t,operator:r.value,value:o}))},[P,m,p,ee,et]),er=g.useCallback(e=>{let t=e.target.value,n=null==ee?void 0:ee.filterOperators.find(e=>e.value===t),r=!(null==n?void 0:n.InputComponent)||(null==n?void 0:n.InputComponent)!==(null==et?void 0:et.InputComponent);m((0,cS.default)({},p,{operator:t,value:r?void 0:p.value}))},[m,p,ee,et]),eo=g.useCallback(e=>{y(e.target.value===pZ.And.toString()?pZ.And:pZ.Or)},[y]);return g.useImperativeHandle(w,()=>({focus:()=>{if(null==et?void 0:et.InputComponent){var e;null==V||null==(e=V.current)||e.focus()}else W.current.focus()}}),[et]),(0,a.jsxs)(yu,(0,cS.default)({className:B.root,"data-id":p.id,ownerState:H},O,{ref:t,children:[(0,a.jsx)(yc,(0,cS.default)({},k,{className:(0,cT.default)(B.deleteIcon,k.className),ownerState:H,children:(0,a.jsx)(H.slots.baseIconButton,(0,cS.default)({"aria-label":P.current.getLocaleText("filterPanelDeleteIconLabel"),title:P.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{f(p)},size:"small",disabled:I},null==(o=H.slotProps)?void 0:o.baseIconButton,{children:(0,a.jsx)(H.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,a.jsx)(yd,(0,cS.default)({as:H.slots.baseSelect,sx:[U?{display:"flex"}:{display:"none"},v?{visibility:"visible"}:{visibility:"hidden"},M.sx],className:(0,cT.default)(B.logicOperatorInput,M.className),ownerState:H},M,{size:"small",slotProps:{htmlInput:{"aria-label":P.current.getLocaleText("filterPanelLogicOperator")}},value:null!=G?G:"",onChange:eo,disabled:!!b||1===x.length,native:_},null==(l=H.slotProps)?void 0:l.baseSelect,{children:x.map(e=>(0,g.createElement)(H.slots.baseSelectOption,(0,cS.default)({},q,{native:_,key:e.toString(),value:e.toString()}),P.current.getLocaleText((e=>{switch(e){case pZ.And:return"filterPanelOperatorAnd";case pZ.Or:return"filterPanelOperatorOr";default:throw Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(e))))})),(0,a.jsx)(yp,(0,cS.default)({as:H.slots.baseSelect},E,{className:(0,cT.default)(B.columnInput,E.className),ownerState:H,size:"small",labelId:j,id:L,label:P.current.getLocaleText("filterPanelColumns"),value:null!=Q?Q:"",onChange:en,native:_,disabled:I},null==(i=H.slotProps)?void 0:i.baseSelect,{children:Z.map(e=>(0,g.createElement)(H.slots.baseSelectOption,(0,cS.default)({},q,{native:_,key:e.field,value:e.field}),e.headerName||e.field))})),(0,a.jsx)(yh,(0,cS.default)({as:H.slots.baseSelect,size:"small"},R,{className:(0,cT.default)(B.operatorInput,R.className),ownerState:H,labelId:F,label:P.current.getLocaleText("filterPanelOperator"),id:z,value:p.operator,onChange:er,native:_,inputRef:W,disabled:I},null==(s=H.slotProps)?void 0:s.baseSelect,{children:null==ee||null==(u=ee.filterOperators)?void 0:u.map(e=>(0,g.createElement)(H.slots.baseSelectOption,(0,cS.default)({},q,{native:_,key:e.value,value:e.value}),e.label||P.current.getLocaleText("filterOperator".concat(cO(e.value)))))})),(0,a.jsx)(yf,(0,cS.default)({},$,{className:(0,cT.default)(B.valueInput,$.className),ownerState:H,children:(null==et?void 0:et.InputComponent)?(0,a.jsx)(et.InputComponent,(0,cS.default)({apiRef:P,item:p,applyValue:m,focusElementRef:V,disabled:I,slotProps:{root:{size:"small"}}},et.InputComponentProps,K),p.field):null}))]}))}),yv=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],yb=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}),yy=cR(function(e,t){var n,r;let o=dq(),l=dt(),i=c2(o,fj),s=c2(o,dH),u=c2(o,dB),c=g.useRef(null),d=g.useRef(null),{logicOperators:p=[pZ.And,pZ.Or],columnsSort:h,filterFormProps:f,getColumnForNewFilter:m,disableAddFilterButton:v=!1,disableRemoveAllButton:b=!1}=e,y=(0,cE.default)(e,yv),w=o.current.upsertFilterItem,x=g.useCallback(e=>{o.current.setFilterLogicOperator(e)},[o]),C=g.useCallback(()=>{let e;if(m&&"function"==typeof m){let t=m({currentFilters:(null==i?void 0:i.items)||[],columns:s});if(null===t)return null;e=s.find(e=>{let{field:n}=e;return n===t})}else e=s.find(e=>{var t;return null==(t=e.filterOperators)?void 0:t.length});return e?yb(e):null},[null==i?void 0:i.items,s,m]),S=g.useCallback(()=>{if(void 0===m||"function"!=typeof m)return C();let e=m({currentFilters:i.items.length?i.items:[C()].filter(Boolean),columns:s});if(null===e)return null;let t=s.find(t=>{let{field:n}=t;return n===e});return t?yb(t):null},[i.items,s,m,C]),k=g.useMemo(()=>i.items.length?i.items:(d.current||(d.current=C()),d.current?[d.current]:[]),[i.items,C]),M=k.length>1,{readOnlyFilters:R,validFilters:E}=g.useMemo(()=>k.reduce((e,t)=>(u[t.field]?e.validFilters.push(t):e.readOnlyFilters.push(t),e),{readOnlyFilters:[],validFilters:[]}),[k,u]),T=g.useCallback(()=>{let e=S();e&&o.current.upsertFilterItems([...k,e])},[o,S,k]),I=g.useCallback(e=>{let t=1===E.length;o.current.deleteFilterItem(e),t&&o.current.hideFilterPanel()},[o,E.length]),O=g.useCallback(()=>1===E.length&&void 0===E[0].value?(o.current.deleteFilterItem(E[0]),o.current.hideFilterPanel()):o.current.setFilterModel((0,cS.default)({},i,{items:R}),"removeAllFilterItems"),[o,R,i,E]);return g.useEffect(()=>{p.length>0&&i.logicOperator&&!p.includes(i.logicOperator)&&x(p[0])},[p,x,i.logicOperator]),g.useEffect(()=>{E.length>0&&c.current.focus()},[E.length]),(0,a.jsxs)(ye,(0,cS.default)({},y,{ref:t,children:[(0,a.jsxs)(yr,{children:[R.map((e,t)=>(0,a.jsx)(yg,(0,cS.default)({item:e,applyFilterChanges:w,deleteFilter:I,hasMultipleFilters:M,showMultiFilterOperators:t>0,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:x,focusElementRef:null,readOnly:!0,logicOperators:p,columnsSort:h},f),null==e.id?t:e.id)),E.map((e,t)=>(0,a.jsx)(yg,(0,cS.default)({item:e,applyFilterChanges:w,deleteFilter:I,hasMultipleFilters:M,showMultiFilterOperators:R.length+t>0,disableMultiFilterOperator:R.length+t!==1,applyMultiFilterOperatorChanges:x,focusElementRef:t===E.length-1?c:null,logicOperators:p,columnsSort:h},f),null==e.id?t+R.length:e.id))]}),l.disableMultipleColumnsFiltering||v&&b?null:(0,a.jsxs)(yi,{children:[v?(0,a.jsx)("span",{}):(0,a.jsx)(l.slots.baseButton,(0,cS.default)({onClick:T,startIcon:(0,a.jsx)(l.slots.filterPanelAddIcon,{})},null==(n=l.slotProps)?void 0:n.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")})),!b&&E.length>0?(0,a.jsx)(l.slots.baseButton,(0,cS.default)({onClick:O,startIcon:(0,a.jsx)(l.slots.filterPanelRemoveAllIcon,{})},null==(r=l.slotProps)?void 0:r.baseButton,{children:o.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))});var dQ=dQ;let yw=["className","selectedRowCount"],yx=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:cq.spacing(0,2),visibility:"hidden",width:0,height:0,[cq.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),yC=cR(function(e,t){let{className:n,selectedRowCount:r}=e,o=(0,cE.default)(e,yw),l=dq(),i=dt(),s=(e=>{let{classes:t}=e;return cP({root:["selectedRowCount"]},cV,t)})(i),u=l.current.getLocaleText("footerRowSelected")(r);return(0,a.jsx)(yx,(0,cS.default)({className:(0,cT.default)(s.root,n),ownerState:i},o,{ref:t,children:u}))});var dQ=dQ;let yS=["className"],yk=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),yM=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,yS),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["footerContainer","withBorderColor"]},cV,t)})(o);return(0,a.jsx)(yk,(0,cS.default)({className:(0,cT.default)(l.root,n),ownerState:o},r,{ref:t}))}),yR=cR(function(e,t){var n,r;let o=dq(),l=dt(),i=c2(o,pr),s=c2(o,mH),u=c2(o,fq),c=!l.hideFooterSelectedRowCount&&s>0?(0,a.jsx)(yC,{selectedRowCount:s}):(0,a.jsx)("div",{}),d=l.hideFooterRowCount||l.pagination?null:(0,a.jsx)(l.slots.footerRowCount,(0,cS.default)({},null==(n=l.slotProps)?void 0:n.footerRowCount,{rowCount:i,visibleRowCount:u})),p=l.pagination&&!l.hideFooterPagination&&l.slots.pagination&&(0,a.jsx)(l.slots.pagination,(0,cS.default)({},null==(r=l.slotProps)?void 0:r.pagination));return(0,a.jsxs)(yM,(0,cS.default)({},e,{ref:t,children:[c,d,p]}))});var dQ=dQ;let yE=["className"],yT=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:cq.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:cq.colors.background.backdrop}),yI=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,yE),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["overlay"]},cV,t)})(o);return(0,a.jsx)(yT,(0,cS.default)({className:(0,cT.default)(l.root,n),ownerState:o},r,{ref:t}))});var dQ=dQ;let yO=(e,t,n,r,o,l)=>{let i;switch(e){case hj.LEFT:i=r[n];break;case hj.RIGHT:i=o-r[n]-t+l;break;default:i=void 0}return Number.isNaN(i)&&(i=void 0),i},yP=(e,t,n,r,o,l)=>{let i=t===n-1;return(null==l?!!void 0:!!l.startsWith("border"))&&e===hj.LEFT&&!!i||!!r&&(e===hj.LEFT||(e===hj.RIGHT?!i:!i||o))},yN=(e,t,n,r)=>(null==r?void 0:r.startsWith("border"))?e===hj.RIGHT&&0===t:n&&e===hj.RIGHT&&0===t,yD=(e,t)=>{if(e)if(t){if(e===hj.LEFT)return"right";if(e===hj.RIGHT)return"left"}else{if(e===hj.LEFT)return"left";if(e===hj.RIGHT)return"right"}};function yA(e,t,n,r){let o=yD(n,t);return o&&void 0!==r&&(e[o]=r),e}let yL=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],yj=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),yz=e=>parseInt(e.getAttribute("data-colindex"),10),yF=cR(function(e,t){let n=dt(),{slots:r}=n,o=(0,h4.useRtl)(),l=(e=>{let{classes:t}=e;return cP({root:["skeletonLoadingOverlay"]},cV,t)})({classes:n.classes}),i=g.useRef(null),s=cI(i,t),u=dq(),c=c2(u,dZ),d=c2(u,d0),p=c2(u,dF),h=g.useMemo(()=>p.filter(e=>e<=d).length,[d,p]),{skeletonRowsCount:f,visibleColumns:m,showFirstRowBorder:v}=e,b=(0,cE.default)(e,yL),y=c2(u,dD),w=g.useMemo(()=>y.slice(0,h),[y,h]),x=c2(u,dj),C=g.useCallback(e=>-1!==x.left.findIndex(t=>t.field===e)?hj.LEFT:-1!==x.right.findIndex(t=>t.field===e)?hj.RIGHT:void 0,[x.left,x.right]),S=g.useMemo(()=>{let e=[];for(let t=0;t<f;t+=1){let l=[];for(let e=0;e<w.length;e+=1){let i=w[e],s=C(i.field),u=s===hj.LEFT,d=s===hj.RIGHT,h=yD(s,o),f=h?x[h].length:w.length-x.left.length-x.right.length,g=h?x[h].findIndex(e=>e.field===i.field):e-x.left.length,v=c.hasScrollY?c.scrollbarSize:0,b=yA({},o,s,yO(s,i.computedWidth,e,p,c.columnsTotalWidth,v)),y=c.columnsTotalWidth<c.viewportOuterSize.width,S=yP(s,g,f,n.showCellVerticalBorder,y,n.pinnedColumnsSectionSeparator),k=yN(s,g,n.showCellVerticalBorder,n.pinnedColumnsSectionSeparator),M=e===w.length-1,R=d&&0===g,E=R&&y,T=M&&!R&&y,I=Math.max(0,c.viewportOuterSize.width-c.columnsTotalWidth),O=(0,a.jsx)(r.skeletonCell,{width:I,empty:!0},"skeleton-filler-column-".concat(t));E&&l.push(O),l.push((0,a.jsx)(r.skeletonCell,{field:i.field,type:i.type,align:i.align,width:"var(--width)",height:c.rowHeight,"data-colindex":e,empty:m&&!m.has(i.field),className:(0,cT.default)(u&&cW["cell--pinnedLeft"],d&&cW["cell--pinnedRight"],S&&cW["cell--withRightBorder"],k&&cW["cell--withLeftBorder"]),style:(0,cS.default)({"--width":"".concat(i.computedWidth,"px")},b)},"skeleton-column-".concat(t,"-").concat(i.field))),T&&l.push(O)}e.push((0,a.jsx)("div",{className:(0,cT.default)(cW.row,cW.rowSkeleton,0===t&&!v&&cW["row--firstVisible"]),children:l},"skeleton-row-".concat(t)))}return e},[f,w,C,o,x,c.hasScrollY,c.scrollbarSize,c.columnsTotalWidth,c.viewportOuterSize.width,c.rowHeight,p,n.showCellVerticalBorder,n.pinnedColumnsSectionSeparator,r,m,v]);return pS(u,"columnResize",e=>{var t,n,r;let{colDef:o,width:l}=e,a=null==(t=i.current)?void 0:t.querySelectorAll('[data-field="'.concat(vW(o.field),'"]'));if(!a)throw Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");let s=w.findIndex(e=>e.field===o.field),u=C(o.field),c=u===hj.LEFT,d=u===hj.RIGHT,p=parseInt(getComputedStyle(a[0]).getPropertyValue("--width"),10)-l;if(a&&a.forEach(e=>{e.style.setProperty("--width","".concat(l,"px"))}),c){let e=null==(n=i.current)?void 0:n.querySelectorAll(".".concat(cW["cell--pinnedLeft"]));null==e||e.forEach(e=>{yz(e)>s&&(e.style.left="".concat(parseInt(getComputedStyle(e).left,10)-p,"px"))})}if(d){let e=null==(r=i.current)?void 0:r.querySelectorAll(".".concat(cW["cell--pinnedRight"]));null==e||e.forEach(e=>{yz(e)<s&&(e.style.right="".concat(parseInt(getComputedStyle(e).right,10)+p,"px"))})}}),(0,a.jsx)(yj,(0,cS.default)({className:l.root},b,{ref:s,children:S}))}),yH=cR(function(e,t){var n;let r=c2(dq(),dZ),o=Math.ceil((null!=(n=null==r?void 0:r.viewportInnerSize.height)?n:0)/r.rowHeight);return(0,a.jsx)(yF,(0,cS.default)({},e,{skeletonRowsCount:o,ref:t}))}),yB=["variant","noRowsVariant","style"],yV={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>yH,style:{display:"block"}}},yW=cR(function(e,t){let{variant:n="linear-progress",noRowsVariant:r="skeleton",style:o}=e,l=(0,cE.default)(e,yB),i=dq(),s=dt(),u=yV[0===c2(i,pt)?r:n],c=u.component(s);return(0,a.jsx)(yI,(0,cS.default)({style:(0,cS.default)({},u.style,o)},l,{ref:t,children:(0,a.jsx)(c,{})}))}),yG=cR(function(e,t){let n=dq().current.getLocaleText("noRowsLabel");return(0,a.jsx)(yI,(0,cS.default)({},e,{ref:t,children:n}))}),yU=(0,cL.styled)(pO)({maxHeight:"calc(100% + 1px)",flexGrow:1}),y_=["children","className","classes","onClose"],yq=cB("MuiDataGrid",["panel","paper"]),yK=(0,cL.styled)(pO,{name:"MuiDataGrid",slot:"panel"})({zIndex:cq.zIndex.panel}),y$=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:cq.colors.background.overlay,borderRadius:cq.radius.base,boxShadow:cq.shadows.overlay,display:"flex",maxWidth:"calc(100vw - ".concat(cq.spacing(2),")"),overflow:"auto"}),yJ=cR((e,t)=>{var n,r;let{children:o,className:l,onClose:i}=e,s=(0,cE.default)(e,y_),u=dq(),c=dt(),[d,p]=g.useState(!1),h=di(),f=pg(()=>p(!0)),m=pg(()=>p(!1)),v=pg(()=>{null==i||i()}),b=pg(e=>{"Escape"===e.key&&(null==i||i())}),[y,w]=g.useState(null);return(g.useEffect(()=>{var e,t;let n=null==(t=u.current.rootElementRef)||null==(e=t.current)?void 0:e.querySelector('[data-id="gridPanelAnchor"]');n&&w(n)},[u]),y)?(0,a.jsx)(yK,(0,cS.default)({as:c.slots.basePopper,ownerState:c,placement:"bottom-end",className:(0,cT.default)(yq.panel,l,h),flip:!0,onDidShow:f,onDidHide:m,onClickAway:v,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},s,null==(n=c.slotProps)?void 0:n.basePopper,{target:null!=(r=e.target)?r:y,ref:t,children:(0,a.jsx)(y$,{className:yq.paper,ownerState:c,onKeyDown:b,children:d&&o})})):null}),yX=dp(df(e=>e.rowReorder),e=>{var t;return null!=(t=null==e?void 0:e.isActive)&&t}),yY=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],yQ=dp(v1,(e,t)=>{let{rowReordering:n,treeData:r}=t;return!!n&&!r&&!!fI(e)}),yZ=cA(cR(function(e,t){var n;let{selected:r,rowId:o,row:l,index:i,style:s,rowHeight:u,className:c,visibleColumns:d,pinnedColumns:p,offsetLeft:h,columnsTotalWidth:f,firstColumnIndex:m,lastColumnIndex:v,focusedColumnIndex:b,isFirstVisible:y,isLastVisible:w,isNotVisible:x,showBottomBorder:C,scrollbarWidth:S,gridHasFiller:k,onClick:M,onDoubleClick:R,onMouseEnter:E,onMouseLeave:T,onMouseOut:I,onMouseOver:O}=e,P=(0,cE.default)(e,yY),N=c3(),D=dr(),A=g.useRef(null),L=dt(),j=g6(N,L),z=c2(N,fD),F=c2(N,dF),H=c2(N,yQ,{rowReordering:L.rowReordering,treeData:L.treeData}),B=c2(N,yX),V=cI(A,t),W=pi(N,o),G=c2(N,v2,{rowId:o,editMode:L.editMode}),U=L.editMode===hq.Row,_=void 0!==b,q=_&&b>=p.left.length&&b<m,K=_&&b<d.length-p.right.length&&b>=v,$=cP({root:["row",r&&"selected",U&&"row--editable",G&&"row--editing",y&&"row--firstVisible",w&&"row--lastVisible",C&&"row--borderBottom","auto"===u&&"row--dynamicHeight"]},cV,L.classes),J=D.hooks.useGridRowAriaAttributes();g.useLayoutEffect(()=>{if(j.range){let e=N.current.getRowIndexRelativeToVisibleRows(o);void 0!==e&&N.current.unstable_setLastMeasuredRowIndex(e)}if(A.current&&"auto"===u)return N.current.observeRowHeight(A.current,o)},[N,j.range,u,o]);let X=g.useCallback((e,t)=>n=>{!vU(n)&&N.current.getRow(o)&&(N.current.publishEvent(e,N.current.getRowParams(o),n),t&&t(n))},[N,o]),Y=g.useCallback(e=>{let t=vV(e.target,cW.cell),n=null==t?void 0:t.getAttribute("data-field");if(n){if(n===vm.field||n===hL||"__reorder__"===n||N.current.getCellMode(o,n)===hK.Edit)return;let e=N.current.getColumn(n);if((null==e?void 0:e.type)===fl)return}X("rowClick",M)(e)},[N,M,X,o]),{slots:Q,slotProps:Z,disableColumnReorder:ee}=L,et=c2(N,()=>(0,cS.default)({},N.current.getRowHeightEntry(o)),void 0,cD),en=g.useMemo(()=>{if(x)return{opacity:0,width:0,height:0};let e=(0,cS.default)({},s,{maxHeight:"auto"===u?"none":u,minHeight:u,"--height":"number"==typeof u?"".concat(u,"px"):u});if(et.spacingTop&&(e["border"===L.rowSpacingType?"borderTopWidth":"marginTop"]=et.spacingTop),et.spacingBottom){let t="border"===L.rowSpacingType?"borderBottomWidth":"marginBottom",n=e[t];"number"!=typeof n&&(n=parseInt(n||"0",10)),n+=et.spacingBottom,e[t]=n}return e},[x,u,s,et,L.rowSpacingType]);if(!W)return null;let er=N.current.unstable_applyPipeProcessors("rowClassName",[],o),eo=J(W,i);if("function"==typeof L.getRowClassName){let e=i-((null==(n=j.range)?void 0:n.firstRowIndex)||0),t=(0,cS.default)({},N.current.getRowParams(o),{isFirstVisible:0===e,isLastVisible:e===j.rows.length-1,indexRelativeToCurrentPage:e});er.push(L.getRowClassName(t))}let el=function(e,t,n,r){var i,s;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hj.NONE,d=N.current.unstable_getCellColSpanInfo(o,n);if(null==d?void 0:d.spannedByColSpan)return null;let p=null!=(i=null==d?void 0:d.cellProps.width)?i:e.computedWidth,h=null!=(s=null==d?void 0:d.cellProps.colSpan)?s:1,m=yO(c,e.computedWidth,n,F,f,S);if("skeletonRow"===W.type)return(0,a.jsx)(Q.skeletonCell,{type:e.type,width:p,height:u,field:e.field,align:e.align},e.field);let g="__reorder__"===e.field,v=!(ee||e.disableReorder),b=H&&!z.length,y=c===hj.VIRTUAL,w=yN(c,t,L.showCellVerticalBorder,L.pinnedColumnsSectionSeparator),x=yP(c,t,r,L.showCellVerticalBorder,k,L.pinnedColumnsSectionSeparator);return(0,a.jsx)(Q.cell,(0,cS.default)({column:e,width:p,rowId:o,align:e.align||"left",colIndex:n,colSpan:h,disableDragEvents:!(v||g&&b||B),isNotVisible:y,pinnedOffset:m,pinnedPosition:c,showLeftBorder:w,showRightBorder:x,row:l,rowNode:W},null==Z?void 0:Z.cell),e.field)},ei=p.left.map((e,t)=>el(e,t,t,p.left.length,hj.LEFT)),ea=p.right.map((e,t)=>{let n=d.length-p.right.length+t;return el(e,t,n,p.right.length,hj.RIGHT)}),es=d.length-p.left.length-p.right.length,eu=[];q&&eu.push(el(d[b],b-p.left.length,b,es,hj.VIRTUAL));for(let e=m;e<v;e+=1){let t=d[e],n=e-p.left.length;t&&eu.push(el(t,n,e,es))}K&&eu.push(el(d[b],b-p.left.length,b,es,hj.VIRTUAL));let ec=l?{onClick:Y,onDoubleClick:X("rowDoubleClick",R),onMouseEnter:X("rowMouseEnter",E),onMouseLeave:X("rowMouseLeave",T),onMouseOut:X("rowMouseOut",I),onMouseOver:X("rowMouseOver",O)}:null;return(0,a.jsxs)("div",(0,cS.default)({"data-id":o,"data-rowindex":i,role:"row",className:(0,cT.default)(...er,$.root,c),style:en},eo,ec,P,{ref:V,children:[ei,(0,a.jsx)("div",{role:"presentation",className:cW.cellOffsetLeft,style:{width:h}}),eu,(0,a.jsx)("div",{role:"presentation",className:(0,cT.default)(cW.cell,cW.cellEmpty)}),ea]}))}));var dQ=dQ;let y0=["className"],y1=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),y2=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,y0),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["iconButtonContainer"]},cV,t)})(o);return(0,a.jsx)(y1,(0,cS.default)({className:(0,cT.default)(l.root,n),ownerState:o},r,{ref:t}))});function y5(e){var t,n;let{counter:r,field:o,onClick:l}=e,i=dq(),s=dt(),u=(e=>{let{classes:t}=e;return cP({icon:["filterIcon"]},cV,t)})((0,cS.default)({},e,{classes:s.classes})),c=pG(),d=c2(i,dG,c),p=pG(),h=g.useCallback(e=>{e.preventDefault(),e.stopPropagation();let{open:t,openedPanelValue:n}=dW(i);t&&n===dU.filters?i.current.hideFilterPanel():i.current.showFilterPanel(void 0,p,c),l&&l(i.current.getColumnHeaderParams(o),e)},[i,o,l,p,c]);if(!r)return null;let f=(0,a.jsx)(s.slots.baseIconButton,(0,cS.default)({id:c,onClick:h,"aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?p:void 0},null==(t=s.slotProps)?void 0:t.baseIconButton,{children:(0,a.jsx)(s.slots.columnFilteredIcon,{className:u.icon,fontSize:"small"})}));return(0,a.jsx)(s.slots.baseTooltip,(0,cS.default)({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},null==(n=s.slotProps)?void 0:n.baseTooltip,{children:(0,a.jsxs)(y2,{children:[r>1&&(0,a.jsx)(s.slots.baseBadge,{badgeContent:r,color:"default",children:f}),1===r&&f]})}))}var dQ=dQ;let y3=["className","rowCount","visibleRowCount"],y4=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:cq.spacing(0,2)}),y9=cR(function(e,t){let{className:n,rowCount:r,visibleRowCount:o}=e,l=(0,cE.default)(e,y3),i=dq(),s=dt(),u=(e=>{let{classes:t}=e;return cP({root:["rowCount"]},cV,t)})(s);if(0===r)return null;let c=o<r?i.current.getLocaleText("footerTotalVisibleRows")(o,r):r.toLocaleString();return(0,a.jsxs)(y4,(0,cS.default)({className:(0,cT.default)(u.root,n),ownerState:s},l,{ref:t,children:[i.current.getLocaleText("footerTotalRows")," ",c]}))});var y6=e.i(845518);let y7=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;var y8=e.i(892510),dQ=dQ,we=e.i(884364);function wt(){let e=(0,y8._)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  animation: ",";\n  animation-timeline: --scroll-timeline;\n  animation-fill-mode: none;\n  box-sizing: border-box;\n  overflow: auto;\n  scrollbar-width: thin;\n  scroll-timeline: --scroll-timeline block;\n\n  &::before,\n  &::after {\n    content: '';\n    flex-shrink: 0;\n    display: block;\n    position: sticky;\n    left: 0;\n    width: 100%;\n    height: 4px;\n    animation: "," linear both;\n    animation-timeline: --scroll-timeline;\n\n    // Custom property toggle trick:\n    // - Detects if the element is scrollable\n    // - https://css-tricks.com/the-css-custom-property-toggle-trick/\n    --visibility-scrollable: var(--scrollable) visible;\n    --visibility-not-scrollable: hidden;\n    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));\n  }\n\n  &::before {\n    top: 0;\n    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);\n    animation-range: 0 4px;\n  }\n\n  &::after {\n    bottom: 0;\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);\n    animation-direction: reverse;\n    animation-range: calc(100% - 4px) 100%;\n  }\n"]);return wt=function(){return e},e}let wn=["children"],wr=(0,we.keyframes)({from:{opacity:0},to:{opacity:1}}),wo=(0,we.keyframes)({"from, to":{"--scrollable":'" "'}}),wl=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})(wt(),wo,wr),wi=cR(function(e,t){let{children:n}=e,r=(0,cE.default)(e,wn);return(0,a.jsx)(wl,(0,cS.default)({},r,{ref:t,children:n}))}),wa=new Intl.Collator,ws=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:cq.spacing(.5,1.5)}),wu=(0,cL.styled)(wi,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),wc=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:cq.spacing(1.5,2),borderBottom:"1px solid ".concat(cq.colors.border.base)}),wd=(0,cL.styled)(pO,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({["& .".concat(y6.inputBaseClasses.input,"::-webkit-search-decoration,\n      & .").concat(y6.inputBaseClasses.input,"::-webkit-search-cancel-button,\n      & .").concat(y6.inputBaseClasses.input,"::-webkit-search-results-button,\n      & .").concat(y6.inputBaseClasses.input,"::-webkit-search-results-decoration")]:{display:"none"}}),wp=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:cq.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:"1px solid ".concat(cq.colors.border.base)}),wh=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:cq.spacing(1,0),alignSelf:"center",font:cq.typography.font.body}),wf=(0,cL.styled)(pO,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({});var dQ=dQ;let wm=["direction","index","sortingOrder","disabled","className"],wg=(0,dQ.default)(pO,{name:"MuiDataGrid",slot:"SortButton"})({transition:cq.transition(["opacity"],{duration:cq.transitions.duration.short,easing:cq.transitions.easing.easeInOut})});function wv(e){var t;let{direction:n,index:r,sortingOrder:o,disabled:l,className:i}=e,s=(0,cE.default)(e,wm),u=dq(),c=dt(),d=(0,cS.default)({},e,{classes:c.classes}),p=(e=>{let{classes:t}=e;return cP({root:["sortButton"],icon:["sortIcon"]},cV,t)})(d),h=function(e,t,n,r){let o,l={};return"asc"===t?o=e.columnSortedAscendingIcon:"desc"===t?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,l.sortingOrder=r),o?(0,a.jsx)(o,(0,cS.default)({fontSize:"small",className:n},l)):null}(c.slots,n,p.icon,o);if(!h)return null;let f=(0,a.jsx)(wg,(0,cS.default)({as:c.slots.baseIconButton,ownerState:d,"aria-label":u.current.getLocaleText("columnHeaderSortIconLabel"),title:u.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:l,className:(0,cT.default)(p.root,i)},null==(t=c.slotProps)?void 0:t.baseIconButton,s,{children:h}));return(0,a.jsxs)(g.Fragment,{children:[null!=r&&(0,a.jsx)(c.slots.baseBadge,{badgeContent:r,color:"default",overlap:"circular",children:f}),null==r&&f]})}let wb=g.memo(function(e){return(0,a.jsx)(y2,{children:(0,a.jsx)(wv,(0,cS.default)({},e,{tabIndex:-1}))})}),wy=cR(function(e,t){var n;let r=dt(),o=dq(),l=c2(o,dT),i=!r.disableColumnSelector&&l.length>0;return(0,a.jsxs)(yI,(0,cS.default)({},e,{ref:t,children:[o.current.getLocaleText("noColumnsOverlayLabel"),i&&(0,a.jsx)(r.slots.baseButton,(0,cS.default)({size:"small"},null==(n=r.slotProps)?void 0:n.baseButton,{onClick:()=>{o.current.showPreferences(dU.columns)},children:o.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))});function ww(){return void 0===n&&document.createElement("div").focus({get preventScroll(){return n=!0,!1}}),n}let wx=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],wC=["changeReason","unstable_updateValueOnRender"];hj.LEFT,dC.LEFT,hj.RIGHT,dC.RIGHT,hj.NONE,hj.VIRTUAL;let wS=cA(cR(function(e,t){var n,r,o,l,i,s;let u,c,{column:d,row:p,rowId:h,rowNode:f,align:m,colIndex:v,width:b,className:y,style:w,colSpan:x,disableDragEvents:C,isNotVisible:S,pinnedOffset:k,pinnedPosition:M,showRightBorder:R,showLeftBorder:E,onClick:T,onDoubleClick:I,onMouseDown:O,onMouseUp:P,onMouseOver:N,onKeyDown:D,onKeyUp:A,onDragEnter:L,onDragOver:j}=e,z=(0,cE.default)(e,wx),F=c3(),H=dt(),B=(0,h4.useRtl)(),V=d.field,W=c2(F,v5,{rowId:h,field:V}),G=dr().hooks.useCellAggregationResult(h,V),U=W?hK.Edit:hK.View,{value:_,formattedValue:q}=G||{},K=F.current.getCellParamsForRow(h,V,p,{colDef:d,cellMode:U,rowNode:f,tabIndex:c2(F,()=>{let e=f9(F);return e&&e.field===V&&e.id===h?0:-1}),hasFocus:c2(F,()=>{let e=f2(F);return(null==e?void 0:e.id)===h&&e.field===V}),value:_,formattedValue:q});K.api=F.current,K.isEditable=c2(F,()=>F.current.isCellEditable(K));let $=c2(F,()=>F.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:h,field:V})),J=F.current.virtualizer.store,X=gs(J,gW.selectors.hiddenCells),Y=gs(J,gW.selectors.spannedCells),{hasFocus:Q,isEditable:Z=!1,value:ee}=K,et="actions"===d.type&&"getActions"in d&&"function"==typeof d.getActions&&d.getActions(F.current.getRowParams(h)).some(e=>!e.props.disabled),en="view"!==U&&Z||et?-1:K.tabIndex,{classes:er,getCellClassName:eo}=H,el=[c2(F,()=>F.current.unstable_applyPipeProcessors("cellClassName",[],{id:h,field:V}).filter(Boolean).join(" "))];d.cellClassName&&el.push("function"==typeof d.cellClassName?d.cellClassName(K):d.cellClassName),"flex"===d.display&&el.push(cW["cell--flex"]),eo&&el.push(eo(K));let ei=null!=(o=K.formattedValue)?o:ee,ea=g.useRef(null),es=cI(t,ea),eu=g.useRef(null),ec=null!=(l=H.cellSelection)&&l,ed=(e=>{let{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:l,isSelected:i,isSelectionMode:a,classes:s}=e;return cP({root:["cell","cell--text".concat(cO(t)),i&&"selected",l&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===hj.LEFT&&"cell--pinnedLeft",o===hj.RIGHT&&"cell--pinnedRight",a&&!l&&"cell--selectionMode"]},cV,s)})({align:m,showLeftBorder:E,showRightBorder:R,isEditable:Z,classes:H.classes,pinnedPosition:M,isSelected:$,isSelectionMode:ec}),ep=g.useCallback(e=>t=>{let n=F.current.getCellParams(h,V||"");F.current.publishEvent(e,n,t),P&&P(t)},[F,V,P,h]),eh=g.useCallback(e=>t=>{let n=F.current.getCellParams(h,V||"");F.current.publishEvent(e,n,t),O&&O(t)},[F,V,O,h]),ef=g.useCallback((e,t)=>n=>{if(!F.current.getRow(h))return;let r=F.current.getCellParams(h,V||"");F.current.publishEvent(e,r,n),t&&t(n)},[F,V,h]),em=null!=(i=null==(n=X[h])?void 0:n[v])&&i,eg=null!=(s=null==(r=Y[h])?void 0:r[v])?s:1,ev=g.useMemo(()=>{if(S)return{padding:0,opacity:0,width:0,height:0,border:0};let e=yA((0,cS.default)({"--width":"".concat(b,"px")},w),B,M,k),t=M===hj.LEFT,n=M===hj.RIGHT;return eg>1&&(e.height="calc(var(--height) * ".concat(eg,")"),e.zIndex=10,(t||n)&&(e.zIndex=40)),e},[b,S,w,k,M,B,eg]);if(g.useEffect(()=>{if(!Q||U===hK.Edit)return;let e=vD(F.current.rootElementRef.current);if(ea.current&&!ea.current.contains(e.activeElement)){let e=ea.current.querySelector('[tabindex="0"]'),t=eu.current||e||ea.current;if(ww())t.focus({preventScroll:!0});else{let e=F.current.getScrollPosition();t.focus(),F.current.scroll(e)}}},[Q,U,F]),em)return(0,a.jsx)("div",{"data-colindex":v,role:"presentation",style:(0,cS.default)({width:"var(--width)"},ev)});let eb=z.onFocus;if(null===W&&d.renderCell&&(u=d.renderCell(K)),null!==W&&d.renderEditCell){let e=F.current.getRowWithUpdatedValues(h,d.field),t=(0,cE.default)(W,wC),n=d.valueFormatter?d.valueFormatter(W.value,e,d,F):K.formattedValue,r=(0,cS.default)({},K,{row:e,formattedValue:n},t);u=d.renderEditCell(r),el.push(cW["cell--editing"]),el.push(null==er?void 0:er["cell--editing"])}if(void 0===u){let e=null==ei?void 0:ei.toString();u=e,c=e}g.isValidElement(u)&&et&&(u=g.cloneElement(u,{focusElementRef:eu}));let ey=C?null:{onDragEnter:ef("cellDragEnter",L),onDragOver:ef("cellDragOver",j)};return(0,a.jsx)("div",(0,cS.default)({className:(0,cT.default)(ed.root,el,y),role:"gridcell","data-field":V,"data-colindex":v,"aria-colindex":v+1,"aria-colspan":x,"aria-rowspan":eg,style:ev,title:c,tabIndex:en,onClick:ef("cellClick",T),onDoubleClick:ef("cellDoubleClick",I),onMouseOver:ef("cellMouseOver",N),onMouseDown:eh("cellMouseDown"),onMouseUp:ep("cellMouseUp"),onKeyDown:ef("cellKeyDown",D),onKeyUp:ef("cellKeyUp",A)},ey,z,{onFocus:eb,ref:es,children:u}))})),wk=g.memo(e=>{var t,n,r;let{colDef:o,open:l,columnMenuId:i,columnMenuButtonId:s,iconButtonRef:u}=e,c=dq(),d=dt(),p=(e=>{let{classes:t,open:n}=e;return cP({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},cV,t)})((0,cS.default)({},e,{classes:d.classes})),h=g.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c.current.toggleColumnMenu(o.field)},[c,o.field]),f=null!=(r=o.headerName)?r:o.field;return(0,a.jsx)("div",{className:p.root,children:(0,a.jsx)(d.slots.baseTooltip,(0,cS.default)({title:c.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},null==(t=d.slotProps)?void 0:t.baseTooltip,{children:(0,a.jsx)(d.slots.baseIconButton,(0,cS.default)({ref:u,tabIndex:-1,className:p.button,"aria-label":c.current.getLocaleText("columnMenuAriaLabel")(f),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":l,"aria-controls":l?i:void 0,id:s},null==(n=d.slotProps)?void 0:n.baseIconButton,{children:(0,a.jsx)(d.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function wM(e){let{columnMenuId:t,columnMenuButtonId:n,ContentComponent:r,contentComponentProps:o,field:l,open:i,target:s,onExited:u}=e,c=dq(),d=c.current.getColumn(l),p=pg(e=>{e&&(e.stopPropagation(),null==s?void 0:s.contains(e.target))||c.current.hideColumnMenu()});return s&&d?(0,a.jsx)(fn,{position:"bottom-".concat("right"===d.align?"start":"end"),open:i,target:s,onClose:p,onExited:u,children:(0,a.jsx)(r,(0,cS.default)({colDef:d,hideMenu:p,open:i,id:t,labelledby:n},o))}):null}var dQ=dQ;let wR=["className","aria-label"],wE=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),wT=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,wR),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["columnHeaderTitle"]},cV,t)})(o);return(0,a.jsx)(wE,(0,cS.default)({className:(0,cT.default)(l.root,n),ownerState:o},r,{ref:t}))});function wI(e){var t;let{label:n,description:r}=e,o=dt(),l=g.useRef(null),[i,s]=g.useState(""),u=g.useCallback(()=>{if(!r&&(null==l?void 0:l.current)){var e;(e=l.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth?s(n):s("")}},[r,n]);return(0,a.jsx)(o.slots.baseTooltip,(0,cS.default)({title:r||i},null==(t=o.slotProps)?void 0:t.baseTooltip,{children:(0,a.jsx)(wT,{onMouseOver:u,ref:l,children:n})}))}let wO=["resizable","resizing","height","side"];var wP=function(e){return e.Left="left",e.Right="right",e}(wP||{});let wN=g.memo(function(e){let{height:t,side:n=wP.Right}=e,r=(0,cE.default)(e,wO),o=dt(),l=(e=>{let{resizable:t,resizing:n,classes:r,side:o}=e;return cP({root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&"columnSeparator--side".concat(cO(o))],icon:["iconSeparator"]},cV,r)})((0,cS.default)({},e,{side:n,classes:o.classes})),i=g.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]);return(0,a.jsx)("div",(0,cS.default)({className:l.root,style:{minHeight:t}},r,{onClick:i,children:(0,a.jsx)(o.slots.columnResizeIcon,{className:l.icon})}))}),wD=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],wA=cR(function(e,t){let{classes:n,colIndex:r,height:o,isResizing:l,sortDirection:i,tabIndex:s,separatorSide:u,isDraggable:c,headerComponent:d,description:p,width:h,columnMenuIconButton:f=null,columnMenu:m=null,columnTitleIconButtons:v=null,headerClassName:b,label:y,resizable:w,draggableContainerProps:x,columnHeaderSeparatorProps:C,style:S}=e,k=(0,cE.default)(e,wD),M=dt(),R=cI(g.useRef(null),t),E="none";return null!=i&&(E="asc"===i?"ascending":"descending"),(0,a.jsxs)("div",(0,cS.default)({className:(0,cT.default)(n.root,b),style:(0,cS.default)({},S,{width:h}),role:"columnheader",tabIndex:s,"aria-colindex":r+1,"aria-sort":E},k,{ref:R,children:[(0,a.jsxs)("div",(0,cS.default)({className:n.draggableContainer,draggable:c,role:"presentation"},x,{children:[(0,a.jsxs)("div",{className:n.titleContainer,role:"presentation",children:[(0,a.jsx)("div",{className:n.titleContainerContent,children:void 0!==d?d:(0,a.jsx)(wI,{label:y,description:p,columnWidth:h})}),v]}),f]})),(0,a.jsx)(wN,(0,cS.default)({resizable:!M.disableColumnResize&&!!w,resizing:l,height:o,side:u},C)),m]}))}),wL=cA(function(e){var t,n,r,o,l;let i,{colDef:s,columnMenuOpen:u,colIndex:c,headerHeight:d,isResizing:p,isLast:h,sortDirection:f,sortIndex:m,filterItemsCounter:v,hasFocus:b,tabIndex:y,disableReorder:w,separatorSide:x,showLeftBorder:C,showRightBorder:S,pinnedPosition:k,pinnedOffset:M}=e,R=c3(),E=dt(),T=(0,h4.useRtl)(),I=g.useRef(null),O=pG(),P=pG(),N=g.useRef(null),[D,A]=g.useState(u),L=g.useMemo(()=>!E.disableColumnReorder&&!w&&!s.disableReorder,[E.disableColumnReorder,w,s.disableReorder]);s.renderHeader&&(i=s.renderHeader(R.current.getColumnHeaderParams(s.field)));let j=(e=>{let{disableColumnSorting:t}=dt(),{colDef:n,classes:r,isDragging:o,sortDirection:l,showRightBorder:i,showLeftBorder:a,filterItemsCounter:s,pinnedPosition:u,isSiblingFocused:c}=e,d=n.sortable&&!t,p="number"===n.type;return cP({root:["columnHeader","left"===n.headerAlign&&"columnHeader--alignLeft","center"===n.headerAlign&&"columnHeader--alignCenter","right"===n.headerAlign&&"columnHeader--alignRight",d&&"columnHeader--sortable",o&&"columnHeader--moving",null!=l&&"columnHeader--sorted",null!=s&&s>0&&"columnHeader--filtered",p&&"columnHeader--numeric","withBorderColor",i&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",u===hj.LEFT&&"columnHeader--pinnedLeft",u===hj.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},cV,r)})((0,cS.default)({},e,{classes:E.classes,showRightBorder:S,showLeftBorder:C})),z=g.useCallback(e=>t=>{vU(t)||R.current.publishEvent(e,R.current.getColumnHeaderParams(s.field),t)},[R,s.field]),F=g.useMemo(()=>({onClick:z("columnHeaderClick"),onContextMenu:z("columnHeaderContextMenu"),onDoubleClick:z("columnHeaderDoubleClick"),onMouseOver:z("columnHeaderOver"),onMouseOut:z("columnHeaderOut"),onMouseEnter:z("columnHeaderEnter"),onMouseLeave:z("columnHeaderLeave"),onKeyDown:z("columnHeaderKeyDown"),onFocus:z("columnHeaderFocus"),onBlur:z("columnHeaderBlur")}),[z]),H=g.useMemo(()=>L?{onDragStart:z("columnHeaderDragStart"),onDragEnter:z("columnHeaderDragEnter"),onDragOver:z("columnHeaderDragOver"),onDragEndCapture:z("columnHeaderDragEnd")}:{},[L,z]),B=g.useMemo(()=>({onMouseDown:z("columnSeparatorMouseDown"),onDoubleClick:z("columnSeparatorDoubleClick")}),[z]);g.useEffect(()=>{D||A(u)},[D,u]);let V=g.useCallback(()=>{A(!1)},[]),W=!E.disableColumnMenu&&!s.disableColumnMenu&&(0,a.jsx)(wk,{colDef:s,columnMenuId:O,columnMenuButtonId:P,open:D,iconButtonRef:N}),G=(0,a.jsx)(wM,{columnMenuId:O,columnMenuButtonId:P,field:s.field,open:u,target:N.current,ContentComponent:E.slots.columnMenu,contentComponentProps:null==(t=E.slotProps)?void 0:t.columnMenu,onExited:V}),U=null!=(o=s.sortingOrder)?o:E.sortingOrder,_=(s.sortable||null!=f)&&!s.hideSortIcons&&!E.disableColumnSorting,q=(0,a.jsxs)(g.Fragment,{children:[!E.disableColumnFilter&&(0,a.jsx)(E.slots.columnHeaderFilterIconButton,(0,cS.default)({field:s.field,counter:v},null==(n=E.slotProps)?void 0:n.columnHeaderFilterIconButton)),_&&(0,a.jsx)(E.slots.columnHeaderSortIcon,(0,cS.default)({field:s.field,direction:f,index:m,sortingOrder:U,disabled:!s.sortable},null==(r=E.slotProps)?void 0:r.columnHeaderSortIcon))]});g.useLayoutEffect(()=>{let e=R.current.state.columnMenu;if(b&&!e.open){let e=I.current.querySelector('[tabindex="0"]')||I.current;if(!e)return;if(ww())e.focus({preventScroll:!0});else{let t=R.current.getScrollPosition();e.focus(),R.current.scroll(t)}}},[R,b]);let K="function"==typeof s.headerClassName?s.headerClassName({field:s.field,colDef:s}):s.headerClassName,$=null!=(l=s.headerName)?l:s.field,J=g.useMemo(()=>yA((0,cS.default)({},e.style),T,k,M),[k,M,e.style,T]);return(0,a.jsx)(wA,(0,cS.default)({ref:I,classes:j,columnMenuOpen:u,colIndex:c,height:d,isResizing:p,sortDirection:f,hasFocus:b,tabIndex:y,separatorSide:x,isDraggable:L,headerComponent:i,description:s.description,elementId:s.field,width:s.computedWidth,columnMenuIconButton:W,columnTitleIconButtons:q,headerClassName:(0,cT.default)(K,h&&cW["columnHeader--last"]),label:$,resizable:!E.disableColumnResize&&!!s.resizable,"data-field":s.field,columnMenu:G,draggableContainerProps:H,columnHeaderSeparatorProps:B,style:J},F))});function wj(e){var t;let n,{groupId:r,width:o,depth:l,maxDepth:i,fields:s,height:u,colIndex:c,hasFocus:d,tabIndex:p,isLastColumn:h,pinnedPosition:f,pinnedOffset:m}=e,v=dt(),b=(0,h4.useRtl)(),y=g.useRef(null),w=dq(),x=c2(w,fh),C=r?x[r]:{},{headerName:S=null!=r?r:"",description:k="",headerAlign:M}=C,R=r&&(null==(t=x[r])?void 0:t.renderHeaderGroup),E=g.useMemo(()=>({groupId:r,headerName:S,description:k,depth:l,maxDepth:i,fields:s,colIndex:c,isLastColumn:h}),[r,S,k,l,i,s,c,h]);r&&R&&(n=R(E));let T=(0,cS.default)({},e,{classes:v.classes,headerAlign:M,depth:l,isDragging:!1}),I=null!=S?S:r,O=pG(),P=null===r?"empty-group-cell-".concat(O):r,N=(e=>{let{classes:t,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:l,showRightBorder:i,groupId:a,pinnedPosition:s}=e;return cP({root:["columnHeader","left"===n&&"columnHeader--alignLeft","center"===n&&"columnHeader--alignCenter","right"===n&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder","withBorderColor",null===a?"columnHeader--emptyGroup":"columnHeader--filledGroup",s===hj.LEFT&&"columnHeader--pinnedLeft",s===hj.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},cV,t)})(T);g.useLayoutEffect(()=>{if(d){let e=y.current.querySelector('[tabindex="0"]')||y.current;if(e)if(ww())e.focus({preventScroll:!0});else{let t=w.current.getScrollPosition();e.focus(),w.current.scroll(t)}}},[w,d]);let D=g.useCallback(e=>t=>{vU(t)||w.current.publishEvent(e,E,t)},[w,E]),A=g.useMemo(()=>({onKeyDown:D("columnGroupHeaderKeyDown"),onFocus:D("columnGroupHeaderFocus"),onBlur:D("columnGroupHeaderBlur")}),[D]),L="function"==typeof C.headerClassName?C.headerClassName(E):C.headerClassName,j=g.useMemo(()=>yA((0,cS.default)({},e.style),b,f,m),[f,m,e.style,b]);return(0,a.jsx)(wA,(0,cS.default)({ref:y,classes:N,columnMenuOpen:!1,colIndex:c,height:u,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:p,isDraggable:!1,headerComponent:n,headerClassName:L,description:k,elementId:P,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:I,"aria-colspan":s.length,"data-fields":"|-".concat(s.join("-|-"),"-|"),style:j},A))}let wz={root:cW.scrollbarFiller,pinnedRight:cW["scrollbarFiller--pinnedRight"]};function wF(e){let{pinnedRight:t}=e;return(0,a.jsx)("div",{role:"presentation",className:(0,cT.default)(wz.root,t&&wz.pinnedRight)})}let wH=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"});var dQ=dQ;let wB=["className"],wV=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),wW=cR(function(e,t){let{className:n}=e,r=(0,cE.default)(e,wB),o=dt(),l=(e=>{let{classes:t}=e;return cP({root:["columnHeaders"]},cV,t)})(o);return(0,a.jsx)(wV,(0,cS.default)({className:(0,cT.default)(l.root,n),ownerState:o},r,{role:"presentation",ref:t}))}),wG=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],wU=cA(cR(function(e,t){let{visibleColumns:n,sortColumnLookup:r,filterColumnLookup:o,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:u,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:p,columnGroupsHeaderStructure:h,hasOtherElementInTabSequence:f}=e,m=(0,cE.default)(e,wG),{getInnerProps:v,getColumnHeadersRow:b,getColumnGroupHeadersRows:y}=(e=>{let{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:l,columnHeaderFocus:i,columnGroupHeaderFocus:s,headerGroupingMaxDepth:u,columnMenuState:c,columnVisibility:d,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:h}=e,[f,m]=g.useState(""),[v,b]=g.useState(""),y=c3(),w=dt(),x=c2(y,fp),C=c2(y,dF),S=c2(y,vt),k=c2(y,dj),M=c2(y,dI),R=gj(C,S,k.left.length),E=c2(y,d0),T=c2(y,d3),I=c2(y,d4),O=c2(y,d9),P=c2(y,d7),N=g.useCallback(e=>b(e.field),[]),D=g.useCallback(()=>b(""),[]),A=g.useCallback(e=>m(e.field),[]),L=g.useCallback(()=>m(""),[]),j=g.useMemo(()=>k.left.length?{firstColumnIndex:0,lastColumnIndex:k.left.length}:null,[k.left.length]),z=g.useMemo(()=>k.right.length?{firstColumnIndex:t.length-k.right.length,lastColumnIndex:t.length}:null,[k.right.length,t.length]);pS(y,"columnResizeStart",N),pS(y,"columnResizeStop",D),pS(y,"columnHeaderDragStart",A),pS(y,"columnHeaderDragEndNative",L);let F=e=>{let{renderContext:n=S}=e||{},r=n.firstColumnIndex,o=Math.min(n.lastColumnIndex,t.length);return{renderedColumns:t.slice(r,o),firstColumnToRender:r,lastColumnToRender:o}},H=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(null==e?void 0:e.position)===hj.RIGHT,l=(null==e?void 0:e.position)===void 0,i=k.right.length>0&&o||0===k.right.length&&l;return(0,a.jsxs)(g.Fragment,{children:[l&&(0,a.jsx)("div",{role:"presentation",style:{width:R-n}}),t,l&&(0,a.jsx)("div",{role:"presentation",className:(0,cT.default)(cW.filler,r&&cW["filler--borderBottom"])}),i&&(0,a.jsx)(wF,{pinnedRight:o})]})},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{renderedColumns:l,firstColumnToRender:s}=F(e),u=[];for(let d=0;d<l.length;d+=1){let p=l[d],m=s+d,g=0===m,b=null!==o&&o.field===p.field||g&&!h?0:-1,y=null!==i&&i.field===p.field,x=c.open&&c.field===p.field,S=null==e?void 0:e.position,k=yO(S,p.computedWidth,m,C,E,P),M=S===hj.RIGHT?l[d-1]:l[d+1],R=!!M&&null!==i&&i.field===M.field,O=d,N=l.length,D=yN(S,O,w.showColumnVerticalBorder,w.pinnedColumnsSectionSeparator),A=yP(S,O,N,w.showColumnVerticalBorder,T,w.pinnedColumnsSectionSeparator);u.push((0,a.jsx)(wL,(0,cS.default)({},n[p.field],{columnMenuOpen:x,filterItemsCounter:r[p.field]&&r[p.field].length,headerHeight:I,isDragging:p.field===f,colDef:p,colIndex:m,isResizing:v===p.field,isLast:m===C.length-1,hasFocus:y,tabIndex:b,pinnedPosition:S,pinnedOffset:k,isSiblingFocused:R,showLeftBorder:D,showRightBorder:A},t),p.field))}return H(e,u,0)},V=e=>{var n,r,o,i;let{depth:c,params:h}=e,f=F(h);if(0===f.renderedColumns.length)return null;let{firstColumnToRender:m,lastColumnToRender:g}=f,v=p[c],b=t[m].field,y=null!=(o=null==(n=x[b])?void 0:n[c])?o:null,S=v.findIndex(e=>{let{groupId:t,columnFields:n}=e;return t===y&&n.includes(b)}),k=t[g-1].field,R=null!=(i=null==(r=x[k])?void 0:r[c])?i:null,I=v.findIndex(e=>{let{groupId:t,columnFields:n}=e;return t===R&&n.includes(k)}),N=v.slice(S,I+1).map(e=>(0,cS.default)({},e,{columnFields:e.columnFields.filter(e=>!1!==d[e])})).filter(e=>e.columnFields.length>0),D=N[0].columnFields.indexOf(b),A=N[0].columnFields.slice(0,D).reduce((e,t)=>{var n;return e+(null!=(n=M[t].computedWidth)?n:0)},0),L=m,j=N.map((e,t)=>{let{groupId:n,columnFields:r}=e,o=null!==s&&s.depth===c&&r.includes(s.field),i=null!==l&&l.depth===c&&r.includes(l.field)?0:-1,d={groupId:n,width:r.reduce((e,t)=>e+M[t].computedWidth,0),fields:r,colIndex:L,hasFocus:o,tabIndex:i},p=h.position,f=yO(p,d.width,L,C,E,P);L+=r.length;let m=t;return p===hj.LEFT&&(m=L-1),(0,a.jsx)(wj,{groupId:n,width:d.width,fields:d.fields,colIndex:d.colIndex,depth:c,isLastColumn:t===N.length-1,maxDepth:u,height:O,hasFocus:o,tabIndex:i,pinnedPosition:p,pinnedOffset:f,showLeftBorder:yN(p,m,w.showColumnVerticalBorder,w.pinnedColumnsSectionSeparator),showRightBorder:yP(p,m,N.length,w.showColumnVerticalBorder,T,w.pinnedColumnsSectionSeparator)},t)});return H(h,j,A)};return{renderContext:S,leftRenderContext:j,rightRenderContext:z,pinnedColumns:k,visibleColumns:t,columnPositions:C,getFillers:H,getColumnHeadersRow:()=>(0,a.jsxs)(wH,{role:"row","aria-rowindex":u+1,ownerState:w,className:cW["row--borderBottom"],style:{height:I},children:[j&&B({position:hj.LEFT,renderContext:j},{disableReorder:!0}),B({renderContext:S}),z&&B({position:hj.RIGHT,renderContext:z},{disableReorder:!0,separatorSide:wP.Left})]}),getColumnsToRender:F,getColumnGroupHeadersRows:()=>{if(0===u)return null;let e=[];for(let t=0;t<u;t+=1)e.push((0,a.jsxs)(wH,{role:"row","aria-rowindex":t+1,ownerState:w,style:{height:O},children:[j&&V({depth:t,params:{position:hj.LEFT,renderContext:j,maxLastColumn:j.lastColumnIndex}}),V({depth:t,params:{renderContext:S}}),z&&V({depth:t,params:{position:hj.RIGHT,renderContext:z,maxLastColumn:z.lastColumnIndex}})]},t));return e},getPinnedCellOffset:yO,isDragging:!!f,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:n,sortColumnLookup:r,filterColumnLookup:o,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:u,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:p,columnGroupsHeaderStructure:h,hasOtherElementInTabSequence:f});return(0,a.jsxs)(wW,(0,cS.default)({},m,v(),{ref:t,children:[y(),b()]}))})),w_=["displayOrder"],wq=["hideMenu","colDef","id","labelledby","className","children","open"],wK=(0,cL.styled)(pO)(()=>({minWidth:248}));function w$(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}let wJ=cR(function(e,t){let{hideMenu:n,id:r,labelledby:o,className:l,children:i,open:s}=e,u=(0,cE.default)(e,wq),c=dt(),d=g.useCallback(e=>{"Tab"===e.key&&e.preventDefault(),h7(e.key)&&n(e)},[n]);return(0,a.jsx)(wK,(0,cS.default)({as:c.slots.baseMenuList,id:r,className:(0,cT.default)(cW.menuList,l),"aria-labelledby":o,onKeyDown:d,onWheel:w$,onTouchMove:w$,autoFocus:s},u,{ref:t,children:i}))});function wX(e){let{colDef:t,onClick:n}=e,r=dq(),o=dt(),l=1===dD(r).filter(e=>!0!==e.disableColumnMenu).length,i=g.useCallback(e=>{l||(r.current.setColumnVisibility(t.field,!1),n(e))},[r,t.field,n,l]);return o.disableColumnSelector||!1===t.hideable?null:(0,a.jsx)(o.slots.baseMenuItem,{onClick:i,disabled:l,iconStart:(0,a.jsx)(o.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function wY(e){let{onClick:t}=e,n=dq(),r=dt(),o=g.useCallback(e=>{t(e),n.current.showPreferences(dU.columns)},[n,t]);return r.disableColumnSelector?null:(0,a.jsx)(r.slots.baseMenuItem,{onClick:o,iconStart:(0,a.jsx)(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}let wQ=["defaultSlots","defaultSlotProps","slots","slotProps"],wZ={columnMenuSortItem:function(e){var t;let{colDef:n,onClick:r}=e,o=dq(),l=c2(o,fD),i=dt(),s=g.useMemo(()=>{if(!n)return null;let e=l.find(e=>e.field===n.field);return null==e?void 0:e.sort},[n,l]),u=null!=(t=n.sortingOrder)?t:i.sortingOrder,c=g.useCallback(e=>{r(e);let t=e.currentTarget.getAttribute("data-value")||null,l="always"===i.multipleColumnsSortingMode;o.current.sortColumn(n.field,t===s?null:t,l)},[o,n,r,s,i.multipleColumnsSortingMode]);if(i.disableColumnSorting||!n||!n.sortable||!u.some(e=>!!e))return null;let d=e=>{let t=o.current.getLocaleText(e);return"function"==typeof t?t(n):t};return(0,a.jsxs)(g.Fragment,{children:[u.includes("asc")&&"asc"!==s?(0,a.jsx)(i.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:(0,a.jsx)(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:d("columnMenuSortAsc")}):null,u.includes("desc")&&"desc"!==s?(0,a.jsx)(i.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:(0,a.jsx)(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:d("columnMenuSortDesc")}):null,u.includes(null)&&null!=s?(0,a.jsx)(i.slots.baseMenuItem,{onClick:c,iconStart:i.slots.columnMenuUnsortIcon?(0,a.jsx)(i.slots.columnMenuUnsortIcon,{fontSize:"small"}):(0,a.jsx)("span",{}),children:o.current.getLocaleText("columnMenuUnsort")}):null]})},columnMenuFilterItem:function(e){let{colDef:t,onClick:n}=e,r=dq(),o=dt(),l=g.useCallback(e=>{n(e),r.current.showFilterPanel(t.field)},[r,t.field,n]);return o.disableColumnFilter||!t.filterable?null:(0,a.jsx)(o.slots.baseMenuItem,{onClick:l,iconStart:(0,a.jsx)(o.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})},columnMenuColumnsItem:function(e){return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(wX,(0,cS.default)({},e)),(0,a.jsx)(wY,(0,cS.default)({},e))]})}},w0={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},w1=cR(function(e,t){let{defaultSlots:n,defaultSlotProps:r,slots:o,slotProps:l}=e,i=(0,cE.default)(e,wQ),s=(e=>{let t=c3(),n=dt(),{defaultSlots:r,defaultSlotProps:o,slots:l={},slotProps:i={},hideMenu:a,colDef:s,addDividers:u=!0}=e,c=g.useMemo(()=>(0,cS.default)({},r,l),[r,l]),d=g.useMemo(()=>{if(!i||0===Object.keys(i).length)return o;let e=(0,cS.default)({},i);return Object.entries(o).forEach(t=>{let[n,r]=t;e[n]=(0,cS.default)({},r,i[n]||{})}),e},[o,i]),p=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),h=g.useMemo(()=>{let e=Object.keys(r);return Object.keys(l).filter(t=>!e.includes(t))},[l,r]);return g.useMemo(()=>{let e=Array.from(new Set([...p,...h])).filter(e=>null!=c[e]).sort((e,t)=>{let n=d[e],r=d[t];return(Number.isFinite(null==n?void 0:n.displayOrder)?n.displayOrder:100)-(Number.isFinite(null==r?void 0:r.displayOrder)?r.displayOrder:100)});return e.reduce((t,r,o)=>{let l={colDef:s,onClick:a},i=d[r];if(i){let e=(0,cE.default)(i,w_);l=(0,cS.default)({},l,e)}return u&&o!==e.length-1?[...t,[c[r],l],[n.slots.baseDivider,{}]]:[...t,[c[r],l]]},[])},[u,s,p,a,c,d,h,n.slots.baseDivider])})((0,cS.default)({},i,{defaultSlots:n,defaultSlotProps:r,slots:o,slotProps:l}));return(0,a.jsx)(wJ,(0,cS.default)({},i,{ref:t,children:s.map((e,t)=>{let[n,r]=e;return(0,a.jsx)(n,(0,cS.default)({},r),t)})}))}),w2=cR(function(e,t){return(0,a.jsx)(w1,(0,cS.default)({},e,{ref:t,defaultSlots:wZ,defaultSlotProps:w0}))}),w5=cR(function(e,t){let n=dq().current.getLocaleText("noResultsOverlayLabel");return(0,a.jsx)(yI,(0,cS.default)({},e,{ref:t,children:n}))});var w3=e.i(519130),w4=e.i(154499),w9=e.i(110669),w6=e.i(504165),w7=e.i(357242);let w8=e=>{let t=g.useRef({});return g.useEffect(()=>{t.current=e}),t.current};function xe(e){let{array1:t,array2:n,parser:r=e=>e}=e;return t&&n&&t.length===n.length&&t.every((e,t)=>r(e)===r(n[t]))}function xt(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}let xn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:l,trim:i=!1}=e;return(e,a)=>{let{inputValue:s,getOptionLabel:u}=a,c=i?s.trim():s;n&&(c=c.toLowerCase()),t&&(c=xt(c));let d=c?e.filter(e=>{let r=(l||u)(e);return n&&(r=r.toLowerCase()),t&&(r=xt(r)),"start"===o?r.startsWith(c):r.includes(c)}):e;return"number"==typeof r?d.slice(0,r):d}}(),xr=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))},xo=[];function xl(e,t,n,r){if(t||null==e||r)return"";let o=n(e);return"string"==typeof o?o:""}let xi=function(e){let{unstable_isActiveElementInListbox:t=xr,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:l=!1,blurOnSelect:i=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:s=!1,componentName:u="useAutocomplete",defaultValue:c=e.multiple?xo:null,disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:h,disabledItemsFocusable:f=!1,disableListWrap:m=!1,filterOptions:v=xn,filterSelectedOptions:b=!1,freeSolo:y=!1,getOptionDisabled:w,getOptionKey:x,getOptionLabel:C=e=>{var t;return null!=(t=e.label)?t:e},groupBy:S,handleHomeEndKeys:k=!e.freeSolo,id:M,includeInputInList:R=!1,inputValue:E,isOptionEqualToValue:T=(e,t)=>e===t,multiple:I=!1,onChange:O,onClose:P,onHighlightChange:N,onInputChange:D,onOpen:A,open:L,openOnFocus:j=!1,options:z,readOnly:F=!1,renderValue:H,selectOnFocus:B=!e.freeSolo,value:V}=e,W=(0,w7.default)(M),G=C;G=e=>{let t=C(e);return"string"!=typeof t?String(t):t};let U=g.useRef(!1),_=g.useRef(!0),q=g.useRef(null),K=g.useRef(null),[$,J]=g.useState(null),[X,Y]=g.useState(-1),Q=o?0:-1,Z=g.useRef(Q),ee=g.useRef(xl(null!=c?c:V,I,G)).current,[et,en]=(0,w6.default)({controlled:V,default:c,name:u}),[er,eo]=(0,w6.default)({controlled:E,default:ee,name:u,state:"inputValue"}),[el,ei]=g.useState(!1),ea=g.useCallback((e,t,n)=>{if(!(I?et.length<t.length:null!==t)&&!a)return;let r=xl(t,I,G,H);er!==r&&(eo(r),D&&D(e,r,n))},[G,er,I,D,eo,a,et,H]),[es,eu]=(0,w6.default)({controlled:L,default:!1,name:u,state:"open"}),[ec,ed]=g.useState(!0),ep=!I&&null!=et&&er===G(et),eh=es&&!F,ef=eh?v(z.filter(e=>!(b&&(I?et:[et]).some(t=>null!==t&&T(e,t)))),{inputValue:ep&&ec?"":er,getOptionLabel:G}):[],em=w8({filteredOptions:ef,value:et,inputValue:er});g.useEffect(()=>{let e=et!==em.value;(!el||e)&&(!y||e)&&ea(null,et,"reset")},[et,ea,el,em.value,y]);let eg=es&&ef.length>0&&!F,ev=(0,w9.default)(e=>{if(-1===e)q.current.focus();else{let t=H?"data-item-index":"data-tag-index";$.querySelector("[".concat(t,'="').concat(e,'"]')).focus()}});g.useEffect(()=>{I&&X>et.length-1&&(Y(-1),ev(-1))},[et,I,X,ev]);let eb=(0,w9.default)(e=>{let{event:t,index:r,reason:o}=e;if(Z.current=r,-1===r?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant","".concat(W,"-option-").concat(r)),N&&["mouse","keyboard","touch"].includes(o)&&N(t,-1===r?null:ef[r],o),!K.current)return;let l=K.current.querySelector('[role="option"].'.concat(n,"-focused"));l&&(l.classList.remove("".concat(n,"-focused")),l.classList.remove("".concat(n,"-focusVisible")));let i=K.current;if("listbox"!==K.current.getAttribute("role")&&(i=K.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===r){i.scrollTop=0;return}let a=K.current.querySelector('[data-option-index="'.concat(r,'"]'));if(a&&(a.classList.add("".concat(n,"-focused")),"keyboard"===o&&a.classList.add("".concat(n,"-focusVisible")),i.scrollHeight>i.clientHeight&&"mouse"!==o&&"touch"!==o)){let e=i.clientHeight+i.scrollTop,t=a.offsetTop+a.offsetHeight;t>e?i.scrollTop=t-i.clientHeight:a.offsetTop-a.offsetHeight*(1.3*!!S)<i.scrollTop&&(i.scrollTop=a.offsetTop-a.offsetHeight*(1.3*!!S))}}),ey=(0,w9.default)(e=>{let{event:t,diff:n,direction:o="next",reason:l}=e;if(!eh)return;let i=function(e,t){if(!K.current||e<0||e>=ef.length)return -1;let n=e;for(;;){let r=K.current.querySelector('[data-option-index="'.concat(n,'"]')),o=!f&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!o)return n;if((n="next"===t?(n+1)%ef.length:(n-1+ef.length)%ef.length)===e)return -1}}((()=>{let e=ef.length-1;if("reset"===n)return Q;if("start"===n)return 0;if("end"===n)return e;let t=Z.current+n;return t<0?-1===t&&R?-1:m&&-1!==Z.current||Math.abs(n)>1?0:e:t>e?t===e+1&&R?-1:m||Math.abs(n)>1?e:0:t})(),o);if(eb({index:i,reason:l,event:t}),r&&"reset"!==n)if(-1===i)q.current.value=er;else{let e=G(ef[i]);q.current.value=e,0===e.toLowerCase().indexOf(er.toLowerCase())&&er.length>0&&q.current.setSelectionRange(er.length,e.length)}}),ew=!xe({array1:em.filteredOptions,array2:ef,parser:G}),ex=g.useCallback(()=>{if(!eh)return;let e=(()=>{var e,t;if(-1!==Z.current&&!xe({array1:em.filteredOptions,array2:ef,parser:G})&&em.inputValue===er&&(I?et.length===em.value.length&&em.value.every((e,t)=>G(et[t])===G(e)):(e=em.value,t=et,(e?G(e):"")===(t?G(t):"")))){let e=em.filteredOptions[Z.current];if(e)return ef.findIndex(t=>G(t)===G(e))}return -1})();if(-1!==e){Z.current=e;return}let t=I?et[0]:et;if(0===ef.length||null==t)return void ey({diff:"reset"});if(K.current){if(null!=t){let e=ef[Z.current];if(I&&e&&-1!==et.findIndex(t=>T(e,t)))return;let n=ef.findIndex(e=>T(e,t));-1===n?ey({diff:"reset"}):eb({index:n});return}if(Z.current>=ef.length-1)return void eb({index:ef.length-1});eb({index:Z.current})}},[ef.length,!I&&et,b,ey,eb,eh,er,I]),eC=(0,w9.default)(e=>{(0,w4.default)(K,e),e&&ex()});g.useEffect(()=>{ew&&ex()},[ex,ew]);let eS=e=>{!es&&(eu(!0),ed(!0),A&&A(e))},ek=(e,t)=>{es&&(eu(!1),P&&P(e,t))},eM=(e,t,n,r)=>{if(I){if(et.length===t.length&&et.every((e,n)=>e===t[n]))return}else if(et===t)return;O&&O(e,t,n,r),en(t)},eR=g.useRef(!1),eE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",o=n,l=t;if(I){let e=(l=Array.isArray(et)?et.slice():[]).findIndex(e=>T(t,e));-1===e?l.push(t):"freeSolo"!==r&&(l.splice(e,1),o="removeOption")}ea(e,l,o),eM(e,l,o,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||ek(e,o),(!0===i||"touch"===i&&eR.current||"mouse"===i&&!eR.current)&&q.current.blur()},eT=(e,t)=>{if(!I)return;""===er&&ek(e,"toggleInput");let n=X;-1===X?""===er&&"previous"===t&&(n=et.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===et.length&&(n=-1)),Y(n=function(e,t){if(-1===e)return -1;let n=e;for(;;){if("next"===t&&n===et.length||"previous"===t&&-1===n)return -1;let e=H?"data-item-index":"data-tag-index",r=$.querySelector("[".concat(e,'="').concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t)),ev(n)},eI=e=>{U.current=!0,eo(""),D&&D(e,"","clear"),eM(e,I?[]:null,"clear")},eO=e=>{ei(!0),j&&!U.current&&eS(e)},eP=e=>{if(t(K))return void q.current.focus();ei(!1),_.current=!0,U.current=!1,l&&-1!==Z.current&&eh?eE(e,ef[Z.current],"blur"):l&&y&&""!==er?eE(e,er,"blur","freeSolo"):a&&ea(e,et,"blur"),ek(e,"blur")},eN=e=>{let t=e.target.value;er!==t&&(eo(t),ed(!1),D&&D(e,t,"input")),""===t?d||I||eM(e,null,"clear"):eS(e)},eD=e=>{let t=Number(e.currentTarget.getAttribute("data-option-index"));Z.current!==t&&eb({event:e,index:t,reason:"mouse"})},eA=e=>{eb({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),eR.current=!0},eL=e=>{let t=Number(e.currentTarget.getAttribute("data-option-index"));eE(e,ef[t],"selectOption"),eR.current=!1},ej=e=>t=>{let n=et.slice();n.splice(e,1),eM(t,n,"removeOption",{option:et[e]})},ez=e=>{eM(e,null,"removeOption",{option:et})},eF=e=>{es?ek(e,"toggleInput"):eS(e)},eH=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==W&&e.preventDefault()},eB=e=>{e.currentTarget.contains(e.target)&&(q.current.focus(),B&&_.current&&q.current.selectionEnd-q.current.selectionStart==0&&q.current.select(),_.current=!1)},eV=e=>{h||""!==er&&es||eF(e)},eW=y&&er.length>0;eW=eW||(I?et.length>0:null!==et);let eG=ef;return S&&(eG=ef.reduce((e,t,n)=>{let r=S(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e},[])),h&&el&&eP(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,onKeyDown:t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1===X||["ArrowLeft","ArrowRight"].includes(t.key)||(Y(-1),ev(-1)),229!==t.which))switch(t.key){case"Home":eh&&k&&(t.preventDefault(),ey({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":eh&&k&&(t.preventDefault(),ey({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ey({diff:-5,direction:"previous",reason:"keyboard",event:t}),eS(t);break;case"PageDown":t.preventDefault(),ey({diff:5,direction:"next",reason:"keyboard",event:t}),eS(t);break;case"ArrowDown":t.preventDefault(),ey({diff:1,direction:"next",reason:"keyboard",event:t}),eS(t);break;case"ArrowUp":t.preventDefault(),ey({diff:-1,direction:"previous",reason:"keyboard",event:t}),eS(t);break;case"ArrowLeft":!I&&H?ev(0):eT(t,"previous");break;case"ArrowRight":!I&&H?ev(-1):eT(t,"next");break;case"Enter":if(-1!==Z.current&&eh){let e=ef[Z.current],n=!!w&&w(e);if(t.preventDefault(),n)return;eE(t,e,"selectOption"),r&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else y&&""!==er&&!1===ep&&(I&&t.preventDefault(),eE(t,er,"createOption","freeSolo"));break;case"Escape":eh?(t.preventDefault(),t.stopPropagation(),ek(t,"escape")):s&&(""!==er||I&&et.length>0||H)&&(t.preventDefault(),t.stopPropagation(),eI(t));break;case"Backspace":if(I&&!F&&""===er&&et.length>0){let e=-1===X?et.length-1:X,n=et.slice();n.splice(e,1),eM(t,n,"removeOption",{option:et[e]})}I||!H||F||(en(null),ev(-1));break;case"Delete":if(I&&!F&&""===er&&et.length>0&&-1!==X){let e=et.slice();e.splice(X,1),eM(t,e,"removeOption",{option:et[X]})}I||!H||F||(en(null),ev(-1))}},onMouseDown:eH,onClick:eB}},getInputLabelProps:()=>({id:"".concat(W,"-label"),htmlFor:W}),getInputProps:()=>({id:W,value:er,onBlur:eP,onFocus:eO,onChange:eN,onMouseDown:eV,"aria-activedescendant":eh?"":null,"aria-autocomplete":r?"both":"list","aria-controls":eg?"".concat(W,"-listbox"):void 0,"aria-expanded":eg,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:h}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:eI}),getItemProps:function(){let{index:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...I&&{key:e},...H?{"data-item-index":e}:{"data-tag-index":e},tabIndex:-1,...!F&&{onDelete:I?ej(e):ez}}},getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:eF}),getTagProps:e=>{let{index:t}=e;return{key:t,"data-tag-index":t,tabIndex:-1,...!F&&{onDelete:ej(t)}}},getListboxProps:()=>({role:"listbox",id:"".concat(W,"-listbox"),"aria-labelledby":"".concat(W,"-label"),ref:eC,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{var t;let{index:n,option:r}=e,o=(I?et:[et]).some(e=>null!=e&&T(r,e)),l=!!w&&w(r);return{key:null!=(t=null==x?void 0:x(r))?t:G(r),tabIndex:-1,role:"option",id:"".concat(W,"-option-").concat(n),onMouseMove:eD,onClick:eL,onTouchStart:eA,"data-option-index":n,"aria-disabled":l,"aria-selected":o}},id:W,inputValue:er,value:et,dirty:eW,expanded:eh&&$,popupOpen:eh,focused:el||-1!==X,anchorEl:$,setAnchorEl:J,focusedItem:X,focusedTag:X,groupedOptions:eG}};var xa=e.i(313714),xs=e.i(107558),xu=e.i(581908);function xc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xd(e){var t=xc(e).Element;return e instanceof t||e instanceof Element}function xp(e){var t=xc(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function xh(e){if("undefined"==typeof ShadowRoot)return!1;var t=xc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var xf=Math.max,xm=Math.min,xg=Math.round;function xv(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xb(){return!/^((?!chrome|android).)*safari/i.test(xv())}function xy(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,l=1;t&&xp(e)&&(o=e.offsetWidth>0&&xg(r.width)/e.offsetWidth||1,l=e.offsetHeight>0&&xg(r.height)/e.offsetHeight||1);var i=(xd(e)?xc(e):window).visualViewport,a=!xb()&&n,s=(r.left+(a&&i?i.offsetLeft:0))/o,u=(r.top+(a&&i?i.offsetTop:0))/l,c=r.width/o,d=r.height/l;return{width:c,height:d,top:u,right:s+c,bottom:u+d,left:s,x:s,y:u}}function xw(e){var t=xc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xx(e){return e?(e.nodeName||"").toLowerCase():null}function xC(e){return((xd(e)?e.ownerDocument:e.document)||window.document).documentElement}function xS(e){return xy(xC(e)).left+xw(e).scrollLeft}function xk(e){return xc(e).getComputedStyle(e)}function xM(e){var t=xk(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function xR(e){var t=xy(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function xE(e){return"html"===xx(e)?e:e.assignedSlot||e.parentNode||(xh(e)?e.host:null)||xC(e)}function xT(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(xx(t))>=0?t.ownerDocument.body:xp(t)&&xM(t)?t:e(xE(t))}(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),l=xc(r),i=o?[l].concat(l.visualViewport||[],xM(r)?r:[]):r,a=t.concat(i);return o?a:a.concat(xT(xE(i)))}function xI(e){return xp(e)&&"fixed"!==xk(e).position?e.offsetParent:null}function xO(e){for(var t=xc(e),n=xI(e);n&&["table","td","th"].indexOf(xx(n))>=0&&"static"===xk(n).position;)n=xI(n);return n&&("html"===xx(n)||"body"===xx(n)&&"static"===xk(n).position)?t:n||function(e){var t=/firefox/i.test(xv());if(/Trident/i.test(xv())&&xp(e)&&"fixed"===xk(e).position)return null;var n=xE(e);for(xh(n)&&(n=n.host);xp(n)&&0>["html","body"].indexOf(xx(n));){var r=xk(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var xP="bottom",xN="right",xD="left",xA="auto",xL=["top",xP,xN,xD],xj="start",xz="viewport",xF="popper",xH=xL.reduce(function(e,t){return e.concat([t+"-"+xj,t+"-end"])},[]),xB=[].concat(xL,[xA]).reduce(function(e,t){return e.concat([t,t+"-"+xj,t+"-end"])},[]),xV=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xW(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&xh(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xG(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xU(e,t,n){var r,o,l,i,a,s,u,c,d,p;return t===xz?xG(function(e,t){var n=xc(e),r=xC(e),o=n.visualViewport,l=r.clientWidth,i=r.clientHeight,a=0,s=0;if(o){l=o.width,i=o.height;var u=xb();(u||!u&&"fixed"===t)&&(a=o.offsetLeft,s=o.offsetTop)}return{width:l,height:i,x:a+xS(e),y:s}}(e,n)):xd(t)?((r=xy(t,!1,"fixed"===n)).top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r):xG((o=xC(e),i=xC(o),a=xw(o),s=null==(l=o.ownerDocument)?void 0:l.body,u=xf(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=xf(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-a.scrollLeft+xS(o),p=-a.scrollTop,"rtl"===xk(s||i).direction&&(d+=xf(i.clientWidth,s?s.clientWidth:0)-u),{width:u,height:c,x:d,y:p}))}function x_(e){return e.split("-")[0]}function xq(e){return e.split("-")[1]}function xK(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function x$(e){var t,n=e.reference,r=e.element,o=e.placement,l=o?x_(o):null,i=o?xq(o):null,a=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(l){case"top":t={x:a,y:n.y-r.height};break;case xP:t={x:a,y:n.y+n.height};break;case xN:t={x:n.x+n.width,y:s};break;case xD:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var u=l?xK(l):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case xj:t[u]=t[u]-(n[c]/2-r[c]/2);break;case"end":t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function xJ(){return{top:0,right:0,bottom:0,left:0}}function xX(e){return Object.assign({},xJ(),e)}function xY(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function xQ(e,t){void 0===t&&(t={});var n,r,o,l,i,a,s,u,c=t,d=c.placement,p=void 0===d?e.placement:d,h=c.strategy,f=void 0===h?e.strategy:h,m=c.boundary,g=c.rootBoundary,v=c.elementContext,b=void 0===v?xF:v,y=c.altBoundary,w=c.padding,x=void 0===w?0:w,C=xX("number"!=typeof x?x:xY(x,xL)),S=e.rects.popper,k=e.elements[void 0!==y&&y?b===xF?"reference":xF:b],M=(n=xd(k)?k:k.contextElement||xC(e.elements.popper),r=void 0===m?"clippingParents":m,o=void 0===g?xz:g,s=(a=[].concat("clippingParents"===r?(l=xT(xE(n)),!xd(i=["absolute","fixed"].indexOf(xk(n).position)>=0&&xp(n)?xO(n):n)?[]:l.filter(function(e){return xd(e)&&xW(e,i)&&"body"!==xx(e)})):[].concat(r),[o]))[0],(u=a.reduce(function(e,t){var r=xU(n,t,f);return e.top=xf(r.top,e.top),e.right=xm(r.right,e.right),e.bottom=xm(r.bottom,e.bottom),e.left=xf(r.left,e.left),e},xU(n,s,f))).width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u),R=xy(e.elements.reference),E=x$({reference:R,element:S,strategy:"absolute",placement:p}),T=xG(Object.assign({},S,E)),I=b===xF?T:R,O={top:M.top-I.top+C.top,bottom:I.bottom-M.bottom+C.bottom,left:M.left-I.left+C.left,right:I.right-M.right+C.right},P=e.modifiersData.offset;if(b===xF&&P){var N=P[p];Object.keys(O).forEach(function(e){var t=[xN,xP].indexOf(e)>=0?1:-1,n=["top",xP].indexOf(e)>=0?"y":"x";O[e]+=N[n]*t})}return O}var xZ={placement:"bottom",modifiers:[],strategy:"absolute"};function x0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var x1={passive:!0},x2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function x5(e){var t,n,r,o,l,i,a,s=e.popper,u=e.popperRect,c=e.placement,d=e.variation,p=e.offsets,h=e.position,f=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=p.x,y=void 0===b?0:b,w=p.y,x=void 0===w?0:w,C="function"==typeof g?g({x:y,y:x}):{x:y,y:x};y=C.x,x=C.y;var S=p.hasOwnProperty("x"),k=p.hasOwnProperty("y"),M=xD,R="top",E=window;if(m){var T=xO(s),I="clientHeight",O="clientWidth";T===xc(s)&&"static"!==xk(T=xC(s)).position&&"absolute"===h&&(I="scrollHeight",O="scrollWidth"),("top"===c||(c===xD||c===xN)&&"end"===d)&&(R=xP,x-=(v&&T===E&&E.visualViewport?E.visualViewport.height:T[I])-u.height,x*=f?1:-1),(c===xD||("top"===c||c===xP)&&"end"===d)&&(M=xN,y-=(v&&T===E&&E.visualViewport?E.visualViewport.width:T[O])-u.width,y*=f?1:-1)}var P=Object.assign({position:h},m&&x2),N=!0===g?(t={x:y,y:x},n=xc(s),r=t.x,o=t.y,{x:xg(r*(l=n.devicePixelRatio||1))/l||0,y:xg(o*l)/l||0}):{x:y,y:x};return(y=N.x,x=N.y,f)?Object.assign({},P,((a={})[R]=k?"0":"",a[M]=S?"0":"",a.transform=1>=(E.devicePixelRatio||1)?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",a)):Object.assign({},P,((i={})[R]=k?x+"px":"",i[M]=S?y+"px":"",i.transform="",i))}var x3={left:"right",right:"left",bottom:"top",top:"bottom"};function x4(e){return e.replace(/left|right|bottom|top/g,function(e){return x3[e]})}var x9={start:"end",end:"start"};function x6(e){return e.replace(/start|end/g,function(e){return x9[e]})}function x7(e,t,n){return xf(e,xm(t,n))}function x8(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ce(e){return["top",xN,xP,xD].some(function(t){return e[t]>=0})}var Ct=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,l=void 0===o?xZ:o;return function(e,t,n){void 0===n&&(n=l);var o,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},xZ,l),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],u=!1,c={state:a,setOptions:function(n){var o,i,u,p,h,f,m="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},l,a.options,m),a.scrollParents={reference:xd(e)?xT(e):e.contextElement?xT(e.contextElement):[],popper:xT(t)};var g=(i=Object.keys(o=[].concat(r,a.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return o[e]}),u=new Map,p=new Set,h=[],i.forEach(function(e){u.set(e.name,e)}),i.forEach(function(e){p.has(e.name)||function e(t){p.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!p.has(t)){var n=u.get(t);n&&e(n)}}),h.push(t)}(e)}),f=h,xV.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=g.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:c,options:void 0===n?{}:n});s.push(o||function(){})}}),c.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,n=e.popper;if(x0(t,n)){a.rects={reference:(r=xO(n),o="fixed"===a.options.strategy,l=xp(r),p=xp(r)&&(s=xg((i=r.getBoundingClientRect()).width)/r.offsetWidth||1,d=xg(i.height)/r.offsetHeight||1,1!==s||1!==d),h=xC(r),f=xy(t,p,o),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(l||!l&&!o)&&(("body"!==xx(r)||xM(h))&&(m=function(e){return e!==xc(e)&&xp(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:xw(e)}(r)),xp(r)?(g=xy(r,!0),g.x+=r.clientLeft,g.y+=r.clientTop):h&&(g.x=xS(h))),{x:f.left+m.scrollLeft-g.x,y:f.top+m.scrollTop-g.y,width:f.width,height:f.height}),popper:xR(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r,o,l,i,s,d,p,h,f,m,g,v=0;v<a.orderedModifiers.length;v++){if(!0===a.reset){a.reset=!1,v=-1;continue}var b=a.orderedModifiers[v],y=b.fn,w=b.options,x=void 0===w?{}:w,C=b.name;"function"==typeof y&&(a=y({state:a,options:x,name:C,instance:c})||a)}}}},update:(o=function(){return new Promise(function(e){c.forceUpdate(),e(a)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(o())})})),i}),destroy:function(){d(),u=!0}};if(!x0(e,t))return c;function d(){s.forEach(function(e){return e()}),s=[]}return c.setOptions(n).then(function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)}),c}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,l=void 0===o||o,i=r.resize,a=void 0===i||i,s=xc(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&u.forEach(function(e){e.addEventListener("scroll",n.update,x1)}),a&&s.addEventListener("resize",n.update,x1),function(){l&&u.forEach(function(e){e.removeEventListener("scroll",n.update,x1)}),a&&s.removeEventListener("resize",n.update,x1)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=x$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=n.adaptive,l=n.roundOffsets,i=void 0===l||l,a={placement:x_(t.placement),variation:xq(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,x5(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===o||o,roundOffsets:i})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,x5(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];xp(o)&&xx(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},l=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});xp(r)&&xx(r)&&(Object.assign(r.style,l),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,l=void 0===o?[0,0]:o,i=xB.reduce(function(e,n){var r,o,i,a,s,u;return e[n]=(r=t.rects,i=[xD,"top"].indexOf(o=x_(n))>=0?-1:1,s=(a="function"==typeof l?l(Object.assign({},r,{placement:n})):l)[0],u=a[1],s=s||0,u=(u||0)*i,[xD,xN].indexOf(o)>=0?{x:u,y:s}:{x:s,y:u}),e},{}),a=i[t.placement],s=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,l=void 0===o||o,i=n.altAxis,a=void 0===i||i,s=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,v=x_(g)===g,b=s||(v||!f?[x4(g)]:function(e){if(x_(e)===xA)return[];var t=x4(e);return[x6(e),t,x6(t)]}(g)),y=[g].concat(b).reduce(function(e,n){var r,o,l,i,a,s,p,h,g,v,b,y;return e.concat(x_(n)===xA?(o=(r={placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}).placement,l=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,h=void 0===(p=r.allowedAutoPlacements)?xB:p,0===(b=(v=(g=xq(o))?s?xH:xH.filter(function(e){return xq(e)===g}):xL).filter(function(e){return h.indexOf(e)>=0})).length&&(b=v),Object.keys(y=b.reduce(function(e,n){return e[n]=xQ(t,{placement:n,boundary:l,rootBoundary:i,padding:a})[x_(n)],e},{})).sort(function(e,t){return y[e]-y[t]})):n)},[]),w=t.rects.reference,x=t.rects.popper,C=new Map,S=!0,k=y[0],M=0;M<y.length;M++){var R=y[M],E=x_(R),T=xq(R)===xj,I=["top",xP].indexOf(E)>=0,O=I?"width":"height",P=xQ(t,{placement:R,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),N=I?T?xN:xD:T?xP:"top";w[O]>x[O]&&(N=x4(N));var D=x4(N),A=[];if(l&&A.push(P[E]<=0),a&&A.push(P[N]<=0,P[D]<=0),A.every(function(e){return e})){k=R,S=!1;break}C.set(R,A)}if(S)for(var L=f?3:1,j=function(e){var t=y.find(function(t){var n=C.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},z=L;z>0&&"break"!==j(z);z--);t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,l=n.altAxis,i=n.boundary,a=n.rootBoundary,s=n.altBoundary,u=n.padding,c=n.tether,d=void 0===c||c,p=n.tetherOffset,h=void 0===p?0:p,f=xQ(t,{boundary:i,rootBoundary:a,padding:u,altBoundary:s}),m=x_(t.placement),g=xq(t.placement),v=!g,b=xK(m),y="x"===b?"y":"x",w=t.modifiersData.popperOffsets,x=t.rects.reference,C=t.rects.popper,S="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(w){if(void 0===o||o){var E,T="y"===b?"top":xD,I="y"===b?xP:xN,O="y"===b?"height":"width",P=w[b],N=P+f[T],D=P-f[I],A=d?-C[O]/2:0,L=g===xj?x[O]:C[O],j=g===xj?-C[O]:-x[O],z=t.elements.arrow,F=d&&z?xR(z):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:xJ(),B=H[T],V=H[I],W=x7(0,x[O],F[O]),G=v?x[O]/2-A-W-B-k.mainAxis:L-W-B-k.mainAxis,U=v?-x[O]/2+A+W+V+k.mainAxis:j+W+V+k.mainAxis,_=t.elements.arrow&&xO(t.elements.arrow),q=_?"y"===b?_.clientTop||0:_.clientLeft||0:0,K=null!=(E=null==M?void 0:M[b])?E:0,$=x7(d?xm(N,P+G-K-q):N,P,d?xf(D,P+U-K):D);w[b]=$,R[b]=$-P}if(void 0!==l&&l){var J,X,Y="x"===b?"top":xD,Q="x"===b?xP:xN,Z=w[y],ee="y"===y?"height":"width",et=Z+f[Y],en=Z-f[Q],er=-1!==["top",xD].indexOf(m),eo=null!=(X=null==M?void 0:M[y])?X:0,el=er?et:Z-x[ee]-C[ee]-eo+k.altAxis,ei=er?Z+x[ee]+C[ee]-eo-k.altAxis:en,ea=d&&er?(J=x7(el,Z,ei))>ei?ei:J:x7(d?el:et,Z,d?ei:en);w[y]=ea,R[y]=ea-Z}t.modifiersData[r]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,l=n.elements.arrow,i=n.modifiersData.popperOffsets,a=x_(n.placement),s=xK(a),u=[xD,xN].indexOf(a)>=0?"height":"width";if(l&&i){var c,d=(c=o.padding,xX("number"!=typeof(c="function"==typeof c?c(Object.assign({},n.rects,{placement:n.placement})):c)?c:xY(c,xL))),p=xR(l),h="y"===s?"top":xD,f="y"===s?xP:xN,m=n.rects.reference[u]+n.rects.reference[s]-i[s]-n.rects.popper[u],g=i[s]-n.rects.reference[s],v=xO(l),b=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,y=d[h],w=b-p[u]-d[f],x=b/2-p[u]/2+(m/2-g/2),C=x7(y,x,w);n.modifiersData[r]=((t={})[s]=C,t.centerOffset=C-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;if(null!=r)("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&xW(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,l=t.modifiersData.preventOverflow,i=xQ(t,{elementContext:"reference"}),a=xQ(t,{altBoundary:!0}),s=x8(i,r),u=x8(a,o,l),c=Ce(s),d=Ce(u);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Cn=e.i(705538),Cr=e.i(303548),Co=e.i(540672),Cl=e.i(319727);function Ci(e){return(0,Cl.default)("MuiPopper",e)}function Ca(e){return"function"==typeof e?e():e}(0,Co.default)("MuiPopper",["root"]);let Cs={},Cu=g.forwardRef(function(e,t){var n;let{anchorEl:r,children:o,direction:l,disablePortal:i,modifiers:s,open:u,placement:c,popperOptions:d,popperRef:p,slotProps:h={},slots:f={},TransitionProps:m,ownerState:v,...b}=e,y=g.useRef(null),w=(0,xu.default)(y,t),x=g.useRef(null),C=(0,xu.default)(x,p),S=g.useRef(C);(0,xs.default)(()=>{S.current=C},[C]),g.useImperativeHandle(p,()=>x.current,[]);let k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,l),[M,R]=g.useState(k),[E,T]=g.useState(Ca(r));g.useEffect(()=>{x.current&&x.current.forceUpdate()}),g.useEffect(()=>{r&&T(Ca(r))},[r]),(0,xs.default)(()=>{if(!E||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;R(t.placement)}}];null!=s&&(e=e.concat(s)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));let t=Ct(E,y.current,{placement:k,...d,modifiers:e});return S.current(t),()=>{t.destroy(),S.current(null)}},[E,i,s,u,d,k]);let I={placement:M};null!==m&&(I.TransitionProps=m);let O=(e=>{let{classes:t}=e;return(0,w3.default)({root:["root"]},Ci,t)})(e),P=null!=(n=f.root)?n:"div",N=(0,Cn.default)({elementType:P,externalSlotProps:h.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:O.root});return(0,a.jsx)(P,{...N,children:"function"==typeof o?o(I):o})}),Cc=g.forwardRef(function(e,t){let n,{anchorEl:r,children:o,container:l,direction:i="ltr",disablePortal:s=!1,keepMounted:u=!1,modifiers:c,open:d,placement:p="bottom",popperOptions:h=Cs,popperRef:f,style:m,transition:v=!1,slotProps:b={},slots:y={},...w}=e,[x,C]=g.useState(!0);if(!u&&!d&&(!v||x))return null;if(l)n=l;else if(r){let e=Ca(r);n=e&&void 0!==e.nodeType?(0,xa.default)(e).body:(0,xa.default)(null).body}let S=!d&&u&&(!v||x)?"none":void 0,k=v?{in:d,onEnter:()=>{C(!1)},onExited:()=>{C(!0)}}:void 0;return(0,a.jsx)(Cr.default,{disablePortal:s,container:n,children:(0,a.jsx)(Cu,{anchorEl:r,direction:i,disablePortal:s,modifiers:c,ref:t,open:v?!x:d,placement:p,popperOptions:h,popperRef:f,slotProps:b,slots:y,...w,style:{position:"fixed",top:0,left:0,display:S,...m},TransitionProps:k,children:o})})});var Cd=e.i(594425);let Cp=(0,cL.styled)(Cc,{name:"MuiPopper",slot:"Root"})({}),Ch=g.forwardRef(function(e,t){var n;let r=(0,h4.useRtl)(),{anchorEl:o,component:l,components:i,componentsProps:s,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:v,slots:b,slotProps:y,...w}=(0,Cd.useDefaultProps)({props:e,name:"MuiPopper"}),x=null!=(n=null==b?void 0:b.root)?n:null==i?void 0:i.Root,C={anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:v,...w};return(0,a.jsx)(Cp,{as:l,direction:r?"rtl":"ltr",slots:{root:x},slotProps:null!=y?y:s,...C,ref:t})});var Cf=e.i(75149),Cm=e.i(942196);function Cg(e){return(0,Cl.default)("MuiListSubheader",e)}(0,Co.default)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);let Cv=(0,cL.styled)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,Cm.default)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((0,Cf.default)(e=>{let{theme:t}=e;return{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:72}},{props:e=>{let{ownerState:t}=e;return!t.disableSticky},style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}})),Cb=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiListSubheader"}),{className:r,color:o="default",component:l="li",disableGutters:i=!1,disableSticky:s=!1,inset:u=!1,...c}=n,d={...n,color:o,component:l,disableGutters:i,disableSticky:s,inset:u},p=(e=>{let{classes:t,color:n,disableGutters:r,inset:o,disableSticky:l}=e,i={root:["root","default"!==n&&"color".concat((0,Cm.default)(n)),!r&&"gutters",o&&"inset",!l&&"sticky"]};return(0,w3.default)(i,Cg,t)})(d);return(0,a.jsx)(Cv,{as:l,className:(0,cT.default)(p.root,r),ref:t,ownerState:d,...c})});Cb&&(Cb.muiSkipListHighlight=!0);var Cy=e.i(67719),Cw=e.i(443090),Cx=e.i(845679),CC=e.i(509358),CS=e.i(451576),Ck=e.i(142805),CM=e.i(859409);let CR=(0,ce.default)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var CE=e.i(52135);function CT(e){return(0,Cl.default)("MuiAutocomplete",e)}let CI=(0,Co.default)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var CO=e.i(348106);let CP=(0,cL.styled)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:l,inputFocused:i,size:a}=n;return[{["& .".concat(CI.tag)]:t.tag},{["& .".concat(CI.tag)]:t["tagSize".concat((0,Cm.default)(a))]},{["& .".concat(CI.inputRoot)]:t.inputRoot},{["& .".concat(CI.input)]:t.input},{["& .".concat(CI.input)]:i&&t.inputFocused},t.root,r&&t.fullWidth,l&&t.hasPopupIcon,o&&t.hasClearIcon]}})({["&.".concat(CI.focused," .").concat(CI.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(CI.clearIndicator)]:{visibility:"visible"}},["& .".concat(CI.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(CI.inputRoot)]:{[".".concat(CI.hasPopupIcon,"&, .").concat(CI.hasClearIcon,"&")]:{paddingRight:30},[".".concat(CI.hasPopupIcon,".").concat(CI.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(CI.input)]:{width:0,minWidth:30}},["& .".concat(CC.default.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(CC.default.root,".").concat(CS.default.sizeSmall)]:{["& .".concat(CC.default.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(Ck.default.root)]:{padding:9,[".".concat(CI.hasPopupIcon,"&, .").concat(CI.hasClearIcon,"&")]:{paddingRight:39},[".".concat(CI.hasPopupIcon,".").concat(CI.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(CI.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(CI.endAdornment)]:{right:9}},["& .".concat(Ck.default.root,".").concat(CS.default.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(CI.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(CM.default.root)]:{paddingTop:19,paddingLeft:8,[".".concat(CI.hasPopupIcon,"&, .").concat(CI.hasClearIcon,"&")]:{paddingRight:39},[".".concat(CI.hasPopupIcon,".").concat(CI.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(CM.default.input)]:{padding:"7px 4px"},["& .".concat(CI.endAdornment)]:{right:9}},["& .".concat(CM.default.root,".").concat(CS.default.sizeSmall)]:{paddingBottom:1,["& .".concat(CM.default.input)]:{padding:"2.5px 4px"}},["& .".concat(CS.default.hiddenLabel)]:{paddingTop:8},["& .".concat(CM.default.root,".").concat(CS.default.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(CI.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(CM.default.root,".").concat(CS.default.hiddenLabel,".").concat(CS.default.sizeSmall)]:{["& .".concat(CI.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(CI.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(CI.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(CI.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(CI.inputRoot)]:{flexWrap:"wrap"}}}]}),CN=(0,cL.styled)("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),CD=(0,cL.styled)(Cw.default,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),CA=(0,cL.styled)(Cw.default,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),CL=(0,cL.styled)(Ch,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{["& .".concat(CI.option)]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})((0,Cf.default)(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),Cj=(0,cL.styled)(Cy.default,{name:"MuiAutocomplete",slot:"Paper"})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.body1,overflow:"auto"}})),Cz=(0,cL.styled)("div",{name:"MuiAutocomplete",slot:"Loading"})((0,Cf.default)(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),CF=(0,cL.styled)("div",{name:"MuiAutocomplete",slot:"NoOptions"})((0,Cf.default)(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),CH=(0,cL.styled)("ul",{name:"MuiAutocomplete",slot:"Listbox"})((0,Cf.default)(e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(CI.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(CI.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(CI.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(CI.focused)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(CI.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}}}})),CB=(0,cL.styled)(Cb,{name:"MuiAutocomplete",slot:"GroupLabel"})((0,Cf.default)(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),CV=(0,cL.styled)("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,["& .".concat(CI.option)]:{paddingLeft:24}}),CW=g.forwardRef(function(e,t){let n,l=(0,Cd.useDefaultProps)({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:s=!1,autoSelect:u=!1,blurOnSelect:c=!1,ChipProps:d,className:p,clearIcon:h=r||(r=(0,a.jsx)(CR,{fontSize:"small"})),clearOnBlur:f=!l.freeSolo,clearOnEscape:m=!1,clearText:v="Clear",closeText:b="Close",componentsProps:y,defaultValue:w=l.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:C=!1,disabled:S=!1,disabledItemsFocusable:k=!1,disableListWrap:M=!1,disablePortal:R=!1,filterOptions:E,filterSelectedOptions:T=!1,forcePopupIcon:I="auto",freeSolo:O=!1,fullWidth:P=!1,getLimitTagsText:N=e=>"+".concat(e),getOptionDisabled:D,getOptionKey:A,getOptionLabel:L,isOptionEqualToValue:j,groupBy:z,handleHomeEndKeys:F=!l.freeSolo,id:H,includeInputInList:B=!1,inputValue:V,limitTags:W=-1,ListboxComponent:G,ListboxProps:U,loading:_=!1,loadingText:q="Loading",multiple:K=!1,noOptionsText:$="No options",onChange:J,onClose:X,onHighlightChange:Y,onInputChange:Q,onOpen:Z,open:ee,openOnFocus:et=!1,openText:en="Open",options:er,PaperComponent:eo,PopperComponent:el,popupIcon:ei=o||(o=(0,a.jsx)(CE.default,{})),readOnly:ea=!1,renderGroup:es,renderInput:eu,renderOption:ec,renderTags:ed,renderValue:ep,selectOnFocus:eh=!l.freeSolo,size:ef="medium",slots:em={},slotProps:eg={},value:ev,...eb}=l,{getRootProps:ey,getInputProps:ew,getInputLabelProps:ex,getPopupIndicatorProps:eC,getClearProps:eS,getItemProps:ek,getListboxProps:eM,getOptionProps:eR,value:eE,dirty:eT,expanded:eI,id:eO,popupOpen:eP,focused:eN,focusedItem:eD,anchorEl:eA,setAnchorEl:eL,inputValue:ej,groupedOptions:ez}=xi({...l,componentName:"Autocomplete"}),eF=!x&&!S&&eT&&!ea,eH=(!O||!0===I)&&!1!==I,{onMouseDown:eB}=ew(),{ref:eV,...eW}=eM(),eG=L||(e=>{var t;return null!=(t=e.label)?t:e}),eU={...l,disablePortal:R,expanded:eI,focused:eN,fullWidth:P,getOptionLabel:eG,hasClearIcon:eF,hasPopupIcon:eH,inputFocused:-1===eD,popupOpen:eP,size:ef},e_=(e=>{let{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:l,hasClearIcon:i,hasPopupIcon:a,inputFocused:s,popupOpen:u,size:c}=e,d={root:["root",r&&"expanded",o&&"focused",l&&"fullWidth",i&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag","tagSize".concat((0,Cm.default)(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,w3.default)(d,CT,t)})(eU),eq={slots:{paper:eo,popper:el,...em},slotProps:{chip:d,listbox:U,...y,...eg}},[eK,e$]=(0,CO.default)("listbox",{elementType:CH,externalForwardedProps:eq,ownerState:eU,className:e_.listbox,additionalProps:eW,ref:eV}),[eJ,eX]=(0,CO.default)("paper",{elementType:Cy.default,externalForwardedProps:eq,ownerState:eU,className:e_.paper}),[eY,eQ]=(0,CO.default)("popper",{elementType:Ch,externalForwardedProps:eq,ownerState:eU,className:e_.popper,additionalProps:{disablePortal:R,style:{width:eA?eA.clientWidth:null},role:"presentation",anchorEl:eA,open:eP}}),eZ=e=>({className:e_.tag,disabled:S,...ek(e)});if(K?eE.length>0&&(n=ed?ed(eE,eZ,eU):ep?ep(eE,eZ,eU):eE.map((e,t)=>{let{key:n,...r}=eZ({index:t});return(0,a.jsx)(Cx.default,{label:eG(e),size:ef,...r,...eq.slotProps.chip},n)})):ep&&null!=eE&&(n=ep(eE,eZ,eU)),W>-1&&Array.isArray(n)){let e=n.length-W;!eN&&e>0&&(n=n.splice(0,W)).push((0,a.jsx)("span",{className:e_.tag,children:N(e)},n.length))}let e0=es||(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)(CB,{className:e_.groupLabel,ownerState:eU,component:"div",children:e.group}),(0,a.jsx)(CV,{className:e_.groupUl,ownerState:eU,children:e.children})]},e.key)),e1=ec||((e,t)=>{let{key:n,...r}=e;return(0,a.jsx)("li",{...r,children:eG(t)},n)}),e2=(e,t)=>{let n=eR({option:e,index:t});return e1({...n,className:e_.option},e,{selected:n["aria-selected"],index:t,inputValue:ej},eU)},e5=eq.slotProps.clearIndicator,e3=eq.slotProps.popupIndicator;return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(CP,{ref:t,className:(0,cT.default)(e_.root,p),ownerState:eU,...ey(eb),children:eu({id:eO,disabled:S,fullWidth:!0,size:"small"===ef?"small":void 0,InputLabelProps:ex(),InputProps:{ref:eL,className:e_.inputRoot,startAdornment:n,onMouseDown:e=>{e.target===e.currentTarget&&eB(e)},...(eF||eH)&&{endAdornment:(0,a.jsxs)(CN,{className:e_.endAdornment,ownerState:eU,children:[eF?(0,a.jsx)(CD,{...eS(),"aria-label":v,title:v,ownerState:eU,...e5,className:(0,cT.default)(e_.clearIndicator,null==e5?void 0:e5.className),children:h}):null,eH?(0,a.jsx)(CA,{...eC(),disabled:S,"aria-label":eP?b:en,title:eP?b:en,ownerState:eU,...e3,className:(0,cT.default)(e_.popupIndicator,null==e3?void 0:e3.className),children:ei}):null]})}},inputProps:{className:e_.input,disabled:S,readOnly:ea,...ew()}})}),eA?(0,a.jsx)(CL,{as:eY,...eQ,children:(0,a.jsxs)(Cj,{as:eJ,...eX,children:[_&&0===ez.length?(0,a.jsx)(Cz,{className:e_.loading,ownerState:eU,children:q}):null,0!==ez.length||O||_?null:(0,a.jsx)(CF,{className:e_.noOptions,ownerState:eU,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:$}),ez.length>0?(0,a.jsx)(eK,{as:G,...e$,children:ez.map((e,t)=>z?e0({key:e.key,group:e.group,children:e.options.map((t,n)=>e2(t,e.index+n))}):e2(e,t))}):null]})}):null]})}),CG=function(e){let{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,l=w8({badgeContent:t,max:r}),i=n;!1!==n||0!==t||o||(i=!0);let{badgeContent:a,max:s=r}=i?l:e,u=a&&Number(a)>s?"".concat(s,"+"):a;return{badgeContent:a,invisible:i,max:s,displayValue:u}};var CU=e.i(535057);function C_(e){return(0,Cl.default)("MuiBadge",e)}let Cq=(0,Co.default)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),CK=(0,cL.styled)("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),C$=(0,cL.styled)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.badge,t[n.variant],t["anchorOrigin".concat((0,Cm.default)(n.anchorOrigin.vertical)).concat((0,Cm.default)(n.anchorOrigin.horizontal)).concat((0,Cm.default)(n.overlap))],"default"!==n.color&&t["color".concat((0,Cm.default)(n.color))],n.invisible&&t.invisible]}})((0,Cf.default)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter((0,CU.default)(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}}),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(Cq.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}));function CJ(e){var t,n;return{vertical:null!=(t=null==e?void 0:e.vertical)?t:"top",horizontal:null!=(n=null==e?void 0:e.horizontal)?n:"right"}}let CX=g.forwardRef(function(e,t){var n,r,o,l;let i=(0,Cd.useDefaultProps)({props:e,name:"MuiBadge"}),{anchorOrigin:s,className:u,classes:c,component:d,components:p={},componentsProps:h={},children:f,overlap:m="rectangular",color:g="default",invisible:v=!1,max:b=99,badgeContent:y,slots:w,slotProps:x,showZero:C=!1,variant:S="standard",...k}=i,{badgeContent:M,invisible:R,max:E,displayValue:T}=CG({max:b,invisible:v,badgeContent:y,showZero:C}),I=w8({anchorOrigin:CJ(s),color:g,overlap:m,variant:S,badgeContent:y}),O=R||null==M&&"dot"!==S,{color:P=g,overlap:N=m,anchorOrigin:D,variant:A=S}=O?I:i,L=CJ(D),j="dot"!==A?T:void 0,z={...i,badgeContent:M,invisible:O,max:E,displayValue:j,showZero:C,anchorOrigin:L,color:P,overlap:N,variant:A},F=(e=>{let{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:l,classes:i={}}=e,a={root:["root"],badge:["badge",l,r&&"invisible","anchorOrigin".concat((0,Cm.default)(n.vertical)).concat((0,Cm.default)(n.horizontal)),"anchorOrigin".concat((0,Cm.default)(n.vertical)).concat((0,Cm.default)(n.horizontal)).concat((0,Cm.default)(o)),"overlap".concat((0,Cm.default)(o)),"default"!==t&&"color".concat((0,Cm.default)(t))]};return(0,w3.default)(a,C_,i)})(z),H={slots:{root:null!=(n=null==w?void 0:w.root)?n:p.Root,badge:null!=(r=null==w?void 0:w.badge)?r:p.Badge},slotProps:{root:null!=(o=null==x?void 0:x.root)?o:h.root,badge:null!=(l=null==x?void 0:x.badge)?l:h.badge}},[B,V]=(0,CO.default)("root",{elementType:CK,externalForwardedProps:{...H,...k},ownerState:z,className:(0,cT.default)(F.root,u),ref:t,additionalProps:{as:d}}),[W,G]=(0,CO.default)("badge",{elementType:C$,externalForwardedProps:H,ownerState:z,className:F.badge});return(0,a.jsxs)(B,{...V,children:[f,(0,a.jsx)(W,{...G,children:j})]})});var CY=e.i(152039),CQ=e.i(988088),CZ=e.i(747562),C0=e.i(154033);function C1(e){return(0,Cl.default)("PrivateSwitchBase",e)}(0,Co.default)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);let C2=(0,cL.styled)(C0.default,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),C5=(0,cL.styled)("input",{name:"MuiSwitchBase",shouldForwardProp:CY.default})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),C3=g.forwardRef(function(e,t){let{autoFocus:n,checked:r,checkedIcon:o,defaultChecked:l,disabled:i,disableFocusRipple:s=!1,edge:u=!1,icon:c,id:d,inputProps:p,inputRef:h,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:b,required:y=!1,tabIndex:w,type:x,value:C,slots:S={},slotProps:k={},...M}=e,[R,E]=(0,CQ.default)({controlled:r,default:!!l,name:"SwitchBase",state:"checked"}),T=(0,CZ.default)(),I=i;T&&void 0===I&&(I=T.disabled);let O="checkbox"===x||"radio"===x,P={...e,checked:R,disabled:I,disableFocusRipple:s,edge:u},N=(e=>{let{classes:t,checked:n,disabled:r,edge:o}=e,l={root:["root",n&&"checked",r&&"disabled",o&&"edge".concat((0,Cm.default)(o))],input:["input"]};return(0,w3.default)(l,C1,t)})(P),D={slots:S,slotProps:{input:p,...k}},[A,L]=(0,CO.default)("root",{ref:t,elementType:C2,className:N.root,shouldForwardComponentProp:!0,externalForwardedProps:{...D,component:"span",...M},getSlotProps:e=>({...e,onFocus:t=>{var n;null==(n=e.onFocus)||n.call(e,t),v&&v(t),T&&T.onFocus&&T.onFocus(t)},onBlur:t=>{var n;null==(n=e.onBlur)||n.call(e,t),m&&m(t),T&&T.onBlur&&T.onBlur(t)}}),ownerState:P,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:I,role:void 0,tabIndex:null}}),[j,z]=(0,CO.default)("input",{ref:h,elementType:C5,className:N.input,externalForwardedProps:D,getSlotProps:e=>({...e,onChange:t=>{var n;null==(n=e.onChange)||n.call(e,t),(e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;E(t),g&&g(e,t)})(t)}}),ownerState:P,additionalProps:{autoFocus:n,checked:r,defaultChecked:l,disabled:I,id:O?d:void 0,name:f,readOnly:b,required:y,tabIndex:w,type:x,..."checkbox"===x&&void 0===C?{}:{value:C}}});return(0,a.jsxs)(A,{...L,children:[(0,a.jsx)(j,{...z}),R?o:c]})}),C4=(0,ce.default)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),C9=(0,ce.default)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),C6=(0,ce.default)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function C7(e){return(0,Cl.default)("MuiCheckbox",e)}let C8=(0,Co.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var Se=e.i(484476);let St=(0,cL.styled)(C3,{shouldForwardProp:e=>(0,CY.default)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,Cm.default)(n.size))],"default"!==n.color&&t["color".concat((0,Cm.default)(n.color))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}),...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(C8.checked,", &.").concat(C8.indeterminate)]:{color:(t.vars||t).palette[n].main},["&.".concat(C8.disabled)]:{color:(t.vars||t).palette.action.disabled}}}}),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}})),Sn=(0,a.jsx)(C9,{}),Sr=(0,a.jsx)(C4,{}),So=(0,a.jsx)(C6,{}),Sl=g.forwardRef(function(e,t){var n,r,o;let l=(0,Cd.useDefaultProps)({props:e,name:"MuiCheckbox"}),{checkedIcon:i=Sn,color:s="primary",icon:u=Sr,indeterminate:c=!1,indeterminateIcon:d=So,inputProps:p,size:h="medium",disableRipple:f=!1,className:m,slots:v={},slotProps:b={},...y}=l,w=c?d:u,x=c?d:i,C={...l,disableRipple:f,color:s,indeterminate:c,size:h},S=(e=>{let{classes:t,indeterminate:n,color:r,size:o}=e,l={root:["root",n&&"indeterminate","color".concat((0,Cm.default)(r)),"size".concat((0,Cm.default)(o))]},i=(0,w3.default)(l,C7,t);return{...t,...i}})(C),k=null!=(n=b.input)?n:p,[M,R]=(0,CO.default)("root",{ref:t,elementType:St,className:(0,cT.default)(S.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:b,...y},ownerState:C,additionalProps:{type:"checkbox",icon:g.cloneElement(w,{fontSize:null!=(r=w.props.fontSize)?r:h}),checkedIcon:g.cloneElement(x,{fontSize:null!=(o=x.props.fontSize)?o:h}),disableRipple:f,slots:v,slotProps:{input:(0,Se.mergeSlotProps)("function"==typeof k?k(C):k,{"data-indeterminate":c})}}});return(0,a.jsx)(M,{...R,classes:S})});var Si=e.i(688762),Sa=e.i(398020);let Ss=(0,cL.styled)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((0,Cf.default)(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),Su=(0,cL.styled)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((0,Cf.default)(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),Sc=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:l,orientation:i="horizontal",component:s=o||"vertical"===i?"div":"hr",flexItem:u=!1,light:c=!1,role:d="hr"!==s?"separator":void 0,textAlign:p="center",variant:h="fullWidth",...f}=n,m={...n,absolute:r,component:s,flexItem:u,light:c,orientation:i,role:d,textAlign:p,variant:h},g=(e=>{let{absolute:t,children:n,classes:r,flexItem:o,light:l,orientation:i,textAlign:a,variant:s}=e;return(0,w3.default)({root:["root",t&&"absolute",s,l&&"light","vertical"===i&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===a&&"vertical"!==i&&"textAlignRight","left"===a&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]},Sa.getDividerUtilityClass,r)})(m);return(0,a.jsx)(Ss,{as:s,className:(0,cT.default)(g.root,l),role:d,ref:t,ownerState:m,"aria-orientation":"separator"===d&&("hr"!==s||"vertical"===i)?i:void 0,...f,children:o?(0,a.jsx)(Su,{className:g.wrapper,ownerState:m,children:o}):null})});Sc&&(Sc.muiSkipListHighlight=!0);var Sd=e.i(17897),Sp=e.i(207394);function Sh(e){return(0,Cl.default)("MuiLinearProgress",e)}function Sf(){let e=(0,y8._)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"]);return Sf=function(){return e},e}function Sm(){let e=(0,y8._)(["\n        animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n      "]);return Sm=function(){return e},e}function Sg(){let e=(0,y8._)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"]);return Sg=function(){return e},e}function Sv(){let e=(0,y8._)(["\n        animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n      "]);return Sv=function(){return e},e}function Sb(){let e=(0,y8._)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"]);return Sb=function(){return e},e}function Sy(){let e=(0,y8._)(["\n        animation: "," 3s infinite linear;\n      "]);return Sy=function(){return e},e}(0,Co.default)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);let Sw=(0,we.keyframes)(Sf()),Sx="string"!=typeof Sw?(0,we.css)(Sm(),Sw):null,SC=(0,we.keyframes)(Sg()),SS="string"!=typeof SC?(0,we.css)(Sv(),SC):null,Sk=(0,we.keyframes)(Sb()),SM="string"!=typeof Sk?(0,we.css)(Sy(),Sk):null,SR=(e,t)=>e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),SE=(0,cL.styled)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["color".concat((0,Cm.default)(n.color))],t[n.variant]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:SR(t,n)}}}),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}})),ST=(0,cL.styled)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.dashed,t["dashedColor".concat((0,Cm.default)(n.color))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e,r=SR(t,n);return{props:{color:n},style:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)")}}})]}}),SM||{animation:"".concat(Sk," 3s infinite linear")}),SI=(0,cL.styled)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.bar,t.bar1,t["barColor".concat((0,Cm.default)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((0,Cf.default)(e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main}}}),{props:{variant:"determinate"},style:{transition:"transform .".concat(4,"s linear")}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .".concat(4,"s linear")}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:Sx||{animation:"".concat(Sw," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite")}}]}})),SO=(0,cL.styled)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.bar,t.bar2,t["barColor".concat((0,Cm.default)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((0,Cf.default)(e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[n].main}}}),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"===t.color},style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n,variant:"buffer"},style:{backgroundColor:SR(t,n),transition:"transform .".concat(4,"s linear")}}}),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:SS||{animation:"".concat(SC," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite")}}]}})),SP=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:l,valueBuffer:i,variant:s="indeterminate",...u}=n,c={...n,color:o,variant:s},d=(e=>{let{classes:t,variant:n,color:r}=e,o={root:["root","color".concat((0,Cm.default)(r)),n],dashed:["dashed","dashedColor".concat((0,Cm.default)(r))],bar1:["bar","bar1","barColor".concat((0,Cm.default)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==n&&"barColor".concat((0,Cm.default)(r)),"buffer"===n&&"color".concat((0,Cm.default)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,w3.default)(o,Sh,t)})(c),p=(0,h4.useRtl)(),h={},f={},m={};if(("determinate"===s||"buffer"===s)&&void 0!==l){h["aria-valuenow"]=Math.round(l),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=l-100;p&&(e=-e),f.transform="translateX(".concat(e,"%)")}if("buffer"===s&&void 0!==i){let e=(i||0)-100;p&&(e=-e),m.transform="translateX(".concat(e,"%)")}return(0,a.jsxs)(SE,{className:(0,cT.default)(d.root,r),ownerState:c,role:"progressbar",...h,ref:t,...u,children:["buffer"===s?(0,a.jsx)(ST,{className:d.dashed,ownerState:c}):null,(0,a.jsx)(SI,{className:d.bar1,ownerState:c,style:f}),"determinate"===s?null:(0,a.jsx)(SO,{className:d.bar2,ownerState:c,style:m})]})});var SN=e.i(917706),SD=e.i(36561);let SA=(0,cL.styled)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((0,Cf.default)(e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}})),SL=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiListItemIcon"}),{className:r,...o}=n,l=g.useContext(SD.default),i={...n,alignItems:l.alignItems},s=(e=>{let{alignItems:t,classes:n}=e;return(0,w3.default)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},SN.getListItemIconUtilityClass,n)})(i);return(0,a.jsx)(SA,{className:(0,cT.default)(s.root,r),ownerState:i,ref:t,...o})});var Sj=e.i(63153),Sz=e.i(429270),SF=e.i(481918),SH=e.i(828642),SB=e.i(936151),SV=e.i(828637),SW=e.i(126863);function SG(e){return(0,Cl.default)("MuiFormControlLabel",e)}let SU=(0,Co.default)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var S_=e.i(49313);let Sq=(0,cL.styled)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{["& .".concat(SU.label)]:t.label},t.root,t["labelPlacement".concat((0,Cm.default)(n.labelPlacement))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(SU.disabled)]:{cursor:"default"},["& .".concat(SU.label)]:{["&.".concat(SU.disabled)]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}})),SK=(0,cL.styled)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,Cf.default)(e=>{let{theme:t}=e;return{["&.".concat(SU.error)]:{color:(t.vars||t).palette.error.main}}})),S$=g.forwardRef(function(e,t){var n;let r=(0,Cd.useDefaultProps)({props:e,name:"MuiFormControlLabel"}),{checked:o,className:l,componentsProps:i={},control:s,disabled:u,disableTypography:c,inputRef:d,label:p,labelPlacement:h="end",name:f,onChange:m,required:v,slots:b={},slotProps:y={},value:w,...x}=r,C=(0,CZ.default)(),S=null!=(n=null!=u?u:s.props.disabled)?n:null==C?void 0:C.disabled,k=null!=v?v:s.props.required,M={disabled:S,required:k};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===s.props[e]&&void 0!==r[e]&&(M[e]=r[e])});let R=(0,S_.default)({props:r,muiFormControl:C,states:["error"]}),E={...r,disabled:S,labelPlacement:h,required:k,error:R.error},T=(e=>{let{classes:t,disabled:n,labelPlacement:r,error:o,required:l}=e,i={root:["root",n&&"disabled","labelPlacement".concat((0,Cm.default)(r)),o&&"error",l&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,w3.default)(i,SG,t)})(E),I={slots:b,slotProps:{...i,...y}},[O,P]=(0,CO.default)("typography",{elementType:SW.default,externalForwardedProps:I,ownerState:E}),N=p;return null==N||N.type===SW.default||c||(N=(0,a.jsx)(O,{component:"span",...P,className:(0,cT.default)(T.label,null==P?void 0:P.className),children:N})),(0,a.jsxs)(Sq,{className:(0,cT.default)(T.root,l),ownerState:E,ref:t,...x,children:[g.cloneElement(s,M),k?(0,a.jsxs)("div",{children:[N,(0,a.jsxs)(SK,{ownerState:E,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]}):N]})});var SJ=e.i(926678);function SX(e){return(0,Cl.default)("MuiSwitch",e)}let SY=(0,Co.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),SQ=(0,cL.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat((0,Cm.default)(n.edge))],t["size".concat((0,Cm.default)(n.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(SY.thumb)]:{width:16,height:16},["& .".concat(SY.switchBase)]:{padding:4,["&.".concat(SY.checked)]:{transform:"translateX(16px)"}}}}]}),SZ=(0,cL.styled)(C3,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.switchBase,{["& .".concat(SY.input)]:t.input},"default"!==n.color&&t["color".concat((0,Cm.default)(n.color))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(SY.checked)]:{transform:"translateX(20px)"},["&.".concat(SY.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(SY.checked," + .").concat(SY.track)]:{opacity:.5},["&.".concat(SY.disabled," + .").concat(SY.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(SY.input)]:{left:"-100%",width:"300%"}}}),(0,Cf.default)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((0,CU.default)(["light"])).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(SY.checked)]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(SY.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n,"DisabledColor")]:"".concat("light"===t.palette.mode?t.lighten(t.palette[n].main,.62):t.darken(t.palette[n].main,.55))}},["&.".concat(SY.checked," + .").concat(SY.track)]:{backgroundColor:(t.vars||t).palette[n].main}}}})]}})),S0=(0,cL.styled)("span",{name:"MuiSwitch",slot:"Track"})((0,Cf.default)(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),S1=(0,cL.styled)("span",{name:"MuiSwitch",slot:"Thumb"})((0,Cf.default)(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),S2=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:l=!1,size:i="medium",sx:s,slots:u={},slotProps:c={},...d}=n,p={...n,color:o,edge:l,size:i},h=(e=>{let{classes:t,edge:n,size:r,color:o,checked:l,disabled:i}=e,a={root:["root",n&&"edge".concat((0,Cm.default)(n)),"size".concat((0,Cm.default)(r))],switchBase:["switchBase","color".concat((0,Cm.default)(o)),l&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=(0,w3.default)(a,SX,t);return{...t,...s}})(p),f={slots:u,slotProps:c},[m,g]=(0,CO.default)("root",{className:(0,cT.default)(h.root,r),elementType:SQ,externalForwardedProps:f,ownerState:p,additionalProps:{sx:s}}),[v,b]=(0,CO.default)("thumb",{className:h.thumb,elementType:S1,externalForwardedProps:f,ownerState:p}),y=(0,a.jsx)(v,{...b}),[w,x]=(0,CO.default)("track",{className:h.track,elementType:S0,externalForwardedProps:f,ownerState:p});return(0,a.jsxs)(m,{...g,children:[(0,a.jsx)(SZ,{type:"checkbox",icon:y,checkedIcon:y,ref:t,ownerState:p,...d,classes:{...h,root:h.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...c.switchBase&&{root:"function"==typeof c.switchBase?c.switchBase(p):c.switchBase},input:{role:"switch"},...c.input&&{input:"function"==typeof c.input?c.input(p):c.input}}}),(0,a.jsx)(w,{...x})]})});var S5=e.i(236807),S3=e.i(568426),S3=S3,S4=e.i(945306);function S9(e){return(0,Cl.default)("MuiInputAdornment",e)}let S6=(0,Co.default)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),S7=(0,cL.styled)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["position".concat((0,Cm.default)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(S6.positionStart,"&:not(.").concat(S6.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}})),S8=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:i="div",disablePointerEvents:s=!1,disableTypography:u=!1,position:c,variant:d,...p}=n,h=(0,CZ.default)()||{},f=d;d&&h.variant,h&&!f&&(f=h.variant);let m={...n,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:s,position:c,variant:f},v=(e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:l,variant:i}=e,a={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,Cm.default)(o)),i,r&&"hiddenLabel",l&&"size".concat((0,Cm.default)(l))]};return(0,w3.default)(a,S9,t)})(m);return(0,a.jsx)(S4.default.Provider,{value:null,children:(0,a.jsx)(S7,{as:i,ownerState:m,className:(0,cT.default)(v.root,o),ref:t,...p,children:"string"!=typeof r||u?(0,a.jsxs)(g.Fragment,{children:["start"===c?l||(l=(0,a.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""})):null,r]}):(0,a.jsx)(SW.default,{color:"textSecondary",children:r})})})});var ke=e.i(552836),kt=e.i(952761),kn=e.i(552174),kr=e.i(55720),ko=e.i(382793),kl=e.i(719636),ki=e.i(196541);function ka(e){return(0,Cl.default)("MuiTooltip",e)}let ks=(0,Co.default)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ku=(0,cL.styled)(Ch,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((0,Cf.default)(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(ks.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(ks.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(ks.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(ks.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(ks.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(ks.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(ks.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(ks.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}})),kc=(0,cL.styled)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,Cm.default)(n.placement.split("-")[0]))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(ks.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(ks.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(ks.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(ks.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(Math.round(16/14*1e5)/1e5,"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(ks.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(ks.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(ks.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(ks.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(ks.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(ks.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(ks.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(ks.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(ks.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(ks.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]}})),kd=(0,cL.styled)("span",{name:"MuiTooltip",slot:"Arrow"})((0,Cf.default)(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),kp=!1,kh=new ke.Timeout,kf={x:0,y:0};function km(e,t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];t&&t(n,...o),e(n,...o)}}let kg=g.forwardRef(function(e,t){var n,r,o;let l=(0,Cd.useDefaultProps)({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:u,components:c={},componentsProps:d={},describeChild:p=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:m=!1,disableTouchListener:v=!1,enterDelay:b=100,enterNextDelay:y=0,enterTouchDelay:w=700,followCursor:x=!1,id:C,leaveDelay:S=0,leaveTouchDelay:k=1500,onClose:M,onOpen:R,open:E,placement:T="bottom",PopperComponent:I,PopperProps:O={},slotProps:P={},slots:N={},title:D,TransitionComponent:A,TransitionProps:L,...j}=l,z=g.isValidElement(s)?s:(0,a.jsx)("span",{children:s}),F=(0,bZ.useTheme)(),H=(0,h4.useRtl)(),[B,V]=g.useState(),[W,G]=g.useState(null),U=g.useRef(!1),_=m||x,q=(0,ke.default)(),K=(0,ke.default)(),$=(0,ke.default)(),J=(0,ke.default)(),[X,Y]=(0,CQ.default)({controlled:E,default:!1,name:"Tooltip",state:"open"}),Q=X,Z=(0,ki.default)(C),ee=g.useRef(),et=(0,ko.default)(()=>{void 0!==ee.current&&(document.body.style.WebkitUserSelect=ee.current,ee.current=void 0),J.clear()});g.useEffect(()=>et,[et]);let en=e=>{kh.clear(),kp=!0,Y(!0),R&&!Q&&R(e)},er=(0,ko.default)(e=>{kh.start(800+S,()=>{kp=!1}),Y(!1),M&&Q&&M(e),q.start(F.transitions.duration.shortest,()=>{U.current=!1})}),eo=e=>{U.current&&"touchstart"!==e.type||(B&&B.removeAttribute("title"),K.clear(),$.clear(),b||kp&&y?K.start(kp?y:b,()=>{en(e)}):en(e))},el=e=>{K.clear(),$.start(S,()=>{er(e)})},[,ei]=g.useState(!1),ea=e=>{(0,kt.default)(e.target)||(ei(!1),el(e))},es=e=>{B||V(e.currentTarget),(0,kt.default)(e.target)&&(ei(!0),eo(e))},eu=e=>{U.current=!0;let t=z.props;t.onTouchStart&&t.onTouchStart(e)};g.useEffect(()=>{if(Q)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&er(e)}},[er,Q]);let ec=(0,kl.default)((0,kn.default)(z),V,t);D||0===D||(Q=!1);let ed=g.useRef(),ep={},eh="string"==typeof D;p?(ep.title=Q||!eh||f?null:D,ep["aria-describedby"]=Q?Z:null):(ep["aria-label"]=eh?D:null,ep["aria-labelledby"]=Q&&!eh?Z:null);let ef={...ep,...j,...z.props,className:(0,cT.default)(j.className,z.props.className),onTouchStart:eu,ref:ec,...x?{onMouseMove:e=>{let t=z.props;t.onMouseMove&&t.onMouseMove(e),kf={x:e.clientX,y:e.clientY},ed.current&&ed.current.update()}}:{}},em={};v||(ef.onTouchStart=e=>{eu(e),$.clear(),q.clear(),et(),ee.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",J.start(w,()=>{document.body.style.WebkitUserSelect=ee.current,eo(e)})},ef.onTouchEnd=e=>{z.props.onTouchEnd&&z.props.onTouchEnd(e),et(),$.start(k,()=>{er(e)})}),!f&&(ef.onMouseOver=km(eo,ef.onMouseOver),ef.onMouseLeave=km(el,ef.onMouseLeave),_||(em.onMouseOver=eo,em.onMouseLeave=el)),!h&&(ef.onFocus=km(es,ef.onFocus),ef.onBlur=km(ea,ef.onBlur),_||(em.onFocus=es,em.onBlur=ea));let eg={...l,isRtl:H,arrow:i,disableInteractive:_,placement:T,PopperComponentProp:I,touch:U.current},ev="function"==typeof P.popper?P.popper(eg):P.popper,eb=g.useMemo(()=>{var e,t;let n=[{name:"arrow",enabled:!!W,options:{element:W,padding:4}}];return(null==(e=O.popperOptions)?void 0:e.modifiers)&&(n=n.concat(O.popperOptions.modifiers)),(null==ev||null==(t=ev.popperOptions)?void 0:t.modifiers)&&(n=n.concat(ev.popperOptions.modifiers)),{...O.popperOptions,...null==ev?void 0:ev.popperOptions,modifiers:n}},[W,O.popperOptions,null==ev?void 0:ev.popperOptions]),ey=(e=>{let{classes:t,disableInteractive:n,arrow:r,touch:o,placement:l}=e,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat((0,Cm.default)(l.split("-")[0]))],arrow:["arrow"]};return(0,w3.default)(i,ka,t)})(eg),ew="function"==typeof P.transition?P.transition(eg):P.transition,ex={slots:{popper:c.Popper,transition:null!=(n=c.Transition)?n:A,tooltip:c.Tooltip,arrow:c.Arrow,...N},slotProps:{arrow:null!=(r=P.arrow)?r:d.arrow,popper:{...O,...null!=ev?ev:d.popper},tooltip:null!=(o=P.tooltip)?o:d.tooltip,transition:{...L,...null!=ew?ew:d.transition}}},[eC,eS]=(0,CO.default)("popper",{elementType:ku,externalForwardedProps:ex,ownerState:eg,className:(0,cT.default)(ey.popper,null==O?void 0:O.className)}),[ek,eM]=(0,CO.default)("transition",{elementType:kr.default,externalForwardedProps:ex,ownerState:eg}),[eR,eE]=(0,CO.default)("tooltip",{elementType:kc,className:ey.tooltip,externalForwardedProps:ex,ownerState:eg}),[eT,eI]=(0,CO.default)("arrow",{elementType:kd,className:ey.arrow,externalForwardedProps:ex,ownerState:eg,ref:G});return(0,a.jsxs)(g.Fragment,{children:[g.cloneElement(z,ef),(0,a.jsx)(eC,{as:null!=I?I:Ch,placement:T,anchorEl:x?{getBoundingClientRect:()=>({top:kf.y,left:kf.x,right:kf.x,bottom:kf.y,width:0,height:0})}:B,popperRef:ed,open:!!B&&Q,id:Z,transition:!0,...em,...eS,popperOptions:eb,children:e=>{let{TransitionProps:t}=e;return(0,a.jsx)(ek,{timeout:F.transitions.duration.shorter,...t,...eM,children:(0,a.jsxs)(eR,{...eE,children:[D,i?(0,a.jsx)(eT,{...eI}):null]})})}})]})}),kv=g.createContext(),kb=g.createContext();function ky(e){return(0,Cl.default)("MuiTableCell",e)}let kw=(0,Co.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),kx=(0,cL.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,Cm.default)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Cm.default)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Cm.default)(n.align))],n.stickyHeader&&t.stickyHeader]}})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(kw.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}})),kC=g.forwardRef(function(e,t){let n,r=(0,Cd.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:o="inherit",className:l,component:i,padding:s,scope:u,size:c,sortDirection:d,variant:p,...h}=r,f=g.useContext(kv),m=g.useContext(kb),v=m&&"head"===m.variant,b=u;"td"===(n=i||(v?"th":"td"))?b=void 0:!b&&v&&(b="col");let y=p||m&&m.variant,w={...r,align:o,component:n,padding:s||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:d,stickyHeader:"head"===y&&f&&f.stickyHeader,variant:y},x=(e=>{let{classes:t,variant:n,align:r,padding:o,size:l,stickyHeader:i}=e,a={root:["root",n,i&&"stickyHeader","inherit"!==r&&"align".concat((0,Cm.default)(r)),"normal"!==o&&"padding".concat((0,Cm.default)(o)),"size".concat((0,Cm.default)(l))]};return(0,w3.default)(a,ky,t)})(w),C=null;return d&&(C="asc"===d?"ascending":"descending"),(0,a.jsx)(kx,{as:n,ref:t,className:(0,cT.default)(x.root,l),"aria-sort":C,scope:b,ownerState:w,...h})});var kS=e.i(450352);let kk=(0,ce.default)((0,a.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),kM=(0,ce.default)((0,a.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),kR=(0,ce.default)((0,a.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),kE=(0,ce.default)((0,a.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");function kT(e){return(0,Cl.default)("MuiTablePaginationActions",e)}(0,Co.default)("MuiTablePaginationActions",["root"]);let kI=(0,cL.styled)("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),kO=g.forwardRef(function(e,t){var n,r,o,l,i,s,u,c;let d=(0,Cd.useDefaultProps)({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:p,className:h,count:f,disabled:m=!1,getItemAriaLabel:g,nextIconButtonProps:v,onPageChange:b,page:y,rowsPerPage:w,showFirstButton:x,showLastButton:C,slots:S={},slotProps:k={},...M}=d,R=(0,h4.useRtl)(),E=(e=>{let{classes:t}=e;return(0,w3.default)({root:["root"]},kT,t)})(d),T=null!=(n=S.firstButton)?n:Cw.default,I=null!=(r=S.lastButton)?r:Cw.default,O=null!=(o=S.nextButton)?o:Cw.default,P=null!=(l=S.previousButton)?l:Cw.default,N=null!=(i=S.firstButtonIcon)?i:kE,D=null!=(s=S.lastButtonIcon)?s:kR,A=null!=(u=S.nextButtonIcon)?u:kM,L=null!=(c=S.previousButtonIcon)?c:kk,j=R?I:T,z=R?O:P,F=R?P:O,H=R?T:I,B=R?k.lastButton:k.firstButton,V=R?k.nextButton:k.previousButton,W=R?k.previousButton:k.nextButton,G=R?k.firstButton:k.lastButton;return(0,a.jsxs)(kI,{ref:t,className:(0,cT.default)(E.root,h),...M,children:[x&&(0,a.jsx)(j,{onClick:e=>{b(e,0)},disabled:m||0===y,"aria-label":g("first",y),title:g("first",y),...B,children:R?(0,a.jsx)(D,{...k.lastButtonIcon}):(0,a.jsx)(N,{...k.firstButtonIcon})}),(0,a.jsx)(z,{onClick:e=>{b(e,y-1)},disabled:m||0===y,color:"inherit","aria-label":g("previous",y),title:g("previous",y),...null!=V?V:p,children:R?(0,a.jsx)(A,{...k.nextButtonIcon}):(0,a.jsx)(L,{...k.previousButtonIcon})}),(0,a.jsx)(F,{onClick:e=>{b(e,y+1)},disabled:m||-1!==f&&y>=Math.ceil(f/w)-1,color:"inherit","aria-label":g("next",y),title:g("next",y),...null!=W?W:v,children:R?(0,a.jsx)(L,{...k.previousButtonIcon}):(0,a.jsx)(A,{...k.nextButtonIcon})}),C&&(0,a.jsx)(H,{onClick:e=>{b(e,Math.max(0,Math.ceil(f/w)-1))},disabled:m||y>=Math.ceil(f/w)-1,"aria-label":g("last",y),title:g("last",y),...G,children:R?(0,a.jsx)(N,{...k.firstButtonIcon}):(0,a.jsx)(D,{...k.lastButtonIcon})})]})});function kP(e){return(0,Cl.default)("MuiTablePagination",e)}let kN=(0,Co.default)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),kD=(0,cL.styled)(kC,{name:"MuiTablePagination",slot:"Root"})((0,Cf.default)(e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),kA=(0,cL.styled)(kS.default,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({["& .".concat(kN.actions)]:t.actions,...t.toolbar})})((0,Cf.default)(e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,["".concat(t.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(kN.actions)]:{flexShrink:0,marginLeft:20}}})),kL=(0,cL.styled)("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),kj=(0,cL.styled)("p",{name:"MuiTablePagination",slot:"SelectLabel"})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.body2,flexShrink:0}})),kz=(0,cL.styled)(SJ.default,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({["& .".concat(kN.selectIcon)]:t.selectIcon,["& .".concat(kN.select)]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(kN.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),kF=(0,cL.styled)(SH.default,{name:"MuiTablePagination",slot:"MenuItem"})({}),kH=(0,cL.styled)("p",{name:"MuiTablePagination",slot:"DisplayedRows"})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.body2,flexShrink:0}}));function kB(e){let{from:t,to:n,count:r}=e;return"".concat(t,"").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function kV(e){return"Go to ".concat(e," page")}let kW=g.forwardRef(function(e,t){var n;let r,o=(0,Cd.useDefaultProps)({props:e,name:"MuiTablePagination"}),{ActionsComponent:l=kO,backIconButtonProps:s,colSpan:u,component:c=kC,count:d,disabled:p=!1,getItemAriaLabel:h=kV,labelDisplayedRows:f=kB,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:v,onPageChange:b,onRowsPerPageChange:y,page:w,rowsPerPage:x,rowsPerPageOptions:C=[10,25,50,100],SelectProps:S={},showFirstButton:k=!1,showLastButton:M=!1,slotProps:R={},slots:E={},...T}=o,I=(e=>{let{classes:t}=e;return(0,w3.default)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},kP,t)})(o),O=null!=(n=null==R?void 0:R.select)?n:S,P=O.native?"option":kF;(c===kC||"td"===c)&&(r=u||1e3);let N=(0,ki.default)(O.id),D=(0,ki.default)(O.labelId),A={slots:E,slotProps:R},[L,j]=(0,CO.default)("root",{ref:t,className:I.root,elementType:kD,externalForwardedProps:{...A,component:c,...T},ownerState:o,additionalProps:{colSpan:r}}),[z,F]=(0,CO.default)("toolbar",{className:I.toolbar,elementType:kA,externalForwardedProps:A,ownerState:o}),[H,B]=(0,CO.default)("spacer",{className:I.spacer,elementType:kL,externalForwardedProps:A,ownerState:o}),[V,W]=(0,CO.default)("selectLabel",{className:I.selectLabel,elementType:kj,externalForwardedProps:A,ownerState:o,additionalProps:{id:D}}),[G,U]=(0,CO.default)("select",{className:I.select,elementType:kz,externalForwardedProps:A,ownerState:o}),[_,q]=(0,CO.default)("menuItem",{className:I.menuItem,elementType:P,externalForwardedProps:A,ownerState:o}),[K,$]=(0,CO.default)("displayedRows",{className:I.displayedRows,elementType:kH,externalForwardedProps:A,ownerState:o});return(0,a.jsx)(L,{...j,children:(0,a.jsxs)(z,{...F,children:[(0,a.jsx)(H,{...B}),C.length>1&&(0,a.jsx)(V,{...W,children:m}),C.length>1&&(0,a.jsx)(G,{variant:"standard",...!O.variant&&{input:i||(i=(0,a.jsx)(Sd.default,{}))},value:x,onChange:y,id:N,labelId:D,...O,classes:{...O.classes,root:(0,cT.default)(I.input,I.selectRoot,(O.classes||{}).root),select:(0,cT.default)(I.select,(O.classes||{}).select),icon:(0,cT.default)(I.selectIcon,(O.classes||{}).icon)},disabled:p,...U,children:C.map(e=>(0,g.createElement)(_,{...q,key:e.label?e.label:e,value:e.value?e.value:e},e.label?e.label:e))}),(0,a.jsx)(K,{...$,children:f({from:0===d?0:w*x+1,to:-1===d?(w+1)*x:-1===x?d:Math.min(d,(w+1)*x),count:-1===d?-1:d,page:w})}),(0,a.jsx)(l,{className:I.actions,backIconButtonProps:s,count:d,nextIconButtonProps:v,onPageChange:b,page:w,rowsPerPage:x,showFirstButton:k,showLastButton:M,slotProps:R.actions,slots:E.actions,getItemAriaLabel:h,disabled:p})]})})});function kG(e){return e.substring(2).toLowerCase()}function kU(e){let{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:l="onTouchEnd"}=e,i=g.useRef(!1),a=g.useRef(null),s=g.useRef(!1),u=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{s.current=!0},0),()=>{s.current=!1}),[]);let c=(0,xu.default)((0,kn.default)(t),a),d=(0,w9.default)(e=>{let t=u.current;u.current=!1;let r=(0,xa.default)(a.current);if(!(!s.current||!a.current||"clientX"in e&&(r.documentElement.clientWidth<e.clientX||r.documentElement.clientHeight<e.clientY))){if(i.current){i.current=!1;return}(e.composedPath?e.composedPath().includes(a.current):!r.documentElement.contains(e.target)||a.current.contains(e.target))||!n&&t||o(e)}}),p=e=>n=>{u.current=!0;let r=t.props[e];r&&r(n)},h={ref:c};return!1!==l&&(h[l]=p(l)),g.useEffect(()=>{if(!1!==l){let e=kG(l),t=(0,xa.default)(a.current),n=()=>{i.current=!0};return t.addEventListener(e,d),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,d),t.removeEventListener("touchmove",n)}}},[d,l]),!1!==r&&(h[r]=p(r)),g.useEffect(()=>{if(!1!==r){let e=kG(r),t=(0,xa.default)(a.current);return t.addEventListener(e,d),()=>{t.removeEventListener(e,d)}}},[d,r]),g.cloneElement(t,h)}var k_=e.i(739147);function kq(e){return(0,Cl.default)("MuiSkeleton",e)}function kK(){let e=(0,y8._)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]);return kK=function(){return e},e}function k$(){let e=(0,y8._)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]);return k$=function(){return e},e}function kJ(){let e=(0,y8._)(["\n        animation: "," 2s ease-in-out 0.5s infinite;\n      "]);return kJ=function(){return e},e}function kX(){let e=(0,y8._)(["\n        &::after {\n          animation: "," 2s linear 0.5s infinite;\n        }\n      "]);return kX=function(){return e},e}(0,Co.default)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);let kY=(0,we.keyframes)(kK()),kQ=(0,we.keyframes)(k$()),kZ="string"!=typeof kY?(0,we.css)(kJ(),kY):null,k0="string"!=typeof kQ?(0,we.css)(kX(),kQ):null,k1=(0,cL.styled)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((0,Cf.default)(e=>{let{theme:t}=e,n=String(t.shape.borderRadius).match(/[\d.\-+]*\s*(.*)/)[1]||"px",r=parseFloat(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(r).concat(n,"/").concat(Math.round(r/.6*10)/10).concat(n),"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:e=>{let{ownerState:t}=e;return t.hasChildren},style:{"& > *":{visibility:"hidden"}}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.width},style:{maxWidth:"fit-content"}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.height},style:{height:"auto"}},{props:{animation:"pulse"},style:kZ||{animation:"".concat(kY," 2s ease-in-out 0.5s infinite")}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:"linear-gradient(\n                90deg,\n                transparent,\n                ".concat((t.vars||t).palette.action.hover,",\n                transparent\n              )"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:k0||{"&::after":{animation:"".concat(kQ," 2s linear 0.5s infinite")}}}]}})),k2=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:o,component:l="span",height:i,style:s,variant:u="text",width:c,...d}=n,p={...n,animation:r,component:l,variant:u,hasChildren:!!d.children},h=(e=>{let{classes:t,variant:n,animation:r,hasChildren:o,width:l,height:i}=e;return(0,w3.default)({root:["root",n,r,o&&"withChildren",o&&!l&&"fitContent",o&&!i&&"heightAuto"]},kq,t)})(p);return(0,a.jsx)(k1,{as:l,ref:t,className:(0,cT.default)(h.root,o),ownerState:p,...d,style:{width:c,height:i,...s}})});var k5=e.i(791783);function k3(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var k4=e.i(99064),k9=e.i(343612),k9=k9;let k6={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function k7(e){return(0,Cl.default)("MuiTabScrollButton",e)}let k8=(0,Co.default)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Me=(0,cL.styled)(C0.default,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,["&.".concat(k8.disabled)]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Mt=g.forwardRef(function(e,t){var n,r;let o=(0,Cd.useDefaultProps)({props:e,name:"MuiTabScrollButton"}),{className:l,slots:i={},slotProps:s={},direction:u,orientation:c,disabled:d,...p}=o,h=(0,h4.useRtl)(),f={isRtl:h,...o},m=(e=>{let{classes:t,orientation:n,disabled:r}=e;return(0,w3.default)({root:["root",n,r&&"disabled"]},k7,t)})(f),g=null!=(n=i.StartScrollButtonIcon)?n:kk,v=null!=(r=i.EndScrollButtonIcon)?r:kM,b=(0,Cn.default)({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),y=(0,Cn.default)({elementType:v,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return(0,a.jsx)(Me,{component:"div",className:(0,cT.default)(m.root,l),ref:t,role:null,ownerState:f,tabIndex:null,...p,style:{...p.style,..."vertical"===c&&{"--TabScrollButton-svgRotate":"rotate(".concat(h?-90:90,"deg)")}},children:"left"===u?(0,a.jsx)(g,{...b}):(0,a.jsx)(v,{...y})})});function Mn(e){return(0,Cl.default)("MuiTabs",e)}let Mr=(0,Co.default)("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var Mo=e.i(688195),Ml=e.i(528351);let Mi=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Ma=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Ms=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}let t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},Mu=(0,cL.styled)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{["& .".concat(Mr.scrollButtons)]:t.scrollButtons},{["& .".concat(Mr.scrollButtons)]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((0,Cf.default)(e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{["& .".concat(Mr.scrollButtons)]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}})),Mc=(0,cL.styled)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),Md=(0,cL.styled)("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),Mp=(0,cL.styled)("span",{name:"MuiTabs",slot:"Indicator"})((0,Cf.default)(e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}})),Mh=(0,cL.styled)(function(e){let{onChange:t,...n}=e,r=g.useRef(),o=g.useRef(null),l=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return(0,k9.default)(()=>{let e=(0,k5.default)(()=>{let e=r.current;l(),e!==r.current&&t(r.current)}),n=(0,k4.ownerWindow)(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[t]),g.useEffect(()=>{l(),t(r.current)},[t]),(0,a.jsx)("div",{style:k6,...n,ref:o})})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Mf={},Mm=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiTabs"}),r=(0,bZ.useTheme)(),o=(0,h4.useRtl)(),{"aria-label":l,"aria-labelledby":i,action:s,centered:u=!1,children:c,className:d,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:f="primary",onChange:m,orientation:v="horizontal",ScrollButtonComponent:b,scrollButtons:y="auto",selectionFollowsFocus:w,slots:x={},slotProps:C={},TabIndicatorProps:S={},TabScrollButtonProps:k={},textColor:M="primary",value:R,variant:E="standard",visibleScrollbar:T=!1,...I}=n,O="scrollable"===E,P="vertical"===v,N=P?"scrollTop":"scrollLeft",D=P?"top":"left",A=P?"bottom":"right",L=P?"clientHeight":"clientWidth",j=P?"height":"width",z={...n,component:p,allowScrollButtonsMobile:h,indicatorColor:f,orientation:v,vertical:P,scrollButtons:y,textColor:M,variant:E,visibleScrollbar:T,fixed:!O,hideScrollbar:O&&!T,scrollableX:O&&!P,scrollableY:O&&P,centered:u&&!O,scrollButtonsHideMobile:!h},F=(e=>{let{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:l,centered:i,scrollButtonsHideMobile:a,classes:s}=e;return(0,w3.default)({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",l&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Mn,s)})(z),H=(0,Cn.default)({elementType:x.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:z}),B=(0,Cn.default)({elementType:x.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:z}),[V,W]=g.useState(!1),[G,U]=g.useState(Mf),[_,q]=g.useState(!1),[K,$]=g.useState(!1),[J,X]=g.useState(!1),[Y,Q]=g.useState({overflow:"hidden",scrollbarWidth:0}),Z=new Map,ee=g.useRef(null),et=g.useRef(null),en={slots:x,slotProps:{indicator:S,scrollButton:k,...C}},er=()=>{let e,t,n=ee.current;if(n){let t=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:n.scrollWidth,top:t.top,bottom:t.bottom,left:t.left,right:t.right}}if(n&&!1!==R){let e=et.current.children;if(e.length>0){let n=e[Z.get(R)];t=n?n.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},eo=(0,ko.default)(()=>{let e,{tabsMeta:t,tabMeta:n}=er(),r=0;P?(e="top",n&&t&&(r=n.top-t.top+t.scrollTop)):(e=o?"right":"left",n&&t&&(r=(o?-1:1)*(n[e]-t[e]+t.scrollLeft)));let l={[e]:r,[j]:n?n[j]:0};if("number"!=typeof G[e]||"number"!=typeof G[j])U(l);else{let t=Math.abs(G[e]-l[e]),n=Math.abs(G[j]-l[j]);(t>=1||n>=1)&&U(l)}}),el=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},{ease:l=k3,duration:i=300}=r,a=null,s=t[e],u=!1,c=r=>{if(u)return void o(Error("Animation cancelled"));null===a&&(a=r);let d=Math.min(1,(r-a)/i);if(t[e]=l(d)*(n-s)+s,d>=1)return void requestAnimationFrame(()=>{o(null)});requestAnimationFrame(c)};s===n?o(Error("Element already at target position")):requestAnimationFrame(c)}(N,ee.current,e,{duration:r.transitions.duration.standard}):ee.current[N]=e},ei=e=>{let t=ee.current[N];P?t+=e:t+=e*(o?-1:1),el(t)},ea=()=>{let e=ee.current[L],t=0,n=Array.from(et.current.children);for(let r=0;r<n.length;r+=1){let o=n[r];if(t+o[L]>e){0===r&&(t=e);break}t+=o[L]}return t},es=()=>{ei(-1*ea())},eu=()=>{ei(ea())},[ec,{onChange:ed,...ep}]=(0,CO.default)("scrollbar",{className:(0,cT.default)(F.scrollableX,F.hideScrollbar),elementType:Mh,shouldForwardComponentProp:!0,externalForwardedProps:en,ownerState:z}),eh=g.useCallback(e=>{null==ed||ed(e),Q({overflow:null,scrollbarWidth:e})},[ed]),[ef,em]=(0,CO.default)("scrollButtons",{className:(0,cT.default)(F.scrollButtons,k.className),elementType:Mt,externalForwardedProps:en,ownerState:z,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:x.startScrollButtonIcon||x.StartScrollButtonIcon,EndScrollButtonIcon:x.endScrollButtonIcon||x.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:H,endScrollButtonIcon:B}}}),eg=(0,ko.default)(e=>{let{tabsMeta:t,tabMeta:n}=er();n&&t&&(n[D]<t[D]?el(t[N]+(n[D]-t[D]),{animation:e}):n[A]>t[A]&&el(t[N]+(n[A]-t[A]),{animation:e}))}),ev=(0,ko.default)(()=>{O&&!1!==y&&X(!J)});g.useEffect(()=>{let e,t,n=(0,k5.default)(()=>{ee.current&&eo()}),r=(0,Ml.default)(ee.current);return r.addEventListener("resize",n),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(n),Array.from(et.current.children).forEach(t=>{e.observe(t)})),"undefined"!=typeof MutationObserver&&(t=new MutationObserver(t=>{t.forEach(t=>{t.removedNodes.forEach(t=>{null==e||e.unobserve(t)}),t.addedNodes.forEach(t=>{null==e||e.observe(t)})}),n(),ev()})).observe(et.current,{childList:!0}),()=>{n.clear(),r.removeEventListener("resize",n),null==t||t.disconnect(),null==e||e.disconnect()}},[eo,ev]),g.useEffect(()=>{let e=Array.from(et.current.children),t=e.length;if("undefined"!=typeof IntersectionObserver&&t>0&&O&&!1!==y){let n=e[0],r=e[t-1],o={root:ee.current,threshold:.99},l=new IntersectionObserver(e=>{q(!e[0].isIntersecting)},o);l.observe(n);let i=new IntersectionObserver(e=>{$(!e[0].isIntersecting)},o);return i.observe(r),()=>{l.disconnect(),i.disconnect()}}},[O,y,J,null==c?void 0:c.length]),g.useEffect(()=>{W(!0)},[]),g.useEffect(()=>{eo()}),g.useEffect(()=>{eg(Mf!==G)},[eg,G]),g.useImperativeHandle(s,()=>({updateIndicator:eo,updateScrollButtons:ev}),[eo,ev]);let[eb,ey]=(0,CO.default)("indicator",{className:(0,cT.default)(F.indicator,S.className),elementType:Mp,externalForwardedProps:en,ownerState:z,additionalProps:{style:G}}),ew=(0,a.jsx)(eb,{...ey}),ex=0,eC=g.Children.map(c,e=>{if(!g.isValidElement(e))return null;let t=void 0===e.props.value?ex:e.props.value;Z.set(t,ex);let n=t===R;return ex+=1,g.cloneElement(e,{fullWidth:"fullWidth"===E,indicator:n&&!V&&ew,selected:n,selectionFollowsFocus:w,onChange:m,textColor:M,value:t,...1===ex&&!1===R&&!e.props.tabIndex?{tabIndex:0}:{}})}),eS=(()=>{let e={};e.scrollbarSizeListener=O?(0,a.jsx)(ec,{...ep,onChange:eh}):null;let t=O&&("auto"===y&&(_||K)||!0===y);return e.scrollButtonStart=t?(0,a.jsx)(ef,{direction:o?"right":"left",onClick:es,disabled:!_,...em}):null,e.scrollButtonEnd=t?(0,a.jsx)(ef,{direction:o?"left":"right",onClick:eu,disabled:!K,...em}):null,e})(),[ek,eM]=(0,CO.default)("root",{ref:t,className:(0,cT.default)(F.root,d),elementType:Mu,externalForwardedProps:{...en,...I,component:p},ownerState:z}),[eR,eE]=(0,CO.default)("scroller",{ref:ee,className:F.scroller,elementType:Mc,externalForwardedProps:en,ownerState:z,additionalProps:{style:{overflow:Y.overflow,[P?"margin".concat(o?"Left":"Right"):"marginBottom"]:T?void 0:-Y.scrollbarWidth}}}),[eT,eI]=(0,CO.default)("list",{ref:et,className:(0,cT.default)(F.list,F.flexContainer),elementType:Md,externalForwardedProps:en,ownerState:z,getSlotProps:e=>({...e,onKeyDown:t=>{var n;(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;let t=et.current,n=(0,Mo.default)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===v?"ArrowLeft":"ArrowUp",l="horizontal"===v?"ArrowRight":"ArrowDown";switch("horizontal"===v&&o&&(r="ArrowRight",l="ArrowLeft"),e.key){case r:e.preventDefault(),Ms(t,n,Ma);break;case l:e.preventDefault(),Ms(t,n,Mi);break;case"Home":e.preventDefault(),Ms(t,null,Mi);break;case"End":e.preventDefault(),Ms(t,null,Ma)}})(t),null==(n=e.onKeyDown)||n.call(e,t)}})});return(0,a.jsxs)(ek,{...eM,children:[eS.scrollButtonStart,eS.scrollbarSizeListener,(0,a.jsxs)(eR,{...eE,children:[(0,a.jsx)(eT,{"aria-label":l,"aria-labelledby":i,"aria-orientation":"vertical"===v?"vertical":null,role:"tablist",...eI,children:eC}),V&&ew]}),eS.scrollButtonEnd]})});function Mg(e){return(0,Cl.default)("MuiTab",e)}let Mv=(0,Co.default)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Mb=(0,cL.styled)(C0.default,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,Cm.default)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{["& .".concat(Mv.iconWrapper)]:t.iconWrapper},{["& .".concat(Mv.icon)]:t.icon}]}})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{["& > .".concat(Mv.icon)]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{["& > .".concat(Mv.icon)]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{["& > .".concat(Mv.icon)]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{["& > .".concat(Mv.icon)]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,["&.".concat(Mv.selected)]:{opacity:1},["&.".concat(Mv.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(Mv.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(Mv.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(Mv.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(Mv.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]}})),My=g.forwardRef(function(e,t){let n=(0,Cd.useDefaultProps)({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:l=!1,fullWidth:i,icon:s,iconPosition:u="top",indicator:c,label:d,onChange:p,onClick:h,onFocus:f,selected:m,selectionFollowsFocus:v,textColor:b="inherit",value:y,wrapped:w=!1,...x}=n,C={...n,disabled:o,disableFocusRipple:l,selected:m,icon:!!s,iconPosition:u,label:!!d,fullWidth:i,textColor:b,wrapped:w},S=(e=>{let{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:l,label:i,selected:a,disabled:s}=e,u={root:["root",l&&i&&"labelIcon","textColor".concat((0,Cm.default)(n)),r&&"fullWidth",o&&"wrapped",a&&"selected",s&&"disabled"],icon:["iconWrapper","icon"]};return(0,w3.default)(u,Mg,t)})(C),k=s&&d&&g.isValidElement(s)?g.cloneElement(s,{className:(0,cT.default)(S.icon,s.props.className)}):s;return(0,a.jsxs)(Mb,{focusRipple:!l,className:(0,cT.default)(S.root,r),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&p&&p(e,y),h&&h(e)},onFocus:e=>{v&&!m&&p&&p(e,y),f&&f(e)},ownerState:C,tabIndex:m?0:-1,...x,children:["top"===u||"start"===u?(0,a.jsxs)(g.Fragment,{children:[k,d]}):(0,a.jsxs)(g.Fragment,{children:[d,k]}),c]})});var Mw=e.i(912678);function Mx(e){return(0,Cl.default)("MuiToggleButton",e)}let MC=(0,Co.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),MS=g.createContext({}),Mk=g.createContext(void 0),MM=(0,cL.styled)(C0.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["size".concat((0,Cm.default)(n.size))]]}})((0,Cf.default)(e=>{let{theme:t}=e;return{...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:"1px solid ".concat((t.vars||t).palette.divider),color:(t.vars||t).palette.action.active,["&.".concat(MC.disabled)]:{color:(t.vars||t).palette.action.disabled,border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{["&.".concat(MC.selected)]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter((0,CU.default)()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(MC.selected)]:{color:(t.vars||t).palette[n].main,backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[n].main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.selectedOpacity)}}}}}}),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}})),MR=g.forwardRef(function(e,t){var n;let{value:r,...o}=g.useContext(MS),l=g.useContext(Mk),i=(0,Mw.default)({...o,selected:(n=e.value,void 0!==r&&void 0!==n&&(Array.isArray(r)?r.includes(n):n===r))},e),s=(0,Cd.useDefaultProps)({props:i,name:"MuiToggleButton"}),{children:u,className:c,color:d="standard",disabled:p=!1,disableFocusRipple:h=!1,fullWidth:f=!1,onChange:m,onClick:v,selected:b,size:y="medium",value:w,...x}=s,C={...s,color:d,disabled:p,disableFocusRipple:h,fullWidth:f,size:y},S=(e=>{let{classes:t,fullWidth:n,selected:r,disabled:o,size:l,color:i}=e,a={root:["root",r&&"selected",o&&"disabled",n&&"fullWidth","size".concat((0,Cm.default)(l)),i]};return(0,w3.default)(a,Mx,t)})(C);return(0,a.jsx)(MM,{className:(0,cT.default)(o.className,S.root,c,l||""),disabled:p,focusRipple:!h,ref:t,onClick:e=>{v&&(v(e,w),e.defaultPrevented)||m&&m(e,w)},onChange:m,value:w,ownerState:C,"aria-pressed":b,...x,children:u})}),ME=ce.default,MT=ME((0,a.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),MI=ME((0,a.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),MO=ME((0,a.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),MP=ME((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),MN=ME((0,a.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),MD=ME((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),MA=ME((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ME((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),ME((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");let ML=ME((0,a.jsx)("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"}),"ColumnIcon"),Mj=ME((0,a.jsx)("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),Mz=ME((0,a.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),MF=ME((0,a.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),MH=ME((0,a.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),MB=ME((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),MV=ME((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),MW=ME((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),MG=ME((0,a.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),MU=ME((0,a.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),M_=ME((0,a.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Mq=ME((0,a.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),MK=ME((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),M$=ME((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),MJ=ME((0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),MX=ME((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Clear");ME((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");let MY=ME((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),MQ=ME((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),MZ=["sortingOrder"],M0=g.memo(function(e){let{sortingOrder:t}=e,n=(0,cE.default)(e,MZ),r=dt(),[o]=t,l="asc"===o?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return l?(0,a.jsx)(l,(0,cS.default)({},n)):null}),M1=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],M2=["onRowsPerPageChange","material","disabled"],M5=["material"],M3=["autoFocus","label","fullWidth","slotProps","className","material"],M4=["material"],M9=["material"],M6=["material"],M7=["material"],M8=["material"],Re=["material"],Rt=["material"],Rn=["material"],Rr=["material"],Ro=["material","label","className"],Rl=["material"],Ri=["inert","iconStart","iconEnd","children","material"],Ra=["slotProps","material"],Rs=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],Ru=["key"],Rc=["inputProps","InputProps","InputLabelProps"],Rd=["slotProps","material"],Rp=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],Rh=["native"],Rf=["children","value","active"],Rm=["items","value","material"],Rg=(0,cL.styled)(S8)(e=>{let{theme:t}=e;return{["&.".concat(S6.positionEnd," .").concat(S3.default.sizeSmall)]:{marginRight:t.spacing(-.75)}}}),Rv=(0,cL.styled)(S$,{shouldForwardProp:e=>"fullWidth"!==e})(e=>{let{theme:t}=e;return{gap:t.spacing(.5),margin:0,overflow:"hidden",["& .".concat(SU.label)]:{fontSize:t.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]}}),Rb=(0,cL.styled)(Sl,{shouldForwardProp:e=>"density"!==e})(e=>{let{theme:t}=e;return{variants:[{props:{density:"compact"},style:{padding:t.spacing(.5)}}]}}),Ry=(0,cL.styled)(Sj.default)({["& .".concat(Sz.listItemTextClasses.primary)]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),Rw=cR(function(e,t){let{id:n,label:r,labelId:o,material:l,disabled:i,slotProps:s,onChange:u,onKeyDown:c,onOpen:d,onClose:p,size:h,style:f,fullWidth:m}=e,g=(0,cE.default)(e,M1),v={PaperProps:{onKeyDown:c}};return p&&(v.onClose=p),(0,a.jsxs)(SV.default,{size:h,fullWidth:m,style:f,disabled:i,ref:t,children:[(0,a.jsx)(k_.default,{id:o,htmlFor:n,shrink:!0,variant:"outlined",children:r}),(0,a.jsx)(SJ.default,(0,cS.default)({id:n,labelId:o,label:r,displayEmpty:!0,onChange:u,variant:"outlined"},g,{notched:!0,inputProps:null==s?void 0:s.htmlInput,onOpen:d,MenuProps:v,size:h},l))]})}),Rx=(0,cL.styled)(kW)(e=>{let{theme:t}=e;return{["& .".concat(kN.selectLabel)]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},["& .".concat(kN.input)]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}}}),RC=cR(function(e,t){let{onRowsPerPageChange:n,material:r,disabled:o}=e,l=(0,cE.default)(e,M2),i=g.useMemo(()=>{if(o)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[o]),s=dq(),{estimatedRowCount:u}=dt();return(0,a.jsx)(Rx,(0,cS.default)({component:"div",onRowsPerPageChange:pg(e=>{null==n||n(Number(e.target.value))}),labelRowsPerPage:s.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:e=>s.current.getLocaleText("paginationDisplayedRows")((0,cS.default)({},e,{estimated:u})),getItemAriaLabel:s.current.getLocaleText("paginationItemAriaLabel")},i,l,r,{ref:t}))}),RS=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M5);return(0,a.jsx)(CX,(0,cS.default)({},r,n,{ref:t}))}),Rk=cR(function(e,t){let{autoFocus:n,label:r,fullWidth:o,slotProps:l,className:i,material:s}=e,u=(0,cE.default)(e,M3),c=g.useRef(null),d=cI(c,t),p=g.useRef(null);return(g.useEffect(()=>{if(n){var e;let t=null==(e=c.current)?void 0:e.querySelector("input");null==t||t.focus({preventScroll:!0})}else!1===n&&p.current&&p.current.stop({})},[n]),r)?(0,a.jsx)(Rv,{className:i,control:(0,a.jsx)(Rb,(0,cS.default)({},u,s,{inputProps:null==l?void 0:l.htmlInput,ref:d,touchRippleRef:p})),label:r,fullWidth:o}):(0,a.jsx)(Rb,(0,cS.default)({},u,s,{className:(0,cT.default)(i,null==s?void 0:s.className),inputProps:null==l?void 0:l.htmlInput,ref:d,touchRippleRef:p}))}),RM=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M4);return(0,a.jsx)(Si.default,(0,cS.default)({},r,n,{ref:t}))}),RR=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M9);return(0,a.jsx)(Sc,(0,cS.default)({},r,n,{ref:t}))}),RE=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M6);return(0,a.jsx)(SP,(0,cS.default)({},r,n,{ref:t}))}),RT=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M7);return(0,a.jsx)(S5.default,(0,cS.default)({},r,n,{ref:t}))}),RI=(0,cL.styled)(MR)(e=>{let{theme:t}=e;return{gap:t.spacing(1),border:0}}),RO=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,M8);return(0,a.jsx)(RI,(0,cS.default)({size:"small",color:"primary"},r,n,{ref:t}))}),RP=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,Re);return(0,a.jsx)(Cx.default,(0,cS.default)({},r,n,{ref:t}))}),RN=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,Rt);return(0,a.jsx)(Cw.default,(0,cS.default)({},r,n,{ref:t}))}),RD=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,Rn);return(0,a.jsx)(kg,(0,cS.default)({},r,n,{ref:t}))}),RA=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,Rr);return(0,a.jsx)(k2,(0,cS.default)({},r,n,{ref:t}))}),RL=cR(function(e,t){let{material:n,label:r,className:o}=e,l=(0,cE.default)(e,Ro);return r?(0,a.jsx)(Rv,{className:o,control:(0,a.jsx)(S2,(0,cS.default)({},l,n,{ref:t})),label:r}):(0,a.jsx)(S2,(0,cS.default)({},l,n,{className:o,ref:t}))}),Rj=cR(function(e,t){let{material:n}=e,r=(0,cE.default)(e,Rl);return(0,a.jsx)(SF.default,(0,cS.default)({},r,n,{ref:t}))});function Rz(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return;let{slotProps:n,material:r}=e,o=(0,cE.default)(e,Rd);for(let e in t&&(o.startAdornment&&(o.startAdornment=(0,a.jsx)(Rg,{position:"start",children:o.startAdornment})),o.endAdornment&&(o.endAdornment=(0,a.jsx)(Rg,{position:"end",children:o.endAdornment}))),r)Object.hasOwn(r,e)&&(o[e]=r[e]);return(null==n?void 0:n.htmlInput)&&(o.inputProps?o.inputProps=(0,cS.default)({},o.inputProps,null==n?void 0:n.htmlInput):o.inputProps=null==n?void 0:n.htmlInput),o}let RF={"bottom-start":"top left","bottom-end":"top right"};function RH(e,t){return void 0===e.onClickAway?t:(0,a.jsx)(kU,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function RB(e,t){return void 0===e.focusTrap?t:(0,a.jsx)(Sp.default,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:(0,a.jsx)("div",{tabIndex:-1,children:t})})}let RV=(0,cL.styled)(Mm,{name:"MuiDataGrid",slot:"Tabs"})(e=>{let{theme:t}=e;return{borderBottom:"1px solid ".concat(t.palette.divider)}}),RW=(0,cL.styled)(My,{name:"MuiDataGrid",slot:"Tab"})({flex:1,minWidth:"fit-content"}),RG=(0,cL.styled)("div",{name:"MuiDataGrid",slot:"TabPanel"})({flex:1,display:"flex",flexDirection:"column",overflow:"hidden"});function RU(e){let{children:t,active:n}=e,r=(0,cE.default)(e,Rf);return(0,a.jsx)(RG,(0,cS.default)({role:"tabpanel",style:{display:n?"flex":"none"}},r,{children:t}))}let R_=(0,cS.default)({},{baseAutocomplete:function(e){let t=dt(),{id:n,multiple:r,freeSolo:o,options:l,getOptionLabel:i,isOptionEqualToValue:s,value:u,onChange:c,label:d,placeholder:p,slotProps:h,material:f}=e,m=(0,cE.default)(e,Rs);return(0,a.jsx)(CW,(0,cS.default)({id:n,multiple:r,freeSolo:o,options:l,getOptionLabel:i,isOptionEqualToValue:s,value:u,onChange:c,renderTags:(e,t)=>e.map((e,n)=>{let r=t({index:n}),{key:o}=r,l=(0,cE.default)(r,Ru);return(0,a.jsx)(Cx.default,(0,cS.default)({variant:"outlined",size:"small",label:"string"==typeof e?e:null==i?void 0:i(e)},l),o)}),renderInput:e=>{var n;let{inputProps:r,InputProps:o,InputLabelProps:l}=e,i=(0,cE.default)(e,Rc);return(0,a.jsx)(SB.default,(0,cS.default)({},i,{label:d,placeholder:p,inputProps:r,InputProps:Rz(o,!1),InputLabelProps:(0,cS.default)({shrink:!0},l)},null==h?void 0:h.textField,null==(n=t.slotProps)?void 0:n.baseTextField))}},m,f))},baseBadge:RS,baseCheckbox:Rk,baseChip:RP,baseCircularProgress:RM,baseDivider:RR,baseInput:function(e){return(0,a.jsx)(Sd.default,(0,cS.default)({},Rz(e)))},baseLinearProgress:RE,baseMenuList:Rj,baseMenuItem:function(e){let{inert:t,iconStart:n,iconEnd:r,children:o,material:l}=e,i=(0,cE.default)(e,Ri);return t&&(i.disableRipple=!0),g.createElement(SH.default,(0,cS.default)({},i,l),[n&&(0,a.jsx)(SL,{children:n},"1"),(0,a.jsx)(Ry,{children:o},"2"),r&&(0,a.jsx)(SL,{children:r},"3")])},baseTextField:function(e){let{slotProps:t,material:n}=e,r=(0,cE.default)(e,Ra);return(0,a.jsx)(SB.default,(0,cS.default)({variant:"outlined"},r,n,{inputProps:null==t?void 0:t.htmlInput,InputProps:Rz(null==t?void 0:t.input),InputLabelProps:(0,cS.default)({shrink:!0},null==t?void 0:t.inputLabel)}))},baseButton:RT,baseIconButton:RN,baseToggleButton:RO,baseTooltip:RD,baseTabs:function(e){let{items:t,value:n,material:r}=e,o=(0,cE.default)(e,Rm),l=pG(),i="".concat(l,"-tab-").concat(n),s="".concat(l,"-tabpanel-").concat(n);return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(RV,(0,cS.default)({},o,{value:n,variant:"scrollable",scrollButtons:"auto"},r,{children:t.map(e=>(0,a.jsx)(RW,{value:e.value,label:e.label,id:i,"aria-controls":s},e.value))})),t.map(e=>(0,a.jsx)(RU,{value:e.value,active:n===e.value,id:s,"aria-labelledby":i,children:e.children},e.value))]})},basePagination:RC,basePopper:function(e){var t;let n,{open:r,children:o,className:l,flip:i,onExited:s,onDidShow:u,onDidHide:c,id:d,target:p,transition:h,placement:f,material:m}=e,v=(0,cE.default)(e,Rp),b=g.useMemo(()=>{let e=[{name:"preventOverflow",options:{padding:8}}];return i&&e.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(u||c)&&e.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{null==u||u()},effect:()=>()=>{null==c||c()}}),e},[i,u,c]);return n=h?t=>{var n,r;let l;return RB(r=e,RH(r,(0,a.jsx)(kr.default,(0,cS.default)({},t.TransitionProps,{style:{transformOrigin:RF[t.placement]},onExited:(l=null==(n=t.TransitionProps)?void 0:n.onExited,e=>{l&&l(),s&&s(e)}),children:(0,a.jsx)(Cy.default,{children:o})}))))}:RB(t=e,RH(t,o)),(0,a.jsx)(Ch,(0,cS.default)({id:d,className:l,open:r,anchorEl:p,transition:h,placement:f,modifiers:b},v,m,{children:n}))},baseSelect:Rw,baseSelectOption:function(e){let{native:t}=e,n=(0,cE.default)(e,Rh);return t?(0,a.jsx)("option",(0,cS.default)({},n)):(0,a.jsx)(SH.default,(0,cS.default)({},n))},baseSkeleton:RA,baseSwitch:RL},{booleanCellTrueIcon:Mq,booleanCellFalseIcon:MV,columnMenuIcon:MB,openFilterButtonIcon:MN,filterPanelDeleteIcon:MV,columnFilteredIcon:MD,columnSelectorIcon:ML,columnUnsortedIcon:M0,columnSortedAscendingIcon:MT,columnSortedDescendingIcon:MI,columnResizeIcon:Mj,densityCompactIcon:Mz,densityStandardIcon:MF,densityComfortableIcon:MH,exportIcon:MQ,moreActionsIcon:MK,treeDataCollapseIcon:MP,treeDataExpandIcon:MO,groupingCriteriaCollapseIcon:MP,groupingCriteriaExpandIcon:MO,detailPanelExpandIcon:MW,detailPanelCollapseIcon:MG,rowReorderIcon:M_,quickFilterIcon:MA,quickFilterClearIcon:MX,columnMenuHideIcon:M$,columnMenuSortAscendingIcon:MT,columnMenuSortDescendingIcon:MI,columnMenuUnsortIcon:null,columnMenuFilterIcon:MD,columnMenuManageColumnsIcon:MJ,columnMenuClearIcon:MX,loadIcon:MU,filterPanelAddIcon:MW,filterPanelRemoveAllIcon:MY,columnReorderIcon:M_,menuItemCheckIcon:Mq});var dQ=dQ;let Rq=(0,dQ.default)("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});var dQ=dQ,dQ=dQ;function RK(e,t,n){var r,o;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"function"==typeof t?t(n,l):t?(t.props.className&&(r=t.props.className,o=n.className,n.className=r&&o?"".concat(r," ").concat(o):r||o),(t.props.style||n.style)&&(n.style=(0,cS.default)({},n.style,t.props.style)),g.cloneElement(t,n)):g.createElement(e,n)}let R$=g.createContext(void 0);function RJ(e,t){if(!e.ref.current||!t.ref.current)return 0;let n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}let RX=["render","className"],RY=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:cq.spacing(.25),padding:cq.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:"1px solid ".concat(cq.colors.border.base)}),RQ=cR(function(e,t){let{render:n,className:r}=e,o=(0,cE.default)(e,RX),l=dt(),i=(e=>{let{classes:t}=e;return cP({root:["toolbar"]},cV,t)})(l),[s,u]=g.useState(null),[c,d]=g.useState([]),p=g.useCallback(()=>c.sort(RJ),[c]),h=g.useCallback(function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=e,o=p(),l=o.length;for(let e=0;e<l;e+=1){var i,a;if((r+=t)>=l){if(!n)return -1;r=0}else if(r<0){if(!n)return -1;r=l-1}if(!(null==(i=o[r].ref.current)?void 0:i.disabled)&&(null==(a=o[r].ref.current)?void 0:a.ariaDisabled)!=="true")return r}return -1},[p]),f=g.useCallback((e,t)=>{d(n=>[...n,{id:e,ref:t}])},[]),m=g.useCallback(e=>{d(t=>t.filter(t=>t.id!==e))},[]),v=g.useCallback(e=>{if(!s)return;let t=p(),n=t.findIndex(e=>e.id===s),r=-1;if("ArrowRight"===e.key?(e.preventDefault(),r=h(n,1)):"ArrowLeft"===e.key?(e.preventDefault(),r=h(n,-1)):"Home"===e.key?(e.preventDefault(),r=h(-1,1,!1)):"End"===e.key&&(e.preventDefault(),r=h(t.length,-1,!1)),r>=0&&r<t.length){var o;let e=t[r];u(e.id),null==(o=e.ref.current)||o.focus()}},[p,s,h]),b=g.useCallback(e=>{s!==e&&u(e)},[s,u]),y=g.useCallback(e=>{let t=p(),n=h(t.findIndex(t=>t.id===e),1);if(n>=0&&n<t.length){var r;let e=t[n];u(e.id),null==(r=e.ref.current)||r.focus()}},[p,h]);g.useEffect(()=>{let e=p();if(e.length>0){var t,n;if(!s)return void u(e[0].id);let r=e.findIndex(e=>e.id===s);if(e[r]){if(-1===r){let t=e[r];t&&(u(t.id),null==(n=t.ref.current)||n.focus())}}else{let n=e[e.length-1];n&&(u(n.id),null==(t=n.ref.current)||t.focus())}}},[p,h]);let w=g.useMemo(()=>({focusableItemId:s,registerItem:f,unregisterItem:m,onItemKeyDown:v,onItemFocus:b,onItemDisabled:y}),[s,f,m,v,b,y]),x=RK(RY,n,(0,cS.default)({role:"toolbar","aria-orientation":"horizontal","aria-label":l.label||void 0,className:(0,cT.default)(i.root,r)},o,{ref:t}));return(0,a.jsx)(R$.Provider,{value:w,children:x})}),RZ=["render","onKeyDown","onFocus","disabled","aria-disabled"],R0=cR(function(e,t){var n;let{render:r,onKeyDown:o,onFocus:l,disabled:i,"aria-disabled":s}=e,u=(0,cE.default)(e,RZ),c=pG(),d=dt(),p=g.useRef(null),h=cI(p,t),{focusableItemId:f,registerItem:m,unregisterItem:v,onItemKeyDown:b,onItemFocus:y,onItemDisabled:w}=function(){let e=g.useContext(R$);if(void 0===e)throw Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}();g.useEffect(()=>(m(c,p),()=>v(c)),[]);let x=g.useRef(i);g.useEffect(()=>{x.current!==i&&!0===i&&w(c,i),x.current=i},[i,c,w]);let C=g.useRef(s);g.useEffect(()=>{C.current!==s&&!0===s&&w(c,!0),C.current=s},[s,c,w]);let S=RK(d.slots.baseIconButton,r,(0,cS.default)({},null==(n=d.slotProps)?void 0:n.baseIconButton,{tabIndex:f===c?0:-1},u,{disabled:i,"aria-disabled":s,onKeyDown:e=>{b(e),null==o||o(e)},onFocus:e=>{y(c),null==l||l(e)},ref:h}));return(0,a.jsx)(g.Fragment,{children:S})}),R1=["render","className","onClick","onPointerUp"],R2=cR(function(e,t){var n;let{render:r,className:o,onClick:l,onPointerUp:i}=e,s=(0,cE.default)(e,R1),u=dt(),c=pG(),d=pG(),p=dq(),h=c2(p,dW),f=h.open&&h.openedPanelValue===dU.filters,m={open:f,filterCount:c2(p,f$).length},v="function"==typeof o?o(m):o,{filterPanelTriggerRef:b}=d$(),y=cI(t,b),w=RK(u.slots.baseButton,r,(0,cS.default)({},null==(n=u.slotProps)?void 0:n.baseButton,{id:c,"aria-haspopup":"true","aria-expanded":f?"true":void 0,"aria-controls":f?d:void 0,onClick:e=>{f?p.current.hidePreferences():p.current.showPreferences(dU.filters,d,c),null==l||l(e)},onPointerUp:e=>{f&&e.stopPropagation(),null==i||i(e)},className:v},s,{ref:y}),m);return(0,a.jsx)(g.Fragment,{children:w})}),R5=["render","className","onClick","onPointerUp"],R3=cR(function(e,t){var n;let{render:r,className:o,onClick:l,onPointerUp:i}=e,s=(0,cE.default)(e,R5),u=dt(),c=pG(),d=pG(),p=dq(),h=c2(p,dW),f=h.open&&h.openedPanelValue===dU.columns,m={open:f},v="function"==typeof o?o(m):o,{columnsPanelTriggerRef:b}=d$(),y=cI(t,b),w=RK(u.slots.baseButton,r,(0,cS.default)({},null==(n=u.slotProps)?void 0:n.baseButton,{id:c,"aria-haspopup":"true","aria-expanded":f?"true":void 0,"aria-controls":f?d:void 0,className:v},s,{onPointerUp:e=>{f&&e.stopPropagation(),null==i||i(e)},onClick:e=>{f?p.current.hidePreferences():p.current.showPreferences(dU.columns,d,c),null==l||l(e)},ref:y}),m);return(0,a.jsx)(g.Fragment,{children:w})}),R4=["render","options","onClick"],R9=cR(function(e,t){var n;let{render:r,options:o,onClick:l}=e,i=(0,cE.default)(e,R4),s=dt(),u=dq(),c=RK(s.slots.baseButton,r,(0,cS.default)({},null==(n=s.slotProps)?void 0:n.baseButton,{onClick:e=>{u.current.exportDataAsCsv(o),null==l||l(e)}},i,{ref:t}));return(0,a.jsx)(g.Fragment,{children:c})}),R6=["render","options","onClick"],R7=cR(function(e,t){var n;let{render:r,options:o,onClick:l}=e,i=(0,cE.default)(e,R6),s=dt(),u=dq(),c=RK(s.slots.baseButton,r,(0,cS.default)({},null==(n=s.slotProps)?void 0:n.baseButton,{onClick:e=>{u.current.exportDataAsPrint(o),null==l||l(e)}},i,{ref:t}));return(0,a.jsx)(g.Fragment,{children:c})});var dQ=dQ;let R8=g.createContext(void 0);function Ee(){let e=g.useContext(R8);if(void 0===e)throw Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}let Et=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],En=e=>e.split(" ").filter(e=>""!==e),Er=e=>e.join(" ");function Eo(e){let t=dt(),{render:n,className:r,parser:o=En,formatter:l=Er,debounceMs:i=t.filterDebounceMs,defaultExpanded:s,expanded:u,onExpandedChange:c}=e,d=(0,cE.default)(e,Et),p=dq(),h=g.useRef(null),f=g.useRef(null),m=c2(p,fz),[v,b]=g.useState(l(null!=m?m:[])),[y,w]=g.useState(null!=s?s:v.length>0),x=null!=u?u:y,C=g.useMemo(()=>({value:v,expanded:x}),[v,x]),S="function"==typeof r?r(C):r,k=g.useRef(null),M=pG(),R=g.useCallback(e=>{c&&c(e),void 0===u&&w(e)},[c,u]),E=g.useRef(m);g.useEffect(()=>{gi(E.current,m)||(E.current=m,b(e=>gi(o(e),m)?e:l(null!=m?m:[])))},[m,l,o]);let T=g.useRef(!0),I=g.useRef(x);g.useEffect(()=>{if(T.current){T.current=!1;return}if(I.current!==x){if(x)requestAnimationFrame(()=>{var e;null==(e=h.current)||e.focus({preventScroll:!0})});else{var e;null==(e=f.current)||e.focus({preventScroll:!0})}I.current=x}},[x]);let O=g.useMemo(()=>bV(e=>{let t=o(e);E.current=t,p.current.setQuickFilterValues(t)},i),[p,i,o]);g.useEffect(()=>O.clear,[O]);let P=g.useCallback(e=>{let t=e.target.value;b(t),O(t)},[O]),N=g.useCallback(()=>{var e;b(""),p.current.setQuickFilterValues([]),null==(e=h.current)||e.focus()},[p,h]),D=g.useMemo(()=>({controlRef:h,triggerRef:f,state:C,controlId:M,clearValue:N,onValueChange:P,onExpandedChange:R}),[M,C,P,N,R]);pm(()=>{if(k.current&&f.current){var e;k.current.style.setProperty("--trigger-width","".concat(null==(e=f.current)?void 0:e.offsetWidth,"px"))}},[]);let A=RK("div",n,(0,cS.default)({className:S},d,{ref:k}),C);return(0,a.jsx)(R8.Provider,{value:D,children:A})}let El=["render","className","onClick"],Ei=cR(function(e,t){var n;let{render:r,className:o,onClick:l}=e,i=(0,cE.default)(e,El),s=dt(),{state:u,clearValue:c}=Ee(),d="function"==typeof o?o(u):o,p=RK(s.slots.baseIconButton,r,(0,cS.default)({},null==(n=s.slotProps)?void 0:n.baseIconButton,{className:d,tabIndex:-1},i,{onClick:e=>{c(),null==l||l(e)},ref:t}),u);return(0,a.jsx)(g.Fragment,{children:p})}),Ea=["render","className","slotProps","onKeyDown","onChange"],Es=cR(function(e,t){var n;let{render:r,className:o,slotProps:l,onKeyDown:i,onChange:s}=e,u=(0,cE.default)(e,Ea),c=dt(),{state:d,controlId:p,controlRef:h,onValueChange:f,onExpandedChange:m,clearValue:v}=Ee(),b="function"==typeof o?o(d):o,y=cI(h,t),w=RK(c.slots.baseTextField,r,(0,cS.default)({},null==(n=c.slotProps)?void 0:n.baseTextField,{slotProps:(0,cS.default)({htmlInput:(0,cS.default)({role:"searchbox",id:p,tabIndex:d.expanded?void 0:-1},null==l?void 0:l.htmlInput,{onBlur:e=>{var t,n;""===d.value&&m(!1),null==l||null==(n=l.htmlInput)||null==(t=n.onBlur)||t.call(n,e)}})},l),value:d.value,className:b},u,{onChange:e=>{d.expanded||m(!0),f(e),null==s||s(e)},onKeyDown:e=>{"Escape"===e.key&&(""===d.value?m(!1):v()),null==i||i(e)},ref:y}),d);return(0,a.jsx)(g.Fragment,{children:w})}),Eu=["render","className","onClick"],Ec=cR(function(e,t){var n;let{render:r,className:o,onClick:l}=e,i=(0,cE.default)(e,Eu),s=dt(),{state:u,controlId:c,onExpandedChange:d,triggerRef:p}=Ee(),h="function"==typeof o?o(u):o,f=cI(p,t),m=RK(s.slots.baseButton,r,(0,cS.default)({},null==(n=s.slotProps)?void 0:n.baseButton,{className:h,"aria-controls":c,"aria-expanded":u.expanded},i,{onClick:e=>{d(!u.expanded),null==l||l(e)},ref:f}),u);return(0,a.jsx)(g.Fragment,{children:m})}),Ed=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],Ep=["ref","slotProps"],Eh=(0,dQ.default)("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),Ef=(0,dQ.default)(R0,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(e=>{let{ownerState:t}=e;return{gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:+!t.expanded,pointerEvents:t.expanded?"none":"auto",transition:cq.transition(["opacity"])}}),Em=(0,dQ.default)(e=>{throw Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(e=>{let{ownerState:t}=e;return{gridArea:"1 / 1",overflowX:"clip",width:t.expanded?260:"var(--trigger-width)",opacity:+!!t.expanded,transition:cq.transition(["width","opacity"])}});function Eg(e){let t=dq(),n=dt(),r={classes:n.classes,expanded:!1},o=(e=>{let{classes:t}=e;return cP({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},cV,t)})(r),{quickFilterParser:l,quickFilterFormatter:i,debounceMs:s,className:u,slotProps:c}=e,d=(0,cE.default)(e,Ed);return(0,a.jsx)(Eo,{parser:l,formatter:i,debounceMs:s,render:(e,l)=>{let i=(0,cS.default)({},r,{expanded:l.expanded});return(0,a.jsxs)(Eh,(0,cS.default)({},e,{className:(0,cT.default)(o.root,u),children:[(0,a.jsx)(Ec,{render:e=>(0,a.jsx)(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:(0,a.jsx)(Ef,(0,cS.default)({className:o.trigger},e,{ownerState:i,color:"default","aria-disabled":l.expanded,children:(0,a.jsx)(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),(0,a.jsx)(Es,{render:e=>{var r;let{ref:l,slotProps:s}=e,u=(0,cE.default)(e,Ep);return(0,a.jsx)(Em,(0,cS.default)({as:n.slots.baseTextField,className:o.control,ownerState:i,inputRef:l,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:(0,cS.default)({input:(0,cS.default)({startAdornment:(0,a.jsx)(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:u.value?(0,a.jsx)(Ei,{render:(0,a.jsx)(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:(0,a.jsx)(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},null==s?void 0:s.input)},s)},null==(r=n.slotProps)?void 0:r.baseTextField,u,null==c?void 0:c.root,d))}})]}))}})}let Ev=["className"],Eb=["className"],Ey=["showQuickFilter","quickFilterProps","csvOptions","printOptions","additionalItems","additionalExportMenuItems"],Ew=e=>{let{classes:t}=e;return cP({divider:["toolbarDivider"],label:["toolbarLabel"]},cV,t)},Ex=(0,dQ.default)(pO,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:cq.spacing(0,.5)}),EC=(0,dQ.default)("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:cq.typography.font.large,fontWeight:cq.typography.fontWeight.medium,margin:cq.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function ES(e){let t=(0,cE.default)(e,Ev),n=dt(),r=Ew(n);return(0,a.jsx)(Ex,(0,cS.default)({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},t))}function Ek(e){let t=(0,cE.default)(e,Eb),n=Ew(dt());return(0,a.jsx)(EC,(0,cS.default)({className:n.label},t))}let EM=(0,cS.default)({},R_,{cell:wS,skeletonCell:b6,columnHeaderFilterIconButton:function(e){return e.counter?(0,a.jsx)(y5,(0,cS.default)({},e)):null},columnHeaderSortIcon:wb,columnMenu:w2,columnHeaders:wU,detailPanels:function(e){return null},bottomContainer:function(e){let t=cP({root:["bottomContainer"]},cV,{});return(0,a.jsx)(Rq,(0,cS.default)({},e,{className:(0,cT.default)(t.root,cW["container--bottom"]),role:"presentation"}))},footer:yR,footerRowCount:y9,toolbar:function(e){var t,n,r;let{showQuickFilter:o=!0,quickFilterProps:l,csvOptions:i,printOptions:s,additionalItems:u,additionalExportMenuItems:c}=e,d=(0,cE.default)(e,Ey),p=dq(),h=dt(),[f,m]=g.useState(!1),v=g.useRef(null),b=pG(),y=pG(),w=!(null==i?void 0:i.disableToolbarButton)||!(null==s?void 0:s.disableToolbarButton)||c,x=()=>m(!1);return(0,a.jsxs)(RQ,(0,cS.default)({},d,{children:[h.label&&(0,a.jsx)(Ek,{children:h.label}),!h.disableColumnSelector&&(0,a.jsx)(h.slots.baseTooltip,{title:p.current.getLocaleText("toolbarColumns"),children:(0,a.jsx)(R3,{render:(0,a.jsx)(R0,{}),children:(0,a.jsx)(h.slots.columnSelectorIcon,{fontSize:"small"})})}),!h.disableColumnFilter&&(0,a.jsx)(h.slots.baseTooltip,{title:p.current.getLocaleText("toolbarFilters"),children:(0,a.jsx)(R2,{render:(e,t)=>(0,a.jsx)(R0,(0,cS.default)({},e,{color:t.filterCount>0?"primary":"default",children:(0,a.jsx)(h.slots.baseBadge,{badgeContent:t.filterCount,color:"primary",variant:"dot",children:(0,a.jsx)(h.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),u,w&&(!h.disableColumnFilter||!h.disableColumnSelector)&&(0,a.jsx)(ES,{}),w&&(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(h.slots.baseTooltip,{title:p.current.getLocaleText("toolbarExport"),disableInteractive:f,children:(0,a.jsx)(R0,{ref:v,id:y,"aria-controls":b,"aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:()=>m(!f),children:(0,a.jsx)(h.slots.exportIcon,{fontSize:"small"})})}),(0,a.jsx)(fn,{target:v.current,open:f,onClose:x,position:"bottom-end",children:(0,a.jsxs)(h.slots.baseMenuList,(0,cS.default)({id:b,"aria-labelledby":y,autoFocusItem:!0},null==(t=h.slotProps)?void 0:t.baseMenuList,{children:[!(null==s?void 0:s.disableToolbarButton)&&(0,a.jsx)(R7,{render:(0,a.jsx)(h.slots.baseMenuItem,(0,cS.default)({},null==(n=h.slotProps)?void 0:n.baseMenuItem)),options:s,onClick:x,children:p.current.getLocaleText("toolbarExportPrint")}),!(null==i?void 0:i.disableToolbarButton)&&(0,a.jsx)(R9,{render:(0,a.jsx)(h.slots.baseMenuItem,(0,cS.default)({},null==(r=h.slotProps)?void 0:r.baseMenuItem)),options:i,onClick:x,children:p.current.getLocaleText("toolbarExportCSV")}),null==c?void 0:c(x)]}))})]}),o&&(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(ES,{}),(0,a.jsx)(Eg,(0,cS.default)({},l))]})]}))},pinnedRows:function(e){return null},loadingOverlay:yW,noResultsOverlay:w5,noRowsOverlay:yG,noColumnsOverlay:wy,pagination:function(){var e;let t=dq(),n=dt(),r=c2(t,gX),o=c2(t,gY),l=c2(t,g1),{paginationMode:i,loading:s}=n,u=-1===o&&"server"===i&&s,c=g.useMemo(()=>Math.max(0,l-1),[l]),d=g.useMemo(()=>-1===o||r.page<=c?r.page:c,[c,r.page,o]),p=g.useCallback(e=>{t.current.setPageSize(e)},[t]),h=g.useCallback((e,n)=>{t.current.setPage(n)},[t]),f=(e=>{for(let t=0;t<n.pageSizeOptions.length;t+=1){let r=n.pageSizeOptions[t];if("number"==typeof r){if(r===e)return!0}else if(r.value===e)return!0}return!1})(r.pageSize)?n.pageSizeOptions:[];return(0,a.jsx)(yU,(0,cS.default)({as:n.slots.basePagination,count:o,page:d,rowsPerPageOptions:f,rowsPerPage:r.pageSize,onPageChange:h,onRowsPerPageChange:p,disabled:u},null==(e=n.slotProps)?void 0:e.basePagination))},filterPanel:yy,columnsPanel:function(e){var t;let n=dt();return(0,a.jsx)(ye,(0,cS.default)({},e,{children:(0,a.jsx)(n.slots.columnsManagement,(0,cS.default)({},null==(t=n.slotProps)?void 0:t.columnsManagement))}))},columnsManagement:function(e){var t,n,r,o;let l=dq(),i=g.useRef(null),s=c2(l,dN),u=c2(l,dP),c=dt(),[d,p]=g.useState(""),h=(e=>{let{classes:t}=e;return cP({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},cV,t)})(c),f=c2(l,dO),m=c2(l,fY),v=c2(l,fZ),b=g.useMemo(()=>m?Array.from(v.values()):f,[m,v,f]),{sort:y,searchPredicate:w=y7,autoFocusSearchField:x=!0,disableShowHideToggle:C=!1,disableResetButton:S=!1,toggleAllMode:k="all",getTogglableColumns:M,searchInputProps:R,searchDebounceMs:E=c.columnFilterDebounceMs}=e,T=g.useMemo(()=>bV(e=>{p(e)},null!=E?E:150),[E]),I=g.useMemo(()=>((e,t)=>{let n=new Set(Object.keys(e).filter(t=>!1===e[t])),r=new Set(Object.keys(t).filter(e=>!1===t[e]));if(n.size!==r.size)return!1;let o=!0;return n.forEach(e=>{r.has(e)||(o=!1)}),o})(u,s),[u,s]),O=g.useMemo(()=>{switch(y){case"asc":return[...b].sort((e,t)=>wa.compare(e.headerName||e.field,t.headerName||t.field));case"desc":return[...b].sort((e,t)=>-wa.compare(e.headerName||e.field,t.headerName||t.field));default:return b}},[b,y]),P=e=>{let{name:t}=e.target;l.current.setColumnVisibility(t,!1===u[t])},N=g.useMemo(()=>{let e=M?M(O):null,t=e?O.filter(t=>{let{field:n}=t;return e.includes(n)}):O;return d?t.filter(e=>w(e,d.toLowerCase())):t},[O,d,w,M]),D=g.useCallback(e=>{let t=dP(l),n=(0,cS.default)({},t),r=M?M(b):null;return("filteredOnly"===k?N:b).forEach(t=>{t.hideable&&(null==r||r.includes(t.field))&&(e?delete n[t.field]:n[t.field]=!1)}),l.current.setColumnVisibilityModel(n)},[l,b,M,k,N]),A=g.useCallback(e=>{T(e.target.value)},[T]),L=g.useMemo(()=>N.filter(e=>e.hideable),[N]),j=g.useMemo(()=>L.every(e=>null==u[e.field]||!1!==u[e.field]),[u,L]),z=g.useMemo(()=>L.every(e=>!1===u[e.field]),[u,L]),F=g.useRef(null);g.useEffect(()=>{if(x){var e;null==(e=i.current)||e.focus()}else F.current&&"function"==typeof F.current.focus&&F.current.focus()},[x]);let H=!1,B=g.useCallback(()=>{p(""),i.current&&(i.current.value="",i.current.focus())},[]);return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(wc,{className:h.header,ownerState:c,children:(0,a.jsx)(wd,(0,cS.default)({as:c.slots.baseTextField,ownerState:c,placeholder:l.current.getLocaleText("columnsManagementSearchTitle"),inputRef:i,className:h.searchInput,onChange:A,size:"small",type:"search",slotProps:{input:{startAdornment:(0,a.jsx)(c.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:(0,a.jsx)(c.slots.baseIconButton,(0,cS.default)({size:"small","aria-label":l.current.getLocaleText("columnsManagementDeleteIconLabel"),style:d?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:B,edge:"end"},null==(t=c.slotProps)?void 0:t.baseIconButton,{children:(0,a.jsx)(c.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":l.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},null==(n=c.slotProps)?void 0:n.baseTextField,R))}),(0,a.jsx)(wu,{ownerState:c,children:(0,a.jsxs)(ws,{className:h.root,ownerState:c,children:[N.map(e=>{var t;return(0,a.jsx)(wf,(0,cS.default)({as:c.slots.baseCheckbox,className:h.row,disabled:!1===e.hideable||m,checked:!1!==u[e.field],onChange:P,name:e.field,inputRef:!1===H&&!1!==e.hideable&&(H=!0,1)?F:void 0,label:e.headerName||e.field,density:"compact",fullWidth:!0},null==(t=c.slotProps)?void 0:t.baseCheckbox),e.field)}),0===N.length&&(0,a.jsx)(wh,{ownerState:c,children:l.current.getLocaleText("columnsManagementNoColumns")})]})}),C&&S?null:(0,a.jsxs)(wp,{ownerState:c,className:h.footer,children:[C?(0,a.jsx)("span",{}):(0,a.jsx)(c.slots.baseCheckbox,(0,cS.default)({disabled:0===L.length||m,checked:j,indeterminate:!j&&!z,onChange:()=>D(!j),name:l.current.getLocaleText("columnsManagementShowHideAllText"),label:l.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},null==(r=c.slotProps)?void 0:r.baseCheckbox)),S?null:(0,a.jsx)(c.slots.baseButton,(0,cS.default)({onClick:()=>l.current.setColumnVisibilityModel(s),disabled:I||m},null==(o=c.slotProps)?void 0:o.baseButton,{children:l.current.getLocaleText("columnsManagementReset")}))]})]})},panel:yJ,row:yZ}),ER={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1};var EE=e.i(667239);let ET=new TextEncoder,EI=2048,EO=new ArrayBuffer(2048),EP=new Uint8Array(EO),EN=new Int32Array(EO);function ED(e,t){return e<<t|e>>>32-t}function EA(e){return"rgba(from ".concat(e," r g b / ").concat(1,")")}function EL(e){if(!e)return;let t="number"==typeof e.fontSize?"".concat(e.fontSize,"px"):e.fontSize;return"".concat(e.fontWeight," ").concat(t," / ").concat(e.lineHeight," ").concat(e.fontFamily)}class Ej{on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o=this.events[e];if(!o)return;let l=Array.from(o.highPriority.keys()),i=Array.from(o.regular.keys());for(let e=l.length-1;e>=0;e-=1){let t=l[e];o.highPriority.has(t)&&t.apply(this,n)}for(let e=0;e<i.length;e+=1){let t=i[e];o.regular.has(t)&&t.apply(this,n)}}once(e,t){let n=this;this.on(e,function r(){for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];n.removeListener(e,r),t.apply(n,l)})}constructor(){(0,pv._)(this,"maxListeners",20),(0,pv._)(this,"warnOnce",!1),(0,pv._)(this,"events",{})}}let Ez=Symbol("mui.api_private"),EF=0,EH={hooks:{useCSSVariables:function(){let e=(0,bZ.useTheme)();return g.useMemo(()=>({id:function(e){let t=2*e.length;t>EI&&(EP=new Uint8Array(EO=new ArrayBuffer(EI=t+(4-t%4))),EN=new Int32Array(EO));let n=0|ET.encodeInto(e,EP).written,r=0,o=(0+n|0)+0x165667b1|0;if(n<16)for(;(r+3|0)<n;r=r+4|0)o=Math.imul(0|ED(o+Math.imul(0|EN[r],0xc2b2ae3d)|0,17),0x27d4eb2f);else{let e=0x24234428,t=-0x7a143589,l=0,i=0x61c8864f;for(;(r+15|0)<n;r=r+16|0)e=Math.imul(0|ED(e+Math.imul(0|EN[r+0|0],0x85ebca77)|0,13),0x9e3779b1),t=Math.imul(0|ED(t+Math.imul(0|EN[r+4|0],0x85ebca77)|0,13),0x9e3779b1),l=Math.imul(0|ED(l+Math.imul(0|EN[r+8|0],0x85ebca77)|0,13),0x9e3779b1),i=Math.imul(0|ED(i+Math.imul(0|EN[r+12|0],0x85ebca77)|0,13),0x9e3779b1);for(o=(((ED(e,1)|0+ED(t,7))+ED(l,12)|0)+ED(i,18)|0)+n|0;(r+3|0)<n;r=r+4|0)o=Math.imul(0|ED(o+Math.imul(0|EN[r],0xc2b2ae3d)|0,17),0x27d4eb2f)}for(;r<n;r=r+1|0)o=Math.imul(0|ED(o+Math.imul(0|EP[r],0x165667b1)|0,11),0x9e3779b1);return(((o=Math.imul((o=Math.imul(o^o>>>15,0x85ebca77))^o>>>13,0xc2b2ae3d))^o>>>16)>>>0).toString()}(function(e){let t=new WeakSet;return JSON.stringify(e,(e,n)=>{if("undefined"!=typeof window&&n===window||"undefined"!=typeof document&&n===document)return n.toString();if(null!==n&&"object"==typeof n){if(g.isValidElement(n)||t.has(n))return null;t.add(n)}return n})}(e)),variables:function(e){var t,n,r,o,l,i,a,s,u,c,d,p,h,f,m;let g=(f=e).vars?f.vars.palette.TableCell.border:"light"===f.palette.mode?(0,EE.lighten)((0,EE.alpha)(f.palette.divider,1),.88):(0,EE.darken)((0,EE.alpha)(f.palette.divider,1),.68),v=(e.vars||e).palette.DataGrid,b=null!=(a=null==v?void 0:v.bg)?a:"dark"===e.palette.mode?"color-mix(in srgb, ".concat((e.vars||e).palette.background.paper," 95%, #fff)"):(e.vars||e).palette.background.paper,y=null!=(s=null==v?void 0:v.headerBg)?s:b,w=null!=(u=null==v?void 0:v.pinnedBg)?u:b,x=e.vars?"rgba(".concat(e.vars.palette.background.defaultChannel," / ").concat(e.vars.palette.action.disabledOpacity,")"):(0,EE.alpha)(e.palette.background.default,e.palette.action.disabledOpacity),C="dark"===e.palette.mode?"color-mix(in srgb, ".concat((e.vars||e).palette.background.paper," 90%, #fff)"):(e.vars||e).palette.background.paper,S=e.vars?"rgb(".concat(e.vars.palette.primary.mainChannel,")"):e.palette.primary.main,k=(m=e).vars?m.vars.shape.borderRadius:"number"==typeof m.shape.borderRadius?"".concat(m.shape.borderRadius,"px"):m.shape.borderRadius,M=null!=(c=null==(n=e.vars)||null==(t=n.font)?void 0:t.body2)?c:EL(e.typography.body2),R=null!=(d=null==(o=e.vars)||null==(r=o.font)?void 0:r.caption)?d:EL(e.typography.caption),E=null!=(p=null==(i=e.vars)||null==(l=i.font)?void 0:l.body1)?p:EL(e.typography.body1),T=cq.keys;return{[T.spacingUnit]:e.vars&&null!=(h=e.vars.spacing)?h:e.spacing(1),[T.colors.border.base]:g,[T.colors.background.base]:b,[T.colors.background.overlay]:C,[T.colors.background.backdrop]:x,[T.colors.foreground.base]:(e.vars||e).palette.text.primary,[T.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[T.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[T.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[T.colors.foreground.error]:(e.vars||e).palette.error.dark,[T.colors.interactive.hover]:(e.vars||e).palette.action.hover,[T.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[T.colors.interactive.focus]:EA((e.vars||e).palette.primary.main),[T.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[T.colors.interactive.disabled]:EA((e.vars||e).palette.action.disabled),[T.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[T.colors.interactive.selected]:S,[T.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[T.header.background.base]:y,[T.cell.background.pinned]:w,[T.radius.base]:k,[T.typography.fontFamily.base]:e.typography.fontFamily,[T.typography.fontWeight.light]:e.typography.fontWeightLight,[T.typography.fontWeight.regular]:e.typography.fontWeightRegular,[T.typography.fontWeight.medium]:e.typography.fontWeightMedium,[T.typography.fontWeight.bold]:e.typography.fontWeightBold,[T.typography.font.body]:M,[T.typography.font.small]:R,[T.typography.font.large]:E,[T.transitions.easing.easeIn]:e.transitions.easing.easeIn,[T.transitions.easing.easeOut]:e.transitions.easing.easeOut,[T.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[T.transitions.duration.short]:"".concat(e.transitions.duration.shorter,"ms"),[T.transitions.duration.base]:"".concat(e.transitions.duration.short,"ms"),[T.transitions.duration.long]:"".concat(e.transitions.duration.standard,"ms"),[T.shadows.base]:(e.vars||e).shadows[2],[T.shadows.overlay]:(e.vars||e).shadows[8],[T.zIndex.panel]:(e.vars||e).zIndex.modal,[T.zIndex.menu]:(e.vars||e).zIndex.modal}}(e)}),[e])},useGridAriaAttributes:()=>{let e=c3(),t=dt(),n=c2(e,dD),r=c2(e,f_),o=c2(e,fm),l=c2(e,pf),i=t["aria-label"],a=t["aria-labelledby"];return{role:"grid","aria-label":i||a||!t.label?i:t.label,"aria-labelledby":a,"aria-colcount":n.length,"aria-rowcount":o+1+l+r,"aria-multiselectable":mG(t)}},useGridRowAriaAttributes:()=>{let e=c3(),t=c2(e,fm);return g.useCallback((n,r)=>{let o={};return o["aria-rowindex"]=r+t+2,n&&e.current.isRowSelectable(n.id)&&(o["aria-selected"]=e.current.isRowSelected(n.id)),o},[e,t])},useGridRowsOverridableMethods:e=>({setRowIndex:g.useCallback((t,n)=>{let r=pi(e,t);if(!r)throw Error("MUI X: No row with id #".concat(t," found."));if(r.parent!==hv)throw Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==r.type)throw Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(r=>{let o=pl(e)[hv],l=o.children,i=l.findIndex(e=>e===t);if(-1===i||i===n)return r;let a=[...l];return a.splice(n,0,a.splice(i,1)[0]),(0,cS.default)({},r,{rows:(0,cS.default)({},r.rows,{tree:(0,cS.default)({},r.rows.tree,{[hv]:(0,cS.default)({},o,{children:a})})})})}),e.current.publishEvent("rowsSet")},[e])}),useGridParamsOverridableMethods:e=>{let t=g.useCallback((t,n)=>{let r=e.current.getColumn(n),o=e.current.getRow(t);if(!o)throw Error("No row with id #".concat(t," found"));return r&&r.valueGetter?r.valueGetter(o[r.field],o,r,e):o[n]},[e]),n=g.useCallback((t,n)=>((e,t,n)=>{let r=t.field;if(!t||!t.valueGetter)return e[r];let o=e[t.field];return t.valueGetter(o,e,t,n)})(t,n,e),[e]),r=g.useCallback((t,r)=>{let o=n(t,r);return r&&r.valueFormatter?r.valueFormatter(o,t,r,e):o},[e,n]);return{getCellValue:t,getRowValue:n,getRowFormattedValue:r}},useCellAggregationResult:()=>null,useFilterValueGetter:e=>e.current.getRowValue}},EB=function(e,n){var r,o,l,i,s,u,c,d,p,h,f;let m=(e=>{let t=(0,bZ.useTheme)(),n=g.useMemo(()=>(0,b0.default)({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),r=g.useMemo(()=>(0,cS.default)({},b1,n.localeText),[n.localeText]),o=g.useMemo(()=>(function(e){let{defaultSlots:t,slots:n}=e;if(!n||0===Object.keys(n).length)return t;let r=(0,cS.default)({},t);return Object.keys(n).forEach(e=>{void 0!==n[e]&&(r[e]=n[e])}),r})({defaultSlots:EM,slots:n.slots}),[n.slots]),l=g.useMemo(()=>Object.keys(vr).reduce((e,t)=>{var r;return e[t]=null!=(r=n[t])?r:vr[t],e},{}),[n]);return g.useMemo(()=>(0,cS.default)({},n,l,{localeText:r,slots:o},(0,cS.default)({},ER,n.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{})),[n,r,o,l])})(e),v=function(e,t){var n,r;let o=g.useRef(null),l=g.useRef(null);l.current||(l.current=function(e){var t;let n=null==(t=e.current)?void 0:t[Ez];if(n)return n;let r={},o={state:r,store:gn.create(r),instanceId:{id:EF}};return EF+=1,o.getPublicApi=()=>e.current,o.register=(t,n)=>{Object.keys(n).forEach(r=>{let l=n[r],i=o[r];if((null==i?void 0:i.spying)===!0?i.target=l:o[r]=l,"public"===t){let t=e.current,n=t[r];(null==n?void 0:n.spying)===!0?n.target=l:t[r]=l}})},o.register("private",{caches:{},eventManager:new Ej}),o}(o)),o.current||(o.current={get state(){return r.current.state},get store(){return r.current.store},get instanceId(){return r.current.instanceId},[Ez]:(r=l).current});let i=g.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let[o,i,a={}]=n;if(a.defaultMuiPrevented=!1,void 0!==a.isPropagationStopped&&a.isPropagationStopped())return;let s=t.signature===mD.DataGridPro||t.signature===mD.DataGridPremium?{api:l.current.getPublicApi()}:{};l.current.eventManager.emit(o,i,a,s)},[l,t.signature]),a=g.useCallback((e,t,n)=>{l.current.eventManager.on(e,t,n);let r=l.current;return()=>{r.eventManager.removeListener(e,t)}},[l]);return mK(l,{subscribeEvent:a,publishEvent:i},"public"),!e||(null==(n=e.current)?void 0:n.state)||(e.current=o.current),g.useImperativeHandle(e,()=>o.current,[o]),g.useEffect(()=>{let e=l.current;return()=>{e.publishEvent("unmount")}},[l]),l}(m.apiRef,m);return o=v,l=m,(e=>{let t=g.useRef(null),n=g.useRef(null),r=g.useRef(null),o=g.useRef(null),l=g.useRef(null),i=g.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:l,columnHeadersContainerRef:i})})(o),i=o,s=l,g.useEffect(()=>{i.current.setState(e=>(0,cS.default)({},e,{props:{listView:s.listView,getRowId:s.getRowId,isCellEditable:s.isCellEditable}}))},[i,s.listView,s.getRowId,s.isCellEditable]),(e=>{let t=(0,h4.useRtl)();void 0===e.current.state.isRtl&&(e.current.state.isRtl=t);let n=g.useRef(!0);g.useEffect(()=>{n.current?n.current=!1:e.current.setState(e=>(0,cS.default)({},e,{isRtl:t}))},[e,t])})(o),u=o,c=l,mK(u,{getLogger:g.useCallback(e=>m$?mQ(e,"debug",c.logger):c.logLevel?mQ(e,c.logLevel.toString(),c.logger):mX,[c.logLevel,c.logger])},"private"),(e=>{let t=g.useRef({}),n=g.useCallback(e=>{t.current[e.stateId]=e},[]),r=g.useCallback((n,r)=>{let o;if(o="function"==typeof n?n(e.current.state):n,e.current.state===o)return!1;let l={current:{state:o}},i=!1,a=[];if(Object.keys(t.current).forEach(n=>{let r=t.current[n],o=r.stateSelector(e),s=r.stateSelector(l);s!==o&&(a.push({stateId:r.stateId,hasPropChanged:s!==r.propModel}),void 0!==r.propModel&&s!==r.propModel&&(i=!0))}),a.length>1)throw Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(a[0].stateId,", therefore, you're not allowed to update ").concat(a.map(e=>e.stateId).join(", ")," in the same transaction."));if(i||(e.current.state=o,e.current.publishEvent("stateChange",o),e.current.store.update(o)),1===a.length){let{stateId:n,hasPropChanged:o}=a[0],s=t.current[n],u=s.stateSelector(l);s.propOnChange&&o&&s.propOnChange(u,{reason:r,api:e.current}),i||e.current.publishEvent(s.changeEvent,u,{reason:r})}return!i},[e]),o=g.useCallback((t,n,r)=>e.current.setState(e=>(0,cS.default)({},e,{[t]:n(e[t])}),r),[e]);mK(e,{setState:r},"public"),mK(e,{updateControlState:o,registerControlState:n},"private")})(o),(e=>{let t=g.useRef({}),n=g.useRef(!1),r=g.useCallback(e=>{!n.current&&e&&(n.current=!0,Object.values(e.appliers).forEach(e=>{e()}),n.current=!1)},[]),o=g.useCallback((e,n,r)=>{t.current[e]||(t.current[e]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});let o=t.current[e];return o.processors.get(n)!==r&&(o.processors.set(n,r),o.processorsAsArray=Array.from(t.current[e].processors.values()).filter(e=>null!==e),o.processorsUpdated=!0),()=>{t.current[e].processors.set(n,null),t.current[e].processorsAsArray=Array.from(t.current[e].processors.values()).filter(e=>null!==e)}},[]),l=g.useCallback((e,n,r)=>(t.current[e]||(t.current[e]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[e].appliers[n]=r,()=>{let r=t.current[e].appliers,o=(0,cE.default)(r,[n].map(mZ.default));t.current[e].appliers=o}),[]),i=g.useCallback(e=>{r(t.current[e])},[r]),a=g.useCallback(()=>{for(let e in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,e))continue;let n=t.current[e];n.processorsUpdated&&(n.processorsUpdated=!1,r(n))}},[r]),s=g.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let[o,l,i]=n;if(!t.current[o])return l;let a=t.current[o].processorsAsArray,s=l;for(let e=0;e<a.length;e+=1)s=a[e](s,i);return s},[]);mK(e,{registerPipeProcessor:o,registerPipeApplier:l,requestPipeProcessorsApplication:i,runAppliersForPendingProcessors:a},"private"),mK(e,{unstable_applyPipeProcessors:s},"public")})(o),(e=>{let t=g.useRef(new Map),n=g.useRef({}),r=g.useCallback((t,r,o)=>{let l=()=>{let e=n.current[r],o=(0,cE.default)(e,[t].map(mZ.default));n.current[r]=o};n.current[r]||(n.current[r]={});let i=n.current[r],a=i[t];return i[t]=o,a&&a!==o&&t===e.current.getActiveStrategy(m2[r])&&e.current.publishEvent("activeStrategyProcessorChange",r),l},[e]),o=g.useCallback((t,r)=>{let o=e.current.getActiveStrategy(m2[t]);if(null==o)throw Error("Can't apply a strategy processor before defining an active strategy");let l=n.current[t];if(!l||!l[o])throw Error('No processor found for processor "'.concat(t,'" on strategy "').concat(o,'"'));return(0,l[o])(r)},[e]),l=g.useCallback(e=>{var n;let r=Array.from(t.current.entries()).find(t=>{let[,n]=t;return n.group===e&&n.isAvailable()});return null!=(n=null==r?void 0:r[0])?n:m1},[]),i=g.useCallback((n,r,o)=>{t.current.set(r,{group:n,isAvailable:o}),e.current.publishEvent("strategyAvailabilityChange")},[e]);mK(e,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:l,setStrategyAvailability:i},"private")})(o),((e,t)=>{let n=g.useCallback(e=>{if(null==t.localeText[e])throw Error("Missing translation for key ".concat(e,"."));return t.localeText[e]},[t.localeText]);e.current.register("public",{getLocaleText:n})})(o,l),o.current.register("private",{rootProps:l}),((e,t)=>{let n=(e=>{let{classes:t}=e;return g.useMemo(()=>cP({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},cV,t),[t])})({classes:t.classes}),r=g.useCallback(r=>{let o=(0,cS.default)({},vm,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),l=t.checkboxSelection,i=null!=r.lookup[vf];return l&&!i?(r.lookup[vf]=o,r.orderedFields=[vf,...r.orderedFields]):!l&&i?(delete r.lookup[vf],r.orderedFields=r.orderedFields.filter(e=>e!==vf)):l&&i&&(r.lookup[vf]=(0,cS.default)({},o,r.lookup[vf]),t.columns.some(e=>e.field===vf)||(r.orderedFields=[vf,...r.orderedFields.filter(e=>e!==vf)])),r},[e,n,t.columns,t.checkboxSelection]);vx(e,"hydrateColumns",r)})(v,m),vL(v,m1,"rowTreeCreation",br),va(m5,v,m),va(bi,v,m),va(vS,v,m),va(bn,v,m),va(vZ,v,m),va(bt,v,m),va(vB,v,m),va(ba,v,m),va(v0,v,m),va(vj,v,m),va(bF,v,m),va(vk,v,m),va(bO,v,m),va(vw,v,m),va(bx,v,m),va(bS,v,m),va(bd,v,m),va(bf,v,m),va(bH,v,m),!function(e,t){var n,r,o,l;let i=(0,h4.useRtl)(),{listView:s}=t,u=c2(e,dD),c=c2(e,ph),d=dj(e),p=c2(e,mF),h=g.useCallback(t=>p.has(t)&&e.current.isRowSelectable(t),[p,e]),f=g6(e),m=c2(e,dV),v=c2(e,d7),b=c2(e,d3),{autoHeight:y}=t,w=c2(e,db),x=Math.floor(hT(t.rowHeight,vr.rowHeight,hI)*w),C=Math.floor(t.columnHeaderHeight*w),S=Math.floor((null!=(o=t.columnGroupHeaderHeight)?o:t.columnHeaderHeight)*w),k=Math.floor((null!=(l=t.headerFilterHeight)?l:t.columnHeaderHeight)*w),M=c2(e,vl),R=fx(e,t),E=d.left.reduce((e,t)=>e+t.computedWidth,0),T=d.right.reduce((e,t)=>e+t.computedWidth,0),I=f0(e,t),O={rowHeight:x,headerHeight:C,columnsTotalWidth:M,leftPinnedWidth:E,rightPinnedWidth:T,topPinnedHeight:R,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},P=cX(vi).current,N=c2(e,pt),D=c2(e,g$),A=Math.min(D.enabled?D.paginationModel.pageSize:N,N),{getRowHeight:L,getEstimatedRowHeight:j,getRowSpacing:z}=t,F=c2(e,vn),H=t.slots.row,B=null==(n=t.slotProps)?void 0:n.row,V=(e=>{let t=gt(()=>new gn(gG.map(t=>t.initialize(e)).reduce((e,t)=>Object.assign(e,t),{}))).current,n={};for(let r of gG)Object.assign(n,r.use(t,e,n));return{store:t,api:n}})({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:O,virtualization:{isRtl:i,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:m,getColspan:g.useCallback((t,n)=>{var r,o;if("function"==typeof n.colSpan){let o=e.current.getRow(t),l=e.current.getRowValue(o,n);return null!=(r=n.colSpan(l,o,n,e))?r:0}return null!=(o=n.colSpan)?o:1},[e])},initialState:{scroll:null==(r=t.initialState)?void 0:r.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:f.rows,range:f.range,rowCount:A,columns:u,pinnedRows:c,pinnedColumns:d,autoHeight:y,disableHorizontalScroll:s,disableVerticalScroll:"noColumnsOverlay"===I.overlayType||"skeleton"===I.loadingOverlayVariant,minimalContentHeight:hR,getRowHeight:g.useMemo(()=>{if(L)return e=>L((0,cS.default)({},e,{densityFactor:w}))},[L,w]),getEstimatedRowHeight:g.useMemo(()=>j?e=>j((0,cS.default)({},e,{densityFactor:w})):void 0,[j,w]),getRowSpacing:g.useMemo(()=>z?t=>{var n;let r=null!=(n=f.rowIdToIndexMap.get(t.id))?n:-1,o={isFirstVisible:0===r,isLastVisible:r===f.rows.length-1,indexRelativeToCurrentPage:r};return z((0,cS.default)({},t,o,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(t.id)}))}:void 0,[e,z,f.rows,f.rowIdToIndexMap]),applyRowHeight:pg((t,n)=>e.current.unstable_applyPipeProcessors("rowHeight",t,n)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:pg(()=>F),resizeThrottleMs:t.resizeThrottleMs,onResize:pg(t=>e.current.publishEvent("resize",t)),onWheel:pg(t=>{e.current.publishEvent("virtualScrollerWheel",{},t)}),onTouchMove:pg(t=>{e.current.publishEvent("virtualScrollerTouchMove",{},t)}),onRenderContextChange:pg(t=>{e.current.publishEvent("renderedRowsIntervalChange",t)}),onScrollChange:g.useCallback((t,n)=>{e.current.publishEvent("scrollPositionChange",{top:t.top,left:t.left,renderContext:n})},[e]),scrollReset:s,renderRow:g.useCallback(e=>(0,a.jsx)(H,(0,cS.default)({row:e.model,rowId:e.id,index:e.rowIndex,selected:h(e.id),offsetLeft:e.offsetLeft,columnsTotalWidth:M,rowHeight:e.baseRowHeight,pinnedColumns:d,visibleColumns:u,firstColumnIndex:e.firstColumnIndex,lastColumnIndex:e.lastColumnIndex,focusedColumnIndex:e.focusedColumnIndex,isFirstVisible:e.isFirstVisible,isLastVisible:e.isLastVisible,isNotVisible:e.isVirtualFocusRow,showBottomBorder:e.showBottomBorder,scrollbarWidth:v,gridHasFiller:b},B),e.id),[M,b,h,d,H,B,v,u]),renderInfiniteLoadingTrigger:g.useCallback(t=>{var n,r;return null==(n=(r=e.current).getInfiniteLoadingTriggerElement)?void 0:n.call(r,{lastRowId:t})},[e])});gS(()=>{e.current.store.state.dimensions=P(V.store.state.dimensions,C,S,k,R),e.current.store.state.rowsMeta=V.store.state.rowsMeta,e.current.store.state.virtualization=V.store.state.virtualization}),m7(V.store,gm.selectors.dimensions,(t,n)=>{e.current.setState(e=>(0,cS.default)({},e,{dimensions:P(n,C,S,k,R)}))}),m7(V.store,vo,(t,n)=>{n.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(e=>(0,cS.default)({},e,{rowsMeta:n.rowsMeta})),n.virtualization!==e.current.state.virtualization&&e.current.setState(e=>(0,cS.default)({},e,{virtualization:n.virtualization}))}),e.current.register("private",{virtualizer:V})}(v,m),((e,t)=>{let n=vs(e,"useGridKeyboardNavigation"),r=(0,h4.useRtl)(),o=g.useCallback(()=>vQ(e),[e]),l="DataGrid"!==t.signature&&t.headerFilters,i=g.useCallback(function(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up",i=fB(e),a=e.current.unstable_getCellColSpanInfo(r,t);a&&a.spannedByColSpan&&("left"===o?t=a.leftVisibleCellIndex:"right"===o&&(t=a.rightVisibleCellIndex));let s=dA(e)[t],u=function(e,t,n,r){var o,l;let i=gW.selectors.hiddenCells(e.current.virtualizer.store.state);if(!(null==(o=i[t])?void 0:o[n]))return t;let a=fG(e),s=a.indexOf(t)+("down"===r?1:-1);for(;s>=0&&s<a.length;){let e=a[s];if(!(null==(l=i[e])?void 0:l[n]))return e;s+="down"===r?1:-1}return t}(e,r,t,l),c=i.findIndex(e=>e.id===u);n.debug("Navigating to cell row ".concat(c,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:c}),e.current.setCellFocus(u,s)},[e,n]),a=g.useCallback((t,r)=>{n.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});let o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(o,r)},[e,n]),s=g.useCallback((t,r)=>{n.debug("Navigating to header filter col ".concat(t)),e.current.scrollToIndexes({colIndex:t});let o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(o,r)},[e,n]),u=g.useCallback((t,r,o)=>{n.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});let{field:l}=e.current.getVisibleColumns()[t];e.current.setColumnGroupHeaderFocus(l,r,o)},[e,n]),c=g.useCallback(e=>{var t;return null==(t=o()[e])?void 0:t.id},[o]),d=g.useCallback((t,n)=>{let d=n.currentTarget.querySelector(".".concat(cW.columnHeaderTitleContainerContent));if(d&&d.contains(n.target)&&t.field!==vm.field)return;let p=o(),h=e.current.getViewportPageSize(),f=t.field?e.current.getColumnIndex(t.field):0,m=p.length>0?0:null,g=p.length-1,v=dD(e).length-1,b=fm(e),y=!0;switch(n.key){case"ArrowDown":l?s(f,n):null!==m&&i(f,c(m));break;case"ArrowRight":{let e=vY({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:r});null!==e&&a(e,n);break}case"ArrowLeft":{let e=vX({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:r});null!==e&&a(e,n);break}case"ArrowUp":b>0&&u(f,b-1,n);break;case"PageDown":null!==m&&null!==g&&i(f,c(Math.min(m+h,g)));break;case"Home":a(0,n);break;case"End":a(v,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:y=!1}y&&n.preventDefault()},[e,o,l,s,i,c,r,a,u]),p=g.useCallback((t,n)=>{let l=fu(e)===t.field,u=fc(e)===t.field;if(l||u||!h6(n.key))return;let d=o(),p=e.current.getViewportPageSize(),h=t.field?e.current.getColumnIndex(t.field):0,f=d.length-1,m=dD(e).length-1,g=!0;switch(n.key){case"ArrowDown":{let e=c(0);null!=e&&i(h,e);break}case"ArrowRight":{let e=vY({currentColIndex:h,firstColIndex:0,lastColIndex:m,isRtl:r});null!==e&&s(e,n);break}case"ArrowLeft":{let o=vX({currentColIndex:h,firstColIndex:0,lastColIndex:m,isRtl:r});null!==o?s(o,n):e.current.setColumnHeaderFilterFocus(t.field,n);break}case"ArrowUp":a(h,n);break;case"PageDown":null!==f&&i(h,c(Math.min(0+p,f)));break;case"Home":s(0,n);break;case"End":s(m,n);break;case" ":break;default:g=!1}g&&n.preventDefault()},[e,o,s,r,a,i,c]),h=g.useCallback((t,n)=>{let r=f3(e);if(null===r)return;let{field:l,depth:s}=r,{fields:d,depth:p,maxDepth:h}=t,f=o(),m=e.current.getViewportPageSize(),g=e.current.getColumnIndex(l),v=l?e.current.getColumnIndex(l):0,b=f.length-1,y=dD(e).length-1,w=!0;switch(n.key){case"ArrowDown":p===h-1?a(g,n):u(g,s+1,n);break;case"ArrowUp":p>0&&u(g,s-1,n);break;case"ArrowRight":{let e=d.length-d.indexOf(l)-1;g+e+1<=y&&u(g+e+1,s,n);break}case"ArrowLeft":{let e=d.indexOf(l);g-e-1>=0&&u(g-e-1,s,n);break}case"PageDown":null!==b&&i(v,c(Math.min(0+m,b)));break;case"Home":u(0,s,n);break;case"End":u(y,s,n);break;case" ":break;default:w=!1}w&&n.preventDefault()},[e,o,a,u,i,c]),f=g.useCallback((t,n)=>{if(vU(n))return;let u=e.current.getCellParams(t.id,t.field);if(u.cellMode===hK.Edit||!h6(n.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:n,cell:u}))return;let d=o();if(0===d.length)return;let p=e.current.getViewportPageSize(),h=t.field?e.current.getColumnIndex(t.field):0,f=d.findIndex(e=>e.id===t.id),m=d.length-1,g=dD(e).length-1,v=!0;switch(n.key){case"ArrowDown":f<m&&i(h,c(f+1),r?"right":"left","down");break;case"ArrowUp":f>0?i(h,c(f-1)):l?s(h,n):a(h,n);break;case"ArrowRight":{let e=vY({currentColIndex:h,firstColIndex:0,lastColIndex:g,isRtl:r});null!==e&&i(e,c(f),r?"left":"right");break}case"ArrowLeft":{let e=vX({currentColIndex:h,firstColIndex:0,lastColIndex:g,isRtl:r});null!==e&&i(e,c(f),r?"right":"left");break}case"Tab":n.shiftKey&&h>0?i(h-1,c(f),"left"):!n.shiftKey&&h<g&&i(h+1,c(f),"right");break;case" ":{let e;if(t.field===hL)break;let r=t.colDef;if(r&&("__tree_data_group__"===r.field||(e=r.field)===hA||null!==(e=>{let t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null})(e)))break;!n.shiftKey&&f<m&&i(h,c(Math.min(f+p,m)));break}case"PageDown":f<m&&i(h,c(Math.min(f+p,m)));break;case"PageUp":{let e=Math.max(f-p,0);e!==f&&e>=0?i(h,c(e)):a(h,n);break}case"Home":n.ctrlKey||n.metaKey||n.shiftKey?i(0,c(0)):i(0,c(f));break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?i(g,c(m)):i(g,c(f));break;default:v=!1}v&&n.preventDefault()},[e,o,r,i,c,l,s,a]);vx(e,"canStartEditing",g.useCallback((e,t)=>{let{event:n}=t;return" "!==n.key&&e},[])),pS(e,"columnHeaderKeyDown",d),pS(e,"headerFilterKeyDown",p),pS(e,"columnGroupHeaderKeyDown",h),pS(e,"cellKeyDown",f)})(v,m),((e,t)=>{var n,r,o,l,i,a,s,u,c,d;let p=vs(e,"useGridSelection"),h=g.useCallback(e=>function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.rowSelection&&e(...r)},[t.rowSelection]),f=c2(e,pc)>1,m=t.signature!==mD.DataGrid&&((null==(n=t.rowSelectionPropagation)?void 0:n.parents)||(null==(r=t.rowSelectionPropagation)?void 0:r.descendants))&&f,v=g.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),b=g.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:v,propOnChange:t.onRowSelectionModelChange,stateSelector:mz,changeEvent:"rowSelectionChange"});let{checkboxSelection:y,disableRowSelectionOnClick:w,isRowSelectable:x}=t,C=mG(t),S=c2(e,pl),k=g.useCallback(t=>{var n;let r=t,o=null!=(n=b.current)?n:t,l=e.current.isRowSelected(t);if(l){let t=fV(e),n=t.findIndex(e=>e===o),l=t.findIndex(e=>e===r);if(n===l)return;r=n>l?t[l+1]:t[l-1]}b.current=t,e.current.selectRowRange({startId:o,endId:r},!l)},[e]),M=pg(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&"client"===t.paginationMode?g3(e):fV(e)),R=g.useCallback((n,r)=>{if(t.signature===mD.DataGrid&&!C&&("include"!==n.type||n.ids.size>1))throw Error("MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection.");mz(e)!==n&&(p.debug("Setting selection model"),e.current.setState(e=>(0,cS.default)({},e,{rowSelection:t.rowSelection?n:bl}),r))},[e,p,t.rowSelection,t.signature,C]),E=g.useCallback(t=>mF(e).has(t),[e]),T=g.useCallback(n=>{if(!1===t.rowSelection||x&&!x(e.current.getRowParams(n)))return!1;let r=pi(e,n);return(null==r?void 0:r.type)!=="footer"&&(null==r?void 0:r.type)!=="pinnedRow"},[e,t.rowSelection,x]),I=g.useCallback(()=>mB(e),[e]),O=g.useCallback(function(n){var r,o,l,i,a,s,u,c,d,h,f,g;let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1],y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.isRowSelectable(n))if(b.current=n,y){p.debug("Setting selection for row ".concat(n));let a={type:"include",ids:new Set},s=e=>{a.ids.add(e)};v&&(s(n),m&&mU(e,S,n,null!=(l=null==(r=t.rowSelectionPropagation)?void 0:r.descendants)&&l,null!=(i=null==(o=t.rowSelectionPropagation)?void 0:o.parents)&&i,s)),e.current.setRowSelectionModel(a,"singleRowSelection")}else{p.debug("Toggling selection for row ".concat(n));let r=mz(e),o={type:r.type,ids:new Set(r.ids)},l=mj(o);l.unselect(n);let i=e=>{l.select(e)};v?(i(n),m&&mU(e,S,n,null!=(u=null==(a=t.rowSelectionPropagation)?void 0:a.descendants)&&u,null!=(c=null==(s=t.rowSelectionPropagation)?void 0:s.parents)&&c,i)):m&&m_(e,S,n,null!=(f=null==(d=t.rowSelectionPropagation)?void 0:d.descendants)&&f,null!=(g=null==(h=t.rowSelectionPropagation)?void 0:h.parents)&&g,e=>{l.unselect(e)}),("include"===o.type&&o.ids.size<2||C)&&e.current.setRowSelectionModel(o,"singleRowSelection")}},[e,p,m,S,null==(o=t.rowSelectionPropagation)?void 0:o.descendants,null==(l=t.rowSelectionPropagation)?void 0:l.parents,C]),P=g.useCallback(function(n){var r,o,l,i,a,s,u,c,d,h,f,g;let v,b=!(arguments.length>1)||void 0===arguments[1]||arguments[1],y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(p.debug("Setting selection for several rows"),!1===t.rowSelection)return;let w=new Set;for(let t=0;t<n.length;t+=1){let r=n[t];e.current.isRowSelectable(r)&&w.add(r)}let x=mz(e);if(y){if(v={type:"include",ids:w},b){let n=mj(v);if(m){let a=e=>{n.select(e)};for(let n of w)mU(e,S,n,null!=(l=null==(r=t.rowSelectionPropagation)?void 0:r.descendants)&&l,null!=(i=null==(o=t.rowSelectionPropagation)?void 0:o.parents)&&i,a)}}else v.ids=new Set;if(x.type===v.type&&v.ids.size===x.ids.size&&Array.from(v.ids).every(e=>x.ids.has(e)))return}else{let n=mj(v={type:x.type,ids:new Set(x.ids)}),r=e=>{n.select(e)},o=e=>{n.unselect(e)};for(let l of w)b?(n.select(l),m&&mU(e,S,l,null!=(u=null==(a=t.rowSelectionPropagation)?void 0:a.descendants)&&u,null!=(c=null==(s=t.rowSelectionPropagation)?void 0:s.parents)&&c,r)):(o(l),m&&m_(e,S,l,null!=(f=null==(d=t.rowSelectionPropagation)?void 0:d.descendants)&&f,null!=(g=null==(h=t.rowSelectionPropagation)?void 0:h.parents)&&g,o))}("include"===v.type&&v.ids.size<2||C)&&e.current.setRowSelectionModel(v,"multipleRowsSelection")},[p,m,C,e,S,null==(i=t.rowSelectionPropagation)?void 0:i.descendants,null==(a=t.rowSelectionPropagation)?void 0:a.parents,t.rowSelection]),N=g.useCallback(n=>{if(!f||!m||"exclude"===n.type||0===n.ids.size&&"include"===n.type)return n;let r={type:n.type,ids:new Set(n.ids)},o=mj(r),l=e=>{o.select(e)};for(let r of n.ids){var i,a,s,u;mU(e,S,r,null!=(s=null==(i=t.rowSelectionPropagation)?void 0:i.descendants)&&s,null!=(u=null==(a=t.rowSelectionPropagation)?void 0:a.parents)&&u,l,o)}return r},[e,S,null==(s=t.rowSelectionPropagation)?void 0:s.descendants,null==(u=t.rowSelectionPropagation)?void 0:u.parents,f,m]),D=g.useCallback(function(t){let{startId:n,endId:r}=t,o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.current.getRow(n)||!e.current.getRow(r))return;p.debug("Expanding selection from row ".concat(n," to row ").concat(r));let i=fV(e),a=i.indexOf(n),s=i.indexOf(r),[u,c]=a>s?[s,a]:[a,s],d=i.slice(u,c+1);e.current.selectRows(d,o,l)},[e,p]);mK(e,{selectRow:O,setRowSelectionModel:R,getSelectedRows:I,isRowSelected:E,isRowSelectable:T},"public"),mK(e,{selectRows:P,selectRowRange:D,getPropagatedRowSelectionModel:N},t.signature===mD.DataGrid?"private":"public");let A=g.useRef(!0),L=g.useCallback(function(){var n,r;let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(A.current)return;let l=mz(e),i=po(e),a=pl(e),s=fH(e),u=e=>"server"===t.filterMode?!i[e]:!a[e]||!1===s[e],c={type:l.type,ids:new Set(l.ids)},d=mj(c),p=!1;for(let e of l.ids){if(u(e)){if(t.keepNonExistentRowsSelected)continue;d.unselect(e),p=!0;continue}if(!(null==(r=t.rowSelectionPropagation)?void 0:r.parents))continue;let n=S[e];if((null==n?void 0:n.type)==="group"){if(n.isAutoGenerated){d.unselect(e),p=!0;continue}n.children.every(e=>!1===s[e])||(d.unselect(e),p=!0)}}let h=f&&(null==(n=t.rowSelectionPropagation)?void 0:n.parents)&&(c.ids.size>0||"exclude"===c.type);if(p||h&&!o)if(h)if("exclude"===c.type){let n=M(),r=[];for(let e=0;e<n.length;e+=1){let o=n[e];(t.keepNonExistentRowsSelected||!u(o))&&d.has(o)&&r.push(o)}e.current.selectRows(r,!0,!0)}else e.current.selectRows(Array.from(c.ids),!0,!0);else e.current.setRowSelectionModel(c,"multipleRowsSelection")},[e,f,null==(c=t.rowSelectionPropagation)?void 0:c.parents,t.keepNonExistentRowsSelected,t.filterMode,S,M]),j=g.useCallback((t,n)=>{let r=n.metaKey||n.ctrlKey,o=!y&&!r&&!n.key,l=!C||o,i=e.current.isRowSelected(t),a=mH(e);e.current.selectRow(t,a>1&&l||!i,l)},[e,C,y]),z=g.useCallback((t,n)=>{var r;if(w)return;let o=null==(r=n.target.closest(".".concat(cW.cell)))?void 0:r.getAttribute("data-field");if(o!==vm.field&&o!==hL){if(o){let t=e.current.getColumn(o);if((null==t?void 0:t.type)===fl)return}"pinnedRow"!==pi(e,t.id).type&&(n.shiftKey&&C?k(t.id):j(t.id,n))}},[w,C,e,k,j]),F=g.useCallback((e,t)=>{if(C&&t.shiftKey){var n;null==(n=window.getSelection())||n.removeAllRanges()}},[C]),H=g.useCallback((t,n)=>{C&&n.nativeEvent.shiftKey?k(t.id):e.current.selectRow(t.id,t.value,!C)},[e,k,C]),B=g.useCallback(n=>{var r;let o=fj(e),l=fz(e),i=o.items.length>0||(null==l?void 0:l.some(e=>e.length));t.isRowSelectable||t.checkboxSelectionVisibleOnly||f&&(null==(r=t.rowSelectionPropagation)||!r.descendants)||i||t.disableRowSelectionExcludeModel?e.current.selectRows(M(),n):e.current.setRowSelectionModel({type:n?"exclude":"include",ids:new Set},"multipleRowsSelection")},[e,M,t.checkboxSelectionVisibleOnly,t.isRowSelectable,null==(d=t.rowSelectionPropagation)?void 0:d.descendants,t.disableRowSelectionExcludeModel,f]),V=g.useCallback(e=>{B(e.value)},[B]),W=g.useCallback((t,n)=>{if(e.current.getCellMode(t.id,t.field)!==hK.Edit&&!vU(n)){if(h6(n.key)&&n.shiftKey){let r=f2(e);if(r&&r.id!==t.id){let o,l;n.preventDefault();let i=e.current.isRowSelected(r.id);if(!C)return void e.current.selectRow(r.id,!i,!0);let a=e.current.getRowIndexRelativeToVisibleRows(r.id),s=e.current.getRowIndexRelativeToVisibleRows(t.id);a>s?i?(o=s,l=a-1):(o=s,l=a):(o=i?a+1:a,l=s);let u=g9(e),c=[];for(let e=o;e<=l;e+=1)c.push(u.rows[e].id);return void e.current.selectRows(c,!i)}}if(" "===n.key&&n.shiftKey){n.preventDefault(),j(t.id,n);return}"A"===String.fromCharCode(n.keyCode)&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),B(!0))}},[e,C,j,B]),G=pg(()=>{if(!t.rowSelection)return void e.current.setRowSelectionModel(bl);if(void 0===v)return;if(!m||!f||"include"===v.type&&0===v.ids.size)return void e.current.setRowSelectionModel(v);let n=e.current.getPropagatedRowSelectionModel(v);if(n.type!==v.type||n.ids.size!==v.ids.size||!Array.from(v.ids).every(e=>n.ids.has(e)))return void e.current.setRowSelectionModel(n);e.current.setRowSelectionModel(v)});pS(e,"sortedRowsSet",h(()=>L(!0))),pS(e,"filteredRowsSet",h(()=>L())),pS(e,"rowClick",h(z)),pS(e,"rowSelectionCheckboxChange",h(H)),pS(e,"headerSelectionCheckboxChange",V),pS(e,"cellMouseDown",h(F)),pS(e,"cellKeyDown",h(W)),g.useEffect(()=>{G()},[e,v,t.rowSelection,G]);let U=null!=v;g.useEffect(()=>{if(U||!t.rowSelection||"function"!=typeof T)return;let n=mz(e);if("include"!==n.type)return;let r=new Set;for(let e of n.ids)T(e)&&r.add(e);r.size<n.ids.size&&e.current.setRowSelectionModel({type:n.type,ids:r})},[e,T,U,t.rowSelection]),g.useEffect(()=>{if(!t.rowSelection||U)return;let n=mz(e);!C&&("include"===n.type&&n.ids.size>1||"exclude"===n.type)&&e.current.setRowSelectionModel(bl)},[e,C,y,U,t.rowSelection]),g.useEffect(()=>{h(L)},[L,h]),g.useEffect(()=>{A.current&&(A.current=!1)},[])})(v,m),!function(e,t){var n,r;let o=vs(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:dP,changeEvent:"columnVisibilityModelChange"});let l=g.useCallback(t=>{var n;o.debug("Updating columns state."),e.current.setState((n=t,e=>(0,cS.default)({},e,{columns:n}))),e.current.publishEvent("columnsChange",t.orderedFields)},[o,e]),i=g.useCallback(t=>dI(e)[t],[e]),s=g.useCallback(()=>dO(e),[e]),u=g.useCallback(()=>dD(e),[e]),c=g.useCallback(function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(n?dD(e):dO(e)).findIndex(e=>e.field===t)},[e]),d=g.useCallback(t=>{let n=c(t);return dF(e)[n]},[e,c]),p=g.useCallback(t=>{if(dP(e)!==t){var n,r;e.current.setState(n=>(0,cS.default)({},n,{columns:fw({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})})),null==(n=(r=e.current).updateRenderContext)||n.call(r)}},[e]),h=g.useCallback(t=>{let n=t;if(fY(e)){let r=[],o=[],l=fZ(e);if(t.forEach(e=>{l.has(e.field)?r.push(e):o.push(e)}),r.length>0&&e.current.updateNonPivotColumns(r),0===o.length)return;n=o}l(fw({apiRef:e,columnsToUpsert:n,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0}))},[e,l]),f=g.useCallback((t,n)=>{var r;let o=dP(e);if(n!==(null==(r=o[t])||r)){let r=(0,cS.default)({},o,{[t]:n});e.current.setColumnVisibilityModel(r)}},[e]),m=g.useCallback(t=>dT(e).findIndex(e=>e===t),[e]),v=g.useCallback((t,n)=>{let r=dT(e),i=m(t);if(i===n)return;o.debug("Moving column ".concat(t," to index ").concat(n));let a=[...r],s=a.splice(i,1)[0];a.splice(n,0,s),l((0,cS.default)({},dE(e),{orderedFields:a}));let u={column:e.current.getColumn(t),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:i};e.current.publishEvent("columnIndexChange",u)},[e,o,l,m]),b=g.useCallback((t,n)=>{o.debug("Updating column ".concat(t," width to ").concat(n));let r=dE(e),i=r.lookup[t],a=(0,cS.default)({},i,{width:n,hasBeenResized:!0});l(fb((0,cS.default)({},r,{lookup:(0,cS.default)({},r.lookup,{[t]:a})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:a,width:n})},[e,o,l]);mK(e,{getColumn:i,getAllColumns:s,getColumnIndex:c,getColumnPosition:d,getVisibleColumns:u,getColumnIndexRelativeToVisibleColumns:m,updateColumns:h,setColumnVisibilityModel:p,setColumnVisibility:f,setColumnWidth:b},"public"),mK(e,{setColumnIndex:v},t.signature===mD.DataGrid?"private":"public");let y=g.useCallback((n,r)=>{var o,l,i;let a={},s=dP(e);(!r.exportOnlyDirtyModels||null!=t.columnVisibilityModel||Object.keys(null!=(i=null==(l=t.initialState)||null==(o=l.columns)?void 0:o.columnVisibilityModel)?i:{}).length>0||Object.keys(s).length>0)&&(a.columnVisibilityModel=s),a.orderedFields=dT(e);let u=dO(e),c={};return u.forEach(e=>{if(e.hasBeenResized){let t={};fg.forEach(n=>{let r=e[n];r===1/0&&(r=-1),t[n]=r}),c[e.field]=t}}),Object.keys(c).length>0&&(a.dimensions=c),(0,cS.default)({},n,{columns:a})},[e,t.columnVisibilityModel,null==(n=t.initialState)?void 0:n.columns]),w=g.useCallback((t,n)=>{let r=n.stateToRestore.columns,o=null==r?void 0:r.columnVisibilityModel;if(null==r)return t;let l=fw({apiRef:e,columnsToUpsert:[],initialState:r,columnVisibilityModel:o,keepOnlyColumnsToUpsert:!1});return null!=r&&e.current.setState(e=>(0,cS.default)({},e,{columns:(0,cS.default)({},e.columns,{lookup:l.lookup,orderedFields:l.orderedFields,initialColumnVisibilityModel:l.initialColumnVisibilityModel})})),null!=o&&e.current.setState(e=>(0,cS.default)({},e,{columns:(0,cS.default)({},e.columns,{columnVisibilityModel:o})})),null!=r&&e.current.publishEvent("columnsChange",l.orderedFields),t},[e]),x=g.useCallback((e,n)=>{if(n===dU.columns){var r;let e=t.slots.columnsPanel;return(0,a.jsx)(e,(0,cS.default)({},null==(r=t.slotProps)?void 0:r.columnsPanel))}return e},[t.slots.columnsPanel,null==(r=t.slotProps)?void 0:r.columnsPanel]),C=g.useCallback(n=>{let r=fY(e);return t.disableColumnSelector||r?n:[...n,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);vx(e,"columnMenu",C),vx(e,"exportState",y),vx(e,"restoreState",w),vx(e,"preferencePanel",x);let S=g.useRef(null);pS(e,"viewportInnerSizeChange",t=>{S.current!==t.width&&(S.current=t.width,dD(e).some(e=>e.flex&&e.flex>0)&&l(fb(dE(e),e.current.getRootDimensions())))});let k=g.useCallback(()=>{o.info("Columns pipe processing have changed, regenerating the columns"),l(fw({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1}))},[e,o,l]);vC(e,"hydrateColumns",k),g.useEffect(()=>{e.current.caches.columns.lastColumnsProp!==t.columns&&(e.current.caches.columns.lastColumnsProp=t.columns,o.info("GridColumns have changed, new length ".concat(t.columns.length)),l(fw({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel})))},[o,e,l,t.columns,t.columnVisibilityModel]),g.useEffect(()=>{void 0!==t.columnVisibilityModel&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,o,t.columnVisibilityModel])}(v,m),((e,t,n)=>{let r=vs(e,"useGridRows"),o=g.useRef(Date.now()),l=g.useRef(t.rowCount),i=pI(),{setRowIndex:a}=n.hooks.useGridRowsOverridableMethods(e,t),s=g.useCallback(t=>{let n=po(e)[t];if(n)return n;let r=pi(e,t);return r&&hS(r)?{[hb]:t}:null},[e]),u=g.useCallback(t=>hO(e,t),[e]),c=g.useCallback(n=>{let{cache:r,throttle:l}=n,a=()=>{o.current=Date.now(),e.current.setState(n=>(0,cS.default)({},n,{rows:hC({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:pl(e),previousTreeDepths:pu(e),previousGroupsToFetch:pa(e)})})),e.current.publishEvent("rowsSet")};if(i.clear(),e.current.caches.rows=r,!l)return void a();let s=t.throttleRowsMs-(Date.now()-o.current);if(s>0)return void i.start(s,a);a()},[t.throttleRowsMs,t.rowCount,t.loading,e,i]),d=g.useCallback(n=>{if(r.debug("Updating all rows, new length ".concat(n.length)),!t.dataSource&&fY(e))return void e.current.updateNonPivotRows(n,!1);let o=hw({rows:n,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount});o.rowsBeforePartialUpdates=e.current.caches.rows.rowsBeforePartialUpdates,c({cache:o,throttle:!0})},[r,t.getRowId,t.dataSource,t.loading,t.rowCount,c,e]),p=g.useCallback(n=>{if(t.signature===mD.DataGrid&&n.length>1)throw Error("MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.");if(!t.dataSource&&fY(e))return void e.current.updateNonPivotRows(n);c({cache:hM({updates:hE(e,n,t.getRowId),getRowId:t.getRowId,previousCache:e.current.caches.rows}),throttle:!0})},[t.signature,t.dataSource,t.getRowId,c,e]),h=g.useCallback((n,r)=>{c({cache:hM({updates:hE(e,n,t.getRowId),getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:null!=r?r:[]}),throttle:!1})},[t.getRowId,c,e]),f=g.useCallback(t=>{r.debug("Setting loading to ".concat(t)),e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{loading:t})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t},[e,r]),m=g.useCallback(()=>{let t=pd(e),n=po(e);return new Map(t.map(e=>{var t;return[e,null!=(t=n[e])?t:{}]}))},[e]),v=g.useCallback(()=>pt(e),[e]),b=g.useCallback(()=>pd(e),[e]),y=g.useCallback(t=>{let{rowIdToIndexMap:n}=g9(e);return n.get(t)},[e]),w=g.useCallback((t,n)=>{let r=pi(e,t);if(!r)throw Error("MUI X: No row with id #".concat(t," found."));if("group"!==r.type)throw Error("MUI X: Only group nodes can be expanded or collapsed.");let o=(0,cS.default)({},r,{childrenExpanded:n});e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{tree:(0,cS.default)({},e.rows.tree,{[t]:o})})})),e.current.publishEvent("rowExpansionChange",o)},[e]),x=g.useCallback(()=>{let t=(0,cS.default)({},pl(e)),n=e=>{let r=t[e];(null==r?void 0:r.type)==="group"&&(t[e]=(0,cS.default)({},r,{childrenExpanded:!0}),r.children.forEach(n))};n(hv),e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{tree:t})})),e.current.publishEvent("rowExpansionChange",t[hv])},[e]),C=g.useCallback(()=>{let t=(0,cS.default)({},pl(e)),n=e=>{let r=t[e];(null==r?void 0:r.type)==="group"&&(t[e]=(0,cS.default)({},r,{childrenExpanded:!1}),r.children.forEach(n))};n(hv),e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{tree:t})})),e.current.publishEvent("rowExpansionChange",t[hv])},[e]),S=g.useCallback(t=>{var n;return null!=(n=pi(e,t))?n:null},[e]),k=g.useCallback(t=>{let n,{skipAutoGeneratedRows:r=!0,groupId:o,applySorting:l,applyFiltering:i,directChildrenOnly:a=!1}=t,s=pl(e);if(l){let t=s[o];if(!t)return[];let l=fP(e);n=[];let i=l.findIndex(e=>e===o)+1;for(let e=i;e<l.length&&(a?s[l[e]].depth===t.depth+1:s[l[e]].depth>t.depth);e+=1){let t=l[e];r&&hS(s[t])||n.push(t)}}else n=hk(s,o,r,a);if(i){let t=fH(e);n=fI(t)?n:n.filter(e=>!1!==t[e])}return n},[e]),M=g.useCallback((n,r)=>{if(t.signature===mD.DataGrid&&r.length>1)throw Error("MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.");if(0===r.length)return;if(pc(e)>1)throw Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");let o=(0,cS.default)({},pl(e)),l=(0,cS.default)({},po(e)),i=o[hv],a=[...i.children],s=new Set;for(let e=0;e<r.length;e+=1){let i=r[e],u=hy(i,t.getRowId,"A row was provided without id when calling replaceRows()."),[c]=a.splice(n+e,1,u);s.has(c)||(delete l[c],delete o[c]);let d={id:u,depth:0,parent:hv,type:"leaf",groupingKey:null};l[u]=i,o[u]=d,s.add(u)}o[hv]=(0,cS.default)({},i,{children:a});let u=a.filter(e=>{var t;return(null==(t=o[e])?void 0:t.type)==="leaf"});e.current.caches.rows.dataRowIdToModelLookup=l,e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,a.length),dataRowIdToModelLookup:l,dataRowIds:u,tree:o})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),R=g.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree"),c({cache:e.current.caches.rows.rowsBeforePartialUpdates===t.rows?(0,cS.default)({},e.current.caches.rows,{updates:{type:"full",rows:pd(e)}}):hw({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[r,e,t.rows,t.getRowId,t.loading,t.rowCount,c]),E=cX(()=>t.dataSource),T=g.useCallback(e=>{if(t.dataSource&&t.dataSource!==E.current){E.current=t.dataSource;return}"rowTreeCreation"===e&&R()},[R,E,t.dataSource]),I=g.useCallback(()=>{e.current.getActiveStrategy(m0.RowTree)!==ps(e)&&R()},[e,R]);pS(e,"activeStrategyProcessorChange",T),pS(e,"strategyAvailabilityChange",I);let O=g.useCallback(()=>{e.current.setState(n=>{let r=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:pl(e),treeDepths:pu(e),dataRowIds:pd(e),dataRowIdToModelLookup:po(e)});return(0,cS.default)({},n,{rows:(0,cS.default)({},n.rows,r,{totalTopLevelRowCount:hx({tree:r.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);vC(e,"hydrateRows",O),mK(e,{getRow:s,setLoading:f,getRowId:u,getRowModels:m,getRowsCount:v,getAllRowIds:b,setRows:d,updateRows:p,getRowNode:S,getRowIndexRelativeToVisibleRows:y,unstable_replaceRows:M},"public"),mK(e,{setRowIndex:a,setRowChildrenExpansion:w,getRowGroupChildren:k,expandAllRows:x,collapseAllRows:C},t.signature===mD.DataGrid?"private":"public"),mK(e,{updateNestedRows:h},"private");let P=g.useRef(!0);g.useEffect(()=>{if(P.current){P.current=!1;return}let n=!1;t.rowCount!==l.current&&(n=!0,l.current=t.rowCount);let o=t.dataSource?pp(e):t.rows,i=e.current.caches.rows.rowsBeforePartialUpdates===o,a=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,s=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;(!i||(a||(e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),s||(e.current.setState(e=>(0,cS.default)({},e,{rows:(0,cS.default)({},e.rows,{totalRowCount:Math.max(t.rowCount||0,e.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,e.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),n))&&(r.debug("Updating all rows, new length ".concat(null==o?void 0:o.length)),c({cache:hw({rows:o,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,r,c,e])})(v,m,EH),((e,t)=>{let n=e.current.virtualizer.store,r=g.useCallback(function(t){var r,o;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{range:i,rows:a}=g9(e);if(l&&n.getSnapshot().rowSpanning!==bj&&n.set("rowSpanning",bj),null===i||!bD(t))return;let s=l?bj:gW.selectors.state(n.state),u=(r={firstRowIndex:t.firstRowIndex,lastRowIndex:Math.min(t.lastRowIndex,i.lastRowIndex-i.firstRowIndex+1)},o=s.processedRange,r.firstRowIndex>=o.firstRowIndex&&r.lastRowIndex<=o.lastRowIndex?null:r.firstRowIndex>=o.firstRowIndex&&r.lastRowIndex>o.lastRowIndex?{firstRowIndex:o.lastRowIndex,lastRowIndex:r.lastRowIndex}:r.firstRowIndex<o.firstRowIndex&&r.lastRowIndex<=o.lastRowIndex?{firstRowIndex:r.firstRowIndex,lastRowIndex:o.firstRowIndex-1}:r);if(null===u)return;let c=dD(e),d=bz(e,c,a,i,u,l),p=Object.keys(d.caches.spannedCells).length,h=Object.keys(d.caches.hiddenCells).length,f=Object.keys(s.caches.spannedCells).length,m=Object.keys(s.caches.hiddenCells).length;(l||p!==f||h!==m)&&(0!==p||0!==f)&&n.set("rowSpanning",d)},[e,n]),o=g.useCallback(()=>{let t=ve(e);bD(t)&&r(t,!0)},[e,r]);pS(e,"renderedRowsIntervalChange",pY(t.rowSpanning,r)),pS(e,"sortedRowsSet",pY(t.rowSpanning,o)),pS(e,"paginationModelChange",pY(t.rowSpanning,o)),pS(e,"filteredRowsSet",pY(t.rowSpanning,o)),pS(e,"columnsChange",pY(t.rowSpanning,o)),g.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===bL&&o():n.state.rowSpanning!==bj&&n.set("rowSpanning",bj)},[e,n,o,t.rowSpanning])})(v,m),!function(e,t,n){var r;let o=g.useCallback(t=>({field:t,colDef:e.current.getColumn(t)}),[e]),l=g.useCallback(t=>{let n=e.current.getRow(t);if(!n)throw new bo("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:n}},[e]),i=g.useCallback((t,n,r,o)=>{let{cellMode:l,colDef:i,hasFocus:a,rowNode:s,tabIndex:u,value:c,formattedValue:d}=o,p=r[n];void 0!==c?p=c:(null==i?void 0:i.valueGetter)&&(p=i.valueGetter(p,r,i,e));let h=p;void 0!==d?h=d:(null==i?void 0:i.valueFormatter)&&(h=i.valueFormatter(p,r,i,e));let f={id:t,field:n,row:r,rowNode:s,colDef:i,cellMode:l,hasFocus:a,tabIndex:u,value:p,formattedValue:h,isEditable:!1,api:e.current};return f.isEditable=i&&e.current.isCellEditable(f),f},[e]),a=g.useCallback((n,r)=>{var o;let l=e.current.getRow(n),i=pi(e,n);if(!l||!i)throw new bo("No row with id #".concat(n," found"));let a=f2(e),s=f9(e),u=e.current.getCellMode(n,r);return e.current.getCellParamsForRow(n,r,l,{colDef:t.listView&&(null==(o=t.listViewColumn)?void 0:o.field)===r?dR(e):e.current.getColumn(r),rowNode:i,hasFocus:null!==a&&a.field===r&&a.id===n,tabIndex:s&&s.field===r&&s.id===n?0:-1,cellMode:u})},[e,t.listView,null==(r=t.listViewColumn)?void 0:r.field]),s=g.useCallback(t=>{var n;return e.current.rootElementRef.current?(n=e.current.rootElementRef.current,n.querySelector('[role="columnheader"][data-field="'.concat(vW(t),'"]'))):null},[e]),u=g.useCallback(t=>{var n;return e.current.rootElementRef.current?(n=e.current.rootElementRef.current,n.querySelector(vG(t))):null},[e]),c=g.useCallback((t,n)=>e.current.rootElementRef.current?function(e,t){let{id:n,field:r}=t,o=vG(n),l=".".concat(cW.cell,'[data-field="').concat(vW(r),'"]'),i="".concat(o," ").concat(l);return e.querySelector(i)}(e.current.rootElementRef.current,{id:t,field:n}):null,[e]),d=n.hooks.useGridParamsOverridableMethods(e);mK(e,{getCellValue:d.getCellValue,getCellParams:a,getCellElement:c,getRowValue:d.getRowValue,getRowFormattedValue:d.getRowFormattedValue,getRowParams:l,getRowElement:u,getColumnHeaderParams:o,getColumnHeaderElement:s},"public"),mK(e,{getCellParamsForRow:i},"private")}(v,m,EH),(e=>{let t=e.current.virtualizer,n=t.api.resetColSpan,r=t.api.getCellColSpanInfo,o=t.api.calculateColSpan;mK(e,{unstable_getCellColSpanInfo:r},"public"),mK(e,{resetColSpan:n,calculateColSpan:o},"private"),pS(e,"columnOrderChange",n)})(v),((e,t)=>{let n=g.useCallback(t=>{var n;return null!=(n=fp(e)[t])?n:[]},[e]),r=g.useCallback(()=>fh(e),[e]);mK(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");let o=g.useCallback(()=>{var n;let r=by(null!=(n=t.columnGroupingModel)?n:[]);e.current.setState(e=>{var t,n,o;let l=bw(null!=(n=null==(t=e.columns)?void 0:t.orderedFields)?n:[],r,null!=(o=e.pinnedColumns)?o:{});return(0,cS.default)({},e,{columnGrouping:(0,cS.default)({},e.columnGrouping,{headerStructure:l})})})},[e,t.columnGroupingModel]),l=g.useCallback(t=>{var n,r,o;e.current.caches.columnGrouping.lastColumnGroupingModel=t;let l=null!=(o=null==(n=(r=e.current).getPinnedColumns)?void 0:n.call(r))?o:{},i=dT(e),a=dA(e),s=bv(null!=t?t:[]),u=by(null!=t?t:[]),c=bw(i,u,l),d=0===a.length?0:Math.max(...a.map(e=>{var t,n;return null!=(n=null==(t=u[e])?void 0:t.length)?n:0}));e.current.setState(e=>(0,cS.default)({},e,{columnGrouping:{lookup:s,unwrappedGroupingModel:u,headerStructure:c,maxDepth:d}}))},[e]);pS(e,"columnIndexChange",o),pS(e,"columnsChange",()=>{l(t.columnGroupingModel)}),pS(e,"columnVisibilityModelChange",()=>{l(t.columnGroupingModel)}),g.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&l(t.columnGroupingModel)},[e,l,t.columnGroupingModel])})(v,m),((e,t)=>{((e,t)=>{let n,[r,o]=g.useState({}),l=g.useRef(r),i=g.useRef({}),{processRowUpdate:a,onProcessRowUpdateError:s,cellModesModel:u,onCellModesModelChange:c}=t,d=e=>function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.editMode===hq.Cell&&e(...r)},p=g.useCallback((t,n)=>{let r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not editable."))},[e]),h=g.useCallback((t,n,r)=>{if(e.current.getCellMode(t,n)!==r)throw Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not in ").concat(r," mode."))},[e]),f=g.useCallback((t,n)=>{if(!t.isEditable||t.cellMode===hK.Edit)return;let r=(0,cS.default)({},t,{reason:hU.cellDoubleClick});e.current.publishEvent("cellEditStart",r,n)},[e]),m=g.useCallback((t,n)=>{if(t.cellMode===hK.View||e.current.getCellMode(t.id,t.field)===hK.View)return;let r=(0,cS.default)({},t,{reason:h_.cellFocusOut});e.current.publishEvent("cellEditStop",r,n)},[e]),v=g.useCallback((t,n)=>{if(t.cellMode===hK.Edit){let r;if(229!==n.which&&("Escape"===n.key?r=h_.escapeKeyDown:"Enter"===n.key?r=h_.enterKeyDown:"Tab"===n.key&&(r=n.shiftKey?h_.shiftTabKeyDown:h_.tabKeyDown,n.preventDefault()),r)){let o=(0,cS.default)({},t,{reason:r});e.current.publishEvent("cellEditStop",o,n)}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"cell"}))return;if(h9(n)?r=hU.printableKeyDown:h8(n)?r=hU.pasteKeyDown:"Enter"===n.key?r=hU.enterKeyDown:("Backspace"===n.key||"Delete"===n.key)&&(r=hU.deleteKeyDown),r){let o=(0,cS.default)({},t,{reason:r,key:n.key});e.current.publishEvent("cellEditStart",o,n)}}},[e]),b=g.useCallback(t=>{let{id:n,field:r,reason:o}=t,l={id:n,field:r};(o===hU.printableKeyDown||o===hU.deleteKeyDown||o===hU.pasteKeyDown)&&(l.deleteValue=!0),e.current.startCellEditMode(l)},[e]),y=g.useCallback(t=>{let n,{id:r,field:o,reason:l}=t;e.current.runPendingEditCellValueMutation(r,o),l===h_.enterKeyDown?n="below":l===h_.tabKeyDown?n="right":l===h_.shiftTabKeyDown&&(n="left"),e.current.stopCellEditMode({id:r,field:o,ignoreModifications:"escapeKeyDown"===l,cellToFocusAfter:n})},[e]);pS(e,"cellDoubleClick",d(f)),pS(e,"cellFocusOut",d(m)),pS(e,"cellKeyDown",d(v)),pS(e,"cellEditStart",d(b)),pS(e,"cellEditStop",d(y)),pM(e,"cellEditStart",t.onCellEditStart),pM(e,"cellEditStop",(n=t.onCellEditStop,async function(){for(var t,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];if(n){let{id:r,field:l}=o[0];(null==(t=e.current.state.editRows[r][l])?void 0:t.error)||n(...o)}}));let w=g.useCallback((t,n)=>{let r=v1(e);return r[t]&&r[t][n]?hK.Edit:hK.View},[e]),x=pg(n=>{let r=n!==t.cellModesModel;c&&r&&c(n,{api:e.current}),t.cellModesModel&&r||(o(n),l.current=n,e.current.publishEvent("cellModesModelChange",n))}),C=g.useCallback((e,t,n)=>{let r=(0,cS.default)({},l.current);if(null!==n)r[e]=(0,cS.default)({},r[e],{[t]:(0,cS.default)({},n)});else{let n=r[e],o=(0,cE.default)(n,[t].map(mZ.default));r[e]=o,0===Object.keys(r[e]).length&&delete r[e]}x(r)},[x]),S=g.useCallback((t,n,r)=>{e.current.setState(e=>{let o=(0,cS.default)({},e.editRows);return null!==r?o[t]=(0,cS.default)({},o[t],{[n]:(0,cS.default)({},r)}):(delete o[t][n],0===Object.keys(o[t]).length&&delete o[t]),(0,cS.default)({},e,{editRows:o})})},[e]),k=g.useCallback(e=>{let{id:t,field:n}=e,r=(0,cE.default)(e,v4);p(t,n),h(t,n,hK.View),C(t,n,(0,cS.default)({mode:hK.Edit},r))},[p,h,C]),M=pg(async t=>{let{id:n,field:r,deleteValue:o,initialValue:l}=t,i=e.current.getCellValue(n,r),a=i;o?a=v3(e.current.getColumn(r)):l&&(a=l);let s=e.current.getColumn(r),u=!!s.preProcessEditCellProps&&o,c={value:a,error:!1,isProcessingProps:u};if(S(n,r,c),e.current.setCellFocus(n,r),u&&(c=await Promise.resolve(s.preProcessEditCellProps({id:n,row:e.current.getRow(n),props:c,hasChanged:a!==i})),e.current.getCellMode(n,r)===hK.Edit)){let t=v1(e);S(n,r,(0,cS.default)({},c,{value:t[n][r].value,isProcessingProps:!1}))}}),R=g.useCallback(e=>{let{id:t,field:n}=e,r=(0,cE.default)(e,v9);h(t,n,hK.Edit),C(t,n,(0,cS.default)({mode:hK.View},r))},[h,C]),E=pg(async n=>{var r;let{id:o,field:l,ignoreModifications:u,cellToFocusAfter:c="none"}=n;h(o,l,hK.Edit),e.current.runPendingEditCellValueMutation(o,l);let d=()=>{S(o,l,null),C(o,l,null),"none"!==c&&e.current.moveFocusToRelativeCell(o,l,c)};if(u)return void d();let{error:p,isProcessingProps:f}=v1(e)[o][l],m=e.current.getRow(o);if(p||f){i.current[o][l].mode=hK.Edit,C(o,l,{mode:hK.Edit});return}let g=e.current.getRowWithUpdatedValuesFromCellEditing(o,l);if(null==(r=t.dataSource)?void 0:r.updateRow){if(gi(m,g))return void d();try{await e.current.dataSource.editRow({rowId:o,updatedRow:g,previousRow:m}),d()}catch(e){i.current[o][l].mode=hK.Edit,C(o,l,{mode:hK.Edit})}}else if(a){let t=e=>{i.current[o][l].mode=hK.Edit,C(o,l,{mode:hK.Edit}),s&&s(e)};try{Promise.resolve(a(g,m,{rowId:o})).then(t=>{e.current.updateRows([t]),d()}).catch(t)}catch(e){t(e)}}else e.current.updateRows([g]),d()}),T=g.useCallback(async t=>{var n,r;let{id:o,field:l,value:i,debounceMs:a,unstable_skipValueParser:s}=t;p(o,l),h(o,l,hK.Edit);let u=e.current.getColumn(l),c=e.current.getRow(o),d=i;u.valueParser&&!s&&(d=u.valueParser(i,c,u,e));let f=v1(e),m=(0,cS.default)({},f[o][l],{value:d,changeReason:a?"debouncedSetEditCellValue":"setEditCellValue"});if(u.preProcessEditCellProps){let e=i!==f[o][l].value;S(o,l,m=(0,cS.default)({},m,{isProcessingProps:!0})),m=await Promise.resolve(u.preProcessEditCellProps({id:o,row:c,props:m,hasChanged:e}))}return e.current.getCellMode(o,l)!==hK.View&&(f=v1(e),(m=(0,cS.default)({},m,{isProcessingProps:!1})).value=u.preProcessEditCellProps?f[o][l].value:d,S(o,l,m),!(null==(r=(f=v1(e))[o])||null==(n=r[l])?void 0:n.error))},[e,p,h,S]),I=g.useCallback((t,n)=>{let r=e.current.getColumn(n),o=v1(e),l=e.current.getRow(t);if(!o[t]||!o[t][n])return e.current.getRow(t);let{value:i}=o[t][n];return r.valueSetter?r.valueSetter(i,l,r,e):(0,cS.default)({},l,{[n]:i})},[e]);mK(e,{getCellMode:w,startCellEditMode:k,stopCellEditMode:R},"public"),mK(e,{setCellEditingEditCellValue:T,getRowWithUpdatedValuesFromCellEditing:I},"private"),g.useEffect(()=>{u&&x(u)},[u,x]),pm(()=>{let t=po(e),n=i.current;i.current=pX(r),Object.entries(r).forEach(r=>{let[o,l]=r;Object.entries(l).forEach(r=>{var l,i;let[a,s]=r,u=(null==(i=n[o])||null==(l=i[a])?void 0:l.mode)||hK.View,c=t[o]?e.current.getRowId(t[o]):o;s.mode===hK.Edit&&u===hK.View?M((0,cS.default)({id:c,field:a},s)):s.mode===hK.View&&u===hK.Edit&&E((0,cS.default)({id:c,field:a},s))})})},[e,r,M,E])})(e,t),((e,t)=>{let[n,r]=g.useState({}),o=g.useRef(n),l=g.useRef({}),i=g.useRef({}),a=g.useRef(void 0),s=g.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:c,rowModesModel:d,onRowModesModelChange:p}=t,h=e=>function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.editMode===hq.Row&&e(...r)},f=g.useCallback((t,n)=>{let r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not editable."))},[e]),m=g.useCallback((t,n)=>{if(e.current.getRowMode(t)!==n)throw Error("MUI X: The row with id=".concat(t," is not in ").concat(n," mode."))},[e]),v=g.useCallback(t=>Object.values(v1(e)[t]).some(e=>e.error),[e]),b=g.useCallback((t,n)=>{if(!t.isEditable||e.current.getRowMode(t.id)===h$.Edit)return;let r=e.current.getRowParams(t.id),o=(0,cS.default)({},r,{field:t.field,reason:v6.cellDoubleClick});e.current.publishEvent("rowEditStart",o,n)},[e]),y=g.useCallback(e=>{s.current=e},[]),w=g.useCallback((t,n)=>{t.isEditable&&e.current.getRowMode(t.id)!==h$.View&&(s.current=null,a.current=setTimeout(()=>{var r;if((null==(r=s.current)?void 0:r.id)!==t.id){if(!e.current.getRow(t.id)||e.current.getRowMode(t.id)===h$.View||v(t.id))return;let r=e.current.getRowParams(t.id),o=(0,cS.default)({},r,{field:t.field,reason:v7.rowFocusOut});e.current.publishEvent("rowEditStop",o,n)}}))},[e,v]);g.useEffect(()=>()=>{clearTimeout(a.current)},[]);let x=g.useCallback((t,n)=>{if(t.cellMode===h$.Edit){let r;if(229!==n.which){if("Escape"===n.key)r=v7.escapeKeyDown;else if("Enter"===n.key)r=v7.enterKeyDown;else if("Tab"===n.key){let o=dA(e).filter(n=>e.current.getColumn(n).type===fl||e.current.isCellEditable(e.current.getCellParams(t.id,n)));if(n.shiftKey?t.field===o[0]&&(r=v7.shiftTabKeyDown):t.field===o[o.length-1]&&(r=v7.tabKeyDown),n.preventDefault(),!r){let r=o.findIndex(e=>e===t.field),l=o[n.shiftKey?r-1:r+1];e.current.setCellFocus(t.id,l)}}if(r){if(r!==v7.escapeKeyDown&&v(t.id))return;let o=(0,cS.default)({},e.current.getRowParams(t.id),{reason:r,field:t.field});e.current.publishEvent("rowEditStop",o,n)}}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"row"}))return;if(h9(n)||h8(n)?r=v6.printableKeyDown:"Enter"===n.key?r=v6.enterKeyDown:("Backspace"===n.key||"Delete"===n.key)&&(r=v6.deleteKeyDown),r){let o=e.current.getRowParams(t.id),l=(0,cS.default)({},o,{field:t.field,reason:r});e.current.publishEvent("rowEditStart",l,n)}}},[e,v]),C=g.useCallback(t=>{let{id:n,field:r,reason:o}=t,l={id:n,fieldToFocus:r};(o===v6.printableKeyDown||o===v6.deleteKeyDown)&&(l.deleteValue=!!r),e.current.startRowEditMode(l)},[e]),S=g.useCallback(t=>{let n,{id:r,reason:o,field:l}=t;e.current.runPendingEditCellValueMutation(r),o===v7.enterKeyDown?n="below":o===v7.tabKeyDown?n="right":o===v7.shiftTabKeyDown&&(n="left"),e.current.stopRowEditMode({id:r,ignoreModifications:"escapeKeyDown"===o,field:l,cellToFocusAfter:n})},[e]);pS(e,"cellDoubleClick",h(b)),pS(e,"cellFocusIn",h(y)),pS(e,"cellFocusOut",h(w)),pS(e,"cellKeyDown",h(x)),pS(e,"rowEditStart",h(C)),pS(e,"rowEditStop",h(S)),pM(e,"rowEditStart",t.onRowEditStart),pM(e,"rowEditStop",t.onRowEditStop);let k=g.useCallback(n=>v2(e,{rowId:n,editMode:t.editMode})?h$.Edit:h$.View,[e,t.editMode]),M=pg(n=>{let l=n!==t.rowModesModel;p&&l&&p(n,{api:e.current}),t.rowModesModel&&l||(r(n),o.current=n,e.current.publishEvent("rowModesModelChange",n))}),R=g.useCallback((e,t)=>{let n=(0,cS.default)({},o.current);null!==t?n[e]=(0,cS.default)({},t):delete n[e],M(n)},[M]),E=g.useCallback((t,n)=>{e.current.setState(e=>{let r=(0,cS.default)({},e.editRows);return null!==n?r[t]=n:delete r[t],(0,cS.default)({},e,{editRows:r})})},[e]),T=g.useCallback((t,n,r)=>{e.current.setState(e=>{let o=(0,cS.default)({},e.editRows);return null!==r?o[t]=(0,cS.default)({},o[t],{[n]:(0,cS.default)({},r)}):(delete o[t][n],0===Object.keys(o[t]).length&&delete o[t]),(0,cS.default)({},e,{editRows:o})})},[e]),I=g.useCallback(e=>{let{id:t}=e,n=(0,cE.default)(e,v8);m(t,h$.View),R(t,(0,cS.default)({mode:h$.Edit},n))},[m,R]),O=pg(t=>{let{id:n,fieldToFocus:r,deleteValue:o,initialValue:l}=t,a=e.current.getRow(n),s=dO(e),u=s.reduce((t,i)=>{let a=i.field;if(!e.current.getCellParams(n,a).isEditable)return t;let s=e.current.getColumn(a),u=e.current.getCellValue(n,a);return r===a&&(o||l)&&(o?u=v3(s):l&&(u=l)),t[a]={value:u,error:!1,isProcessingProps:s.editable&&!!s.preProcessEditCellProps&&o},t},{});i.current[n]=a,E(n,u),r&&e.current.setCellFocus(n,r),s.filter(t=>e.current.getCellParams(n,t.field).isEditable&&t.editable&&!!t.preProcessEditCellProps&&o).forEach(t=>{let r=t.field,i=e.current.getCellValue(n,r),s=o?v3(t):null!=l?l:i;Promise.resolve(t.preProcessEditCellProps({id:n,row:a,props:u[r],hasChanged:s!==i})).then(t=>{if(e.current.getRowMode(n)===h$.Edit){let o=v1(e);T(n,r,(0,cS.default)({},t,{value:o[n][r].value,isProcessingProps:!1}))}})})}),P=g.useCallback(e=>{let{id:t}=e,n=(0,cE.default)(e,be);m(t,h$.Edit),R(t,(0,cS.default)({mode:h$.View},n))},[m,R]),N=pg(async n=>{var r;let{id:o,ignoreModifications:a,field:s,cellToFocusAfter:d="none"}=n;e.current.runPendingEditCellValueMutation(o);let p=()=>{"none"!==d&&s&&e.current.moveFocusToRelativeCell(o,s,d),E(o,null),R(o,null),delete i.current[o]};if(a)return void p();let h=v1(e),f=i.current[o];if(Object.values(h[o]).some(e=>e.isProcessingProps)){l.current[o].mode=h$.Edit;return}if(v(o)){l.current[o].mode=h$.Edit,R(o,{mode:h$.Edit});return}let m=e.current.getRowWithUpdatedValuesFromRowEditing(o);if(null==(r=t.dataSource)?void 0:r.updateRow){if(gi(f,m))return void p();try{await e.current.dataSource.editRow({rowId:o,updatedRow:m,previousRow:f}),p()}catch(e){l.current[o].mode=h$.Edit,R(o,{mode:h$.Edit})}}else if(u){let t=e=>{l.current[o]&&(l.current[o].mode=h$.Edit,R(o,{mode:h$.Edit})),c&&c(e)};try{Promise.resolve(u(m,f,{rowId:o})).then(t=>{e.current.updateRows([t]),p()}).catch(t)}catch(e){t(e)}}else e.current.updateRows([m]),p()}),D=g.useCallback(t=>{let{id:n,field:r,value:o,debounceMs:l,unstable_skipValueParser:i}=t;f(n,r);let a=e.current.getColumn(r),s=e.current.getRow(n),u=o;a.valueParser&&!i&&(u=a.valueParser(o,s,a,e));let c=v1(e),d=(0,cS.default)({},c[n][r],{value:u,changeReason:l?"debouncedSetEditCellValue":"setEditCellValue"});return a.preProcessEditCellProps||T(n,r,d),new Promise(t=>{let o=[];if(a.preProcessEditCellProps){let l=d.value!==c[n][r].value;T(n,r,d=(0,cS.default)({},d,{isProcessingProps:!0}));let i=c[n],p=(0,cE.default)(i,[r].map(mZ.default)),h=Promise.resolve(a.preProcessEditCellProps({id:n,row:s,props:d,hasChanged:l,otherFieldsProps:p})).then(o=>{if(e.current.getRowMode(n)===h$.View)return void t(!1);c=v1(e),(o=(0,cS.default)({},o,{isProcessingProps:!1})).value=a.preProcessEditCellProps?c[n][r].value:u,T(n,r,o)});o.push(h)}Object.entries(c[n]).forEach(l=>{let[i,a]=l;if(i===r)return;let u=e.current.getColumn(i);if(!u.preProcessEditCellProps)return;T(n,i,a=(0,cS.default)({},a,{isProcessingProps:!0}));let d=(c=v1(e))[n],p=(0,cE.default)(d,[i].map(mZ.default)),h=Promise.resolve(u.preProcessEditCellProps({id:n,row:s,props:a,hasChanged:!1,otherFieldsProps:p})).then(r=>{if(e.current.getRowMode(n)===h$.View)return void t(!1);T(n,i,r=(0,cS.default)({},r,{isProcessingProps:!1}))});o.push(h)}),Promise.all(o).then(()=>{e.current.getRowMode(n)===h$.Edit?t(!(c=v1(e))[n][r].error):t(!1)})})},[e,f,T]),A=g.useCallback(t=>{let n=v1(e),r=e.current.getRow(t);if(!n[t])return e.current.getRow(t);let o=(0,cS.default)({},i.current[t],r);return Object.entries(n[t]).forEach(t=>{let[n,r]=t,l=e.current.getColumn(n);(null==l?void 0:l.valueSetter)?o=l.valueSetter(r.value,o,l,e):o[n]=r.value}),o},[e]);mK(e,{getRowMode:k,startRowEditMode:I,stopRowEditMode:P},"public"),mK(e,{setRowEditingEditCellValue:D,getRowWithUpdatedValuesFromRowEditing:A},"private"),g.useEffect(()=>{d&&M(d)},[d,M]),pm(()=>{let t=po(e),r=l.current;l.current=pX(n),Array.from(new Set([...Object.keys(n),...Object.keys(r)])).forEach(o=>{var l,i;let a=null!=(i=n[o])?i:{mode:h$.View},s=(null==(l=r[o])?void 0:l.mode)||h$.View,u=t[o]?e.current.getRowId(t[o]):o;a.mode===h$.Edit&&s===h$.View?O((0,cS.default)({id:u},a)):a.mode===h$.View&&s===h$.Edit&&N((0,cS.default)({id:u},a))})},[e,n,O,N])})(e,t);let n=g.useRef({}),{isCellEditable:r}=t,o=g.useCallback(e=>!hS(e.rowNode)&&!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!r||r(e)),[r]);g.useEffect(()=>{let e=n.current;return()=>{Object.entries(e).forEach(t=>{let[n,r]=t;Object.keys(r).forEach(t=>{let[r]=e[n][t];clearTimeout(r),delete e[n][t]})})}},[]);let l=g.useCallback((e,t)=>{if(n.current[e])if(t){if(n.current[e][t]){let[,r]=n.current[e][t];r()}}else Object.keys(n.current[e]).forEach(t=>{let[,r]=n.current[e][t];r()})},[]),i=g.useCallback(r=>{let{id:o,field:l,debounceMs:i}=r;return new Promise(a=>{((e,t,r,o)=>{if(!r)return o();if(n.current[e]||(n.current[e]={}),n.current[e][t]){let[r]=n.current[e][t];clearTimeout(r)}let l=setTimeout(()=>{o(),delete n.current[e][t]},r);n.current[e][t]=[l,()=>{let[r]=n.current[e][t];clearTimeout(r),o(),delete n.current[e][t]}]})(o,l,i,async()=>{let n=t.editMode===hq.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;e.current.getCellMode(o,l)===hK.Edit&&a(await n(r))})})},[e,t.editMode]),a=g.useCallback((n,r)=>t.editMode===hq.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(n,r):e.current.getRowWithUpdatedValuesFromRowEditing(n),[e,t.editMode]),s=g.useCallback((t,n)=>{var r,o;return null!=(o=null==(r=v1(e)[t])?void 0:r[n])?o:null},[e]);mK(e,{isCellEditable:o,setEditCellValue:i,getRowWithUpdatedValues:a,unstable_getEditCellMeta:s},"public"),mK(e,{runPendingEditCellValueMutation:l},"private")})(v,m),((e,t)=>{let n=vs(e,"useGridFocus"),r=g.useRef(null),o=null!==e.current.rootElementRef.current,l=g.useCallback((t,n)=>{t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),n)},[e]),i=g.useCallback((t,r)=>{let o=f2(e);((null==o?void 0:o.id)!==t||(null==o?void 0:o.field)!==r)&&(e.current.setState(e=>(n.debug("Focusing on cell with id=".concat(t," and field=").concat(r)),(0,cS.default)({},e,{tabIndex:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(t)&&(o&&l(o,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,r))))},[e,n,l]),a=g.useCallback(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(f2(e),r),e.current.setState(e=>(n.debug("Focusing on column header with colIndex=".concat(t)),(0,cS.default)({},e,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,l]),s=g.useCallback(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(f2(e),r),e.current.setState(e=>(n.debug("Focusing on column header filter with colIndex=".concat(t)),(0,cS.default)({},e,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})))},[e,n,l]),u=g.useCallback(function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=f2(e);o&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(o.id,o.field),r),e.current.setState(e=>(0,cS.default)({},e,{tabIndex:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),c=g.useCallback(()=>f3(e),[e]),d=g.useCallback((n,r,o)=>{let l=e.current.getColumnIndex(r),i=dD(e),a=g9(e,{pagination:t.pagination,paginationMode:t.paginationMode}),s=ph(e),u=[].concat(s.top||[],a.rows,s.bottom||[]),c=u.findIndex(e=>e.id===n);"right"===o?l+=1:"left"===o?l-=1:c+=1,l>=i.length?(c+=1)<u.length&&(l=0):l<0&&(c-=1)>=0&&(l=i.length-1),c=pJ(c,0,u.length-1);let d=u[c];if(!d)return;let p=e.current.unstable_getCellColSpanInfo(d.id,l);p&&p.spannedByColSpan&&("left"===o||"below"===o?l=p.leftVisibleCellIndex:"right"===o&&(l=p.rightVisibleCellIndex)),l=pJ(l,0,i.length-1);let h=i[l];e.current.setCellFocus(d.id,h.field)},[e,t.pagination,t.paginationMode]),p=g.useCallback(t=>{let{id:n,field:r}=t;e.current.setCellFocus(n,r)},[e]),h=g.useCallback((t,n)=>{"Enter"===n.key||"Tab"===n.key||"Shift"===n.key||h6(n.key)||e.current.setCellFocus(t.id,t.field)},[e]),f=g.useCallback((t,n)=>{let{field:r}=t;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)},[e]),m=g.useCallback((t,n)=>{let{fields:r,depth:o}=t;if(n.target!==n.currentTarget)return;let l=f3(e);null!==l&&l.depth===o&&r.includes(l.field)||e.current.setColumnGroupHeaderFocus(r[0],o,n)},[e]),v=g.useCallback((t,r)=>{var o,l;null!=(l=r.relatedTarget)&&null!=(o=l.getAttribute("class"))&&o.includes(cW.columnHeader)||(n.debug("Clearing focus"),e.current.setState(e=>(0,cS.default)({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),b=g.useCallback(e=>{r.current=e},[]),y=g.useCallback(t=>{let n=r.current;r.current=null;let o=f2(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:n}))return;if(!o){n&&e.current.setCellFocus(n.id,n.field);return}if((null==n?void 0:n.id)===o.id&&(null==n?void 0:n.field)===o.field)return;let i=e.current.getCellElement(o.id,o.field);null!=i&&i.contains(t.target)||(n?e.current.setCellFocus(n.id,n.field):(e.current.setState(e=>(0,cS.default)({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),l(o,t)))},[e,l]),w=g.useCallback(t=>{if("view"===t.cellMode)return;let n=f2(e);((null==n?void 0:n.id)!==t.id||(null==n?void 0:n.field)!==t.field)&&e.current.setCellFocus(t.id,t.field)},[e]),x=g.useCallback(()=>{let n=f2(e);if(n&&!e.current.getRow(n.id)){let o=n.id,l=null;if(void 0!==o){var r;let n=e.current.getRowElement(o),i=(null==n?void 0:n.dataset.rowindex)?Number(null==n?void 0:n.dataset.rowindex):0,a=g9(e,{pagination:t.pagination,paginationMode:t.paginationMode}),s=a.rows[pJ(i,0,a.rows.length-1)];l=null!=(r=null==s?void 0:s.id)?r:null}e.current.setState(e=>(0,cS.default)({},e,{focus:{cell:null===l?null:{id:l,field:n.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),C=pg(()=>{let n=f2(e);if(!n)return;let r=g9(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(r.rows.find(e=>e.id===n.id)||0===r.rows.length)return;let o=dD(e);e.current.setState(e=>(0,cS.default)({},e,{tabIndex:{cell:{id:r.rows[0].id,field:o[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))});mK(e,{setCellFocus:i,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:s},"public"),mK(e,{moveFocusToRelativeCell:d,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:c},"private"),g.useEffect(()=>{let t=vD(e.current.rootElementRef.current);return t.addEventListener("mouseup",y),()=>{t.removeEventListener("mouseup",y)}},[e,o,y]),pS(e,"columnHeaderBlur",v),pS(e,"cellDoubleClick",p),pS(e,"cellMouseDown",b),pS(e,"cellKeyDown",h),pS(e,"cellModeChange",w),pS(e,"columnHeaderFocus",f),pS(e,"columnGroupHeaderFocus",m),pS(e,"rowsSet",x),pS(e,"paginationModelChange",C)})(v,m),((e,t)=>{var n;let r=vs(e,"useGridPreferencesPanel"),o=g.useCallback(()=>{e.current.setState(t=>{if(!t.preferencePanel.open)return t;r.debug("Hiding Preferences Panel");let n=dW(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:n.openedPanelValue}),(0,cS.default)({},t,{preferencePanel:{open:!1}})})},[e,r]),l=g.useCallback((t,n,o)=>{r.debug("Opening Preferences Panel"),e.current.setState(e=>(0,cS.default)({},e,{preferencePanel:(0,cS.default)({},e.preferencePanel,{open:!0,openedPanelValue:t,panelId:n,labelId:o})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t})},[r,e]);mK(e,{showPreferences:l,hidePreferences:o},"public");let i=g.useCallback((n,r)=>{var o;let l=dW(e);return!r.exportOnlyDirtyModels||(null==(o=t.initialState)?void 0:o.preferencePanel)!=null||l.open?(0,cS.default)({},n,{preferencePanel:l}):n},[e,null==(n=t.initialState)?void 0:n.preferencePanel]),a=g.useCallback((t,n)=>{let r=n.stateToRestore.preferencePanel;return null!=r&&e.current.setState(e=>(0,cS.default)({},e,{preferencePanel:r})),t},[e]);vx(e,"exportState",i),vx(e,"restoreState",a)})(v,m),((e,n,r)=>{var o,l,i;let s=vs(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:n.filterModel,propOnChange:n.onFilterModelChange,stateSelector:fj,changeEvent:"filterModelChange"});let u=g.useCallback(()=>{e.current.setState(t=>{let n=fj(e),r=e.current.getFilterState(n),o=(0,cS.default)({},t,{filter:(0,cS.default)({},t.filter,r)}),l=vF(e,o);return(0,cS.default)({},o,{visibleRowsLookup:l})}),e.current.publishEvent("filteredRowsSet")},[e]),c=g.useCallback((e,t)=>null==t||!1===t.filterable||n.disableColumnFilter?e:[...e,"columnMenuFilterItem"],[n.disableColumnFilter]),d=g.useCallback(t=>{let n=fj(e),r=[...n.items],o=r.findIndex(e=>e.id===t.id);-1===o?r.push(t):r[o]=t,e.current.setFilterModel((0,cS.default)({},n,{items:r}),"upsertFilterItem")},[e]),p=g.useCallback(t=>{let n=fj(e),r=[...n.items];t.forEach(e=>{let t=r.findIndex(t=>t.id===e.id);-1===t?r.push(e):r[t]=e}),e.current.setFilterModel((0,cS.default)({},n,{items:r}),"upsertFilterItems")},[e]),h=g.useCallback(t=>{let n=fj(e),r=n.items.filter(e=>e.id!==t.id);r.length!==n.items.length&&e.current.setFilterModel((0,cS.default)({},n,{items:r}),"deleteFilterItem")},[e]),f=g.useCallback((t,r,o)=>{if(s.debug("Displaying filter panel"),t){let r,o=fj(e),l=o.items.filter(t=>{var n;if(void 0!==t.value)return!Array.isArray(t.value)||0!==t.value.length;let r=null==(n=e.current.getColumn(t.field).filterOperators)?void 0:n.find(e=>e.value===t.operator);return void 0!==(null==r?void 0:r.requiresFilterValue)&&(null==r||!r.requiresFilterValue)}),i=l.find(e=>e.field===t),a=e.current.getColumn(t);r=i?l:n.disableMultipleColumnsFiltering?[p5({field:t,operator:a.filterOperators[0].value},e)]:[...l,p5({field:t,operator:a.filterOperators[0].value},e)],e.current.setFilterModel((0,cS.default)({},o,{items:r}))}e.current.showPreferences(dU.filters,r,o)},[e,s,n.disableMultipleColumnsFiltering]),m=g.useCallback(()=>{s.debug("Hiding filter panel"),e.current.hidePreferences()},[e,s]),v=g.useCallback(t=>{let n=fj(e);n.logicOperator!==t&&e.current.setFilterModel((0,cS.default)({},n,{logicOperator:t}),"changeLogicOperator")},[e]),b=g.useCallback(t=>{let n=fj(e);gi(n.quickFilterValues,t)||e.current.setFilterModel((0,cS.default)({},n,{quickFilterValues:[...t]}))},[e]),y=g.useCallback((t,r)=>{fj(e)!==t&&(s.debug("Setting filter model"),e.current.updateControlState("filter",p4(t,n.disableMultipleColumnsFiltering,e),r),e.current.unstable_applyFilters())},[e,s,n.disableMultipleColumnsFiltering]),w=g.useCallback(o=>{let l=p3(o,n.disableMultipleColumnsFiltering,e),i=r.hooks.useFilterValueGetter(e,n),a="client"===n.filterMode?((e,n,r,o)=>{let l=((e,n,r,o)=>{let{items:l}=e,i=l.map(e=>p6(e,n,r)).filter(e=>!!e);if(0===i.length)return null;if(o||!function(){if(void 0!==t)return t;try{t=Function("return true")()}catch(e){t=!1}return t}())return(e,t)=>{let n={};for(let r=0;r<i.length;r+=1){let o=i[r];(!t||t(o.item.field))&&(n[o.item.id]=o.fn(e))}return n};let a=Function("appliers","row","shouldApplyFilter",'"use strict";\n'.concat(i.map((e,t)=>"const shouldApply".concat(t," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(e.item.field),");")).join("\n"),"\n\nconst result$$ = {\n").concat(i.map((e,t)=>"  ".concat(JSON.stringify(String(e.item.id)),": !shouldApply").concat(t," ? false : appliers[").concat(t,"].fn(row),")).join("\n"),"\n};\n\nreturn result$$;").replaceAll("$$",String(p7)));return p7+=1,(e,t)=>a(i,e,t)})(e,n,r,o),i=((e,t,n)=>{var r,o;let l,i=null!=(o=null==(r=e.quickFilterValues)?void 0:r.filter(Boolean))?o:[];if(0===i.length)return null;let a=dT(n),s=dP(n);l=p8(e)?a.filter(e=>!1!==s[e]):a;let u=[],{ignoreDiacritics:c}=n.current.rootProps,d=p2(n);return l.forEach(e=>{let t=n.current.getColumn(e),r=null==t?void 0:t.getApplyQuickFilterFn;r&&u.push({column:t,appliers:i.map(e=>({fn:r(c?p9(e):e,t,d)}))})}),function(e,n){let r={};r:for(let o=0;o<i.length;o+=1){let l=i[o];for(let i=0;i<u.length;i+=1){let{column:a,appliers:s}=u[i],{field:p}=a;if(n&&!n(p))continue;let h=s[o],f=t(e,a);if(null!==h.fn&&(c&&(f=p9(f)),h.fn(f,e,a,d))){r[l]=!0;continue r}}r[l]=!1}return r}})(e,n,r);return function(e,t,n){var r,o;n.passingFilterItems=null!=(r=null==l?void 0:l(e,t))?r:null,n.passingQuickFilterValues=null!=(o=null==i?void 0:i(e,t))?o:null}})(l,i,e,n.disableEval):null,s=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:a,filterModel:null!=l?l:p1(),filterValueGetter:i});return(0,cS.default)({},s,{filterModel:l})},[e,r.hooks,n]),x={setFilterLogicOperator:v,unstable_applyFilters:u,deleteFilterItem:h,upsertFilterItem:d,upsertFilterItems:p,setFilterModel:y,showFilterPanel:f,hideFilterPanel:m,setQuickFilterValues:b,ignoreDiacritics:n.ignoreDiacritics,getFilterState:w};mK(e,x,"public");let C=g.useCallback((t,r)=>{var o,l;let i=fj(e);return(i.items.forEach(e=>{delete e.fromInput}),r.exportOnlyDirtyModels&&null==n.filterModel&&(null==(l=n.initialState)||null==(o=l.filter)?void 0:o.filterModel)==null&&gi(i,p1()))?t:(0,cS.default)({},t,{filter:{filterModel:i}})},[e,n.filterModel,null==(l=n.initialState)||null==(o=l.filter)?void 0:o.filterModel]),S=g.useCallback((t,r)=>{var o;let l=null==(o=r.stateToRestore.filter)?void 0:o.filterModel;return null==l?t:(e.current.updateControlState("filter",p4(l,n.disableMultipleColumnsFiltering,e),"restoreState"),(0,cS.default)({},t,{callbacks:[...t.callbacks,e.current.unstable_applyFilters]}))},[e,n.disableMultipleColumnsFiltering]),k=g.useCallback((e,t)=>{if(t===dU.filters){var r;let e=n.slots.filterPanel;return(0,a.jsx)(e,(0,cS.default)({},null==(r=n.slotProps)?void 0:r.filterPanel))}return e},[n.slots.filterPanel,null==(i=n.slotProps)?void 0:i.filterPanel]),{getRowId:M}=n,R=cX(vH),E=g.useCallback(t=>{var r;if("client"!==n.filterMode||!t.isRowMatchingFilters||!t.filterModel.items.length&&!(null==(r=t.filterModel.quickFilterValues)?void 0:r.length))return p0;let o=po(e),l={},{isRowMatchingFilters:i}=t,a={},s={passingFilterItems:null,passingQuickFilterValues:null},u=R.current(e.current.state.rows.dataRowIdToModelLookup);for(let n=0;n<u.length;n+=1){let r=u[n],o=M?M(r):r.id;i(r,void 0,s);let c=ht([s.passingFilterItems],[s.passingQuickFilterValues],t.filterModel,t.filterValueGetter,e,a);c||(l[o]=c)}let c="auto-generated-group-footer-root";return o[c]&&(l[c]=!0),{filteredRowsLookup:l,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,n.filterMode,M,R]);vx(e,"columnMenu",c),vx(e,"exportState",C),vx(e,"restoreState",S),vx(e,"preferencePanel",k),vL(e,m1,"filtering",E),vL(e,m1,"visibleRowsLookupCreation",vz);let T=g.useCallback(()=>{s.debug("onColUpdated - GridColumns changed, applying filters");let t=fj(e),n=dI(e),r=t.items.filter(e=>e.field&&n[e.field]);r.length<t.items.length&&e.current.setFilterModel((0,cS.default)({},t,{items:r}))},[e,s]),I=g.useCallback(t=>{"filtering"===t&&e.current.unstable_applyFilters()},[e]),O=g.useCallback(()=>{e.current.setState(t=>(0,cS.default)({},t,{visibleRowsLookup:vF(e,t)}))},[e]);pS(e,"rowsSet",u),pS(e,"columnsChange",T),pS(e,"activeStrategyProcessorChange",I),pS(e,"rowExpansionChange",O),pS(e,"columnVisibilityModelChange",()=>{var t;let n=fj(e);(null==(t=n.quickFilterValues)?void 0:t.length)&&p8(n)&&u()}),gS(()=>{u()}),pm(()=>{void 0!==n.filterModel&&e.current.setFilterModel(n.filterModel)},[e,s,n.filterModel])})(v,m,EH),((e,t)=>{var n,r;let o=vs(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:fD,changeEvent:"sortModelChange"});let l=g.useCallback((t,n)=>{let r=fD(e),o=r.findIndex(e=>e.field===t),l=[...r];return o>-1?(null==n?void 0:n.sort)==null?l.splice(o,1):l.splice(o,1,n):l=[...r,n],l},[e]),i=g.useCallback((n,r)=>{var o,l;let i=fD(e).find(e=>e.field===n.field);if(i){let e=void 0===r?pj(null!=(o=n.sortingOrder)?o:t.sortingOrder,i.sort):r;return void 0===e?void 0:(0,cS.default)({},i,{sort:e})}return{field:n.field,sort:void 0===r?pj(null!=(l=n.sortingOrder)?l:t.sortingOrder):r}},[e,t.sortingOrder]),a=g.useCallback((e,n)=>null==n||!1===n.sortable||t.disableColumnSorting?e:(n.sortingOrder||t.sortingOrder).some(e=>!!e)?[...e,"columnMenuSortItem"]:e,[t.sortingOrder,t.disableColumnSorting]),s=g.useCallback(()=>{e.current.setState(n=>{if("server"===t.sortingMode)return o.debug("Skipping sorting rows as sortingMode = server"),(0,cS.default)({},n,{sorting:(0,cS.default)({},n.sorting,{sortedRows:hk(pl(e),hv,!1)})});let r=((e,t)=>{let n=e.map(e=>((e,t)=>{let n,r=t.current.getColumn(e.field);return r&&null!==e.sort?(n=r.getSortComparator?r.getSortComparator(e.sort):"desc"===e.sort?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return -1*r.sortComparator(...t)}:r.sortComparator)?{getSortCellParams:e=>({id:e,field:r.field,rowNode:pi(t,e),value:t.current.getCellValue(e,r.field),api:t.current}),comparator:n}:null:null})(e,t)).filter(e=>!!e);return 0===n.length?null:e=>e.map(e=>({node:e,params:n.map(t=>t.getSortCellParams(e.id))})).sort((e,t)=>n.reduce((n,r,o)=>{if(0!==n)return n;let l=e.params[o],i=t.params[o];return r.comparator(l.value,i.value,l,i)},0)).map(e=>e.node.id)})(fD(e),e),l=e.current.applyStrategyProcessor("sorting",{sortRowList:r});return(0,cS.default)({},n,{sorting:(0,cS.default)({},n.sorting,{sortedRows:l})})}),e.current.publishEvent("sortedRowsSet")},[e,o,t.sortingMode]),u=g.useCallback(n=>{fD(e)!==n&&(o.debug("Setting sort model"),e.current.setState(pL(n,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),c=g.useCallback((n,r,o)=>{let a,s=e.current.getColumn(n),u=i(s,r);a=!o||t.disableMultipleColumnsSorting?(null==u?void 0:u.sort)==null?[]:[u]:l(s.field,u),e.current.setSortModel(a)},[e,l,i,t.disableMultipleColumnsSorting]),d=g.useCallback(()=>fD(e),[e]),p=g.useCallback(()=>fN(e).map(e=>e.model),[e]),h=g.useCallback(()=>fP(e),[e]),f=g.useCallback(t=>e.current.getSortedRowIds()[t],[e]);mK(e,{getSortModel:d,getSortedRows:p,getSortedRowIds:h,getRowIdFromRowIndex:f,setSortModel:u,sortColumn:c,applySorting:s},"public");let m=g.useCallback((n,r)=>{var o,l;let i=fD(e);return!r.exportOnlyDirtyModels||null!=t.sortModel||(null==(l=t.initialState)||null==(o=l.sorting)?void 0:o.sortModel)!=null||i.length>0?(0,cS.default)({},n,{sorting:{sortModel:i}}):n},[e,t.sortModel,null==(r=t.initialState)||null==(n=r.sorting)?void 0:n.sortModel]),v=g.useCallback((n,r)=>{var o;let l=null==(o=r.stateToRestore.sorting)?void 0:o.sortModel;return null==l?n:(e.current.setState(pL(l,t.disableMultipleColumnsSorting)),(0,cS.default)({},n,{callbacks:[...n.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),b=g.useCallback(t=>{let n=pl(e),r=n[hv],o=t.sortRowList?t.sortRowList(r.children.map(e=>n[e])):[...r.children];return null!=r.footerId&&o.push(r.footerId),o},[e]);vx(e,"exportState",m),vx(e,"restoreState",v),vL(e,m1,"sorting",b);let y=g.useCallback((e,n)=>{let{field:r,colDef:o}=e;o.sortable&&!t.disableColumnSorting&&c(r,void 0,"always"===t.multipleColumnsSortingMode||n.shiftKey||n.metaKey||n.ctrlKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),w=g.useCallback((e,n)=>{let{field:r,colDef:o}=e;o.sortable&&!t.disableColumnSorting&&("Enter"!==n.key||n.ctrlKey||n.metaKey||c(r,void 0,"always"===t.multipleColumnsSortingMode||n.shiftKey))},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),x=g.useCallback(()=>{let t=fD(e),n=dI(e);if(t.length>0){let r=t.filter(e=>n[e.field]);r.length<t.length&&e.current.setSortModel(r)}},[e]),C=g.useCallback(t=>{"sorting"===t&&e.current.applySorting()},[e]);vx(e,"columnMenu",a),pS(e,"columnHeaderClick",y),pS(e,"columnHeaderKeyDown",w),pS(e,"rowsSet",e.current.applySorting),pS(e,"columnsChange",x),pS(e,"activeStrategyProcessorChange",C),gS(()=>{e.current.applySorting()}),pm(()=>{void 0!==t.sortModel&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])})(v,m),((e,t)=>{var n;let r=vs(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:dv,changeEvent:"densityChange"});let o=pg(t=>{dv(e)!==t&&(r.debug("Set grid density to ".concat(t)),e.current.setState(e=>(0,cS.default)({},e,{density:t})))});mK(e,{setDensity:o},"public");let l=g.useCallback((n,r)=>{var o;let l=dv(e);return r.exportOnlyDirtyModels&&null==t.density&&(null==(o=t.initialState)?void 0:o.density)==null?n:(0,cS.default)({},n,{density:l})},[e,t.density,null==(n=t.initialState)?void 0:n.density]),i=g.useCallback((t,n)=>{var r;let o=(null==(r=n.stateToRestore)?void 0:r.density)?n.stateToRestore.density:dv(e);return e.current.setState(e=>(0,cS.default)({},e,{density:o})),t},[e]);vx(e,"exportState",l),vx(e,"restoreState",i),g.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])})(v,m),((e,t)=>{let n=(0,h4.useRtl)(),r=vs(e,"useGridColumnResize"),o=cX(bP).current,l=g.useRef(null),i=g.useRef(null),a=pI(),s=g.useRef(void 0),u=t=>{var l,i,a,s,u,c;r.debug("Updating width to ".concat(t," for col ").concat(o.colDef.field));let d=t-o.columnHeaderElement.offsetWidth,p=t-o.initialColWidth;if(p>0){let t=o.initialTotalWidth+p;null==(i=e.current.rootElementRef)||null==(l=i.current)||l.style.setProperty("--DataGrid-rowWidth","".concat(t,"px"))}o.colDef.computedWidth=t,o.colDef.width=t,o.colDef.flex=0,o.columnHeaderElement.style.width="".concat(t,"px");let h=o.headerFilterElement;h&&(h.style.width="".concat(t,"px")),o.groupHeaderElements.forEach(e=>{let n;n="1"===e.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(e.offsetWidth+d,"px"),e.style.width=n}),o.cellElements.forEach(e=>{let n;n="1"===e.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(e.offsetWidth+d,"px"),e.style.setProperty("--width",n)});let f=dZ(e),m=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);m===dC.LEFT&&(bN(o.fillerLeft,"width",d),o.leftPinnedCellsAfter.forEach(e=>{bN(e,"left",d)}),o.leftPinnedHeadersAfter.forEach(e=>{bN(e,"left",d)}),null==(s=e.current.rootElementRef)||null==(a=s.current)||a.style.setProperty(bE(n,m),"".concat(bT(f,n,m)+p,"px"))),m===dC.RIGHT&&(bN(o.fillerRight,"width",d),o.rightPinnedCellsBefore.forEach(e=>{bN(e,"right",d)}),o.rightPinnedHeadersBefore.forEach(e=>{bN(e,"right",d)}),null==(c=e.current.rootElementRef)||null==(u=c.current)||u.style.setProperty(bE(n,m),"".concat(bT(f,n,m)+p,"px")))},c=t=>{if(b(),o.previousMouseClickEvent){let n=o.previousMouseClickEvent,r=n.timeStamp,l=n.clientX,i=n.clientY;if(t.timeStamp-r<300&&t.clientX===l&&t.clientY===i){o.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,t);return}}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug("Updating col ".concat(o.colDef.field," with new width: ").concat(o.colDef.width));let t=dE(e);o.groupHeaderElements.forEach(e=>{let n=e.getAttribute("data-fields").slice(2,-2).split("-|-").reduce((e,n)=>!1!==t.columnVisibilityModel[n]?e+t.lookup[n].computedWidth:e,0);e.style.width="".concat(n,"px")})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,t)})},d=(t,r,a)=>{var s,u,c,d,p,h,f,m;let g=e.current.rootElementRef.current;o.initialColWidth=t.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=t,u=e.current.columnHeadersContainerRef.current,c=t.field,o.columnHeaderElement=u.querySelector('[data-field="'.concat(vW(c),'"]'));let v=g.querySelector(".".concat(cW.headerFilterRow,' [data-field="').concat(vW(t.field),'"]'));v&&(o.headerFilterElement=v),d=null==(s=e.current.columnHeadersContainerRef)?void 0:s.current,p=t.field,o.groupHeaderElements=Array.from(null!=(h=d.querySelectorAll('[data-fields*="|-'.concat(vW(p),'-|"]')))?h:[]),o.cellElements=function(e,t){var n;if(!vV(e,cW.root))throw Error("MUI X: The root element is not found.");let r=e.getAttribute("aria-colindex");if(!r)return[];let o=Number(r)-1,l=[];return(null==(n=t.virtualScrollerRef)?void 0:n.current)?(v$(t).forEach(e=>{let n=e.getAttribute("data-id");if(!n)return;let r=o,i=t.unstable_getCellColSpanInfo(n,o);i&&i.spannedByColSpan&&(r=i.leftVisibleCellIndex);let a=e.querySelector('[data-colindex="'.concat(r,'"]'));a&&l.push(a)}),l):[]}(o.columnHeaderElement,e.current),o.fillerLeft=v_(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=v_(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");let b=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=b!==dC.LEFT?[]:function(e,t,n){let r=vJ(t);return vq({api:e,colIndex:r,position:n?"right":"left",filterFn:e=>n?e<r:e>r})}(e.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=b!==dC.RIGHT?[]:function(e,t,n){let r=vJ(t);return vq({api:e,colIndex:r,position:n?"left":"right",filterFn:e=>n?e>r:e<r})}(e.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=b!==dC.LEFT?[]:function(e,t,n){let r=vJ(t);return vK({api:e,position:n?"right":"left",colIndex:r,filterFn:e=>n?e<r:e>r})}(e.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=b!==dC.RIGHT?[]:function(e,t,n){let r=vJ(t);return vK({api:e,position:n?"left":"right",colIndex:r,filterFn:(e,t)=>!t.classList.contains(cW["columnHeader--last"])&&(n?e>r:e<r)})}(e.current,o.columnHeaderElement,n),i.current=function(e,t){let n=e.classList.contains(cW["columnSeparator--sideRight"])?"Right":"Left";return t?"Right"===n?"Left":"Right":n}(r,n),f=a,m=o.columnHeaderElement.getBoundingClientRect(),l.current="Left"===i.current?f-m.left:m.right-f},p=pg(c),h=pg(t=>{if(0===t.buttons)return void p(t);let n=bR(l.current,t.clientX,o.columnHeaderElement.getBoundingClientRect(),i.current);u(n=pJ(n,o.colDef.minWidth,o.colDef.maxWidth));let r={element:o.columnHeaderElement,colDef:o.colDef,width:n};e.current.publishEvent("columnResize",r,t)}),f=pg(e=>{bM(e,s.current)&&c(e)}),m=pg(t=>{let n=bM(t,s.current);if(!n)return;if("mousemove"===t.type&&0===t.buttons)return void f(t);let r=bR(l.current,n.x,o.columnHeaderElement.getBoundingClientRect(),i.current);u(r=pJ(r,o.colDef.minWidth,o.colDef.maxWidth));let a={element:o.columnHeaderElement,colDef:o.colDef,width:r};e.current.publishEvent("columnResize",a,t)}),v=pg(t=>{let n=vV(t.target,cW["columnSeparator--resizable"]);if(!n)return;let o=t.changedTouches[0];null!=o&&(s.current=o.identifier);let l=vV(t.target,cW.columnHeader).getAttribute("data-field"),i=e.current.getColumn(l);r.debug("Start Resize on col ".concat(i.field)),e.current.publishEvent("columnResizeStart",{field:l},t),d(i,n,o.clientX);let a=vD(t.currentTarget);a.addEventListener("touchmove",m),a.addEventListener("touchend",f)}),b=g.useCallback(()=>{let t=vD(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",h),t.removeEventListener("mouseup",p),t.removeEventListener("touchmove",m),t.removeEventListener("touchend",f),setTimeout(()=>{t.removeEventListener("click",bI,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[e,o,h,p,m,f]),y=g.useCallback(t=>{let{field:n}=t;e.current.setState(e=>(0,cS.default)({},e,{columnResize:(0,cS.default)({},e.columnResize,{resizingColumnField:n})}))},[e]),w=g.useCallback(()=>{e.current.setState(e=>(0,cS.default)({},e,{columnResize:(0,cS.default)({},e.columnResize,{resizingColumnField:""})}))},[e]),x=pg((t,n)=>{let{colDef:l}=t;if(0!==n.button||!n.currentTarget.classList.contains(cW["columnSeparator--resizable"]))return;n.preventDefault(),r.debug("Start Resize on col ".concat(l.field)),e.current.publishEvent("columnResizeStart",{field:l.field},n),d(l,n.currentTarget,n.clientX);let i=vD(e.current.rootElementRef.current);i.body.style.cursor="col-resize",o.previousMouseClickEvent=n.nativeEvent,i.addEventListener("mousemove",h),i.addEventListener("mouseup",p),i.addEventListener("click",bI,!0)}),C=pg((n,r)=>{if(t.disableAutosize||0!==r.button)return;let o=e.current.state.columns.lookup[n.field];!1!==o.resizable&&e.current.autosizeColumns((0,cS.default)({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[o.field]}))}),S=function(e){let t=g.useRef(void 0),n=()=>g8(e),r=c2(e,n);return g.useEffect(()=>{t.current&&!1===r&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(!1===n())return Promise.resolve();t.current=function(){let e,t,n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}()}return t.current}}(e),k=g.useRef(!1),M=g.useCallback(async n=>{var r,o;if(!(null==(r=e.current.rootElementRef)?void 0:r.current)||k.current)return;k.current=!0;let l=dE(e),i=(0,cS.default)({},bk,n,{columns:null!=(o=null==n?void 0:n.columns)?o:l.orderedFields});i.columns=i.columns.filter(e=>!1!==l.columnVisibilityModel[e]);let a=i.columns.map(t=>e.current.state.columns.lookup[t]);try{!t.disableVirtualization&&i.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await S());let n=function(e,t,n){let r={},o=e.current.rootElementRef.current;return o.classList.add(cW.autosizing),n.forEach(n=>{var o,l,i,a,s,u;let c=(o=e.current,l=n.field,Array.from(o.virtualScrollerRef.current.querySelectorAll(':scope > div > div > div > [data-field="'.concat(vW(l),'"][role="gridcell"]')))).map(e=>{var t;return null!=(t=e.getBoundingClientRect().width)?t:0}),d=t.includeOutliers?c:function(e,t){if(e.length<4)return e;let n=e.slice();n.sort((e,t)=>e-t);let r=n[Math.floor(.25*n.length)],o=n[Math.floor(.75*n.length)-1],l=o-r,i=l<5?5:l*t;return n.filter(e=>e>r-i&&e<o+i)}(c,t.outliersFactor);if(t.includeHeaders){let t=(i=e.current,a=n.field,i.columnHeadersContainerRef.current.querySelector(':scope > div > [data-field="'.concat(vW(a),'"][role="columnheader"]')));if(t){let e=t.querySelector(".".concat(cW.columnHeaderTitle)),n=t.querySelector(".".concat(cW.columnHeaderTitleContainerContent)),r=t.querySelector(".".concat(cW.iconButtonContainer)),o=t.querySelector(".".concat(cW.menuIcon)),l=window.getComputedStyle(t,null),i=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10),a=(null!=e?e:n).scrollWidth+1+i+(null!=(s=null==r?void 0:r.clientWidth)?s:0)+(null!=(u=null==o?void 0:o.clientWidth)?u:0);d.push(a)}}let p=n.minWidth!==-1/0&&void 0!==n.minWidth,h=n.maxWidth!==1/0&&void 0!==n.maxWidth,f=p?n.minWidth:0,m=h?n.maxWidth:1/0,g=0===d.length?0:Math.max(...d);r[n.field]=pJ(g,f,m)}),o.classList.remove(cW.autosizing),r}(e,i,a),r=a.map(e=>(0,cS.default)({},e,{width:n[e.field],computedWidth:n[e.field],flex:0}));if(i.expand){let t=l.orderedFields.map(e=>l.lookup[e]).filter(e=>!1!==l.columnVisibilityModel[e.field]).reduce((e,t)=>{var r,o;return e+(null!=(o=null!=(r=n[t.field])?r:t.computedWidth)?o:t.width)},0),o=e.current.getRootDimensions().viewportInnerSize.width-t;if(o>0){let e=o/(r.length||1);r.forEach(t=>{t.width+=e,t.computedWidth+=e})}}e.current.updateColumns(r),r.forEach((t,n)=>{if(t.width!==a[n].width){let n=t.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t.field),colDef:t,width:n})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),k.current=!1}},[e,S,t.disableVirtualization]);g.useEffect(()=>b,[b]),pE(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),vu(e,()=>{var t;return null==(t=e.current.columnHeadersContainerRef)?void 0:t.current},"touchstart",v,{passive:!0}),mK(e,{autosizeColumns:M},"public"),pS(e,"columnResizeStop",w),pS(e,"columnResizeStart",y),pS(e,"columnSeparatorMouseDown",x),pS(e,"columnSeparatorDoubleClick",C),pM(e,"columnResize",t.onColumnResize),pM(e,"columnWidthChange",t.onColumnWidthChange)})(v,m),((e,t)=>{var n,r;let o=vs(e,"useGridPaginationMeta"),l=c2(e,gQ);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:gQ,changeEvent:"paginationMetaChange"});let i=g.useCallback(t=>{l!==t&&(o.debug("Setting 'paginationMeta' to",t),e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{meta:t})})))},[e,o,l]);mK(e,{setPaginationMeta:i},"public");let a=g.useCallback((n,r)=>{var o,l;let i=gQ(e);return r.exportOnlyDirtyModels&&null==t.paginationMeta&&(null==(l=t.initialState)||null==(o=l.pagination)?void 0:o.meta)==null?n:(0,cS.default)({},n,{pagination:(0,cS.default)({},n.pagination,{meta:i})})},[e,t.paginationMeta,null==(r=t.initialState)||null==(n=r.pagination)?void 0:n.meta]),s=g.useCallback((t,n)=>{var r;let o=(null==(r=n.stateToRestore.pagination)?void 0:r.meta)?n.stateToRestore.pagination.meta:gQ(e);return e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{meta:o})})),t},[e]);vx(e,"exportState",a),vx(e,"restoreState",s),g.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])})(d=v,p=m),((e,t)=>{var n,r;let o=vs(e,"useGridPaginationModel"),l=c2(e,db),i=g.useRef(fj(e)),a=Math.floor(t.rowHeight*l);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:gX,changeEvent:"paginationModelChange"});let s=g.useCallback(t=>{let n=gX(e);t!==n.page&&(o.debug("Setting page to ".concat(t)),e.current.setPaginationModel({page:t,pageSize:n.pageSize}))},[e,o]),u=g.useCallback(t=>{let n=gX(e);t!==n.pageSize&&(o.debug("Setting page size to ".concat(t)),e.current.setPaginationModel({pageSize:t,page:n.page}))},[e,o]),c=g.useCallback(n=>{n!==gX(e)&&(o.debug("Setting 'paginationModel' to",n),e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationModel:vA(e.pagination,t.signature,n)})}),"setPaginationModel"))},[e,o,t.signature]);mK(e,{setPage:s,setPageSize:u,setPaginationModel:c},"public");let d=g.useCallback((n,r)=>{var o,l;let i=gX(e);return r.exportOnlyDirtyModels&&null==t.paginationModel&&(null==(l=t.initialState)||null==(o=l.pagination)?void 0:o.paginationModel)==null&&(0===i.page||i.pageSize===100*!t.autoPageSize)?n:(0,cS.default)({},n,{pagination:(0,cS.default)({},n.pagination,{paginationModel:i})})},[e,t.paginationModel,null==(r=t.initialState)||null==(n=r.pagination)?void 0:n.paginationModel,t.autoPageSize]),p=g.useCallback((n,r)=>{var o,l;let i=(null==(o=r.stateToRestore.pagination)?void 0:o.paginationModel)?(0,cS.default)({},g_(t.autoPageSize),null==(l=r.stateToRestore.pagination)?void 0:l.paginationModel):gX(e);return e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationModel:vA(e.pagination,t.signature,i)})}),"stateRestorePreProcessing"),n},[e,t.autoPageSize,t.signature]);vx(e,"exportState",d),vx(e,"restoreState",p);let h=g.useCallback(()=>{if(!t.autoPageSize)return;let n=Math.max(1,Math.floor(e.current.getRootDimensions().viewportInnerSize.height/a));e.current.setPageSize(n)},[e,t.autoPageSize,a]),f=g.useCallback(t=>{if(null==t)return;let n=gX(e);if(0===n.page)return;let r=g1(e);n.page>r-1&&e.current.setPage(Math.max(0,r-1))},[e]),m=g.useCallback(()=>{0!==gX(e).page&&e.current.setPage(0),0!==e.current.getScrollPosition().top&&e.current.scroll({top:0})},[e]),v=g.useCallback(t=>{let n=(0,cS.default)({},t,{items:f$(e)});gi(n,i.current)||(i.current=n,m())},[e,m]);pS(e,"viewportInnerSizeChange",h),pS(e,"paginationModelChange",()=>{var t;let n=gX(e);(null==(t=e.current.virtualScrollerRef)?void 0:t.current)&&e.current.scrollToIndexes({rowIndex:n.page*n.pageSize})}),pS(e,"rowCountChange",f),pS(e,"sortModelChange",m),pS(e,"filterModelChange",v);let b=g.useRef(!0);g.useEffect(()=>{if(b.current){b.current=!1;return}t.pagination&&e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationModel:vA(e.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),g.useEffect(()=>{e.current.setState(e=>{let n=!0===t.pagination;return e.pagination.paginationMode===t.paginationMode&&e.pagination.enabled===n?e:(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationMode:t.paginationMode,enabled:n})})})},[e,t.paginationMode,t.pagination]),g.useEffect(h,[h])})(d,p),((e,t)=>{var n,r;let o=vs(e,"useGridRowCount"),l=c2(e,fq),i=c2(e,gY),a=c2(e,gQ),s=c2(e,gX),u=cX(()=>gX(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:gY,changeEvent:"rowCountChange"});let c=g.useCallback(t=>{i!==t&&(o.debug("Setting 'rowCount' to",t),e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{rowCount:t})})))},[e,o,i]);mK(e,{setRowCount:c},"public");let d=g.useCallback((n,r)=>{var o,l;let i=gY(e);return r.exportOnlyDirtyModels&&null==t.rowCount&&(null==(l=t.initialState)||null==(o=l.pagination)?void 0:o.rowCount)==null?n:(0,cS.default)({},n,{pagination:(0,cS.default)({},n.pagination,{rowCount:i})})},[e,t.rowCount,null==(r=t.initialState)||null==(n=r.pagination)?void 0:n.rowCount]),p=g.useCallback((t,n)=>{var r;let o=(null==(r=n.stateToRestore.pagination)?void 0:r.rowCount)?n.stateToRestore.pagination.rowCount:gY(e);return e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{rowCount:o})})),t},[e]);vx(e,"exportState",d),vx(e,"restoreState",p);let h=g.useCallback(n=>{"client"!==t.paginationMode&&u.current&&n.pageSize!==u.current&&(u.current=n.pageSize,-1===i&&e.current.setPage(0))},[t.paginationMode,u,i,e]);pS(e,"paginationModelChange",h),g.useEffect(()=>{"client"===t.paginationMode?e.current.setRowCount(l):null!=t.rowCount&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,l,t.rowCount]);let f=!1===a.hasNextPage;g.useEffect(()=>{f&&-1===i&&e.current.setRowCount(s.pageSize*s.page+l)},[e,l,f,i,s])})(d,p),((e,t)=>{let{getRowHeight:n,setLastMeasuredRowIndex:r,storeRowHeightMeasurement:o,resetRowHeights:l,hydrateRowsMeta:i,observeRowHeight:a,rowHasAutoHeight:s,getRowHeightEntry:u,getLastMeasuredRowIndex:c}=e.current.virtualizer.api.rowsMeta;vC(e,"rowHeight",i),mK(e,{unstable_getRowHeight:n,unstable_setLastMeasuredRowIndex:r,unstable_storeRowHeightMeasurement:o,resetRowHeights:l},"public"),mK(e,{hydrateRowsMeta:i,observeRowHeight:a,rowHasAutoHeight:s,getRowHeightEntry:u,getLastMeasuredRowIndex:c},"private")})(v,0),((e,t)=>{let n=(0,h4.useRtl)(),r=vs(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,l=e.current.virtualScrollerRef,i=c2(e,fB),a=g.useCallback(n=>{let o=dZ(e),a=pt(e),s=dD(e);if(null!=n.rowIndex&&0===a||0===s.length)return!1;r.debug("Scrolling to cell at row ".concat(n.rowIndex,", col: ").concat(n.colIndex," "));let u={};if(void 0!==n.colIndex){let t,r=dF(e);if(void 0!==n.rowIndex){var c;let r=null==(c=i[n.rowIndex])?void 0:c.id,o=e.current.unstable_getCellColSpanInfo(r,n.colIndex);o&&!o.spannedByColSpan&&(t=o.cellProps.width)}void 0===t&&(t=s[n.colIndex].computedWidth),u.left=bs({containerSize:o.viewportOuterSize.width,scrollPosition:Math.abs(l.current.scrollLeft),elementSize:t,elementOffset:r[n.colIndex]})}if(void 0!==n.rowIndex){let r=fC(e),i=gZ(e),a=g0(e),s=t.pagination?n.rowIndex-i*a:n.rowIndex,c=r.positions[s+1]?r.positions[s+1]-r.positions[s]:r.currentPageTotalHeight-r.positions[s];u.top=bs({containerSize:o.viewportInnerSize.height,scrollPosition:l.current.scrollTop,elementSize:c,elementOffset:r.positions[s]})}return(void 0!==(u=e.current.unstable_applyPipeProcessors("scrollToIndexes",u,n)).left||void 0!==u.top)&&(e.current.scroll(u),!0)},[r,e,l,t.pagination,i]),s=g.useCallback(e=>{if(l.current&&void 0!==e.left&&o.current){let t=n?-1:1;o.current.scrollLeft=e.left,l.current.scrollLeft=t*e.left,r.debug("Scrolling left: ".concat(e.left))}l.current&&void 0!==e.top&&(l.current.scrollTop=e.top,r.debug("Scrolling top: ".concat(e.top))),r.debug("Scrolling, updating container, and viewport")},[l,n,o,r]);mK(e,{scroll:s,scrollToIndexes:a,getScrollPosition:g.useCallback(()=>(null==l?void 0:l.current)?{top:l.current.scrollTop,left:l.current.scrollLeft}:{top:0,left:0},[l])},"public")})(v,m),(e=>{let t=vs(e,"useGridColumnMenu"),n=g.useCallback(n=>{let r=f8(e),o=!0,l=n;(o!==r.open||l!==r.field)&&(e.current.setState(e=>e.columnMenu.open&&e.columnMenu.field===n?e:(t.debug("Opening Column Menu"),(0,cS.default)({},e,{columnMenu:{open:!0,field:n}}))),e.current.hidePreferences())},[e,t]),r=g.useCallback(()=>{let n=f8(e);if(n.field){let t=dI(e),r=dP(e),o=dT(e),l=n.field;if(t[l]||(l=o[0]),!1===r[l]){let e=o.filter(e=>e===l||!1!==r[e]),t=e.indexOf(l);l=e[t+1]||e[t-1]}e.current.setColumnHeaderFocus(l)}let r={open:!1,field:void 0};(r.open!==n.open||r.field!==n.field)&&e.current.setState(e=>(t.debug("Hiding Column Menu"),(0,cS.default)({},e,{columnMenu:r})))},[e,t]),o=g.useCallback(o=>{t.debug("Toggle Column Menu");let l=f8(e);l.open&&l.field===o?r():n(o)},[e,t,n,r]);mK(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),pS(e,"columnResizeStart",r),pS(e,"virtualScrollerWheel",e.current.hideColumnMenu),pS(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)})(v),((e,t)=>{let n=vs(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,o=("object"==typeof r?null==r?void 0:r.csvExport:r)||!1,l=g.useCallback(function(){var t,r,l,i,a;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.debug("Get data as CSV"),function(e){let{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:l}=e,i=n.reduce((e,n)=>"".concat(e).concat((e=>{let{id:t,columns:n,getCellParams:r,csvOptions:o,ignoreValueFormatter:l}=e,i=new vb({csvOptions:o});return n.forEach(e=>{let n=r(t,e.field);i.addValue(vv(n,{ignoreValueFormatter:l,csvOptions:o}))}),i.getRowString()})({id:n,columns:t,getCellParams:l.current.getCellParams,ignoreValueFormatter:o,csvOptions:r}),"\r\n"),"").trim();if(!r.includeHeaders)return i;let a=t.filter(e=>e.field!==vm.field),s=[];if(r.includeColumnGroupsHeaders){let e=l.current.getAllGroupDetails(),t=0,n=a.reduce((e,n)=>{let r=l.current.getColumnGroupPath(n.field);return e[n.field]=r,t=Math.max(t,r.length),e},{});for(let o=0;o<t;o+=1){let t=new vb({csvOptions:r,sanitizeCellValue:vg});s.push(t),a.forEach(r=>{let l=e[(n[r.field]||[])[o]];t.addValue(l?l.headerName||l.groupId:"")})}}let u=new vb({csvOptions:r,sanitizeCellValue:vg});a.forEach(e=>{u.addValue(e.headerName||e.field)}),s.push(u);let c="".concat(s.map(e=>e.getRowString()).join("\r\n"),"\r\n");return"".concat(c).concat(i).trim()}({columns:vM({apiRef:e,options:s}),rowIds:(null!=(t=s.getRowsToExport)?t:vR)({apiRef:e}),csvOptions:{delimiter:s.delimiter||",",shouldAppendQuotes:null==(r=s.shouldAppendQuotes)||r,includeHeaders:null==(l=s.includeHeaders)||l,includeColumnGroupsHeaders:null==(i=s.includeColumnGroupsHeaders)||i,escapeFormulas:null==(a=s.escapeFormulas)||a},ignoreValueFormatter:o,apiRef:e})},[n,e,o]),i=g.useCallback(e=>{n.debug("Export data as CSV");let t=l(e);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled",r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){let t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=r,n.click(),setTimeout(()=>{URL.revokeObjectURL(t)});return}throw Error("MUI X: exportAs not supported.")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)},[n,l]);mK(e,{getDataAsCsv:l,exportDataAsCsv:i},"public"),vx(e,"exportMenu",g.useCallback((e,t)=>{var n;return(null==(n=t.csvOptions)?void 0:n.disableToolbarButton)?e:[...e,{component:(0,a.jsx)(vP,{options:t.csvOptions}),componentName:"csvExport"}]},[]))})(v,m),((e,t)=>{let n=null!==e.current.rootElementRef.current,r=vs(e,"useGridPrintExport"),o=g.useRef(null),l=g.useRef(null),i=g.useRef({}),s=g.useRef([]),u=g.useRef(null);g.useEffect(()=>{o.current=vD(e.current.rootElementRef.current)},[e,n]);let c=g.useCallback((t,n,r)=>new Promise(o=>{let l=vM({apiRef:e,options:{fields:t,allColumns:n}}).map(e=>e.field),i=dO(e),a={};i.forEach(e=>{a[e.field]=l.includes(e.field)}),r&&(a[vm.field]=!0),e.current.setColumnVisibilityModel(a),o()}),[e]),d=g.useCallback(t=>{let n=t({apiRef:e}).reduce((t,n)=>{let r=e.current.getRow(n);return r[hb]||t.push(r),t},[]);e.current.setRows(n)},[e]),p=g.useCallback((n,r)=>{var l,i,a;let s=(0,cS.default)({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},r),u=n.contentDocument;if(!u)return;let c=fC(e),d=e.current.rootElementRef.current,p=d.cloneNode(!0);p.querySelector(".".concat(cW.main)).style.overflow="visible",p.style.contain="size";let h=(null==(l=d.querySelector(".".concat(cW.toolbar)))?void 0:l.offsetHeight)||0,f=(null==(i=d.querySelector(".".concat(cW.footerContainer)))?void 0:i.offsetHeight)||0,m=p.querySelector(".".concat(cW.footerContainer));s.hideToolbar&&(null==(a=p.querySelector(".".concat(cW.toolbar)))||a.remove(),h=0),s.hideFooter&&m&&(m.remove(),f=0);let g=c.currentPageTotalHeight+fx(e,t)+h+f;p.style.height="".concat(g,"px"),p.style.boxSizing="content-box",!s.hideFooter&&m&&(m.style.position="absolute",m.style.width="100%",m.style.top="".concat(g-f,"px"));let v=document.createElement("div");v.appendChild(p),u.body.style.marginTop="0px",u.body.innerHTML=v.innerHTML;let b="function"==typeof s.pageStyle?s.pageStyle():s.pageStyle;if("string"==typeof b){let e=u.createElement("style");e.appendChild(u.createTextNode(b)),u.head.appendChild(e)}s.bodyClassName&&u.body.classList.add(...s.bodyClassName.split(" "));let y=[];if(s.copyStyles){let e=d.getRootNode();y=function(e,t){let n=[],r=t.querySelectorAll("style, link[rel='stylesheet']");for(let t=0;t<r.length;t+=1){let o=r[t];if("STYLE"===o.tagName){let t=e.createElement(o.tagName),n=o.sheet;if(n){let r="";for(let e=0;e<n.cssRules.length;e+=1)"string"==typeof n.cssRules[e].cssText&&(r+="".concat(n.cssRules[e].cssText,"\r\n"));t.appendChild(e.createTextNode(r)),e.head.appendChild(t)}}else if(o.getAttribute("href")){let t=e.createElement(o.tagName);for(let e=0;e<o.attributes.length;e+=1){let n=o.attributes[e];n&&t.setAttribute(n.nodeName,n.nodeValue||"")}n.push(new Promise(e=>{t.addEventListener("load",()=>e())})),e.head.appendChild(t)}}return n}(u,"ShadowRoot"===e.constructor.name?e:o.current)}Promise.all(y).then(()=>{n.contentWindow.print()})},[e,o,t]),h=g.useCallback(t=>{var n,r;o.current.body.removeChild(t),e.current.restoreState(l.current||{}),(null==(r=l.current)||null==(n=r.columns)?void 0:n.columnVisibilityModel)||e.current.setColumnVisibilityModel(i.current),e.current.setState(e=>(0,cS.default)({},e,{virtualization:u.current})),e.current.setRows(s.current),l.current=null,i.current={},s.current=[]},[e]),f=g.useCallback(async n=>{var a;if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw Error("MUI X: No grid root element available.");if(l.current=e.current.exportState(),i.current=dP(e),s.current=e.current.getSortedRows().filter(e=>!e[hb]),t.pagination){let t={page:0,pageSize:f_(e)};e.current.setState(e=>(0,cS.default)({},e,{pagination:(0,cS.default)({},e.pagination,{paginationModel:vA(e.pagination,"DataGridPro",t)})}))}u.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await c(null==n?void 0:n.fields,null==n?void 0:n.allColumns,null==n?void 0:n.includeCheckboxes),d(null!=(a=null==n?void 0:n.getRowsToExport)?a:vR),await new Promise(e=>{requestAnimationFrame(()=>{e()})});let f=function(e){let t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}(null==n?void 0:n.fileName);f.onload=()=>{p(f,n),f.contentWindow.matchMedia("print").addEventListener("change",e=>{!1===e.matches&&h(f)})},o.current.body.appendChild(f)},[t,r,e,p,h,c,d]);mK(e,{exportDataAsPrint:f},"public"),vx(e,"exportMenu",g.useCallback((e,t)=>{var n;return(null==(n=t.printOptions)?void 0:n.disableToolbarButton)?e:[...e,{component:(0,a.jsx)(vN,{options:t.printOptions}),componentName:"printExport"}]},[]))})(v,m),((e,t)=>{let n=t.ignoreValueFormatterDuringExport,r=("object"==typeof n?null==n?void 0:n.clipboardExport:n)||!1,o=t.clipboardCopyCellDelimiter,l=g.useCallback(t=>{var n,l,i,a;if(!(((n=t).ctrlKey||n.metaKey)&&"C"===String.fromCharCode(n.keyCode)&&!n.shiftKey&&!n.altKey)||(l=t.target,null!=(i=window.getSelection())&&i.toString()||l&&(l.selectionEnd||0)-(l.selectionStart||0)>0))return;let s="";if(mH(e)>0)s=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{let t=f2(e);t&&(s=vv(e.current.getCellParams(t.id,t.field),{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r}))}(s=e.current.unstable_applyPipeProcessors("clipboardCopy",s))&&(a=s,navigator.clipboard?navigator.clipboard.writeText(a).catch(()=>{vy(a)}):vy(a),e.current.publishEvent("clipboardCopy",s))},[e,r,o]);vu(e,()=>e.current.rootElementRef.current,"keydown",l),pM(e,"clipboardCopy",t.onClipboardCopy)})(v,m),!function(e,t){let n=e.current.virtualizer,r=n.api.updateDimensions,o=n.api.getViewportPageSize,l=g.useCallback(()=>dZ(e),[e]);mK(e,{getRootDimensions:l},"public"),mK(e,{updateDimensions:r,getViewportPageSize:o},"private"),pM(e,"rootMount",t=>{bh(t,dZ(e))}),pM(e,"debouncedResize",t.onResize),m7(e.current.store,e=>e.dimensions,(t,n)=>{var r,o;e.current.rootElementRef.current&&bh(e.current.rootElementRef.current,n),r=n.viewportInnerSize,o=t.viewportInnerSize,(r.width!==o.width||r.height!==o.height)&&e.current.publishEvent("viewportInnerSizeChange",n.viewportInnerSize),e.current.publishEvent("debouncedResize",n.root)})}(v,m),pM(h=v,"columnHeaderClick",(f=m).onColumnHeaderClick),pM(h,"columnHeaderContextMenu",f.onColumnHeaderContextMenu),pM(h,"columnHeaderDoubleClick",f.onColumnHeaderDoubleClick),pM(h,"columnHeaderOver",f.onColumnHeaderOver),pM(h,"columnHeaderOut",f.onColumnHeaderOut),pM(h,"columnHeaderEnter",f.onColumnHeaderEnter),pM(h,"columnHeaderLeave",f.onColumnHeaderLeave),pM(h,"cellClick",f.onCellClick),pM(h,"cellDoubleClick",f.onCellDoubleClick),pM(h,"cellKeyDown",f.onCellKeyDown),pM(h,"preferencePanelClose",f.onPreferencePanelClose),pM(h,"preferencePanelOpen",f.onPreferencePanelOpen),pM(h,"menuOpen",f.onMenuOpen),pM(h,"menuClose",f.onMenuClose),pM(h,"rowDoubleClick",f.onRowDoubleClick),pM(h,"rowClick",f.onRowClick),pM(h,"stateChange",f.onStateChange),(e=>{let t=g.useCallback(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)},[e]),n=g.useCallback(t=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach(e=>{e()})},[e]);mK(e,{exportState:t,restoreState:n},"public")})(v),!function(e,t){let{virtualizer:n}=e.current,{autoHeight:r,disableVirtualization:o}=t,l=e=>{e&&(e=bC),n.store.set("virtualization",(0,cS.default)({},n.store.state.virtualization,{enabled:e,enabledForColumns:e,enabledForRows:e&&!r}))};mK(e,{unstable_setVirtualization:l,unstable_setColumnVirtualization:e=>{e&&(e=bC),n.store.set("virtualization",(0,cS.default)({},n.store.state.virtualization,{enabledForColumns:e}))}},"public");let i=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:i}),pM(e,"sortedRowsSet",i),pM(e,"paginationModelChange",i),pM(e,"columnsChange",i),g.useEffect(()=>{l(!t.disableVirtualization)},[o,r])}(v,m),!function(e,t){let n=()=>{e.current.setState(t=>t.listViewColumn?(0,cS.default)({},t,{listViewColumn:(0,cS.default)({},t.listViewColumn,{computedWidth:bB(e)})}):t)},r=g.useRef(null);pS(e,"viewportInnerSizeChange",e=>{r.current!==e.width&&(r.current=e.width,n())}),pS(e,"columnVisibilityModelChange",n),pm(()=>{let n=t.listViewColumn;n&&e.current.setState(t=>(0,cS.default)({},t,{listViewColumn:(0,cS.default)({},n,{computedWidth:bB(e)})}))},[e,t.listViewColumn]),g.useEffect(()=>{t.listView&&!t.listViewColumn&&function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}(["MUI X: The `listViewColumn` prop must be set if `listView` is enabled.",'To fix, pass a column definition to the `listViewColumn` prop, e.g. `{ field: "example", renderCell: (params) => <div>{params.row.id}</div> }`.',"For more details, see https://mui.com/x/react-data-grid/list-view/"])},[t.listView,t.listViewColumn])}(v,m),((e,t)=>{let{api:n,strategyProcessor:r,events:o,setStrategyAvailability:l}=bQ(e,t);mK(e,n.public,"public"),vL(e,r.strategyName,r.group,r.processor),Object.entries(o).forEach(t=>{let[n,r]=t;pS(e,n,r)}),g.useEffect(()=>{l()},[l])})(v,m),g.useEffect(()=>{v.current.runAppliersForPendingProcessors()}),(0,a.jsx)(mq,{privateApiRef:v,configuration:EH,props:m,children:(0,a.jsx)(mN,(0,cS.default)({className:m.className,style:m.style,sx:m.sx},null==(r=m.slotProps)?void 0:r.root,{ref:n}))})},EV=g.memo(cR(EB));EB.propTypes={apiRef:ck.default.shape({current:ck.default.object}),"aria-label":ck.default.string,"aria-labelledby":ck.default.string,autoHeight:ck.default.bool,autoPageSize:ck.default.bool,autosizeOnMount:ck.default.bool,autosizeOptions:ck.default.shape({columns:ck.default.arrayOf(ck.default.string),disableColumnVirtualization:ck.default.bool,expand:ck.default.bool,includeHeaders:ck.default.bool,includeOutliers:ck.default.bool,outliersFactor:ck.default.number}),cellModesModel:ck.default.object,checkboxSelection:ck.default.bool,classes:ck.default.object,className:ck.default.string,clipboardCopyCellDelimiter:ck.default.string,columnBufferPx:ck.default.number,columnFilterDebounceMs:ck.default.number,columnGroupHeaderHeight:ck.default.number,columnGroupingModel:ck.default.arrayOf(ck.default.object),columnHeaderHeight:ck.default.number,columns:ck.default.arrayOf(ck.default.object).isRequired,columnVisibilityModel:ck.default.object,dataSource:ck.default.shape({getRows:ck.default.func.isRequired,updateRow:ck.default.func}),dataSourceCache:ck.default.shape({clear:ck.default.func.isRequired,get:ck.default.func.isRequired,set:ck.default.func.isRequired}),density:ck.default.oneOf(["comfortable","compact","standard"]),disableAutosize:ck.default.bool,disableColumnFilter:ck.default.bool,disableColumnMenu:ck.default.bool,disableColumnResize:ck.default.bool,disableColumnSelector:ck.default.bool,disableColumnSorting:ck.default.bool,disableDensitySelector:ck.default.bool,disableEval:ck.default.bool,disableMultipleRowSelection:ck.default.bool,disableRowSelectionExcludeModel:ck.default.bool,disableRowSelectionOnClick:ck.default.bool,disableVirtualization:ck.default.bool,editMode:ck.default.oneOf(["cell","row"]),estimatedRowCount:ck.default.number,experimentalFeatures:ck.default.shape({warnIfFocusStateIsNotSynced:ck.default.bool}),filterDebounceMs:ck.default.number,filterMode:ck.default.oneOf(["client","server"]),filterModel:ck.default.shape({items:ck.default.arrayOf(ck.default.shape({field:ck.default.string.isRequired,id:ck.default.oneOfType([ck.default.number,ck.default.string]),operator:ck.default.string.isRequired,value:ck.default.any})).isRequired,logicOperator:ck.default.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ck.default.bool,quickFilterLogicOperator:ck.default.oneOf(["and","or"]),quickFilterValues:ck.default.array}),getCellClassName:ck.default.func,getDetailPanelContent:ck.default.func,getEstimatedRowHeight:ck.default.func,getRowClassName:ck.default.func,getRowHeight:ck.default.func,getRowId:ck.default.func,getRowSpacing:ck.default.func,hideFooter:ck.default.bool,hideFooterPagination:ck.default.bool,hideFooterSelectedRowCount:ck.default.bool,ignoreDiacritics:ck.default.bool,ignoreValueFormatterDuringExport:ck.default.oneOfType([ck.default.shape({clipboardExport:ck.default.bool,csvExport:ck.default.bool}),ck.default.bool]),initialState:ck.default.object,isCellEditable:ck.default.func,isRowSelectable:ck.default.func,keepNonExistentRowsSelected:ck.default.bool,label:ck.default.string,loading:ck.default.bool,localeText:ck.default.object,logger:ck.default.shape({debug:ck.default.func.isRequired,error:ck.default.func.isRequired,info:ck.default.func.isRequired,warn:ck.default.func.isRequired}),logLevel:ck.default.oneOf(["debug","error","info","warn",!1]),nonce:ck.default.string,onCellClick:ck.default.func,onCellDoubleClick:ck.default.func,onCellEditStart:ck.default.func,onCellEditStop:ck.default.func,onCellKeyDown:ck.default.func,onCellModesModelChange:ck.default.func,onClipboardCopy:ck.default.func,onColumnHeaderClick:ck.default.func,onColumnHeaderContextMenu:ck.default.func,onColumnHeaderDoubleClick:ck.default.func,onColumnHeaderEnter:ck.default.func,onColumnHeaderLeave:ck.default.func,onColumnHeaderOut:ck.default.func,onColumnHeaderOver:ck.default.func,onColumnOrderChange:ck.default.func,onColumnResize:ck.default.func,onColumnVisibilityModelChange:ck.default.func,onColumnWidthChange:ck.default.func,onDataSourceError:ck.default.func,onDensityChange:ck.default.func,onFilterModelChange:ck.default.func,onMenuClose:ck.default.func,onMenuOpen:ck.default.func,onPaginationMetaChange:ck.default.func,onPaginationModelChange:ck.default.func,onPreferencePanelClose:ck.default.func,onPreferencePanelOpen:ck.default.func,onProcessRowUpdateError:ck.default.func,onResize:ck.default.func,onRowClick:ck.default.func,onRowCountChange:ck.default.func,onRowDoubleClick:ck.default.func,onRowEditStart:ck.default.func,onRowEditStop:ck.default.func,onRowModesModelChange:ck.default.func,onRowSelectionModelChange:ck.default.func,onSortModelChange:ck.default.func,onStateChange:ck.default.func,pageSizeOptions:ck.default.arrayOf(ck.default.oneOfType([ck.default.number,ck.default.shape({label:ck.default.string.isRequired,value:ck.default.number.isRequired})]).isRequired),pagination:ck.default.oneOf([!0]),paginationMeta:ck.default.shape({hasNextPage:ck.default.bool}),paginationMode:ck.default.oneOf(["client","server"]),paginationModel:ck.default.shape({page:ck.default.number.isRequired,pageSize:ck.default.number.isRequired}),processRowUpdate:ck.default.func,resizeThrottleMs:ck.default.number,rowBufferPx:ck.default.number,rowCount:ck.default.number,rowHeight:ck.default.number,rowModesModel:ck.default.object,rows:ck.default.arrayOf(ck.default.object),rowSelection:ck.default.bool,rowSelectionModel:ck.default.shape({ids:ck.default.instanceOf(Set).isRequired,type:ck.default.oneOf(["exclude","include"]).isRequired}),rowSpacingType:ck.default.oneOf(["border","margin"]),rowSpanning:ck.default.bool,scrollbarSize:ck.default.number,showCellVerticalBorder:ck.default.bool,showColumnVerticalBorder:ck.default.bool,showToolbar:ck.default.bool,slotProps:ck.default.object,slots:ck.default.object,sortingMode:ck.default.oneOf(["client","server"]),sortingOrder:ck.default.arrayOf(ck.default.oneOf(["asc","desc"])),sortModel:ck.default.arrayOf(ck.default.shape({field:ck.default.string.isRequired,sort:ck.default.oneOf(["asc","desc"])})),style:ck.default.object,sx:ck.default.oneOfType([ck.default.arrayOf(ck.default.oneOfType([ck.default.func,ck.default.object,ck.default.bool])),ck.default.func,ck.default.object]),virtualizeColumnsWithAutoRowHeight:ck.default.bool};var EW=e.i(443619),EG=e.i(65134),EU=e.i(769120);let E_=(0,ce.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Eq=(0,ce.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var EK=e.i(269287),E$=e.i(584500),EJ=e.i(967489),EX=e.i(984770),EY=e.i(709570),EQ=e.i(183012),EZ=e.i(676364);let E0=()=>{var e,t,n,r,o;let l=(0,cg.useAppDispatch)(),i=(0,m.useAppSelector)(e=>e.locationsSlice.locations),h=(0,m.useAppSelector)(e=>e.locationsSlice.brothers),k=h?[...i,h]:i,M=(0,m.useAppSelector)(e=>e.editNewsModalSlice.currentNews),R=(0,m.useAppSelector)(e=>e.userSlice.user),E=(0,g.useRef)(null),T=(0,m.useAppSelector)(e=>e.editNewsModalSlice.modalOpen),[I,O]=(()=>{let[e,{isLoading:t}]=(0,p.useUpdateNewsMutation)(),n=(0,cg.useAppDispatch)(),r=(0,m.useAppSelector)(e=>{var t;return null==(t=e.editNewsModalSlice.currentNews)?void 0:t.uuid});return[async t=>{try{let o=await e({body:t,uuid:r||""}).unwrap();o&&o.data&&(n((0,EG.updateNews)(o.data)),n((0,EY.setEditNewsModalOpen)(!1)))}catch(e){console.log(e)}},t]})(),{handleSubmit:P,reset:N,register:D,formState:{errors:A},setValue:L,control:j,clearErrors:z}=(()=>{let e=(0,m.useAppSelector)(e=>e.editNewsModalSlice.currentNews);return(0,c.useForm)({resolver:(0,d.zodResolver)(s.default.object({title:s.default.string().optional(),image:s.default.string().optional(),content:s.default.string().optional(),description:s.default.string().optional(),locationUuid:s.default.string().optional()})),defaultValues:{title:(null==e?void 0:e.title)||"",description:(null==e?void 0:e.description)||"",image:(null==e?void 0:e.image)||"",content:(null==e?void 0:e.content)||"",locationUuid:(null==e?void 0:e.content)||""},mode:"onSubmit"})})(),F=(0,u.useTranslation)(),H=()=>{N(),l((0,EY.setEditNewsModalOpen)(!1))};(0,g.useEffect)(()=>{L("image",(null==M?void 0:M.image)||""),L("title",(null==M?void 0:M.title)||""),L("description",(null==M?void 0:M.description)||""),L("locationUuid",(null==M?void 0:M.locationUuid)||""),L("content",(null==M?void 0:M.content)||"")},[M,L]);let[B,V]=(0,g.useState)(null),W=f(),{ref:G,onChange:U,..._}=D("image",{required:F("news.validation.imagesRequired")}),q=(0,g.useCallback)(e=>{L("content",e,{shouldValidate:!0})},[L]);return(0,a.jsx)(EZ.Modal,{open:T,onClose:H,children:(0,a.jsx)(b.Box,{className:"h-[100dvh] w-full overflow-y-auto xl:w-[1024px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,a.jsxs)(b.Box,{sx:{position:"relative",p:5},children:[(0,a.jsx)(y.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:H,children:(0,a.jsx)(EQ.default,{})}),(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:F("news.updateNews")}),(0,a.jsxs)("form",{onSubmit:P(I),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)(C.Typography,{className:"mb-2",children:F("news.mainImage")}),(null==(e=A.image)?void 0:e.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:A.image.message}),(0,a.jsxs)("label",{htmlFor:"file-upload",className:"file:border-primary-main text-secondary-main file:text-primary-main border-primary-main inline-flex w-full max-w-96 cursor-pointer items-center justify-center rounded border bg-white px-8 py-2 font-[Inter] text-sm font-bold uppercase transition-colors hover:bg-gray-50",children:[F("editor.labels.selectImage")," "]}),(0,a.jsx)("input",{id:"file-upload",ref:e=>{E.current=e,G(e)},type:"file",accept:"image/*",onChange:e=>{U(e),(e=>{var t;let n=null==(t=e.target.files)?void 0:t[0];n&&(B&&URL.revokeObjectURL(B),V(URL.createObjectURL(n)),W({image:n}).then(e=>{L("image",(null==e?void 0:e.public_id)||"",{shouldValidate:!0})}))})(e)},className:"hidden",..._}),B&&(0,a.jsx)("img",{src:B,alt:F("images.previewAlt"),className:"mt-2 max-h-64 object-cover"})]}),(0,a.jsxs)(b.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:F("news.section")}),(null==(t=A.locationUuid)?void 0:t.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:A.locationUuid.message})]}),(0,a.jsx)(c.Controller,{name:"locationUuid",control:j,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,a.jsx)(x.TextField,{select:!0,onChange:t,value:n,variant:"standard",fullWidth:!0,placeholder:F("news.selectSection"),className:"border px-2.5 py-2 !text-black",error:!!A.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:k.filter(e=>(null==R?void 0:R.role)===cf.UserRole.ADMIN||(null==R?void 0:R.role)===cf.UserRole.EDITOR&&e.uuid===R.locationUuid).map(e=>(0,a.jsx)(w.MenuItem,{value:e.uuid,className:"bg-white text-black hover:bg-gray-100",children:e.title},e.uuid))})}})]}),(0,a.jsx)(S.Input,{...D("title"),errorMessage:null==(n=A.title)?void 0:n.message,label:F("news.title"),className:"mb-4",fullWidth:!0}),(0,a.jsx)(S.Input,{...D("description"),errorMessage:null==(r=A.description)?void 0:r.message,label:F("news.shortDescription"),className:"mb-4",multiline:!0,rows:3,fullWidth:!0}),(0,a.jsxs)(b.Box,{className:"mb-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:F("news.fullDescription")}),(null==(o=A.content)?void 0:o.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:A.content.message})]}),(0,a.jsx)(c.Controller,{name:"content",control:j,render:e=>{let{field:{value:t}}=e;return(0,a.jsx)(ch,{value:t,onChange:q,upload:W})}})]}),(0,a.jsxs)(b.Box,{className:"flex justify-end gap-4",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",onClick:()=>{N({locationUuid:"",content:"",title:"",description:"",images:""},{keepErrors:!1,keepDirty:!1}),(0,v.flushSync)(()=>{L("locationUuid",""),L("content",""),L("title",""),L("description",""),L("image","")}),z(),B&&URL.revokeObjectURL(B),V(null),E.current&&(E.current.value="")},children:F("common.clear")}),(0,a.jsx)(y.Button,{type:"submit",variant:"contained",disabled:!!O,children:F("news.update")})]})]})]})})})},E1=()=>{let e=(0,cg.useAppDispatch)(),t=(0,u.useTranslation)(),n=(0,m.useAppSelector)(e=>e.locationsSlice.locations),r=(0,m.useAppSelector)(e=>e.locationsSlice.brothers),o=r?[...n,r]:n,l=(0,m.useAppSelector)(e=>{var t;return null==(t=e.userSlice.user)?void 0:t.role})===cf.UserRole.ADMIN,{news:i,total:s,limit:c,isFetching:d,refetch:h,handleSearchQueryChange:f,searchQuery:v,orderBy:b}=function(){let e=(0,cg.useAppDispatch)(),t=(0,m.useAppSelector)(e=>e.newsTableSlice.news)||[],n=(0,m.useAppSelector)(e=>e.newsTableSlice.offset),r=(0,m.useAppSelector)(e=>e.newsTableSlice.limit),o=(0,m.useAppSelector)(e=>e.newsTableSlice.orderBy),l=(0,m.useAppSelector)(e=>e.newsTableSlice.total),i=(0,m.useAppSelector)(e=>e.newsTableSlice.searchQuery),a=(0,m.useAppSelector)(e=>e.userSlice.user),s=(0,EW.useDebounce)(i,500),{data:u,isFetching:c,isLoading:d,refetch:h}=(0,p.useGetNewsWithLocationQuery)({search:s,offset:n,limit:r,orderBy:o,locationUuid:(null==a?void 0:a.role)===cf.UserRole.EDITOR&&(null==a?void 0:a.locationUuid)||void 0});return(0,g.useEffect)(()=>{if(u){let t=u.data.data;e((0,EG.setNewsToTable)(t)),e((0,EG.setTotalToTable)(u.data.total))}},[u,e,n]),{searchQuery:i,handleSearchQueryChange:t=>{e((0,EG.setSearchQueryToTable)(t.target.value)),e((0,EG.setOffsetToTable)(0))},news:t,isFetching:c,isLoading:d,loadMore:()=>{e((0,EG.setOffsetToTable)(n+r))},total:l,limit:r,refetch:h,orderBy:o}}(),y=(()=>{let[e]=(0,p.useDeleteNewsMutation)(),t=(0,cg.useAppDispatch)();return async(n,r)=>{try{let o=await e(n.uuid).unwrap();o&&o.data&&(t((0,EG.deleteNewsFromTable)(o.data.uuid)),r())}catch(e){console.log(e)}}})(),w=(()=>{let[e]=(0,p.useTogglePinMutation)(),t=(0,cg.useAppDispatch)();return async(n,r)=>{try{let o=await e({uuid:n}).unwrap();o&&o.data&&(t((0,EG.updateNews)(o.data)),r())}catch(e){console.log(e)}}})(),S=(0,EK.useGetDateKey)(),[k,M]=(0,g.useState)({page:0,pageSize:c}),R=i.map(e=>{var t;return{id:e.uuid,title:e.title,location:null==(t=o.find(t=>t.uuid===e.locationUuid))?void 0:t.title,date:S(e.createdAt)}}),E=[{field:"title",headerName:t("news.title"),flex:1,editable:!0},{field:"location",headerName:t("news.location"),flex:1,editable:!0},{field:"date",headerName:t("common.date"),width:180,editable:!0}],T={field:"pin",headerName:t("common.pin"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:e=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.pin"),children:(0,a.jsx)(Sl,{checked:(e=>{var t;return!!(null==(t=i.find(t=>t.uuid===e))?void 0:t.pinnedAt)})(e.row.id),onChange:()=>w(e.row.id,h)})})})},I=[...E,...l?[T]:[],{field:"edit",headerName:t("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:n=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.edit"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>{var t;return t=n.row.id,void(e((0,EY.setEditNewsModalOpen)(!0)),e((0,EY.setEditNewsCurrent)(i.find(e=>e.uuid===t)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(Eq,{className:"fill-primary-main"})})})})},{field:"delete",headerName:t("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:e=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.delete"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>y({uuid:e.row.id},h),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(E_,{className:"fill-primary-main"})})})})}],O=[{label:t("news.sortNewest"),value:"desc"},{label:t("news.sortOldest"),value:"asc"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:t("news.allNews")}),(0,a.jsxs)(cC.default,{className:"mt-10 flex flex-col gap-6 [&_*]:!text-black",children:[(0,a.jsxs)(cC.default,{className:"flex items-stretch gap-4",children:[(0,a.jsxs)(EJ.SelectRoot,{items:O,value:b,onValueChange:t=>{e((0,EG.setOrderBy)(t))},children:[(0,a.jsx)(EJ.SelectTrigger,{iconClassName:"fill-primary-main",className:"border-primary-main border"}),(0,a.jsx)(EJ.SelectBody,{children:O.map(e=>{let{value:t,label:n}=e;return(0,a.jsx)(EX.Select.Item,{value:t,className:"hover:bg-primary-main/10 relative flex cursor-pointer items-center rounded-sm px-3 py-2 text-sm outline-none select-none",children:(0,a.jsx)(EX.Select.ItemText,{className:"font-normal",children:n})},t)})})]}),(0,a.jsx)(x.TextField,{variant:"filled",size:"small",placeholder:t("common.searchPlaceholder"),value:v,onChange:f,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,a.jsx)(E$.default,{fontSize:"large",className:"fill-primary-main"})}}})]}),(0,a.jsx)(EV,{rows:R,columns:I,initialState:{pagination:{paginationModel:{pageSize:c}}},pageSizeOptions:[c],checkboxSelection:!1,loading:d,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:s,paginationModel:k,onPaginationModelChange:t=>{M(t),e((0,EG.setOffsetToTable)(t.page*t.pageSize))},sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,a.jsx)(E0,{})]})};var E2=e.i(11722),E5=e.i(766396),E3=e.i(546330);let E4=()=>{var e;let t=(0,cg.useAppDispatch)(),n=(0,m.useAppSelector)(e=>e.editLocationModalSlice.currentLocation),r=(0,m.useAppSelector)(e=>e.editLocationModalSlice.modalOpen),[o,l]=(()=>{let[e,{isLoading:t}]=(0,E2.useUpdateLocationMutation)(),n=(0,cg.useAppDispatch)(),r=(0,m.useAppSelector)(e=>{var t;return null==(t=e.editLocationModalSlice.currentLocation)?void 0:t.uuid});return[async t=>{try{let o=await e({body:t,uuid:r||""}).unwrap();o&&o.data&&(n((0,E5.updateLocation)(o.data)),n((0,E3.setEditLocationModalOpen)(!1)))}catch(e){console.log(e)}},t]})(),{handleSubmit:i,reset:p,register:h,formState:{errors:f},setValue:w,clearErrors:x}=(()=>{let e=(0,m.useAppSelector)(e=>e.editLocationModalSlice.currentLocation);return(0,c.useForm)({resolver:(0,d.zodResolver)(s.default.object({title:s.default.string().optional()})),defaultValues:{title:(null==e?void 0:e.title)||""},mode:"onSubmit"})})(),k=(0,u.useTranslation)(),M=()=>{p(),t((0,E3.setEditLocationModalOpen)(!1))};return(0,g.useEffect)(()=>{w("title",(null==n?void 0:n.title)||"")},[n,w]),(0,a.jsx)(EZ.Modal,{open:r,onClose:M,children:(0,a.jsx)(b.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:h-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,a.jsxs)(b.Box,{sx:{position:"relative",p:5},children:[(0,a.jsx)(y.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:M,children:(0,a.jsx)(EQ.default,{})}),(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:k("locations.updateLocation")}),(0,a.jsxs)("form",{onSubmit:i(o),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,a.jsx)(S.Input,{...h("title"),errorMessage:null==(e=f.title)?void 0:e.message,label:k("locations.title"),className:"mb-4",fullWidth:!0}),(0,a.jsxs)(b.Box,{className:"flex gap-4",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{p({title:""},{keepErrors:!1,keepDirty:!1}),(0,v.flushSync)(()=>w("title","")),x()},children:k("locations.clear")}),(0,a.jsx)(y.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!l,children:k("locations.update")})]})]})]})})})};var E9=e.i(266733);let E6=e=>{var t;let{refetch:n}=e,r=(0,cg.useAppDispatch)(),o=(0,m.useAppSelector)(e=>e.createLocationModalSlice.modalOpen),[l,i]=(e=>{let[t,{isLoading:n}]=(0,E2.useCreateLocationMutation)(),r=(0,cg.useAppDispatch)();return[async n=>{try{let o=await t(n).unwrap();o&&o.data&&(r((0,E5.createLocation)(o.data)),r((0,E9.setCreateLocationModalOpen)(!1)),e())}catch(e){console.log(e)}},n]})(n),{handleSubmit:p,reset:h,register:f,formState:{errors:g},setValue:w,clearErrors:x}=(()=>{let e=(0,u.useTranslation)();return(0,c.useForm)({resolver:(0,d.zodResolver)(s.default.object({title:s.default.string().min(1,e("locations.validation.titleRequired"))})),defaultValues:{title:""},mode:"onSubmit"})})(),k=(0,u.useTranslation)(),M=()=>{h(),r((0,E9.setCreateLocationModalOpen)(!1))};return(0,a.jsx)(EZ.Modal,{open:o,onClose:M,children:(0,a.jsx)(b.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:h-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,a.jsxs)(b.Box,{sx:{position:"relative",p:5},children:[(0,a.jsx)(y.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:M,children:(0,a.jsx)(EQ.default,{})}),(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:k("locations.createLocation")}),(0,a.jsxs)("form",{onSubmit:p(l),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,a.jsx)(S.Input,{...f("title"),errorMessage:null==(t=g.title)?void 0:t.message,label:k("locations.title"),className:"mb-4",fullWidth:!0}),(0,a.jsxs)(b.Box,{className:"flex gap-4",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{h({title:""},{keepErrors:!1,keepDirty:!1}),(0,v.flushSync)(()=>w("title","")),x()},children:k("locations.clear")}),(0,a.jsx)(y.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!i,children:k("locations.create")})]})]})]})})})},E7=()=>{let e=(0,cg.useAppDispatch)(),t=(0,u.useTranslation)(),{locations:n,total:r,limit:o,isFetching:l,refetch:i,handleSearchQueryChange:s,searchQuery:c}=function(){let e=(0,cg.useAppDispatch)(),t=(0,m.useAppSelector)(e=>e.locationTableSlice.locations)||[],n=(0,m.useAppSelector)(e=>e.locationTableSlice.offset),r=(0,m.useAppSelector)(e=>e.locationTableSlice.limit),o=(0,m.useAppSelector)(e=>e.locationTableSlice.total),l=(0,m.useAppSelector)(e=>e.locationTableSlice.searchQuery),i=(0,EW.useDebounce)(l,500),{data:a,isFetching:s,isLoading:u,refetch:c}=(0,E2.useGetLocationsQuery)({search:i,offset:n,limit:r});return(0,g.useEffect)(()=>{if(a){let t=a.data.data;e((0,E5.setLocationsToTable)(t)),e((0,E5.setTotalToTable)(a.data.total))}},[a,e,n]),{searchQuery:l,handleSearchQueryChange:t=>{e((0,E5.setSearchQueryToTable)(t.target.value)),e((0,E5.setOffsetToTable)(0))},locations:t,isFetching:s,isLoading:u,loadMore:()=>{e((0,E5.setOffsetToTable)(n+r))},total:o,limit:r,refetch:c}}(),d=(()=>{let[e]=(0,E2.useDeleteLocationMutation)(),t=(0,cg.useAppDispatch)();return async(n,r)=>{try{let o=await e(n.uuid).unwrap();o&&o.data&&(t((0,E5.deleteLocationFromTable)(o.data.uuid)),r())}catch(e){console.log(e)}}})(),p=(0,EK.useGetDateKey)(),[h,f]=(0,g.useState)({page:0,pageSize:o}),v=n.map(e=>({id:e.uuid,title:e.title,date:p(e.createdAt)})),b=[{field:"title",headerName:t("locations.title"),flex:1,editable:!0},{field:"date",headerName:t("common.date"),width:180,editable:!0},{field:"edit",headerName:t("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:r=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.edit"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>{var t;return t=r.row.id,void(e((0,E3.setEditLocationModalOpen)(!0)),e((0,E3.setEditLocationCurrent)(n.find(e=>e.uuid===t)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(Eq,{className:"fill-primary-main"})})})})},{field:"delete",headerName:t("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:e=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.delete"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>d({uuid:e.row.id},i),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(E_,{className:"fill-primary-main"})})})})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:t("locations.allSections")}),(0,a.jsxs)(cC.default,{className:"flex flex-col gap-6",children:[(0,a.jsxs)(cC.default,{className:"flex gap-4",children:[(0,a.jsx)(x.TextField,{variant:"filled",size:"small",placeholder:t("common.searchPlaceholder"),value:c,onChange:s,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full [&_*]:!text-black",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,a.jsx)(E$.default,{fontSize:"large",className:"fill-primary-main"})}}}),(0,a.jsx)(y.Button,{onClick:()=>{e((0,E9.setCreateLocationModalOpen)(!0))},variant:"contained",style:{color:"#F8FAFF !important"},children:t("locations.createLocation")})]}),(0,a.jsx)(EV,{rows:v,columns:b,initialState:{pagination:{paginationModel:{pageSize:o}}},pageSizeOptions:[o],checkboxSelection:!1,loading:l,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:r,paginationModel:h,onPaginationModelChange:t=>{f(t),e((0,E5.setOffsetToTable)(t.page*t.pageSize))},className:"[&_*]:!text-black",sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,a.jsx)(E4,{}),(0,a.jsx)(E6,{refetch:i})]})};var E8=e.i(247849),Te=e.i(291878);let Tt=()=>{var e,t,n,r,o,l,i,p;let h=(0,cg.useAppDispatch)(),[f,k]=(0,g.useState)(cf.UserRole.USER),M=(0,m.useAppSelector)(e=>e.editUserAdminModalSlice.currentUser),R=(0,m.useAppSelector)(e=>e.editUserAdminModalSlice.modalOpen),E=(0,m.useAppSelector)(e=>e.locationsSlice.locations),T=(0,m.useAppSelector)(e=>e.locationsSlice.brothers),I=T?[...E,T]:E,[O,P]=(()=>{let[e,{isLoading:t}]=(0,cv.useUpdateUserAdminMutation)(),n=(0,cg.useAppDispatch)(),r=(0,m.useAppSelector)(e=>{var t;return null==(t=e.editUserAdminModalSlice.currentUser)?void 0:t.uuid});return[async t=>{try{let o=await e({body:t,uuid:r||""}).unwrap();o&&o.data&&(n((0,E8.updateUser)(o.data)),n((0,Te.setEditUserAdminModalOpen)(!1)))}catch(e){console.log(e)}},t]})(),{handleSubmit:N,reset:D,register:A,formState:{errors:L},setValue:j,clearErrors:z,control:F}=(0,c.useForm)({resolver:(0,d.zodResolver)(s.default.object({firstName:s.default.string(),lastName:s.default.string(),email:s.default.string(),role:s.default.enum(cf.UserRole),language:s.default.enum(cf.Language),locationUuid:s.default.string()})),defaultValues:{firstName:"",lastName:"",email:"",role:"USER",language:"RU",locationUuid:""},mode:"onSubmit"}),H=(0,u.useTranslation)(),B=()=>{D(),h((0,Te.setEditUserAdminModalOpen)(!1))};return(0,g.useEffect)(()=>{j("firstName",(null==M?void 0:M.firstName)||""),j("lastName",(null==M?void 0:M.lastName)||""),j("email",(null==M?void 0:M.email)||""),j("role",(null==M?void 0:M.role)||"USER"),j("language",(null==M?void 0:M.language)||"RU"),j("locationUuid",(null==M?void 0:M.locationUuid)||"")},[M,j]),(0,a.jsx)(EZ.Modal,{open:R,onClose:B,children:(0,a.jsx)(b.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,a.jsxs)(b.Box,{sx:{position:"relative",p:5},children:[(0,a.jsx)(y.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:B,children:(0,a.jsx)(EQ.default,{})}),(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:H("users.updateUser")}),(0,a.jsxs)("form",{onSubmit:N(O),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,a.jsx)(S.Input,{...A("firstName"),errorMessage:null==(e=L.firstName)?void 0:e.message,label:H("profile.firstName"),className:"mb-4",fullWidth:!0}),(0,a.jsx)(S.Input,{...A("lastName"),errorMessage:null==(t=L.lastName)?void 0:t.message,label:H("profile.lastName"),className:"mb-4",fullWidth:!0}),(0,a.jsx)(S.Input,{...A("email"),errorMessage:null==(n=L.email)?void 0:n.message,label:H("profile.email"),className:"mb-4",fullWidth:!0}),(0,a.jsxs)(b.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:H("users.roleLabel")}),(null==(r=L.role)?void 0:r.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:null==(o=L.role)?void 0:o.message})]}),(0,a.jsx)(c.Controller,{name:"role",control:F,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,a.jsx)(x.TextField,{select:!0,onChange:t,value:n,variant:"standard",fullWidth:!0,placeholder:H("users.selectRole"),className:"border px-2.5 py-2 !text-black",error:!!L.role,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:Object.values(cf.UserRole).map(e=>(0,a.jsx)(w.MenuItem,{value:e,className:"bg-white text-black hover:bg-gray-100",onClick:()=>k(e),children:e},e))})}})]}),f===cf.UserRole.EDITOR&&(0,a.jsxs)(b.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:H("users.locationLabel")}),(null==(l=L.locationUuid)?void 0:l.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:null==(i=L.locationUuid)?void 0:i.message})]}),(0,a.jsx)(c.Controller,{name:"locationUuid",control:F,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,a.jsx)(x.TextField,{select:!0,onChange:t,value:n,variant:"standard",fullWidth:!0,placeholder:H("users.selectLocation"),className:"border px-2.5 py-2 !text-black",error:!!L.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:I.map(e=>(0,a.jsx)(w.MenuItem,{value:e.uuid,className:"bg-white text-black hover:bg-gray-100",children:e.title},e.uuid))})}})]}),(0,a.jsxs)(b.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(C.Typography,{children:H("users.languageLabel")}),(null==(p=L.language)?void 0:p.message)&&(0,a.jsx)(C.Typography,{className:"text-error-main",children:L.language.message})]}),(0,a.jsx)(c.Controller,{name:"language",control:F,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,a.jsx)(x.TextField,{select:!0,onChange:t,value:n,variant:"standard",fullWidth:!0,placeholder:H("users.selectLanguage"),className:"border px-2.5 py-2 !text-black",error:!!L.language,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:Object.values(cf.Language).map(e=>(0,a.jsx)(w.MenuItem,{value:e,className:"bg-white text-black hover:bg-gray-100",children:e},e))})}})]}),(0,a.jsxs)(b.Box,{className:"flex gap-4",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{D({firstName:"",lastName:"",email:"",role:"USER",language:"RU",locationUuid:""},{keepErrors:!1,keepDirty:!1}),(0,v.flushSync)(()=>{j("firstName",""),j("lastName",""),j("email",""),j("role","USER"),j("language","RU"),j("locationUuid","")}),z()},children:H("common.clear")}),(0,a.jsx)(y.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!P,children:H("users.update")})]})]})]})})})},Tn=()=>{let e=(0,cg.useAppDispatch)(),t=(0,u.useTranslation)(),{users:n,total:r,limit:o,isFetching:l,refetch:i,handleSearchQueryChange:s,searchQuery:c}=function(){let e=(0,cg.useAppDispatch)(),t=(0,m.useAppSelector)(e=>e.usersTableSlice.users)||[],n=(0,m.useAppSelector)(e=>e.usersTableSlice.offset),r=(0,m.useAppSelector)(e=>e.usersTableSlice.limit),o=(0,m.useAppSelector)(e=>e.usersTableSlice.total),l=(0,m.useAppSelector)(e=>e.usersTableSlice.searchQuery),i=(0,EW.useDebounce)(l,500),{data:a,isFetching:s,isLoading:u,refetch:c}=(0,cv.useGetUsersQuery)({search:i,offset:n,limit:r});return(0,g.useEffect)(()=>{if(a){let t=a.data.data;e((0,E8.setUsersToTable)(t)),e((0,E8.setTotalToTable)(a.data.total))}},[a,e,n]),{users:t,searchQuery:l,handleSearchQueryChange:t=>{e((0,E8.setSearchQueryToTable)(t.target.value)),e((0,E8.setOffsetToTable)(0))},isFetching:s,isLoading:u,loadMore:()=>{e((0,E8.setOffsetToTable)(n+r))},total:o,limit:r,refetch:c}}(),d=(()=>{let[e]=(0,cv.useDeleteUserMutation)(),t=(0,cg.useAppDispatch)();return async(n,r)=>{try{let o=await e(n.uuid).unwrap();o&&o.data&&(t((0,E8.deleteUserFromTable)(o.data.uuid)),r())}catch(e){console.log(e)}}})(),p=(0,EK.useGetDateKey)(),[h,f]=(0,g.useState)({page:0,pageSize:o}),v=n.map(e=>({id:e.uuid,fullName:"".concat(e.firstName," ").concat(e.lastName),email:e.email,role:e.role,date:p(e.createdAt)})),b=[{field:"fullName",headerName:t("users.fullName"),flex:1,editable:!0},{field:"email",headerName:t("profile.email"),width:250,editable:!0},{field:"date",headerName:t("common.date"),width:180,editable:!0},{field:"role",headerName:t("profile.role"),width:180,editable:!0},{field:"edit",headerName:t("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:r=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.edit"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>{var t;return t=r.row.id,void(e((0,Te.setEditUserAdminModalOpen)(!0)),e((0,Te.setEditUserAdminCurrent)(n.find(e=>e.uuid===t)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(Eq,{className:"fill-primary-main"})})})})},{field:"delete",headerName:t("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:e=>(0,a.jsx)(cC.default,{sx:{display:"flex",gap:1},children:(0,a.jsx)(kg,{title:t("common.delete"),children:(0,a.jsx)(EU.IconButton,{size:"small",onClick:()=>d({uuid:e.row.id},i),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,a.jsx)(E_,{className:"fill-primary-main"})})})})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:t("users.allUsers")}),(0,a.jsxs)(cC.default,{className:"flex flex-col gap-6 [&_*]:!text-black",children:[(0,a.jsx)(cC.default,{className:"flex gap-4",children:(0,a.jsx)(x.TextField,{variant:"filled",size:"small",placeholder:t("common.searchPlaceholder"),value:c,onChange:s,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,a.jsx)(E$.default,{fontSize:"large",className:"fill-primary-main"})}}})}),(0,a.jsx)(EV,{rows:v,columns:b,initialState:{pagination:{paginationModel:{pageSize:o}}},pageSizeOptions:[o],checkboxSelection:!1,loading:l,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:r,paginationModel:h,onPaginationModelChange:t=>{f(t),e((0,E8.setOffsetToTable)(t.page*t.pageSize))},sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,a.jsx)(Tt,{})]})};function Tr(){let e=(0,m.useAppSelector)(e=>{var t;return null==(t=e.userSlice.user)?void 0:t.role});return(0,a.jsx)(cx.Container,{maxWidth:"xl",className:"bg-[rgba(255,255,255,0.9)] px-2",children:(0,a.jsxs)(b.Box,{className:"flex gap-5 max-xl:flex-col xl:gap-10",children:[(0,a.jsx)(b.Box,{className:"max-xl:self-center",children:(0,a.jsx)(cw,{})}),(0,a.jsxs)(b.Box,{className:"flex flex-col gap-8",children:[(e===cf.UserRole.ADMIN||e===cf.UserRole.EDITOR)&&(0,a.jsx)(cm,{}),(e===cf.UserRole.ADMIN||e===cf.UserRole.EDITOR)&&(0,a.jsx)(E1,{}),e===cf.UserRole.ADMIN&&(0,a.jsx)(E7,{}),e===cf.UserRole.ADMIN&&(0,a.jsx)(Tn,{})]})]})})}}]);