module.exports=[906798,(a,b,c)=>{"use strict";b.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b instanceof Map&&c instanceof Map){if(b.size!==c.size)return!1;for(e of b.entries())if(!c.has(e[0]))return!1;for(e of b.entries())if(!a(e[1],c.get(e[0])))return!1;return!0}if(b instanceof Set&&c instanceof Set){if(b.size!==c.size)return!1;for(e of b.entries())if(!c.has(e[0]))return!1;return!0}if(ArrayBuffer.isView(b)&&ArrayBuffer.isView(c)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(b[e]!==c[e])return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(("_owner"!==g||!b.$$typeof)&&!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},482520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},324560,(a,b,c)=>{"use strict";var d=a.r(482520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},341212,(a,b,c)=>{b.exports=a.r(324560)()},184962,(a,b,c)=>{"use strict";var d=a.r(572131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},364806,(a,b,c)=>{"use strict";b.exports=a.r(184962)},33115,(a,b,c)=>{"use strict";var d=a.r(572131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},204639,(a,b,c)=>{"use strict";b.exports=a.r(33115)},552261,(a,b,c)=>{"use strict";var d=a.r(572131),e=a.r(204639),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},690573,(a,b,c)=>{"use strict";b.exports=a.r(552261)},965066,a=>{"use strict";let b,c;a.s(["default",()=>BT],965066);var d,e,f,g,h=a.i(187924),i=a.i(319111),j=a.i(904045),k=a.i(695245),l=a.i(159501),m=a.i(917972),n=a.i(947617);let o=()=>{let[a]=(0,n.useUploadMutation)();return async b=>{try{let c=await a(b).unwrap();if(c&&c.data)return c.data}catch(a){console.log(a)}}};var p=a.i(655805),q=a.i(572131),r=a.i(935112),s=a.i(124089),t=a.i(177940),u=a.i(912218),v=a.i(110446),w=a.i(19470),x=a.i(866718);function y(a){this.content=a}y.prototype={constructor:y,find:function(a){for(var b=0;b<this.content.length;b+=2)if(this.content[b]===a)return b;return -1},get:function(a){var b=this.find(a);return -1==b?void 0:this.content[b+1]},update:function(a,b,c){var d=c&&c!=a?this.remove(c):this,e=d.find(a),f=d.content.slice();return -1==e?f.push(c||a,b):(f[e+1]=b,c&&(f[e]=c)),new y(f)},remove:function(a){var b=this.find(a);if(-1==b)return this;var c=this.content.slice();return c.splice(b,2),new y(c)},addToStart:function(a,b){return new y([a,b].concat(this.remove(a).content))},addToEnd:function(a,b){var c=this.remove(a).content.slice();return c.push(a,b),new y(c)},addBefore:function(a,b,c){var d=this.remove(b),e=d.content.slice(),f=d.find(a);return e.splice(-1==f?e.length:f,0,b,c),new y(e)},forEach:function(a){for(var b=0;b<this.content.length;b+=2)a(this.content[b],this.content[b+1])},prepend:function(a){return(a=y.from(a)).size?new y(a.content.concat(this.subtract(a).content)):this},append:function(a){return(a=y.from(a)).size?new y(this.subtract(a).content.concat(a.content)):this},subtract:function(a){var b=this;a=y.from(a);for(var c=0;c<a.content.length;c+=2)b=b.remove(a.content[c]);return b},toObject:function(){var a={};return this.forEach(function(b,c){a[b]=c}),a},get size(){return this.content.length>>1}},y.from=function(a){if(a instanceof y)return a;var b=[];if(a)for(var c in a)b.push(c,a[c]);return new y(b)};class z{constructor(a,b){if(this.content=a,this.size=b||0,null==b)for(let b=0;b<a.length;b++)this.size+=a[b].nodeSize}nodesBetween(a,b,c,d=0,e){for(let f=0,g=0;g<b;f++){let h=this.content[f],i=g+h.nodeSize;if(i>a&&!1!==c(h,d+g,e||null,f)&&h.content.size){let e=g+1;h.nodesBetween(Math.max(0,a-e),Math.min(h.content.size,b-e),c,d+e)}g=i}}descendants(a){this.nodesBetween(0,this.size,a)}textBetween(a,b,c,d){let e="",f=!0;return this.nodesBetween(a,b,(g,h)=>{let i=g.isText?g.text.slice(Math.max(a,h)-h,b-h):g.isLeaf?d?"function"==typeof d?d(g):d:g.type.spec.leafText?g.type.spec.leafText(g):"":"";g.isBlock&&(g.isLeaf&&i||g.isTextblock)&&c&&(f?f=!1:e+=c),e+=i},0),e}append(a){if(!a.size)return this;if(!this.size)return a;let b=this.lastChild,c=a.firstChild,d=this.content.slice(),e=0;for(b.isText&&b.sameMarkup(c)&&(d[d.length-1]=b.withText(b.text+c.text),e=1);e<a.content.length;e++)d.push(a.content[e]);return new z(d,this.size+a.size)}cut(a,b=this.size){if(0==a&&b==this.size)return this;let c=[],d=0;if(b>a)for(let e=0,f=0;f<b;e++){let g=this.content[e],h=f+g.nodeSize;h>a&&((f<a||h>b)&&(g=g.isText?g.cut(Math.max(0,a-f),Math.min(g.text.length,b-f)):g.cut(Math.max(0,a-f-1),Math.min(g.content.size,b-f-1))),c.push(g),d+=g.nodeSize),f=h}return new z(c,d)}cutByIndex(a,b){return a==b?z.empty:0==a&&b==this.content.length?this:new z(this.content.slice(a,b))}replaceChild(a,b){let c=this.content[a];if(c==b)return this;let d=this.content.slice(),e=this.size+b.nodeSize-c.nodeSize;return d[a]=b,new z(d,e)}addToStart(a){return new z([a].concat(this.content),this.size+a.nodeSize)}addToEnd(a){return new z(this.content.concat(a),this.size+a.nodeSize)}eq(a){if(this.content.length!=a.content.length)return!1;for(let b=0;b<this.content.length;b++)if(!this.content[b].eq(a.content[b]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(a){let b=this.content[a];if(!b)throw RangeError("Index "+a+" out of range for "+this);return b}maybeChild(a){return this.content[a]||null}forEach(a){for(let b=0,c=0;b<this.content.length;b++){let d=this.content[b];a(d,c,b),c+=d.nodeSize}}findDiffStart(a,b=0){return function a(b,c,d){for(let e=0;;e++){if(e==b.childCount||e==c.childCount)return b.childCount==c.childCount?null:d;let f=b.child(e),g=c.child(e);if(f==g){d+=f.nodeSize;continue}if(!f.sameMarkup(g))return d;if(f.isText&&f.text!=g.text){for(let a=0;f.text[a]==g.text[a];a++)d++;return d}if(f.content.size||g.content.size){let b=a(f.content,g.content,d+1);if(null!=b)return b}d+=f.nodeSize}}(this,a,b)}findDiffEnd(a,b=this.size,c=a.size){return function a(b,c,d,e){for(let f=b.childCount,g=c.childCount;;){if(0==f||0==g)return f==g?null:{a:d,b:e};let h=b.child(--f),i=c.child(--g),j=h.nodeSize;if(h==i){d-=j,e-=j;continue}if(!h.sameMarkup(i))return{a:d,b:e};if(h.isText&&h.text!=i.text){let a=0,b=Math.min(h.text.length,i.text.length);for(;a<b&&h.text[h.text.length-a-1]==i.text[i.text.length-a-1];)a++,d--,e--;return{a:d,b:e}}if(h.content.size||i.content.size){let b=a(h.content,i.content,d-1,e-1);if(b)return b}d-=j,e-=j}}(this,a,b,c)}findIndex(a){if(0==a)return B(0,a);if(a==this.size)return B(this.content.length,a);if(a>this.size||a<0)throw RangeError(`Position ${a} outside of fragment (${this})`);for(let b=0,c=0;;b++){let d=c+this.child(b).nodeSize;if(d>=a){if(d==a)return B(b+1,d);return B(b,c)}c=d}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(a=>a.toJSON()):null}static fromJSON(a,b){if(!b)return z.empty;if(!Array.isArray(b))throw RangeError("Invalid input for Fragment.fromJSON");return new z(b.map(a.nodeFromJSON))}static fromArray(a){if(!a.length)return z.empty;let b,c=0;for(let d=0;d<a.length;d++){let e=a[d];c+=e.nodeSize,d&&e.isText&&a[d-1].sameMarkup(e)?(b||(b=a.slice(0,d)),b[b.length-1]=e.withText(b[b.length-1].text+e.text)):b&&b.push(e)}return new z(b||a,c)}static from(a){if(!a)return z.empty;if(a instanceof z)return a;if(Array.isArray(a))return this.fromArray(a);if(a.attrs)return new z([a],a.nodeSize);throw RangeError("Can not convert "+a+" to a Fragment"+(a.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}z.empty=new z([],0);let A={index:0,offset:0};function B(a,b){return A.index=a,A.offset=b,A}function C(a,b){if(a===b)return!0;if(!(a&&"object"==typeof a)||!(b&&"object"==typeof b))return!1;let c=Array.isArray(a);if(Array.isArray(b)!=c)return!1;if(c){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(!C(a[c],b[c]))return!1}else{for(let c in a)if(!(c in b)||!C(a[c],b[c]))return!1;for(let c in b)if(!(c in a))return!1}return!0}class D{constructor(a,b){this.type=a,this.attrs=b}addToSet(a){let b,c=!1;for(let d=0;d<a.length;d++){let e=a[d];if(this.eq(e))return a;if(this.type.excludes(e.type))b||(b=a.slice(0,d));else{if(e.type.excludes(this.type))return a;!c&&e.type.rank>this.type.rank&&(b||(b=a.slice(0,d)),b.push(this),c=!0),b&&b.push(e)}}return b||(b=a.slice()),c||b.push(this),b}removeFromSet(a){for(let b=0;b<a.length;b++)if(this.eq(a[b]))return a.slice(0,b).concat(a.slice(b+1));return a}isInSet(a){for(let b=0;b<a.length;b++)if(this.eq(a[b]))return!0;return!1}eq(a){return this==a||this.type==a.type&&C(this.attrs,a.attrs)}toJSON(){let a={type:this.type.name};for(let b in this.attrs){a.attrs=this.attrs;break}return a}static fromJSON(a,b){if(!b)throw RangeError("Invalid input for Mark.fromJSON");let c=a.marks[b.type];if(!c)throw RangeError(`There is no mark type ${b.type} in this schema`);let d=c.create(b.attrs);return c.checkAttrs(d.attrs),d}static sameSet(a,b){if(a==b)return!0;if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(!a[c].eq(b[c]))return!1;return!0}static setFrom(a){if(!a||Array.isArray(a)&&0==a.length)return D.none;if(a instanceof D)return[a];let b=a.slice();return b.sort((a,b)=>a.type.rank-b.type.rank),b}}D.none=[];class E extends Error{}class F{constructor(a,b,c){this.content=a,this.openStart=b,this.openEnd=c}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(a,b){let c=function a(b,c,d,e){let{index:f,offset:g}=b.findIndex(c),h=b.maybeChild(f);if(g==c||h.isText)return e&&!e.canReplace(f,f,d)?null:b.cut(0,c).append(d).append(b.cut(c));let i=a(h.content,c-g-1,d,h);return i&&b.replaceChild(f,h.copy(i))}(this.content,a+this.openStart,b);return c&&new F(c,this.openStart,this.openEnd)}removeBetween(a,b){return new F(function a(b,c,d){let{index:e,offset:f}=b.findIndex(c),g=b.maybeChild(e),{index:h,offset:i}=b.findIndex(d);if(f==c||g.isText){if(i!=d&&!b.child(h).isText)throw RangeError("Removing non-flat range");return b.cut(0,c).append(b.cut(d))}if(e!=h)throw RangeError("Removing non-flat range");return b.replaceChild(e,g.copy(a(g.content,c-f-1,d-f-1)))}(this.content,a+this.openStart,b+this.openStart),this.openStart,this.openEnd)}eq(a){return this.content.eq(a.content)&&this.openStart==a.openStart&&this.openEnd==a.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let a={content:this.content.toJSON()};return this.openStart>0&&(a.openStart=this.openStart),this.openEnd>0&&(a.openEnd=this.openEnd),a}static fromJSON(a,b){if(!b)return F.empty;let c=b.openStart||0,d=b.openEnd||0;if("number"!=typeof c||"number"!=typeof d)throw RangeError("Invalid input for Slice.fromJSON");return new F(z.fromJSON(a,b.content),c,d)}static maxOpen(a,b=!0){let c=0,d=0;for(let d=a.firstChild;d&&!d.isLeaf&&(b||!d.type.spec.isolating);d=d.firstChild)c++;for(let c=a.lastChild;c&&!c.isLeaf&&(b||!c.type.spec.isolating);c=c.lastChild)d++;return new F(a,c,d)}}function G(a,b){if(!b.type.compatibleContent(a.type))throw new E("Cannot join "+b.type.name+" onto "+a.type.name)}function H(a,b,c){let d=a.node(c);return G(d,b.node(c)),d}function I(a,b){let c=b.length-1;c>=0&&a.isText&&a.sameMarkup(b[c])?b[c]=a.withText(b[c].text+a.text):b.push(a)}function J(a,b,c,d){let e=(b||a).node(c),f=0,g=b?b.index(c):e.childCount;a&&(f=a.index(c),a.depth>c?f++:a.textOffset&&(I(a.nodeAfter,d),f++));for(let a=f;a<g;a++)I(e.child(a),d);b&&b.depth==c&&b.textOffset&&I(b.nodeBefore,d)}function K(a,b){return a.type.checkContent(b),a.copy(b)}function L(a,b,c){let d=[];return J(null,a,c,d),a.depth>c&&I(K(H(a,b,c+1),L(a,b,c+1)),d),J(b,null,c,d),new z(d)}F.empty=new F(z.empty,0,0);class M{constructor(a,b,c){this.pos=a,this.path=b,this.parentOffset=c,this.depth=b.length/3-1}resolveDepth(a){return null==a?this.depth:a<0?this.depth+a:a}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(a){return this.path[3*this.resolveDepth(a)]}index(a){return this.path[3*this.resolveDepth(a)+1]}indexAfter(a){return a=this.resolveDepth(a),this.index(a)+(a!=this.depth||this.textOffset?1:0)}start(a){return 0==(a=this.resolveDepth(a))?0:this.path[3*a-1]+1}end(a){return a=this.resolveDepth(a),this.start(a)+this.node(a).content.size}before(a){if(!(a=this.resolveDepth(a)))throw RangeError("There is no position before the top-level node");return a==this.depth+1?this.pos:this.path[3*a-1]}after(a){if(!(a=this.resolveDepth(a)))throw RangeError("There is no position after the top-level node");return a==this.depth+1?this.pos:this.path[3*a-1]+this.path[3*a].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let a=this.parent,b=this.index(this.depth);if(b==a.childCount)return null;let c=this.pos-this.path[this.path.length-1],d=a.child(b);return c?a.child(b).cut(c):d}get nodeBefore(){let a=this.index(this.depth),b=this.pos-this.path[this.path.length-1];return b?this.parent.child(a).cut(0,b):0==a?null:this.parent.child(a-1)}posAtIndex(a,b){b=this.resolveDepth(b);let c=this.path[3*b],d=0==b?0:this.path[3*b-1]+1;for(let b=0;b<a;b++)d+=c.child(b).nodeSize;return d}marks(){let a=this.parent,b=this.index();if(0==a.content.size)return D.none;if(this.textOffset)return a.child(b).marks;let c=a.maybeChild(b-1),d=a.maybeChild(b);if(!c){let a=c;c=d,d=a}let e=c.marks;for(var f=0;f<e.length;f++)!1!==e[f].type.spec.inclusive||d&&e[f].isInSet(d.marks)||(e=e[f--].removeFromSet(e));return e}marksAcross(a){let b=this.parent.maybeChild(this.index());if(!b||!b.isInline)return null;let c=b.marks,d=a.parent.maybeChild(a.index());for(var e=0;e<c.length;e++)!1!==c[e].type.spec.inclusive||d&&c[e].isInSet(d.marks)||(c=c[e--].removeFromSet(c));return c}sharedDepth(a){for(let b=this.depth;b>0;b--)if(this.start(b)<=a&&this.end(b)>=a)return b;return 0}blockRange(a=this,b){if(a.pos<this.pos)return a.blockRange(this);for(let c=this.depth-(this.parent.inlineContent||this.pos==a.pos?1:0);c>=0;c--)if(a.pos<=this.end(c)&&(!b||b(this.node(c))))return new Q(this,a,c);return null}sameParent(a){return this.pos-this.parentOffset==a.pos-a.parentOffset}max(a){return a.pos>this.pos?a:this}min(a){return a.pos<this.pos?a:this}toString(){let a="";for(let b=1;b<=this.depth;b++)a+=(a?"/":"")+this.node(b).type.name+"_"+this.index(b-1);return a+":"+this.parentOffset}static resolve(a,b){if(!(b>=0&&b<=a.content.size))throw RangeError("Position "+b+" out of range");let c=[],d=0,e=b;for(let b=a;;){let{index:a,offset:f}=b.content.findIndex(e),g=e-f;if(c.push(b,a,d+f),!g||(b=b.child(a)).isText)break;e=g-1,d+=f+1}return new M(b,c,e)}static resolveCached(a,b){let c=P.get(a);if(c)for(let a=0;a<c.elts.length;a++){let d=c.elts[a];if(d.pos==b)return d}else P.set(a,c=new N);let d=c.elts[c.i]=M.resolve(a,b);return c.i=(c.i+1)%O,d}}class N{constructor(){this.elts=[],this.i=0}}let O=12,P=new WeakMap;class Q{constructor(a,b,c){this.$from=a,this.$to=b,this.depth=c}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let R=Object.create(null);class S{constructor(a,b,c,d=D.none){this.type=a,this.attrs=b,this.marks=d,this.content=c||z.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(a){return this.content.child(a)}maybeChild(a){return this.content.maybeChild(a)}forEach(a){this.content.forEach(a)}nodesBetween(a,b,c,d=0){this.content.nodesBetween(a,b,c,d,this)}descendants(a){this.nodesBetween(0,this.content.size,a)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(a,b,c,d){return this.content.textBetween(a,b,c,d)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(a){return this==a||this.sameMarkup(a)&&this.content.eq(a.content)}sameMarkup(a){return this.hasMarkup(a.type,a.attrs,a.marks)}hasMarkup(a,b,c){return this.type==a&&C(this.attrs,b||a.defaultAttrs||R)&&D.sameSet(this.marks,c||D.none)}copy(a=null){return a==this.content?this:new S(this.type,this.attrs,a,this.marks)}mark(a){return a==this.marks?this:new S(this.type,this.attrs,this.content,a)}cut(a,b=this.content.size){return 0==a&&b==this.content.size?this:this.copy(this.content.cut(a,b))}slice(a,b=this.content.size,c=!1){if(a==b)return F.empty;let d=this.resolve(a),e=this.resolve(b),f=c?0:d.sharedDepth(b),g=d.start(f);return new F(d.node(f).content.cut(d.pos-g,e.pos-g),d.depth-f,e.depth-f)}replace(a,b,c){var d=this.resolve(a),e=this.resolve(b);if(c.openStart>d.depth)throw new E("Inserted content deeper than insertion position");if(d.depth-c.openStart!=e.depth-c.openEnd)throw new E("Inconsistent open depths");return function a(b,c,d,e){let f=b.index(e),g=b.node(e);if(f==c.index(e)&&e<b.depth-d.openStart){let h=a(b,c,d,e+1);return g.copy(g.content.replaceChild(f,h))}if(!d.content.size)return K(g,L(b,c,e));if(d.openStart||d.openEnd||b.depth!=e||c.depth!=e){let{start:a,end:f}=function(a,b){let c=b.depth-a.openStart,d=b.node(c).copy(a.content);for(let a=c-1;a>=0;a--)d=b.node(a).copy(z.from(d));return{start:d.resolveNoCache(a.openStart+c),end:d.resolveNoCache(d.content.size-a.openEnd-c)}}(d,b);return K(g,function a(b,c,d,e,f){let g=b.depth>f&&H(b,c,f+1),h=e.depth>f&&H(d,e,f+1),i=[];return J(null,b,f,i),g&&h&&c.index(f)==d.index(f)?(G(g,h),I(K(g,a(b,c,d,e,f+1)),i)):(g&&I(K(g,L(b,c,f+1)),i),J(c,d,f,i),h&&I(K(h,L(d,e,f+1)),i)),J(e,null,f,i),new z(i)}(b,a,f,c,e))}{let a=b.parent,e=a.content;return K(a,e.cut(0,b.parentOffset).append(d.content).append(e.cut(c.parentOffset)))}}(d,e,c,0)}nodeAt(a){for(let b=this;;){let{index:c,offset:d}=b.content.findIndex(a);if(!(b=b.maybeChild(c)))return null;if(d==a||b.isText)return b;a-=d+1}}childAfter(a){let{index:b,offset:c}=this.content.findIndex(a);return{node:this.content.maybeChild(b),index:b,offset:c}}childBefore(a){if(0==a)return{node:null,index:0,offset:0};let{index:b,offset:c}=this.content.findIndex(a);if(c<a)return{node:this.content.child(b),index:b,offset:c};let d=this.content.child(b-1);return{node:d,index:b-1,offset:c-d.nodeSize}}resolve(a){return M.resolveCached(this,a)}resolveNoCache(a){return M.resolve(this,a)}rangeHasMark(a,b,c){let d=!1;return b>a&&this.nodesBetween(a,b,a=>(c.isInSet(a.marks)&&(d=!0),!d)),d}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let a=this.type.name;return this.content.size&&(a+="("+this.content.toStringInner()+")"),U(this.marks,a)}contentMatchAt(a){let b=this.type.contentMatch.matchFragment(this.content,0,a);if(!b)throw Error("Called contentMatchAt on a node with invalid content");return b}canReplace(a,b,c=z.empty,d=0,e=c.childCount){let f=this.contentMatchAt(a).matchFragment(c,d,e),g=f&&f.matchFragment(this.content,b);if(!g||!g.validEnd)return!1;for(let a=d;a<e;a++)if(!this.type.allowsMarks(c.child(a).marks))return!1;return!0}canReplaceWith(a,b,c,d){if(d&&!this.type.allowsMarks(d))return!1;let e=this.contentMatchAt(a).matchType(c),f=e&&e.matchFragment(this.content,b);return!!f&&f.validEnd}canAppend(a){return a.content.size?this.canReplace(this.childCount,this.childCount,a.content):this.type.compatibleContent(a.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let a=D.none;for(let b=0;b<this.marks.length;b++){let c=this.marks[b];c.type.checkAttrs(c.attrs),a=c.addToSet(a)}if(!D.sameSet(a,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(a=>a.type.name)}`);this.content.forEach(a=>a.check())}toJSON(){let a={type:this.type.name};for(let b in this.attrs){a.attrs=this.attrs;break}return this.content.size&&(a.content=this.content.toJSON()),this.marks.length&&(a.marks=this.marks.map(a=>a.toJSON())),a}static fromJSON(a,b){let c;if(!b)throw RangeError("Invalid input for Node.fromJSON");if(b.marks){if(!Array.isArray(b.marks))throw RangeError("Invalid mark data for Node.fromJSON");c=b.marks.map(a.markFromJSON)}if("text"==b.type){if("string"!=typeof b.text)throw RangeError("Invalid text node in JSON");return a.text(b.text,c)}let d=z.fromJSON(a,b.content),e=a.nodeType(b.type).create(b.attrs,d,c);return e.type.checkAttrs(e.attrs),e}}S.prototype.text=void 0;class T extends S{constructor(a,b,c,d){if(super(a,b,null,d),!c)throw RangeError("Empty text nodes are not allowed");this.text=c}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):U(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(a,b){return this.text.slice(a,b)}get nodeSize(){return this.text.length}mark(a){return a==this.marks?this:new T(this.type,this.attrs,this.text,a)}withText(a){return a==this.text?this:new T(this.type,this.attrs,a,this.marks)}cut(a=0,b=this.text.length){return 0==a&&b==this.text.length?this:this.withText(this.text.slice(a,b))}eq(a){return this.sameMarkup(a)&&this.text==a.text}toJSON(){let a=super.toJSON();return a.text=this.text,a}}function U(a,b){for(let c=a.length-1;c>=0;c--)b=a[c].type.name+"("+b+")";return b}class V{constructor(a){this.validEnd=a,this.next=[],this.wrapCache=[]}static parse(a,b){var c;let d,e=new W(a,b);if(null==e.next)return V.empty;let f=function a(b){let c=[];do c.push(function(b){let c=[];do c.push(function(b){let c=function(b){if(b.eat("(")){let c=a(b);return b.eat(")")||b.err("Missing closing paren"),c}if(/\W/.test(b.next))b.err("Unexpected token '"+b.next+"'");else{let a=(function(a,b){let c=a.nodeTypes,d=c[b];if(d)return[d];let e=[];for(let a in c){let d=c[a];d.isInGroup(b)&&e.push(d)}return 0==e.length&&a.err("No node type or group '"+b+"' found"),e})(b,b.next).map(a=>(null==b.inline?b.inline=a.isInline:b.inline!=a.isInline&&b.err("Mixing inline and block content"),{type:"name",value:a}));return b.pos++,1==a.length?a[0]:{type:"choice",exprs:a}}}(b);for(;;)if(b.eat("+"))c={type:"plus",expr:c};else if(b.eat("*"))c={type:"star",expr:c};else if(b.eat("?"))c={type:"opt",expr:c};else if(b.eat("{"))c=function(a,b){let c=X(a),d=c;return a.eat(",")&&(d="}"!=a.next?X(a):-1),a.eat("}")||a.err("Unclosed braced range"),{type:"range",min:c,max:d,expr:b}}(b,c);else break;return c}(b));while(b.next&&")"!=b.next&&"|"!=b.next)return 1==c.length?c[0]:{type:"seq",exprs:c}}(b));while(b.eat("|"))return 1==c.length?c[0]:{type:"choice",exprs:c}}(e);e.next&&e.err("Unexpected trailing text");let g=(c=function(a){let b=[[]];return e(function a(b,f){if("choice"==b.type)return b.exprs.reduce((b,c)=>b.concat(a(c,f)),[]);if("seq"==b.type)for(let d=0;;d++){let g=a(b.exprs[d],f);if(d==b.exprs.length-1)return g;e(g,f=c())}else if("star"==b.type){let g=c();return d(f,g),e(a(b.expr,g),g),[d(g)]}else if("plus"==b.type){let g=c();return e(a(b.expr,f),g),e(a(b.expr,g),g),[d(g)]}else if("opt"==b.type)return[d(f)].concat(a(b.expr,f));else if("range"==b.type){let g=f;for(let d=0;d<b.min;d++){let d=c();e(a(b.expr,g),d),g=d}if(-1==b.max)e(a(b.expr,g),g);else for(let f=b.min;f<b.max;f++){let f=c();d(g,f),e(a(b.expr,g),f),g=f}return[d(g)]}else if("name"==b.type)return[d(f,void 0,b.value)];else throw Error("Unknown expr type")}(a,0),c()),b;function c(){return b.push([])-1}function d(a,c,d){let e={term:d,to:c};return b[a].push(e),e}function e(a,b){a.forEach(a=>a.to=b)}}(f),d=Object.create(null),function a(b){let e=[];b.forEach(a=>{c[a].forEach(({term:a,to:b})=>{let d;if(a){for(let b=0;b<e.length;b++)e[b][0]==a&&(d=e[b][1]);Z(c,b).forEach(b=>{d||e.push([a,d=[]]),-1==d.indexOf(b)&&d.push(b)})}})});let f=d[b.join(",")]=new V(b.indexOf(c.length-1)>-1);for(let b=0;b<e.length;b++){let c=e[b][1].sort(Y);f.next.push({type:e[b][0],next:d[c.join(",")]||a(c)})}return f}(Z(c,0)));return function(a,b){for(let c=0,d=[a];c<d.length;c++){let a=d[c],e=!a.validEnd,f=[];for(let b=0;b<a.next.length;b++){let{type:c,next:g}=a.next[b];f.push(c.name),e&&!(c.isText||c.hasRequiredAttrs())&&(e=!1),-1==d.indexOf(g)&&d.push(g)}e&&b.err("Only non-generatable nodes ("+f.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(g,e),g}matchType(a){for(let b=0;b<this.next.length;b++)if(this.next[b].type==a)return this.next[b].next;return null}matchFragment(a,b=0,c=a.childCount){let d=this;for(let e=b;d&&e<c;e++)d=d.matchType(a.child(e).type);return d}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let a=0;a<this.next.length;a++){let{type:b}=this.next[a];if(!(b.isText||b.hasRequiredAttrs()))return b}return null}compatible(a){for(let b=0;b<this.next.length;b++)for(let c=0;c<a.next.length;c++)if(this.next[b].type==a.next[c].type)return!0;return!1}fillBefore(a,b=!1,c=0){let d=[this];return function e(f,g){let h=f.matchFragment(a,c);if(h&&(!b||h.validEnd))return z.from(g.map(a=>a.createAndFill()));for(let a=0;a<f.next.length;a++){let{type:b,next:c}=f.next[a];if(!(b.isText||b.hasRequiredAttrs())&&-1==d.indexOf(c)){d.push(c);let a=e(c,g.concat(b));if(a)return a}}return null}(this,[])}findWrapping(a){for(let b=0;b<this.wrapCache.length;b+=2)if(this.wrapCache[b]==a)return this.wrapCache[b+1];let b=this.computeWrapping(a);return this.wrapCache.push(a,b),b}computeWrapping(a){let b=Object.create(null),c=[{match:this,type:null,via:null}];for(;c.length;){let d=c.shift(),e=d.match;if(e.matchType(a)){let a=[];for(let b=d;b.type;b=b.via)a.push(b.type);return a.reverse()}for(let a=0;a<e.next.length;a++){let{type:f,next:g}=e.next[a];f.isLeaf||f.hasRequiredAttrs()||f.name in b||d.type&&!g.validEnd||(c.push({match:f.contentMatch,type:f,via:d}),b[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(a){if(a>=this.next.length)throw RangeError(`There's no ${a}th edge in this content match`);return this.next[a]}toString(){let a=[];return!function b(c){a.push(c);for(let d=0;d<c.next.length;d++)-1==a.indexOf(c.next[d].next)&&b(c.next[d].next)}(this),a.map((b,c)=>{let d=c+(b.validEnd?"*":" ")+" ";for(let c=0;c<b.next.length;c++)d+=(c?", ":"")+b.next[c].type.name+"->"+a.indexOf(b.next[c].next);return d}).join("\n")}}V.empty=new V(!0);class W{constructor(a,b){this.string=a,this.nodeTypes=b,this.inline=null,this.pos=0,this.tokens=a.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(a){return this.next==a&&(this.pos++||!0)}err(a){throw SyntaxError(a+" (in content expression '"+this.string+"')")}}function X(a){/\D/.test(a.next)&&a.err("Expected number, got '"+a.next+"'");let b=Number(a.next);return a.pos++,b}function Y(a,b){return b-a}function Z(a,b){let c=[];return function b(d){let e=a[d];if(1==e.length&&!e[0].term)return b(e[0].to);c.push(d);for(let a=0;a<e.length;a++){let{term:d,to:f}=e[a];d||-1!=c.indexOf(f)||b(f)}}(b),c.sort(Y)}function $(a){let b=Object.create(null);for(let c in a){let d=a[c];if(!d.hasDefault)return null;b[c]=d.default}return b}function _(a,b){let c=Object.create(null);for(let d in a){let e=b&&b[d];if(void 0===e){let b=a[d];if(b.hasDefault)e=b.default;else throw RangeError("No value supplied for attribute "+d)}c[d]=e}return c}function aa(a,b,c,d){for(let d in b)if(!(d in a))throw RangeError(`Unsupported attribute ${d} for ${c} of type ${d}`);for(let c in a){let d=a[c];d.validate&&d.validate(b[c])}}function ab(a,b){let c=Object.create(null);if(b)for(let d in b)c[d]=new ad(a,d,b[d]);return c}class ac{constructor(a,b,c){this.name=a,this.schema=b,this.spec=c,this.markSet=null,this.groups=c.group?c.group.split(" "):[],this.attrs=ab(a,c.attrs),this.defaultAttrs=$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(c.inline||"text"==a),this.isText="text"==a}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==V.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(a){return this.groups.indexOf(a)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let a in this.attrs)if(this.attrs[a].isRequired)return!0;return!1}compatibleContent(a){return this==a||this.contentMatch.compatible(a.contentMatch)}computeAttrs(a){return!a&&this.defaultAttrs?this.defaultAttrs:_(this.attrs,a)}create(a=null,b,c){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new S(this,this.computeAttrs(a),z.from(b),D.setFrom(c))}createChecked(a=null,b,c){return b=z.from(b),this.checkContent(b),new S(this,this.computeAttrs(a),b,D.setFrom(c))}createAndFill(a=null,b,c){if(a=this.computeAttrs(a),(b=z.from(b)).size){let a=this.contentMatch.fillBefore(b);if(!a)return null;b=a.append(b)}let d=this.contentMatch.matchFragment(b),e=d&&d.fillBefore(z.empty,!0);return e?new S(this,a,b.append(e),D.setFrom(c)):null}validContent(a){let b=this.contentMatch.matchFragment(a);if(!b||!b.validEnd)return!1;for(let b=0;b<a.childCount;b++)if(!this.allowsMarks(a.child(b).marks))return!1;return!0}checkContent(a){if(!this.validContent(a))throw RangeError(`Invalid content for node ${this.name}: ${a.toString().slice(0,50)}`)}checkAttrs(a){aa(this.attrs,a,"node",this.name)}allowsMarkType(a){return null==this.markSet||this.markSet.indexOf(a)>-1}allowsMarks(a){if(null==this.markSet)return!0;for(let b=0;b<a.length;b++)if(!this.allowsMarkType(a[b].type))return!1;return!0}allowedMarks(a){let b;if(null==this.markSet)return a;for(let c=0;c<a.length;c++)this.allowsMarkType(a[c].type)?b&&b.push(a[c]):b||(b=a.slice(0,c));return b?b.length?b:D.none:a}static compile(a,b){let c=Object.create(null);a.forEach((a,d)=>c[a]=new ac(a,b,d));let d=b.spec.topNode||"doc";if(!c[d])throw RangeError("Schema is missing its top node type ('"+d+"')");if(!c.text)throw RangeError("Every schema needs a 'text' type");for(let a in c.text.attrs)throw RangeError("The text node type should not have attributes");return c}}class ad{constructor(a,b,c){this.hasDefault=Object.prototype.hasOwnProperty.call(c,"default"),this.default=c.default,this.validate="string"==typeof c.validate?function(a,b,c){let d=c.split("|");return c=>{let e=null===c?"null":typeof c;if(0>d.indexOf(e))throw RangeError(`Expected value of type ${d} for attribute ${b} on type ${a}, got ${e}`)}}(a,b,c.validate):c.validate}get isRequired(){return!this.hasDefault}}class ae{constructor(a,b,c,d){this.name=a,this.rank=b,this.schema=c,this.spec=d,this.attrs=ab(a,d.attrs),this.excluded=null;let e=$(this.attrs);this.instance=e?new D(this,e):null}create(a=null){return!a&&this.instance?this.instance:new D(this,_(this.attrs,a))}static compile(a,b){let c=Object.create(null),d=0;return a.forEach((a,e)=>c[a]=new ae(a,d++,b,e)),c}removeFromSet(a){for(var b=0;b<a.length;b++)a[b].type==this&&(a=a.slice(0,b).concat(a.slice(b+1)),b--);return a}isInSet(a){for(let b=0;b<a.length;b++)if(a[b].type==this)return a[b]}checkAttrs(a){aa(this.attrs,a,"mark",this.name)}excludes(a){return this.excluded.indexOf(a)>-1}}class af{constructor(a){this.linebreakReplacement=null,this.cached=Object.create(null);let b=this.spec={};for(let c in a)b[c]=a[c];b.nodes=y.from(a.nodes),b.marks=y.from(a.marks||{}),this.nodes=ac.compile(this.spec.nodes,this),this.marks=ae.compile(this.spec.marks,this);let c=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw RangeError(a+" can not be both a node and a mark");let b=this.nodes[a],d=b.spec.content||"",e=b.spec.marks;if(b.contentMatch=c[d]||(c[d]=V.parse(d,this.nodes)),b.inlineContent=b.contentMatch.inlineContent,b.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!b.isInline||!b.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=b}b.markSet="_"==e?null:e?ag(this,e.split(" ")):""!=e&&b.inlineContent?null:[]}for(let a in this.marks){let b=this.marks[a],c=b.spec.excludes;b.excluded=null==c?[b]:""==c?[]:ag(this,c.split(" "))}this.nodeFromJSON=a=>S.fromJSON(this,a),this.markFromJSON=a=>D.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(a,b=null,c,d){if("string"==typeof a)a=this.nodeType(a);else if(a instanceof ac){if(a.schema!=this)throw RangeError("Node type from different schema used ("+a.name+")")}else throw RangeError("Invalid node type: "+a);return a.createChecked(b,c,d)}text(a,b){let c=this.nodes.text;return new T(c,c.defaultAttrs,a,D.setFrom(b))}mark(a,b){return"string"==typeof a&&(a=this.marks[a]),a.create(b)}nodeType(a){let b=this.nodes[a];if(!b)throw RangeError("Unknown node type: "+a);return b}}function ag(a,b){let c=[];for(let d=0;d<b.length;d++){let e=b[d],f=a.marks[e],g=f;if(f)c.push(f);else for(let b in a.marks){let d=a.marks[b];("_"==e||d.spec.group&&d.spec.group.split(" ").indexOf(e)>-1)&&c.push(g=d)}if(!g)throw SyntaxError("Unknown mark type: '"+b[d]+"'")}return c}class ah{constructor(a,b){this.schema=a,this.rules=b,this.tags=[],this.styles=[];let c=this.matchedStyles=[];b.forEach(a=>{if(null!=a.tag)this.tags.push(a);else if(null!=a.style){let b=/[^=]*/.exec(a.style)[0];0>c.indexOf(b)&&c.push(b),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(b=>{if(!/^(ul|ol)\b/.test(b.tag)||!b.node)return!1;let c=a.nodes[b.node];return c.contentMatch.matchType(c)})}parse(a,b={}){let c=new an(this,b,!1);return c.addAll(a,D.none,b.from,b.to),c.finish()}parseSlice(a,b={}){let c=new an(this,b,!0);return c.addAll(a,D.none,b.from,b.to),F.maxOpen(c.finish())}matchTag(a,b,c){for(let f=c?this.tags.indexOf(c)+1:0;f<this.tags.length;f++){var d,e;let c=this.tags[f];if(d=a,e=c.tag,(d.matches||d.msMatchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector).call(d,e)&&(void 0===c.namespace||a.namespaceURI==c.namespace)&&(!c.context||b.matchesContext(c.context))){if(c.getAttrs){let b=c.getAttrs(a);if(!1===b)continue;c.attrs=b||void 0}return c}}}matchStyle(a,b,c,d){for(let e=d?this.styles.indexOf(d)+1:0;e<this.styles.length;e++){let d=this.styles[e],f=d.style;if(0==f.indexOf(a)&&(!d.context||c.matchesContext(d.context))&&(!(f.length>a.length)||61==f.charCodeAt(a.length)&&f.slice(a.length+1)==b)){if(d.getAttrs){let a=d.getAttrs(b);if(!1===a)continue;d.attrs=a||void 0}return d}}}static schemaRules(a){let b=[];function c(a){let c=null==a.priority?50:a.priority,d=0;for(;d<b.length;d++){let a=b[d];if((null==a.priority?50:a.priority)<c)break}b.splice(d,0,a)}for(let b in a.marks){let d=a.marks[b].spec.parseDOM;d&&d.forEach(a=>{c(a=ao(a)),a.mark||a.ignore||a.clearMark||(a.mark=b)})}for(let b in a.nodes){let d=a.nodes[b].spec.parseDOM;d&&d.forEach(a=>{c(a=ao(a)),a.node||a.ignore||a.mark||(a.node=b)})}return b}static fromSchema(a){return a.cached.domParser||(a.cached.domParser=new ah(a,ah.schemaRules(a)))}}let ai={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ak={ol:!0,ul:!0};function al(a,b,c){return null!=b?!!b|2*("full"===b):a&&"pre"==a.whitespace?3:-5&c}class am{constructor(a,b,c,d,e,f){this.type=a,this.attrs=b,this.marks=c,this.solid=d,this.options=f,this.content=[],this.activeMarks=D.none,this.match=e||(4&f?null:a.contentMatch)}findWrapping(a){if(!this.match){if(!this.type)return[];let b=this.type.contentMatch.fillBefore(z.from(a));if(b)this.match=this.type.contentMatch.matchFragment(b);else{let b=this.type.contentMatch,c;return(c=b.findWrapping(a.type))?(this.match=b,c):null}}return this.match.findWrapping(a.type)}finish(a){if(!(1&this.options)){let a=this.content[this.content.length-1],b;a&&a.isText&&(b=/[ \t\r\n\u000c]+$/.exec(a.text))&&(a.text.length==b[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-b[0].length)))}let b=z.from(this.content);return!a&&this.match&&(b=b.append(this.match.fillBefore(z.empty,!0))),this.type?this.type.create(this.attrs,b,this.marks):b}inlineContext(a){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:a.parentNode&&!ai.hasOwnProperty(a.parentNode.nodeName.toLowerCase())}}class an{constructor(a,b,c){this.parser=a,this.options=b,this.isOpen=c,this.open=0,this.localPreserveWS=!1;let d=b.topNode,e,f=al(null,b.preserveWhitespace,0)|4*!!c;e=d?new am(d.type,d.attrs,D.none,!0,b.topMatch||d.type.contentMatch,f):c?new am(null,null,D.none,!0,null,f):new am(a.schema.topNodeType,null,D.none,!0,null,f),this.nodes=[e],this.find=b.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(a,b){3==a.nodeType?this.addTextNode(a,b):1==a.nodeType&&this.addElement(a,b)}addTextNode(a,b){let c=a.nodeValue,d=this.top,e=2&d.options?"full":this.localPreserveWS||(1&d.options)>0;if("full"===e||d.inlineContext(a)||/[^ \t\r\n\u000c]/.test(c)){if(e)c="full"!==e?c.replace(/\r?\n|\r/g," "):c.replace(/\r\n?/g,"\n");else if(c=c.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(c)&&this.open==this.nodes.length-1){let b=d.content[d.content.length-1],e=a.previousSibling;(!b||e&&"BR"==e.nodeName||b.isText&&/[ \t\r\n\u000c]$/.test(b.text))&&(c=c.slice(1))}c&&this.insertNode(this.parser.schema.text(c),b,!/\S/.test(c)),this.findInText(a)}else this.findInside(a)}addElement(a,b,c){let d=this.localPreserveWS,e=this.top;("PRE"==a.tagName||/pre/.test(a.style&&a.style.whiteSpace))&&(this.localPreserveWS=!0);let f=a.nodeName.toLowerCase(),g;ak.hasOwnProperty(f)&&this.parser.normalizeLists&&function(a){for(let b=a.firstChild,c=null;b;b=b.nextSibling){let a=1==b.nodeType?b.nodeName.toLowerCase():null;a&&ak.hasOwnProperty(a)&&c?(c.appendChild(b),b=c):"li"==a?c=b:a&&(c=null)}}(a);let h=this.options.ruleFromNode&&this.options.ruleFromNode(a)||(g=this.parser.matchTag(a,this,c));a:if(h?h.ignore:aj.hasOwnProperty(f))this.findInside(a),this.ignoreFallback(a,b);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(a=h.skip);let c,d=this.needsBlock;if(ai.hasOwnProperty(f))e.content.length&&e.content[0].isInline&&this.open&&(this.open--,e=this.top),c=!0,e.type||(this.needsBlock=!0);else if(!a.firstChild){this.leafFallback(a,b);break a}let g=h&&h.skip?b:this.readStyles(a,b);g&&this.addAll(a,g),c&&this.sync(e),this.needsBlock=d}else{let c=this.readStyles(a,b);c&&this.addElementByRule(a,h,c,!1===h.consuming?g:void 0)}this.localPreserveWS=d}leafFallback(a,b){"BR"==a.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(a.ownerDocument.createTextNode("\n"),b)}ignoreFallback(a,b){"BR"!=a.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),b,!0)}readStyles(a,b){let c=a.style;if(c&&c.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let d=this.parser.matchedStyles[a],e=c.getPropertyValue(d);if(e)for(let a;;){let c=this.parser.matchStyle(d,e,this,a);if(!c)break;if(c.ignore)return null;if(b=c.clearMark?b.filter(a=>!c.clearMark(a)):b.concat(this.parser.schema.marks[c.mark].create(c.attrs)),!1===c.consuming)a=c;else break}}return b}addElementByRule(a,b,c,d){let e,f;if(b.node)if((f=this.parser.schema.nodes[b.node]).isLeaf)this.insertNode(f.create(b.attrs),c,"BR"==a.nodeName)||this.leafFallback(a,c);else{let a=this.enter(f,b.attrs||null,c,b.preserveWhitespace);a&&(e=!0,c=a)}else{let a=this.parser.schema.marks[b.mark];c=c.concat(a.create(b.attrs))}let g=this.top;if(f&&f.isLeaf)this.findInside(a);else if(d)this.addElement(a,c,d);else if(b.getContent)this.findInside(a),b.getContent(a,this.parser.schema).forEach(a=>this.insertNode(a,c,!1));else{let d=a;"string"==typeof b.contentElement?d=a.querySelector(b.contentElement):"function"==typeof b.contentElement?d=b.contentElement(a):b.contentElement&&(d=b.contentElement),this.findAround(a,d,!0),this.addAll(d,c),this.findAround(a,d,!1)}e&&this.sync(g)&&this.open--}addAll(a,b,c,d){let e=c||0;for(let f=c?a.childNodes[c]:a.firstChild,g=null==d?null:a.childNodes[d];f!=g;f=f.nextSibling,++e)this.findAtPoint(a,e),this.addDOM(f,b);this.findAtPoint(a,e)}findPlace(a,b,c){let d,e;for(let b=this.open,f=0;b>=0;b--){let g=this.nodes[b],h=g.findWrapping(a);if(h&&(!d||d.length>h.length+f)&&(d=h,e=g,!h.length))break;if(g.solid){if(c)break;f+=2}}if(!d)return null;this.sync(e);for(let a=0;a<d.length;a++)b=this.enterInner(d[a],null,b,!1);return b}insertNode(a,b,c){if(a.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(b=this.enterInner(a,null,b))}let d=this.findPlace(a,b,c);if(d){this.closeExtra();let b=this.top;b.match&&(b.match=b.match.matchType(a.type));let c=D.none;for(let e of d.concat(a.marks))(b.type?b.type.allowsMarkType(e.type):ap(e.type,a.type))&&(c=e.addToSet(c));return b.content.push(a.mark(c)),!0}return!1}enter(a,b,c,d){let e=this.findPlace(a.create(b),c,!1);return e&&(e=this.enterInner(a,b,c,!0,d)),e}enterInner(a,b,c,d=!1,e){this.closeExtra();let f=this.top;f.match=f.match&&f.match.matchType(a);let g=al(a,e,f.options);4&f.options&&0==f.content.length&&(g|=4);let h=D.none;return c=c.filter(b=>(f.type?!f.type.allowsMarkType(b.type):!ap(b.type,a))||(h=b.addToSet(h),!1)),this.nodes.push(new am(a,b,h,d,null,g)),this.open++,c}closeExtra(a=!1){let b=this.nodes.length-1;if(b>this.open){for(;b>this.open;b--)this.nodes[b-1].content.push(this.nodes[b].finish(a));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(a){for(let b=this.open;b>=0;b--)if(this.nodes[b]==a)return this.open=b,!0;else this.localPreserveWS&&(this.nodes[b].options|=1);return!1}get currentPos(){this.closeExtra();let a=0;for(let b=this.open;b>=0;b--){let c=this.nodes[b].content;for(let b=c.length-1;b>=0;b--)a+=c[b].nodeSize;b&&a++}return a}findAtPoint(a,b){if(this.find)for(let c=0;c<this.find.length;c++)this.find[c].node==a&&this.find[c].offset==b&&(this.find[c].pos=this.currentPos)}findInside(a){if(this.find)for(let b=0;b<this.find.length;b++)null==this.find[b].pos&&1==a.nodeType&&a.contains(this.find[b].node)&&(this.find[b].pos=this.currentPos)}findAround(a,b,c){if(a!=b&&this.find)for(let d=0;d<this.find.length;d++)null==this.find[d].pos&&1==a.nodeType&&a.contains(this.find[d].node)&&b.compareDocumentPosition(this.find[d].node)&(c?2:4)&&(this.find[d].pos=this.currentPos)}findInText(a){if(this.find)for(let b=0;b<this.find.length;b++)this.find[b].node==a&&(this.find[b].pos=this.currentPos-(a.nodeValue.length-this.find[b].offset))}matchesContext(a){if(a.indexOf("|")>-1)return a.split(/\s*\|\s*/).some(this.matchesContext,this);let b=a.split("/"),c=this.options.context,d=!this.isOpen&&(!c||c.parent.type==this.nodes[0].type),e=-(c?c.depth+1:0)+ +!d,f=(a,g)=>{for(;a>=0;a--){let h=b[a];if(""==h){if(a==b.length-1||0==a)continue;for(;g>=e;g--)if(f(a-1,g))return!0;return!1}{let a=g>0||0==g&&d?this.nodes[g].type:c&&g>=e?c.node(g-e).type:null;if(!a||a.name!=h&&!a.isInGroup(h))return!1;g--}}return!0};return f(b.length-1,this.open)}textblockFromContext(){let a=this.options.context;if(a)for(let b=a.depth;b>=0;b--){let c=a.node(b).contentMatchAt(a.indexAfter(b)).defaultType;if(c&&c.isTextblock&&c.defaultAttrs)return c}for(let a in this.parser.schema.nodes){let b=this.parser.schema.nodes[a];if(b.isTextblock&&b.defaultAttrs)return b}}}function ao(a){let b={};for(let c in a)b[c]=a[c];return b}function ap(a,b){let c=b.schema.nodes;for(let d in c){let e=c[d];if(!e.allowsMarkType(a))continue;let f=[],g=a=>{f.push(a);for(let c=0;c<a.edgeCount;c++){let{type:d,next:e}=a.edge(c);if(d==b||0>f.indexOf(e)&&g(e))return!0}};if(g(e.contentMatch))return!0}}class aq{constructor(a,b){this.nodes=a,this.marks=b}serializeFragment(a,b={},c){c||(c=as(b).createDocumentFragment());let d=c,e=[];return a.forEach(a=>{if(e.length||a.marks.length){let c=0,f=0;for(;c<e.length&&f<a.marks.length;){let b=a.marks[f];if(!this.marks[b.type.name]){f++;continue}if(!b.eq(e[c][0])||!1===b.type.spec.spanning)break;c++,f++}for(;c<e.length;)d=e.pop()[1];for(;f<a.marks.length;){let c=a.marks[f++],g=this.serializeMark(c,a.isInline,b);g&&(e.push([c,d]),d.appendChild(g.dom),d=g.contentDOM||g.dom)}}d.appendChild(this.serializeNodeInner(a,b))}),c}serializeNodeInner(a,b){let{dom:c,contentDOM:d}=au(as(b),this.nodes[a.type.name](a),null,a.attrs);if(d){if(a.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(a.content,b,d)}return c}serializeNode(a,b={}){let c=this.serializeNodeInner(a,b);for(let d=a.marks.length-1;d>=0;d--){let e=this.serializeMark(a.marks[d],a.isInline,b);e&&((e.contentDOM||e.dom).appendChild(c),c=e.dom)}return c}serializeMark(a,b,c={}){let d=this.marks[a.type.name];return d&&au(as(c),d(a,b),null,a.attrs)}static renderSpec(a,b,c=null,d){return au(a,b,c,d)}static fromSchema(a){return a.cached.domSerializer||(a.cached.domSerializer=new aq(this.nodesFromSchema(a),this.marksFromSchema(a)))}static nodesFromSchema(a){let b=ar(a.nodes);return b.text||(b.text=a=>a.text),b}static marksFromSchema(a){return ar(a.marks)}}function ar(a){let b={};for(let c in a){let d=a[c].spec.toDOM;d&&(b[c]=d)}return b}function as(a){return a.document||window.document}let at=new WeakMap;function au(a,b,c,d){let e,f,g;if("string"==typeof b)return{dom:a.createTextNode(b)};if(null!=b.nodeType)return{dom:b};if(b.dom&&null!=b.dom.nodeType)return b;let h=b[0],i;if("string"!=typeof h)throw RangeError("Invalid array passed to renderSpec");if(d&&(void 0===(f=at.get(d))&&at.set(d,(g=null,!function a(b){if(b&&"object"==typeof b)if(Array.isArray(b))if("string"==typeof b[0])g||(g=[]),g.push(b);else for(let c=0;c<b.length;c++)a(b[c]);else for(let c in b)a(b[c])}(d),f=g)),i=f)&&i.indexOf(b)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let j=h.indexOf(" ");j>0&&(c=h.slice(0,j),h=h.slice(j+1));let k=c?a.createElementNS(c,h):a.createElement(h),l=b[1],m=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){for(let a in m=2,l)if(null!=l[a]){let b=a.indexOf(" ");b>0?k.setAttributeNS(a.slice(0,b),a.slice(b+1),l[a]):"style"==a&&k.style?k.style.cssText=l[a]:k.setAttribute(a,l[a])}}for(let f=m;f<b.length;f++){let g=b[f];if(0===g){if(f<b.length-1||f>m)throw RangeError("Content hole must be the only child of its parent node");return{dom:k,contentDOM:k}}{let{dom:b,contentDOM:f}=au(a,g,c,d);if(k.appendChild(b),f){if(e)throw RangeError("Multiple content holes");e=f}}}return{dom:k,contentDOM:e}}class av{constructor(a,b,c){this.pos=a,this.delInfo=b,this.recover=c}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class aw{constructor(a,b=!1){if(this.ranges=a,this.inverted=b,!a.length&&aw.empty)return aw.empty}recover(a){let b=0,c=65535&a;if(!this.inverted)for(let a=0;a<c;a++)b+=this.ranges[3*a+2]-this.ranges[3*a+1];return this.ranges[3*c]+b+(a-(65535&a))/65536}mapResult(a,b=1){return this._map(a,b,!1)}map(a,b=1){return this._map(a,b,!0)}_map(a,b,c){let d=0,e=this.inverted?2:1,f=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let h=this.ranges[g]-(this.inverted?d:0);if(h>a)break;let i=this.ranges[g+e],j=this.ranges[g+f],k=h+i;if(a<=k){let e=i?a==h?-1:a==k?1:b:b,f=h+d+(e<0?0:j);if(c)return f;let l=a==(b<0?h:k)?null:g/3+(a-h)*65536,m=a==h?2:a==k?1:4;return(b<0?a!=h:a!=k)&&(m|=8),new av(f,m,l)}d+=j-i}return c?a+d:new av(a+d,0,null)}touches(a,b){let c=0,d=65535&b,e=this.inverted?2:1,f=this.inverted?1:2;for(let b=0;b<this.ranges.length;b+=3){let g=this.ranges[b]-(this.inverted?c:0);if(g>a)break;let h=this.ranges[b+e];if(a<=g+h&&b==3*d)return!0;c+=this.ranges[b+f]-h}return!1}forEach(a){let b=this.inverted?2:1,c=this.inverted?1:2;for(let d=0,e=0;d<this.ranges.length;d+=3){let f=this.ranges[d],g=f-(this.inverted?e:0),h=f+(this.inverted?0:e),i=this.ranges[d+b],j=this.ranges[d+c];a(g,g+i,h,h+j),e+=j-i}}invert(){return new aw(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(a){return 0==a?aw.empty:new aw(a<0?[0,-a,0]:[0,0,a])}}aw.empty=new aw([]);class ax{constructor(a,b,c=0,d=a?a.length:0){this.mirror=b,this.from=c,this.to=d,this._maps=a||[],this.ownData=!(a||b)}get maps(){return this._maps}slice(a=0,b=this.maps.length){return new ax(this._maps,this.mirror,a,b)}appendMap(a,b){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(a),null!=b&&this.setMirror(this._maps.length-1,b)}appendMapping(a){for(let b=0,c=this._maps.length;b<a._maps.length;b++){let d=a.getMirror(b);this.appendMap(a._maps[b],null!=d&&d<b?c+d:void 0)}}getMirror(a){if(this.mirror){for(let b=0;b<this.mirror.length;b++)if(this.mirror[b]==a)return this.mirror[b+(b%2?-1:1)]}}setMirror(a,b){this.mirror||(this.mirror=[]),this.mirror.push(a,b)}appendMappingInverted(a){for(let b=a.maps.length-1,c=this._maps.length+a._maps.length;b>=0;b--){let d=a.getMirror(b);this.appendMap(a._maps[b].invert(),null!=d&&d>b?c-d-1:void 0)}}invert(){let a=new ax;return a.appendMappingInverted(this),a}map(a,b=1){if(this.mirror)return this._map(a,b,!0);for(let c=this.from;c<this.to;c++)a=this._maps[c].map(a,b);return a}mapResult(a,b=1){return this._map(a,b,!1)}_map(a,b,c){let d=0;for(let c=this.from;c<this.to;c++){let e=this._maps[c].mapResult(a,b);if(null!=e.recover){let b=this.getMirror(c);if(null!=b&&b>c&&b<this.to){c=b,a=this._maps[b].recover(e.recover);continue}}d|=e.delInfo,a=e.pos}return c?a:new av(a,d,null)}}let ay=Object.create(null);class az{getMap(){return aw.empty}merge(a){return null}static fromJSON(a,b){if(!b||!b.stepType)throw RangeError("Invalid input for Step.fromJSON");let c=ay[b.stepType];if(!c)throw RangeError(`No step type ${b.stepType} defined`);return c.fromJSON(a,b)}static jsonID(a,b){if(a in ay)throw RangeError("Duplicate use of step JSON ID "+a);return ay[a]=b,b.prototype.jsonID=a,b}}class aA{constructor(a,b){this.doc=a,this.failed=b}static ok(a){return new aA(a,null)}static fail(a){return new aA(null,a)}static fromReplace(a,b,c,d){try{return aA.ok(a.replace(b,c,d))}catch(a){if(a instanceof E)return aA.fail(a.message);throw a}}}function aB(a,b,c){let d=[];for(let e=0;e<a.childCount;e++){let f=a.child(e);f.content.size&&(f=f.copy(aB(f.content,b,f))),f.isInline&&(f=b(f,c,e)),d.push(f)}return z.fromArray(d)}class aC extends az{constructor(a,b,c){super(),this.from=a,this.to=b,this.mark=c}apply(a){let b=a.slice(this.from,this.to),c=a.resolve(this.from),d=c.node(c.sharedDepth(this.to)),e=new F(aB(b.content,(a,b)=>a.isAtom&&b.type.allowsMarkType(this.mark.type)?a.mark(this.mark.addToSet(a.marks)):a,d),b.openStart,b.openEnd);return aA.fromReplace(a,this.from,this.to,e)}invert(){return new aD(this.from,this.to,this.mark)}map(a){let b=a.mapResult(this.from,1),c=a.mapResult(this.to,-1);return b.deleted&&c.deleted||b.pos>=c.pos?null:new aC(b.pos,c.pos,this.mark)}merge(a){return a instanceof aC&&a.mark.eq(this.mark)&&this.from<=a.to&&this.to>=a.from?new aC(Math.min(this.from,a.from),Math.max(this.to,a.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(a,b){if("number"!=typeof b.from||"number"!=typeof b.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new aC(b.from,b.to,a.markFromJSON(b.mark))}}az.jsonID("addMark",aC);class aD extends az{constructor(a,b,c){super(),this.from=a,this.to=b,this.mark=c}apply(a){let b=a.slice(this.from,this.to),c=new F(aB(b.content,a=>a.mark(this.mark.removeFromSet(a.marks)),a),b.openStart,b.openEnd);return aA.fromReplace(a,this.from,this.to,c)}invert(){return new aC(this.from,this.to,this.mark)}map(a){let b=a.mapResult(this.from,1),c=a.mapResult(this.to,-1);return b.deleted&&c.deleted||b.pos>=c.pos?null:new aD(b.pos,c.pos,this.mark)}merge(a){return a instanceof aD&&a.mark.eq(this.mark)&&this.from<=a.to&&this.to>=a.from?new aD(Math.min(this.from,a.from),Math.max(this.to,a.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(a,b){if("number"!=typeof b.from||"number"!=typeof b.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new aD(b.from,b.to,a.markFromJSON(b.mark))}}az.jsonID("removeMark",aD);class aE extends az{constructor(a,b){super(),this.pos=a,this.mark=b}apply(a){let b=a.nodeAt(this.pos);if(!b)return aA.fail("No node at mark step's position");let c=b.type.create(b.attrs,null,this.mark.addToSet(b.marks));return aA.fromReplace(a,this.pos,this.pos+1,new F(z.from(c),0,+!b.isLeaf))}invert(a){let b=a.nodeAt(this.pos);if(b){let a=this.mark.addToSet(b.marks);if(a.length==b.marks.length){for(let c=0;c<b.marks.length;c++)if(!b.marks[c].isInSet(a))return new aE(this.pos,b.marks[c]);return new aE(this.pos,this.mark)}}return new aF(this.pos,this.mark)}map(a){let b=a.mapResult(this.pos,1);return b.deletedAfter?null:new aE(b.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(a,b){if("number"!=typeof b.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new aE(b.pos,a.markFromJSON(b.mark))}}az.jsonID("addNodeMark",aE);class aF extends az{constructor(a,b){super(),this.pos=a,this.mark=b}apply(a){let b=a.nodeAt(this.pos);if(!b)return aA.fail("No node at mark step's position");let c=b.type.create(b.attrs,null,this.mark.removeFromSet(b.marks));return aA.fromReplace(a,this.pos,this.pos+1,new F(z.from(c),0,+!b.isLeaf))}invert(a){let b=a.nodeAt(this.pos);return b&&this.mark.isInSet(b.marks)?new aE(this.pos,this.mark):this}map(a){let b=a.mapResult(this.pos,1);return b.deletedAfter?null:new aF(b.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(a,b){if("number"!=typeof b.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new aF(b.pos,a.markFromJSON(b.mark))}}az.jsonID("removeNodeMark",aF);class aG extends az{constructor(a,b,c,d=!1){super(),this.from=a,this.to=b,this.slice=c,this.structure=d}apply(a){return this.structure&&aI(a,this.from,this.to)?aA.fail("Structure replace would overwrite content"):aA.fromReplace(a,this.from,this.to,this.slice)}getMap(){return new aw([this.from,this.to-this.from,this.slice.size])}invert(a){return new aG(this.from,this.from+this.slice.size,a.slice(this.from,this.to))}map(a){let b=a.mapResult(this.from,1),c=a.mapResult(this.to,-1);return b.deletedAcross&&c.deletedAcross?null:new aG(b.pos,Math.max(b.pos,c.pos),this.slice,this.structure)}merge(a){if(!(a instanceof aG)||a.structure||this.structure)return null;if(this.from+this.slice.size!=a.from||this.slice.openEnd||a.slice.openStart)if(a.to!=this.from||this.slice.openStart||a.slice.openEnd)return null;else{let b=this.slice.size+a.slice.size==0?F.empty:new F(a.slice.content.append(this.slice.content),a.slice.openStart,this.slice.openEnd);return new aG(a.from,this.to,b,this.structure)}{let b=this.slice.size+a.slice.size==0?F.empty:new F(this.slice.content.append(a.slice.content),this.slice.openStart,a.slice.openEnd);return new aG(this.from,this.to+(a.to-a.from),b,this.structure)}}toJSON(){let a={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(a.slice=this.slice.toJSON()),this.structure&&(a.structure=!0),a}static fromJSON(a,b){if("number"!=typeof b.from||"number"!=typeof b.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new aG(b.from,b.to,F.fromJSON(a,b.slice),!!b.structure)}}az.jsonID("replace",aG);class aH extends az{constructor(a,b,c,d,e,f,g=!1){super(),this.from=a,this.to=b,this.gapFrom=c,this.gapTo=d,this.slice=e,this.insert=f,this.structure=g}apply(a){if(this.structure&&(aI(a,this.from,this.gapFrom)||aI(a,this.gapTo,this.to)))return aA.fail("Structure gap-replace would overwrite content");let b=a.slice(this.gapFrom,this.gapTo);if(b.openStart||b.openEnd)return aA.fail("Gap is not a flat range");let c=this.slice.insertAt(this.insert,b.content);return c?aA.fromReplace(a,this.from,this.to,c):aA.fail("Content does not fit in gap")}getMap(){return new aw([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(a){let b=this.gapTo-this.gapFrom;return new aH(this.from,this.from+this.slice.size+b,this.from+this.insert,this.from+this.insert+b,a.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(a){let b=a.mapResult(this.from,1),c=a.mapResult(this.to,-1),d=this.from==this.gapFrom?b.pos:a.map(this.gapFrom,-1),e=this.to==this.gapTo?c.pos:a.map(this.gapTo,1);return b.deletedAcross&&c.deletedAcross||d<b.pos||e>c.pos?null:new aH(b.pos,c.pos,d,e,this.slice,this.insert,this.structure)}toJSON(){let a={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(a.slice=this.slice.toJSON()),this.structure&&(a.structure=!0),a}static fromJSON(a,b){if("number"!=typeof b.from||"number"!=typeof b.to||"number"!=typeof b.gapFrom||"number"!=typeof b.gapTo||"number"!=typeof b.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new aH(b.from,b.to,b.gapFrom,b.gapTo,F.fromJSON(a,b.slice),b.insert,!!b.structure)}}function aI(a,b,c){let d=a.resolve(b),e=c-b,f=d.depth;for(;e>0&&f>0&&d.indexAfter(f)==d.node(f).childCount;)f--,e--;if(e>0){let a=d.node(f).maybeChild(d.indexAfter(f));for(;e>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,e--}}return!1}function aJ(a,b,c,d=c.contentMatch,e=!0){let f=a.doc.nodeAt(b),g=[],h=b+1;for(let b=0;b<f.childCount;b++){let i=f.child(b),j=h+i.nodeSize,k=d.matchType(i.type);if(k){d=k;for(let b=0;b<i.marks.length;b++)c.allowsMarkType(i.marks[b].type)||a.step(new aD(h,j,i.marks[b]));if(e&&i.isText&&"pre"!=c.whitespace){let a,b=/\r?\n|\r/g,d;for(;a=b.exec(i.text);)d||(d=new F(z.from(c.schema.text(" ",c.allowedMarks(i.marks))),0,0)),g.push(new aG(h+a.index,h+a.index+a[0].length,d))}}else g.push(new aG(h,j,F.empty));h=j}if(!d.validEnd){let b=d.fillBefore(z.empty,!0);a.replace(h,h,new F(b,0,0))}for(let b=g.length-1;b>=0;b--)a.step(g[b])}function aK(a){let b=a.parent.content.cutByIndex(a.startIndex,a.endIndex);for(let c=a.depth;;--c){let d=a.$from.node(c),e=a.$from.index(c),f=a.$to.indexAfter(c);if(c<a.depth&&d.canReplace(e,f,b))return c;if(0==c||d.type.spec.isolating||!((0==e||d.canReplace(e,d.childCount))&&(f==d.childCount||d.canReplace(0,f))))break}return null}function aL(a,b,c=null,d=a){let e=function(a,b){let{parent:c,startIndex:d,endIndex:e}=a,f=c.contentMatchAt(d).findWrapping(b);if(!f)return null;let g=f.length?f[0]:b;return c.canReplaceWith(d,e,g)?f:null}(a,b),f=e&&function(a,b){let{parent:c,startIndex:d,endIndex:e}=a,f=c.child(d),g=b.contentMatch.findWrapping(f.type);if(!g)return null;let h=(g.length?g[g.length-1]:b).contentMatch;for(let a=d;h&&a<e;a++)h=h.matchType(c.child(a).type);return h&&h.validEnd?g:null}(d,b);return f?e.map(aM).concat({type:b,attrs:c}).concat(f.map(aM)):null}function aM(a){return{type:a,attrs:null}}function aN(a,b,c,d){b.forEach((e,f)=>{if(e.isText){let g,h=/\r?\n|\r/g;for(;g=h.exec(e.text);){let e=a.mapping.slice(d).map(c+1+f+g.index);a.replaceWith(e,e+1,b.type.schema.linebreakReplacement.create())}}})}function aO(a,b,c,d){b.forEach((e,f)=>{if(e.type==e.type.schema.linebreakReplacement){let e=a.mapping.slice(d).map(c+1+f);a.replaceWith(e,e+1,b.type.schema.text("\n"))}})}function aP(a,b,c=1,d){let e=a.resolve(b),f=e.depth-c,g=d&&d[d.length-1]||e.parent;if(f<0||e.parent.type.spec.isolating||!e.parent.canReplace(e.index(),e.parent.childCount)||!g.type.validContent(e.parent.content.cutByIndex(e.index(),e.parent.childCount)))return!1;for(let a=e.depth-1,b=c-2;a>f;a--,b--){let c=e.node(a),f=e.index(a);if(c.type.spec.isolating)return!1;let g=c.content.cutByIndex(f,c.childCount),h=d&&d[b+1];h&&(g=g.replaceChild(0,h.type.create(h.attrs)));let i=d&&d[b]||c;if(!c.canReplace(f+1,c.childCount)||!i.type.validContent(g))return!1}let h=e.indexAfter(f),i=d&&d[0];return e.node(f).canReplaceWith(h,h,i?i.type:e.node(f+1).type)}function aQ(a,b){let c=a.resolve(b),d=c.index();return aR(c.nodeBefore,c.nodeAfter)&&c.parent.canReplace(d,d+1)}function aR(a,b){return!!(a&&b&&!a.isLeaf&&function(a,b){b.content.size||a.type.compatibleContent(b.type);let c=a.contentMatchAt(a.childCount),{linebreakReplacement:d}=a.type.schema;for(let e=0;e<b.childCount;e++){let f=b.child(e),g=f.type==d?a.type.schema.nodes.text:f.type;if(!(c=c.matchType(g))||!a.type.allowsMarks(f.marks))return!1}return c.validEnd}(a,b))}function aS(a,b,c=-1){let d=a.resolve(b);for(let a=d.depth;;a--){let e,f,g=d.index(a);if(a==d.depth?(e=d.nodeBefore,f=d.nodeAfter):c>0?(e=d.node(a+1),g++,f=d.node(a).maybeChild(g)):(e=d.node(a).maybeChild(g-1),f=d.node(a+1)),e&&!e.isTextblock&&aR(e,f)&&d.node(a).canReplace(g,g+1))return b;if(0==a)break;b=c<0?d.before(a):d.after(a)}}function aT(a,b,c){let d=a.resolve(b);if(!c.content.size)return b;let e=c.content;for(let a=0;a<c.openStart;a++)e=e.firstChild.content;for(let a=1;a<=(0==c.openStart&&c.size?2:1);a++)for(let b=d.depth;b>=0;b--){let c=b==d.depth?0:d.pos<=(d.start(b+1)+d.end(b+1))/2?-1:1,f=d.index(b)+ +(c>0),g=d.node(b),h=!1;if(1==a)h=g.canReplace(f,f,e);else{let a=g.contentMatchAt(f).findWrapping(e.firstChild.type);h=a&&g.canReplaceWith(f,f,a[0])}if(h)return 0==c?d.pos:c<0?d.before(b+1):d.after(b+1)}return null}function aU(a,b,c=b,d=F.empty){if(b==c&&!d.size)return null;let e=a.resolve(b),f=a.resolve(c);return aV(e,f,d)?new aG(b,c,d):new aW(e,f,d).fit()}function aV(a,b,c){return!c.openStart&&!c.openEnd&&a.start()==b.start()&&a.parent.canReplace(a.index(),b.index(),c.content)}az.jsonID("replaceAround",aH);class aW{constructor(a,b,c){this.$from=a,this.$to=b,this.unplaced=c,this.frontier=[],this.placed=z.empty;for(let b=0;b<=a.depth;b++){let c=a.node(b);this.frontier.push({type:c.type,match:c.contentMatchAt(a.indexAfter(b))})}for(let b=a.depth;b>0;b--)this.placed=z.from(a.node(b).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let a=this.findFittable();a?this.placeNodes(a):this.openMore()||this.dropNode()}let a=this.mustMoveInline(),b=this.placed.size-this.depth-this.$from.depth,c=this.$from,d=this.close(a<0?this.$to:c.doc.resolve(a));if(!d)return null;let e=this.placed,f=c.depth,g=d.depth;for(;f&&g&&1==e.childCount;)e=e.firstChild.content,f--,g--;let h=new F(e,f,g);return a>-1?new aH(c.pos,a,this.$to.pos,this.$to.end(),h,b):h.size||c.pos!=this.$to.pos?new aG(c.pos,d.pos,h):null}findFittable(){let a=this.unplaced.openStart;for(let b=this.unplaced.content,c=0,d=this.unplaced.openEnd;c<a;c++){let e=b.firstChild;if(b.childCount>1&&(d=0),e.type.spec.isolating&&d<=c){a=c;break}b=e.content}for(let b=1;b<=2;b++)for(let c=1==b?a:this.unplaced.openStart;c>=0;c--){let a=null,d=(c?(a=aZ(this.unplaced.content,c-1).firstChild).content:this.unplaced.content).firstChild;for(let e=this.depth;e>=0;e--){let{type:f,match:g}=this.frontier[e],h,i=null;if(1==b&&(d?g.matchType(d.type)||(i=g.fillBefore(z.from(d),!1)):a&&f.compatibleContent(a.type)))return{sliceDepth:c,frontierDepth:e,parent:a,inject:i};if(2==b&&d&&(h=g.findWrapping(d.type)))return{sliceDepth:c,frontierDepth:e,parent:a,wrap:h};if(a&&g.matchType(a.type))break}}}openMore(){let{content:a,openStart:b,openEnd:c}=this.unplaced,d=aZ(a,b);return!!d.childCount&&!d.firstChild.isLeaf&&(this.unplaced=new F(a,b+1,Math.max(c,d.size+b>=a.size-c?b+1:0)),!0)}dropNode(){let{content:a,openStart:b,openEnd:c}=this.unplaced,d=aZ(a,b);if(d.childCount<=1&&b>0){let e=a.size-b<=b+d.size;this.unplaced=new F(aX(a,b-1,1),b-1,e?b-1:c)}else this.unplaced=new F(aX(a,b,1),b,c)}placeNodes({sliceDepth:a,frontierDepth:b,parent:c,inject:d,wrap:e}){for(;this.depth>b;)this.closeFrontierNode();if(e)for(let a=0;a<e.length;a++)this.openFrontierNode(e[a]);let f=this.unplaced,g=c?c.content:f.content,h=f.openStart-a,i=0,j=[],{match:k,type:l}=this.frontier[b];if(d){for(let a=0;a<d.childCount;a++)j.push(d.child(a));k=k.matchFragment(d)}let m=g.size+a-(f.content.size-f.openEnd);for(;i<g.childCount;){let a=g.child(i),b=k.matchType(a.type);if(!b)break;(++i>1||0==h||a.content.size)&&(k=b,j.push(function a(b,c,d){if(c<=0)return b;let e=b.content;return c>1&&(e=e.replaceChild(0,a(e.firstChild,c-1,1==e.childCount?d-1:0))),c>0&&(e=b.type.contentMatch.fillBefore(e).append(e),d<=0&&(e=e.append(b.type.contentMatch.matchFragment(e).fillBefore(z.empty,!0)))),b.copy(e)}(a.mark(l.allowedMarks(a.marks)),1==i?h:0,i==g.childCount?m:-1)))}let n=i==g.childCount;n||(m=-1),this.placed=aY(this.placed,b,z.from(j)),this.frontier[b].match=k,n&&m<0&&c&&c.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let a=0,b=g;a<m;a++){let a=b.lastChild;this.frontier.push({type:a.type,match:a.contentMatchAt(a.childCount)}),b=a.content}this.unplaced=n?0==a?F.empty:new F(aX(f.content,a-1,1),a-1,m<0?f.openEnd:a-1):new F(aX(f.content,a,i),f.openStart,f.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let a=this.frontier[this.depth],b;if(!a.type.isTextblock||!a$(this.$to,this.$to.depth,a.type,a.match,!1)||this.$to.depth==this.depth&&(b=this.findCloseLevel(this.$to))&&b.depth==this.depth)return -1;let{depth:c}=this.$to,d=this.$to.after(c);for(;c>1&&d==this.$to.end(--c);)++d;return d}findCloseLevel(a){b:for(let b=Math.min(this.depth,a.depth);b>=0;b--){let{match:c,type:d}=this.frontier[b],e=b<a.depth&&a.end(b+1)==a.pos+(a.depth-(b+1)),f=a$(a,b,d,c,e);if(f){for(let c=b-1;c>=0;c--){let{match:b,type:d}=this.frontier[c],e=a$(a,c,d,b,!0);if(!e||e.childCount)continue b}return{depth:b,fit:f,move:e?a.doc.resolve(a.after(b+1)):a}}}}close(a){let b=this.findCloseLevel(a);if(!b)return null;for(;this.depth>b.depth;)this.closeFrontierNode();b.fit.childCount&&(this.placed=aY(this.placed,b.depth,b.fit)),a=b.move;for(let c=b.depth+1;c<=a.depth;c++){let b=a.node(c),d=b.type.contentMatch.fillBefore(b.content,!0,a.index(c));this.openFrontierNode(b.type,b.attrs,d)}return a}openFrontierNode(a,b=null,c){let d=this.frontier[this.depth];d.match=d.match.matchType(a),this.placed=aY(this.placed,this.depth,z.from(a.create(b,c))),this.frontier.push({type:a,match:a.contentMatch})}closeFrontierNode(){let a=this.frontier.pop().match.fillBefore(z.empty,!0);a.childCount&&(this.placed=aY(this.placed,this.frontier.length,a))}}function aX(a,b,c){return 0==b?a.cutByIndex(c,a.childCount):a.replaceChild(0,a.firstChild.copy(aX(a.firstChild.content,b-1,c)))}function aY(a,b,c){return 0==b?a.append(c):a.replaceChild(a.childCount-1,a.lastChild.copy(aY(a.lastChild.content,b-1,c)))}function aZ(a,b){for(let c=0;c<b;c++)a=a.firstChild.content;return a}function a$(a,b,c,d,e){let f=a.node(b),g=e?a.indexAfter(b):a.index(b);if(g==f.childCount&&!c.compatibleContent(f.type))return null;let h=d.fillBefore(f.content,!0,g);return h&&!function(a,b,c){for(let d=c;d<b.childCount;d++)if(!a.allowsMarks(b.child(d).marks))return!0;return!1}(c,f.content,g)?h:null}function a_(a,b){let c=[],d=Math.min(a.depth,b.depth);for(let e=d;e>=0;e--){let d=a.start(e);if(d<a.pos-(a.depth-e)||b.end(e)>b.pos+(b.depth-e)||a.node(e).type.spec.isolating||b.node(e).type.spec.isolating)break;(d==b.start(e)||e==a.depth&&e==b.depth&&a.parent.inlineContent&&b.parent.inlineContent&&e&&b.start(e-1)==d-1)&&c.push(e)}return c}class a0 extends az{constructor(a,b,c){super(),this.pos=a,this.attr=b,this.value=c}apply(a){let b=a.nodeAt(this.pos);if(!b)return aA.fail("No node at attribute step's position");let c=Object.create(null);for(let a in b.attrs)c[a]=b.attrs[a];c[this.attr]=this.value;let d=b.type.create(c,null,b.marks);return aA.fromReplace(a,this.pos,this.pos+1,new F(z.from(d),0,+!b.isLeaf))}getMap(){return aw.empty}invert(a){return new a0(this.pos,this.attr,a.nodeAt(this.pos).attrs[this.attr])}map(a){let b=a.mapResult(this.pos,1);return b.deletedAfter?null:new a0(b.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(a,b){if("number"!=typeof b.pos||"string"!=typeof b.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new a0(b.pos,b.attr,b.value)}}az.jsonID("attr",a0);class a1 extends az{constructor(a,b){super(),this.attr=a,this.value=b}apply(a){let b=Object.create(null);for(let c in a.attrs)b[c]=a.attrs[c];b[this.attr]=this.value;let c=a.type.create(b,a.content,a.marks);return aA.ok(c)}getMap(){return aw.empty}invert(a){return new a1(this.attr,a.attrs[this.attr])}map(a){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(a,b){if("string"!=typeof b.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new a1(b.attr,b.value)}}az.jsonID("docAttr",a1);let a2=class extends Error{};(a2=function a(b){let c=Error.call(this,b);return c.__proto__=a.prototype,c}).prototype=Object.create(Error.prototype),a2.prototype.constructor=a2,a2.prototype.name="TransformError";class a3{constructor(a){this.doc=a,this.steps=[],this.docs=[],this.mapping=new ax}get before(){return this.docs.length?this.docs[0]:this.doc}step(a){let b=this.maybeStep(a);if(b.failed)throw new a2(b.failed);return this}maybeStep(a){let b=a.apply(this.doc);return b.failed||this.addStep(a,b.doc),b}get docChanged(){return this.steps.length>0}addStep(a,b){this.docs.push(this.doc),this.steps.push(a),this.mapping.appendMap(a.getMap()),this.doc=b}replace(a,b=a,c=F.empty){let d=aU(this.doc,a,b,c);return d&&this.step(d),this}replaceWith(a,b,c){return this.replace(a,b,new F(z.from(c),0,0))}delete(a,b){return this.replace(a,b,F.empty)}insert(a,b){return this.replaceWith(a,a,b)}replaceRange(a,b,c){return!function(a,b,c,d){if(!d.size)return a.deleteRange(b,c);let e=a.doc.resolve(b),f=a.doc.resolve(c);if(aV(e,f,d))return a.step(new aG(b,c,d));let g=a_(e,a.doc.resolve(c));0==g[g.length-1]&&g.pop();let h=-(e.depth+1);g.unshift(h);for(let a=e.depth,b=e.pos-1;a>0;a--,b--){let c=e.node(a).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;g.indexOf(a)>-1?h=a:e.before(a)==b&&g.splice(1,0,-a)}let i=g.indexOf(h),j=[],k=d.openStart;for(let a=d.content,b=0;;b++){let c=a.firstChild;if(j.push(c),b==d.openStart)break;a=c.content}for(let a=k-1;a>=0;a--){var l;let b=j[a],c=(l=b.type).spec.defining||l.spec.definingForContent;if(c&&!b.sameMarkup(e.node(Math.abs(h)-1)))k=a;else if(c||!b.type.isTextblock)break}for(let b=d.openStart;b>=0;b--){let h=(b+k+1)%(d.openStart+1),l=j[h];if(l)for(let b=0;b<g.length;b++){let j=g[(b+i)%g.length],k=!0;j<0&&(k=!1,j=-j);let m=e.node(j-1),n=e.index(j-1);if(m.canReplaceWith(n,n,l.type,l.marks))return a.replace(e.before(j),k?f.after(j):c,new F(function a(b,c,d,e,f){if(c<d){let f=b.firstChild;b=b.replaceChild(0,f.copy(a(f.content,c+1,d,e,f)))}if(c>e){let a=f.contentMatchAt(0),c=a.fillBefore(b).append(b);b=c.append(a.matchFragment(c).fillBefore(z.empty,!0))}return b}(d.content,0,d.openStart,h),h,d.openEnd))}}let m=a.steps.length;for(let h=g.length-1;h>=0&&(a.replace(b,c,d),!(a.steps.length>m));h--){let a=g[h];a<0||(b=e.before(a),c=f.after(a))}}(this,a,b,c),this}replaceRangeWith(a,b,c){var d=a,e=b;if(!c.isInline&&d==e&&this.doc.resolve(d).parent.content.size){let a=function(a,b,c){let d=a.resolve(b);if(d.parent.canReplaceWith(d.index(),d.index(),c))return b;if(0==d.parentOffset)for(let a=d.depth-1;a>=0;a--){let b=d.index(a);if(d.node(a).canReplaceWith(b,b,c))return d.before(a+1);if(b>0)return null}if(d.parentOffset==d.parent.content.size)for(let a=d.depth-1;a>=0;a--){let b=d.indexAfter(a);if(d.node(a).canReplaceWith(b,b,c))return d.after(a+1);if(b<d.node(a).childCount)break}return null}(this.doc,d,c.type);null!=a&&(d=e=a)}return this.replaceRange(d,e,new F(z.from(c),0,0)),this}deleteRange(a,b){return!function(a,b,c){let d=a.doc.resolve(b),e=a.doc.resolve(c),f=a_(d,e);for(let b=0;b<f.length;b++){let c=f[b],g=b==f.length-1;if(g&&0==c||d.node(c).type.contentMatch.validEnd)return a.delete(d.start(c),e.end(c));if(c>0&&(g||d.node(c-1).canReplace(d.index(c-1),e.indexAfter(c-1))))return a.delete(d.before(c),e.after(c))}for(let f=1;f<=d.depth&&f<=e.depth;f++)if(b-d.start(f)==d.depth-f&&c>d.end(f)&&e.end(f)-c!=e.depth-f&&d.start(f-1)==e.start(f-1)&&d.node(f-1).canReplace(d.index(f-1),e.index(f-1)))return a.delete(d.before(f),c);a.delete(b,c)}(this,a,b),this}lift(a,b){return!function(a,b,c){let{$from:d,$to:e,depth:f}=b,g=d.before(f+1),h=e.after(f+1),i=g,j=h,k=z.empty,l=0;for(let a=f,b=!1;a>c;a--)b||d.index(a)>0?(b=!0,k=z.from(d.node(a).copy(k)),l++):i--;let m=z.empty,n=0;for(let a=f,b=!1;a>c;a--)b||e.after(a+1)<e.end(a)?(b=!0,m=z.from(e.node(a).copy(m)),n++):j++;a.step(new aH(i,j,g,h,new F(k.append(m),l,n),k.size-l,!0))}(this,a,b),this}join(a,b=1){return!function(a,b,c){let d=null,{linebreakReplacement:e}=a.doc.type.schema,f=a.doc.resolve(b-c),g=f.node().type;if(e&&g.inlineContent){let a="pre"==g.whitespace,b=!!g.contentMatch.matchType(e);a&&!b?d=!1:!a&&b&&(d=!0)}let h=a.steps.length;if(!1===d){let d=a.doc.resolve(b+c);aO(a,d.node(),d.before(),h)}g.inlineContent&&aJ(a,b+c-1,g,f.node().contentMatchAt(f.index()),null==d);let i=a.mapping.slice(h),j=i.map(b-c);if(a.step(new aG(j,i.map(b+c,-1),F.empty,!0)),!0===d){let b=a.doc.resolve(j);aN(a,b.node(),b.before(),a.steps.length)}}(this,a,b),this}wrap(a,b){return!function(a,b,c){let d=z.empty;for(let a=c.length-1;a>=0;a--){if(d.size){let b=c[a].type.contentMatch.matchFragment(d);if(!b||!b.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}d=z.from(c[a].type.create(c[a].attrs,d))}let e=b.start,f=b.end;a.step(new aH(e,f,e,f,new F(d,0,0),c.length,!0))}(this,a,b),this}setBlockType(a,b=a,c,d=null){var e=this;if(!c.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let f=e.steps.length;return e.doc.nodesBetween(a,b,(a,b)=>{var g,h,i;let j,k,l="function"==typeof d?d(a):d;if(a.isTextblock&&!a.hasMarkup(c,l)&&(g=e.doc,h=e.mapping.slice(f).map(b),i=c,k=(j=g.resolve(h)).index(),j.parent.canReplaceWith(k,k+1,i))){let d=null;if(c.schema.linebreakReplacement){let a="pre"==c.whitespace,b=!!c.contentMatch.matchType(c.schema.linebreakReplacement);a&&!b?d=!1:!a&&b&&(d=!0)}!1===d&&aO(e,a,b,f),aJ(e,e.mapping.slice(f).map(b,1),c,void 0,null===d);let g=e.mapping.slice(f),h=g.map(b,1),i=g.map(b+a.nodeSize,1);return e.step(new aH(h,i,h+1,i-1,new F(z.from(c.create(l,null,a.marks)),0,0),1,!0)),!0===d&&aN(e,a,b,f),!1}}),this}setNodeMarkup(a,b,c=null,d){return!function(a,b,c,d,e){let f=a.doc.nodeAt(b);if(!f)throw RangeError("No node at given position");c||(c=f.type);let g=c.create(d,null,e||f.marks);if(f.isLeaf)return a.replaceWith(b,b+f.nodeSize,g);if(!c.validContent(f.content))throw RangeError("Invalid content for node type "+c.name);a.step(new aH(b,b+f.nodeSize,b+1,b+f.nodeSize-1,new F(z.from(g),0,0),1,!0))}(this,a,b,c,d),this}setNodeAttribute(a,b,c){return this.step(new a0(a,b,c)),this}setDocAttribute(a,b){return this.step(new a1(a,b)),this}addNodeMark(a,b){return this.step(new aE(a,b)),this}removeNodeMark(a,b){let c=this.doc.nodeAt(a);if(!c)throw RangeError("No node at position "+a);if(b instanceof D)b.isInSet(c.marks)&&this.step(new aF(a,b));else{let d=c.marks,e,f=[];for(;e=b.isInSet(d);)f.push(new aF(a,e)),d=e.removeFromSet(d);for(let a=f.length-1;a>=0;a--)this.step(f[a])}return this}split(a,b=1,c){return!function(a,b,c=1,d){let e=a.doc.resolve(b),f=z.empty,g=z.empty;for(let a=e.depth,b=e.depth-c,h=c-1;a>b;a--,h--){f=z.from(e.node(a).copy(f));let b=d&&d[h];g=z.from(b?b.type.create(b.attrs,g):e.node(a).copy(g))}a.step(new aG(b,b,new F(f.append(g),c,c),!0))}(this,a,b,c),this}addMark(a,b,c){var d;let e,f,g,h;return d=this,g=[],h=[],d.doc.nodesBetween(a,b,(d,i,j)=>{if(!d.isInline)return;let k=d.marks;if(!c.isInSet(k)&&j.type.allowsMarkType(c.type)){let j=Math.max(i,a),l=Math.min(i+d.nodeSize,b),m=c.addToSet(k);for(let a=0;a<k.length;a++)k[a].isInSet(m)||(e&&e.to==j&&e.mark.eq(k[a])?e.to=l:g.push(e=new aD(j,l,k[a])));f&&f.to==j?f.to=l:h.push(f=new aC(j,l,c))}}),g.forEach(a=>d.step(a)),h.forEach(a=>d.step(a)),this}removeMark(a,b,c){var d;let e,f;return d=this,e=[],f=0,d.doc.nodesBetween(a,b,(d,g)=>{if(!d.isInline)return;f++;let h=null;if(c instanceof ae){let a=d.marks,b;for(;b=c.isInSet(a);)(h||(h=[])).push(b),a=b.removeFromSet(a)}else c?c.isInSet(d.marks)&&(h=[c]):h=d.marks;if(h&&h.length){let c=Math.min(g+d.nodeSize,b);for(let b=0;b<h.length;b++){let d=h[b],i;for(let a=0;a<e.length;a++){let b=e[a];b.step==f-1&&d.eq(e[a].style)&&(i=b)}i?(i.to=c,i.step=f):e.push({style:d,from:Math.max(g,a),to:c,step:f})}}}),e.forEach(a=>d.step(new aD(a.from,a.to,a.style))),this}clearIncompatible(a,b,c){return aJ(this,a,b,c),this}}let a4=Object.create(null);class a5{constructor(a,b,c){this.$anchor=a,this.$head=b,this.ranges=c||[new a6(a.min(b),a.max(b))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let a=this.ranges;for(let b=0;b<a.length;b++)if(a[b].$from.pos!=a[b].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(a,b=F.empty){let c=b.content.lastChild,d=null;for(let a=0;a<b.openEnd;a++)d=c,c=c.lastChild;let e=a.steps.length,f=this.ranges;for(let g=0;g<f.length;g++){let{$from:h,$to:i}=f[g],j=a.mapping.slice(e);a.replaceRange(j.map(h.pos),j.map(i.pos),g?F.empty:b),0==g&&bg(a,e,(c?c.isInline:d&&d.isTextblock)?-1:1)}}replaceWith(a,b){let c=a.steps.length,d=this.ranges;for(let e=0;e<d.length;e++){let{$from:f,$to:g}=d[e],h=a.mapping.slice(c),i=h.map(f.pos),j=h.map(g.pos);e?a.deleteRange(i,j):(a.replaceRangeWith(i,j,b),bg(a,c,b.isInline?-1:1))}}static findFrom(a,b,c=!1){let d=a.parent.inlineContent?new a9(a):bf(a.node(0),a.parent,a.pos,a.index(),b,c);if(d)return d;for(let d=a.depth-1;d>=0;d--){let e=b<0?bf(a.node(0),a.node(d),a.before(d+1),a.index(d),b,c):bf(a.node(0),a.node(d),a.after(d+1),a.index(d)+1,b,c);if(e)return e}return null}static near(a,b=1){return this.findFrom(a,b)||this.findFrom(a,-b)||new bd(a.node(0))}static atStart(a){return bf(a,a,0,0,1)||new bd(a)}static atEnd(a){return bf(a,a,a.content.size,a.childCount,-1)||new bd(a)}static fromJSON(a,b){if(!b||!b.type)throw RangeError("Invalid input for Selection.fromJSON");let c=a4[b.type];if(!c)throw RangeError(`No selection type ${b.type} defined`);return c.fromJSON(a,b)}static jsonID(a,b){if(a in a4)throw RangeError("Duplicate use of selection JSON ID "+a);return a4[a]=b,b.prototype.jsonID=a,b}getBookmark(){return a9.between(this.$anchor,this.$head).getBookmark()}}a5.prototype.visible=!0;class a6{constructor(a,b){this.$from=a,this.$to=b}}let a7=!1;function a8(a){a7||a.parent.inlineContent||(a7=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+a.parent.type.name+")"))}class a9 extends a5{constructor(a,b=a){a8(a),a8(b),super(a,b)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(a,b){let c=a.resolve(b.map(this.head));if(!c.parent.inlineContent)return a5.near(c);let d=a.resolve(b.map(this.anchor));return new a9(d.parent.inlineContent?d:c,c)}replace(a,b=F.empty){if(super.replace(a,b),b==F.empty){let b=this.$from.marksAcross(this.$to);b&&a.ensureMarks(b)}}eq(a){return a instanceof a9&&a.anchor==this.anchor&&a.head==this.head}getBookmark(){return new ba(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(a,b){if("number"!=typeof b.anchor||"number"!=typeof b.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new a9(a.resolve(b.anchor),a.resolve(b.head))}static create(a,b,c=b){let d=a.resolve(b);return new this(d,c==b?d:a.resolve(c))}static between(a,b,c){let d=a.pos-b.pos;if((!c||d)&&(c=d>=0?1:-1),!b.parent.inlineContent){let a=a5.findFrom(b,c,!0)||a5.findFrom(b,-c,!0);if(!a)return a5.near(b,c);b=a.$head}return a.parent.inlineContent||(0==d?a=b:(a=(a5.findFrom(a,-c,!0)||a5.findFrom(a,c,!0)).$anchor).pos<b.pos!=d<0&&(a=b)),new a9(a,b)}}a5.jsonID("text",a9);class ba{constructor(a,b){this.anchor=a,this.head=b}map(a){return new ba(a.map(this.anchor),a.map(this.head))}resolve(a){return a9.between(a.resolve(this.anchor),a.resolve(this.head))}}class bb extends a5{constructor(a){let b=a.nodeAfter;super(a,a.node(0).resolve(a.pos+b.nodeSize)),this.node=b}map(a,b){let{deleted:c,pos:d}=b.mapResult(this.anchor),e=a.resolve(d);return c?a5.near(e):new bb(e)}content(){return new F(z.from(this.node),0,0)}eq(a){return a instanceof bb&&a.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bc(this.anchor)}static fromJSON(a,b){if("number"!=typeof b.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new bb(a.resolve(b.anchor))}static create(a,b){return new bb(a.resolve(b))}static isSelectable(a){return!a.isText&&!1!==a.type.spec.selectable}}bb.prototype.visible=!1,a5.jsonID("node",bb);class bc{constructor(a){this.anchor=a}map(a){let{deleted:b,pos:c}=a.mapResult(this.anchor);return b?new ba(c,c):new bc(c)}resolve(a){let b=a.resolve(this.anchor),c=b.nodeAfter;return c&&bb.isSelectable(c)?new bb(b):a5.near(b)}}class bd extends a5{constructor(a){super(a.resolve(0),a.resolve(a.content.size))}replace(a,b=F.empty){if(b==F.empty){a.delete(0,a.doc.content.size);let b=a5.atStart(a.doc);b.eq(a.selection)||a.setSelection(b)}else super.replace(a,b)}toJSON(){return{type:"all"}}static fromJSON(a){return new bd(a)}map(a){return new bd(a)}eq(a){return a instanceof bd}getBookmark(){return be}}a5.jsonID("all",bd);let be={map(){return this},resolve:a=>new bd(a)};function bf(a,b,c,d,e,f=!1){if(b.inlineContent)return a9.create(a,c);for(let g=d-(e>0?0:1);e>0?g<b.childCount:g>=0;g+=e){let d=b.child(g);if(d.isAtom){if(!f&&bb.isSelectable(d))return bb.create(a,c-(e<0?d.nodeSize:0))}else{let b=bf(a,d,c+e,e<0?d.childCount:0,e,f);if(b)return b}c+=d.nodeSize*e}return null}function bg(a,b,c){let d,e=a.steps.length-1;if(e<b)return;let f=a.steps[e];(f instanceof aG||f instanceof aH)&&(a.mapping.maps[e].forEach((a,b,c,e)=>{null==d&&(d=e)}),a.setSelection(a5.near(a.doc.resolve(d),c)))}class bh extends a3{constructor(a){super(a.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=a.selection,this.storedMarks=a.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(a){if(a.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=a,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(a){return this.storedMarks=a,this.updated|=2,this}ensureMarks(a){return D.sameSet(this.storedMarks||this.selection.$from.marks(),a)||this.setStoredMarks(a),this}addStoredMark(a){return this.ensureMarks(a.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(a){return this.ensureMarks(a.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(a,b){super.addStep(a,b),this.updated=-3&this.updated,this.storedMarks=null}setTime(a){return this.time=a,this}replaceSelection(a){return this.selection.replace(this,a),this}replaceSelectionWith(a,b=!0){let c=this.selection;return b&&(a=a.mark(this.storedMarks||(c.empty?c.$from.marks():c.$from.marksAcross(c.$to)||D.none))),c.replaceWith(this,a),this}deleteSelection(){return this.selection.replace(this),this}insertText(a,b,c){let d=this.doc.type.schema;if(null==b)return a?this.replaceSelectionWith(d.text(a),!0):this.deleteSelection();{if(null==c&&(c=b),c=null==c?b:c,!a)return this.deleteRange(b,c);let e=this.storedMarks;if(!e){let a=this.doc.resolve(b);e=c==b?a.marks():a.marksAcross(this.doc.resolve(c))}return this.replaceRangeWith(b,c,d.text(a,e)),this.selection.empty||this.setSelection(a5.near(this.selection.$to)),this}}setMeta(a,b){return this.meta["string"==typeof a?a:a.key]=b,this}getMeta(a){return this.meta["string"==typeof a?a:a.key]}get isGeneric(){for(let a in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function bi(a,b){return b&&a?a.bind(b):a}class bj{constructor(a,b,c){this.name=a,this.init=bi(b.init,c),this.apply=bi(b.apply,c)}}let bk=[new bj("doc",{init:a=>a.doc||a.schema.topNodeType.createAndFill(),apply:a=>a.doc}),new bj("selection",{init:(a,b)=>a.selection||a5.atStart(b.doc),apply:a=>a.selection}),new bj("storedMarks",{init:a=>a.storedMarks||null,apply:(a,b,c,d)=>d.selection.$cursor?a.storedMarks:null}),new bj("scrollToSelection",{init:()=>0,apply:(a,b)=>a.scrolledIntoView?b+1:b})];class bl{constructor(a,b){this.schema=a,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bk.slice(),b&&b.forEach(a=>{if(this.pluginsByKey[a.key])throw RangeError("Adding different instances of a keyed plugin ("+a.key+")");this.plugins.push(a),this.pluginsByKey[a.key]=a,a.spec.state&&this.fields.push(new bj(a.key,a.spec.state,a))})}}class bm{constructor(a){this.config=a}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(a){return this.applyTransaction(a).state}filterTransaction(a,b=-1){for(let c=0;c<this.config.plugins.length;c++)if(c!=b){let b=this.config.plugins[c];if(b.spec.filterTransaction&&!b.spec.filterTransaction.call(b,a,this))return!1}return!0}applyTransaction(a){if(!this.filterTransaction(a))return{state:this,transactions:[]};let b=[a],c=this.applyInner(a),d=null;for(;;){let e=!1;for(let f=0;f<this.config.plugins.length;f++){let g=this.config.plugins[f];if(g.spec.appendTransaction){let h=d?d[f].n:0,i=d?d[f].state:this,j=h<b.length&&g.spec.appendTransaction.call(g,h?b.slice(h):b,i,c);if(j&&c.filterTransaction(j,f)){if(j.setMeta("appendedTransaction",a),!d){d=[];for(let a=0;a<this.config.plugins.length;a++)d.push(a<f?{state:c,n:b.length}:{state:this,n:0})}b.push(j),c=c.applyInner(j),e=!0}d&&(d[f]={state:c,n:b.length})}}if(!e)return{state:c,transactions:b}}}applyInner(a){if(!a.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let b=new bm(this.config),c=this.config.fields;for(let d=0;d<c.length;d++){let e=c[d];b[e.name]=e.apply(a,this[e.name],this,b)}return b}get tr(){return new bh(this)}static create(a){let b=new bl(a.doc?a.doc.type.schema:a.schema,a.plugins),c=new bm(b);for(let d=0;d<b.fields.length;d++)c[b.fields[d].name]=b.fields[d].init(a,c);return c}reconfigure(a){let b=new bl(this.schema,a.plugins),c=b.fields,d=new bm(b);for(let b=0;b<c.length;b++){let e=c[b].name;d[e]=this.hasOwnProperty(e)?this[e]:c[b].init(a,d)}return d}toJSON(a){let b={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(b.storedMarks=this.storedMarks.map(a=>a.toJSON())),a&&"object"==typeof a)for(let c in a){if("doc"==c||"selection"==c)throw RangeError("The JSON fields `doc` and `selection` are reserved");let d=a[c],e=d.spec.state;e&&e.toJSON&&(b[c]=e.toJSON.call(d,this[d.key]))}return b}static fromJSON(a,b,c){if(!b)throw RangeError("Invalid input for EditorState.fromJSON");if(!a.schema)throw RangeError("Required config field 'schema' missing");let d=new bl(a.schema,a.plugins),e=new bm(d);return d.fields.forEach(d=>{if("doc"==d.name)e.doc=S.fromJSON(a.schema,b.doc);else if("selection"==d.name)e.selection=a5.fromJSON(e.doc,b.selection);else if("storedMarks"==d.name)b.storedMarks&&(e.storedMarks=b.storedMarks.map(a.schema.markFromJSON));else{if(c)for(let f in c){let g=c[f],h=g.spec.state;if(g.key==d.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(b,f)){e[d.name]=h.fromJSON.call(g,a,b[f],e);return}}e[d.name]=d.init(a,e)}}),e}}class bn{constructor(a){this.spec=a,this.props={},a.props&&function a(b,c,d){for(let e in b){let f=b[e];f instanceof Function?f=f.bind(c):"handleDOMEvents"==e&&(f=a(f,c,{})),d[e]=f}return d}(a.props,this,this.props),this.key=a.key?a.key.key:bp("plugin")}getState(a){return a[this.key]}}let bo=Object.create(null);function bp(a){return a in bo?a+"$"+ ++bo[a]:(bo[a]=0,a+"$")}class bq{constructor(a="key"){this.key=bp(a)}get(a){return a.config.pluginsByKey[this.key]}getState(a){return a[this.key]}}let br=(a,b)=>!a.selection.empty&&(b&&b(a.tr.deleteSelection().scrollIntoView()),!0);function bs(a,b){let{$cursor:c}=a.selection;return c&&(b?b.endOfTextblock("backward",a):!(c.parentOffset>0))?c:null}let bt=(a,b,c)=>{let d=bs(a,c);if(!d)return!1;let e=bx(d);if(!e){let c=d.blockRange(),e=c&&aK(c);return null!=e&&(b&&b(a.tr.lift(c,e).scrollIntoView()),!0)}let f=e.nodeBefore;if(bH(a,e,b,-1))return!0;if(0==d.parent.content.size&&(bv(f,"end")||bb.isSelectable(f)))for(let c=d.depth;;c--){let g=aU(a.doc,d.before(c),d.after(c),F.empty);if(g&&g.slice.size<g.to-g.from){if(b){let c=a.tr.step(g);c.setSelection(bv(f,"end")?a5.findFrom(c.doc.resolve(c.mapping.map(e.pos,-1)),-1):bb.create(c.doc,e.pos-f.nodeSize)),b(c.scrollIntoView())}return!0}if(1==c||d.node(c-1).childCount>1)break}return!!f.isAtom&&e.depth==d.depth-1&&(b&&b(a.tr.delete(e.pos-f.nodeSize,e.pos).scrollIntoView()),!0)};function bu(a,b,c){let d=b.nodeBefore,e=b.pos-1;for(;!d.isTextblock;e--){if(d.type.spec.isolating)return!1;let a=d.lastChild;if(!a)return!1;d=a}let f=b.nodeAfter,g=b.pos+1;for(;!f.isTextblock;g++){if(f.type.spec.isolating)return!1;let a=f.firstChild;if(!a)return!1;f=a}let h=aU(a.doc,e,g,F.empty);if(!h||h.from!=e||h instanceof aG&&h.slice.size>=g-e)return!1;if(c){let b=a.tr.step(h);b.setSelection(a9.create(b.doc,e)),c(b.scrollIntoView())}return!0}function bv(a,b,c=!1){for(let d=a;d;d="start"==b?d.firstChild:d.lastChild){if(d.isTextblock)return!0;if(c&&1!=d.childCount)break}return!1}let bw=(a,b,c)=>{let{$head:d,empty:e}=a.selection,f=d;if(!e)return!1;if(d.parent.isTextblock){if(c?!c.endOfTextblock("backward",a):d.parentOffset>0)return!1;f=bx(d)}let g=f&&f.nodeBefore;return!!g&&!!bb.isSelectable(g)&&(b&&b(a.tr.setSelection(bb.create(a.doc,f.pos-g.nodeSize)).scrollIntoView()),!0)};function bx(a){if(!a.parent.type.spec.isolating)for(let b=a.depth-1;b>=0;b--){if(a.index(b)>0)return a.doc.resolve(a.before(b+1));if(a.node(b).type.spec.isolating)break}return null}function by(a,b){let{$cursor:c}=a.selection;return c&&(b?b.endOfTextblock("forward",a):!(c.parentOffset<c.parent.content.size))?c:null}let bz=(a,b,c)=>{let d=by(a,c);if(!d)return!1;let e=bB(d);if(!e)return!1;let f=e.nodeAfter;if(bH(a,e,b,1))return!0;if(0==d.parent.content.size&&(bv(f,"start")||bb.isSelectable(f))){let c=aU(a.doc,d.before(),d.after(),F.empty);if(c&&c.slice.size<c.to-c.from){if(b){let d=a.tr.step(c);d.setSelection(bv(f,"start")?a5.findFrom(d.doc.resolve(d.mapping.map(e.pos)),1):bb.create(d.doc,d.mapping.map(e.pos))),b(d.scrollIntoView())}return!0}}return!!f.isAtom&&e.depth==d.depth-1&&(b&&b(a.tr.delete(e.pos,e.pos+f.nodeSize).scrollIntoView()),!0)},bA=(a,b,c)=>{let{$head:d,empty:e}=a.selection,f=d;if(!e)return!1;if(d.parent.isTextblock){if(c?!c.endOfTextblock("forward",a):d.parentOffset<d.parent.content.size)return!1;f=bB(d)}let g=f&&f.nodeAfter;return!!g&&!!bb.isSelectable(g)&&(b&&b(a.tr.setSelection(bb.create(a.doc,f.pos)).scrollIntoView()),!0)};function bB(a){if(!a.parent.type.spec.isolating)for(let b=a.depth-1;b>=0;b--){let c=a.node(b);if(a.index(b)+1<c.childCount)return a.doc.resolve(a.after(b+1));if(c.type.spec.isolating)break}return null}let bC=(a,b)=>{let{$head:c,$anchor:d}=a.selection;return!!c.parent.type.spec.code&&!!c.sameParent(d)&&(b&&b(a.tr.insertText("\n").scrollIntoView()),!0)};function bD(a){for(let b=0;b<a.edgeCount;b++){let{type:c}=a.edge(b);if(c.isTextblock&&!c.hasRequiredAttrs())return c}return null}let bE=(a,b)=>{let{$head:c,$anchor:d}=a.selection;if(!c.parent.type.spec.code||!c.sameParent(d))return!1;let e=c.node(-1),f=c.indexAfter(-1),g=bD(e.contentMatchAt(f));if(!g||!e.canReplaceWith(f,f,g))return!1;if(b){let d=c.after(),e=a.tr.replaceWith(d,d,g.createAndFill());e.setSelection(a5.near(e.doc.resolve(d),1)),b(e.scrollIntoView())}return!0},bF=(a,b)=>{let c=a.selection,{$from:d,$to:e}=c;if(c instanceof bd||d.parent.inlineContent||e.parent.inlineContent)return!1;let f=bD(e.parent.contentMatchAt(e.indexAfter()));if(!f||!f.isTextblock)return!1;if(b){let c=(!d.parentOffset&&e.index()<e.parent.childCount?d:e).pos,g=a.tr.insert(c,f.createAndFill());g.setSelection(a9.create(g.doc,c+1)),b(g.scrollIntoView())}return!0},bG=(a,b)=>{let{$cursor:c}=a.selection;if(!c||c.parent.content.size)return!1;if(c.depth>1&&c.after()!=c.end(-1)){let d=c.before();if(aP(a.doc,d))return b&&b(a.tr.split(d).scrollIntoView()),!0}let d=c.blockRange(),e=d&&aK(d);return null!=e&&(b&&b(a.tr.lift(d,e).scrollIntoView()),!0)};function bH(a,b,c,d){let e,f,g,h=b.nodeBefore,i=b.nodeAfter,j,k,l=h.type.spec.isolating||i.type.spec.isolating;if(!l&&(e=b.nodeBefore,f=b.nodeAfter,g=b.index(),e&&f&&e.type.compatibleContent(f.type)&&(!e.content.size&&b.parent.canReplace(g-1,g)?(c&&c(a.tr.delete(b.pos-e.nodeSize,b.pos).scrollIntoView()),!0):!!b.parent.canReplace(g,g+1)&&!!(f.isTextblock||aQ(a.doc,b.pos))&&(c&&c(a.tr.join(b.pos).scrollIntoView()),!0))))return!0;let m=!l&&b.parent.canReplace(b.index(),b.index()+1);if(m&&(j=(k=h.contentMatchAt(h.childCount)).findWrapping(i.type))&&k.matchType(j[0]||i.type).validEnd){if(c){let d=b.pos+i.nodeSize,e=z.empty;for(let a=j.length-1;a>=0;a--)e=z.from(j[a].create(null,e));e=z.from(h.copy(e));let f=a.tr.step(new aH(b.pos-1,d,b.pos,d,new F(e,1,0),j.length,!0)),g=f.doc.resolve(d+2*j.length);g.nodeAfter&&g.nodeAfter.type==h.type&&aQ(f.doc,g.pos)&&f.join(g.pos),c(f.scrollIntoView())}return!0}let n=i.type.spec.isolating||d>0&&l?null:a5.findFrom(b,1),o=n&&n.$from.blockRange(n.$to),p=o&&aK(o);if(null!=p&&p>=b.depth)return c&&c(a.tr.lift(o,p).scrollIntoView()),!0;if(m&&bv(i,"start",!0)&&bv(h,"end")){let d=h,e=[];for(;e.push(d),!d.isTextblock;)d=d.lastChild;let f=i,g=1;for(;!f.isTextblock;f=f.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,f.content)){if(c){let d=z.empty;for(let a=e.length-1;a>=0;a--)d=z.from(e[a].copy(d));c(a.tr.step(new aH(b.pos-e.length,b.pos+i.nodeSize,b.pos+g,b.pos+i.nodeSize-g,new F(d,e.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function bI(a){return function(b,c){let d=b.selection,e=a<0?d.$from:d.$to,f=e.depth;for(;e.node(f).isInline;){if(!f)return!1;f--}return!!e.node(f).isTextblock&&(c&&c(b.tr.setSelection(a9.create(b.doc,a<0?e.start(f):e.end(f)))),!0)}}let bJ=bI(-1),bK=bI(1);function bL(a,b=null){return function(c,d){let e=!1;for(let d=0;d<c.selection.ranges.length&&!e;d++){let{$from:{pos:f},$to:{pos:g}}=c.selection.ranges[d];c.doc.nodesBetween(f,g,(d,f)=>{if(e)return!1;if(!(!d.isTextblock||d.hasMarkup(a,b)))if(d.type==a)e=!0;else{let b=c.doc.resolve(f),d=b.index();e=b.parent.canReplaceWith(d,d+1,a)}})}if(!e)return!1;if(d){let e=c.tr;for(let d=0;d<c.selection.ranges.length;d++){let{$from:{pos:f},$to:{pos:g}}=c.selection.ranges[d];e.setBlockType(f,g,a,b)}d(e.scrollIntoView())}return!0}}function bM(...a){return function(b,c,d){for(let e=0;e<a.length;e++)if(a[e](b,c,d))return!0;return!1}}let bN=bM(br,bt,bw),bO=bM(br,bz,bA),bP={Enter:bM(bC,bF,bG,(a,b)=>{let{$from:c,$to:d}=a.selection;if(a.selection instanceof bb&&a.selection.node.isBlock)return!!c.parentOffset&&!!aP(a.doc,c.pos)&&(b&&b(a.tr.split(c.pos).scrollIntoView()),!0);if(!c.depth)return!1;let e=[],f,g,h=!1,i=!1;for(let a=c.depth;;a--){if(c.node(a).isBlock){let b;h=c.end(a)==c.pos+(c.depth-a),i=c.start(a)==c.pos-(c.depth-a),g=bD(c.node(a-1).contentMatchAt(c.indexAfter(a-1)));e.unshift(b||(h&&g?{type:g}:null)),f=a;break}if(1==a)return!1;e.unshift(null)}let j=a.tr;(a.selection instanceof a9||a.selection instanceof bd)&&j.deleteSelection();let k=j.mapping.map(c.pos),l=aP(j.doc,k,e.length,e);if(l||(e[0]=g?{type:g}:null,l=aP(j.doc,k,e.length,e)),!l)return!1;if(j.split(k,e.length,e),!h&&i&&c.node(f).type!=g){let a=j.mapping.map(c.before(f)),b=j.doc.resolve(a);g&&c.node(f-1).canReplaceWith(b.index(),b.index()+1,g)&&j.setNodeMarkup(j.mapping.map(c.before(f)),g)}return b&&b(j.scrollIntoView()),!0}),"Mod-Enter":bE,Backspace:bN,"Mod-Backspace":bN,"Shift-Backspace":bN,Delete:bO,"Mod-Delete":bO,"Mod-a":(a,b)=>(b&&b(a.tr.setSelection(new bd(a.doc))),!0)},bQ={"Ctrl-h":bP.Backspace,"Alt-Backspace":bP["Mod-Backspace"],"Ctrl-d":bP.Delete,"Ctrl-Alt-Backspace":bP["Mod-Delete"],"Alt-Delete":bP["Mod-Delete"],"Alt-d":bP["Mod-Delete"],"Ctrl-a":bJ,"Ctrl-e":bK};for(let a in bP)bQ[a]=bP[a];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();let bR=function(a){for(var b=0;;b++)if(!(a=a.previousSibling))return b},bS=function(a){let b=a.assignedSlot||a.parentNode;return b&&11==b.nodeType?b.host:b},bT=null,bU=function(a,b,c){let d=bT||(bT=document.createRange());return d.setEnd(a,null==c?a.nodeValue.length:c),d.setStart(a,b||0),d},bV=function(){bT=null},bW=function(a,b,c,d){return c&&(bY(a,b,c,d,-1)||bY(a,b,c,d,1))},bX=/^(img|br|input|textarea|hr)$/i;function bY(a,b,c,d,e){for(var f;;){if(a==c&&b==d)return!0;if(b==(e<0?0:bZ(a))){let c=a.parentNode;if(!c||1!=c.nodeType||b$(a)||bX.test(a.nodeName)||"false"==a.contentEditable)return!1;b=bR(a)+(e<0?0:1),a=c}else{if(1!=a.nodeType)return!1;let c=a.childNodes[b+(e<0?-1:0)];if(1==c.nodeType&&"false"==c.contentEditable)if(null==(f=c.pmViewDesc)||!f.ignoreForSelection)return!1;else b+=e;else a=c,b=e<0?bZ(a):0}}}function bZ(a){return 3==a.nodeType?a.nodeValue.length:a.childNodes.length}function b$(a){let b;for(let c=a;c&&!(b=c.pmViewDesc);c=c.parentNode);return b&&b.node&&b.node.isBlock&&(b.dom==a||b.contentDOM==a)}let b_=function(a){return a.focusNode&&bW(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)};function b0(a,b){let c=document.createEvent("Event");return c.initEvent("keydown",!0,!0),c.keyCode=a,c.key=c.code=b,c}let b1="undefined"!=typeof navigator?navigator:null,b2="undefined"!=typeof document?document:null,b3=b1&&b1.userAgent||"",b4=/Edge\/(\d+)/.exec(b3),b5=/MSIE \d/.exec(b3),b6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(b3),b7=!!(b5||b6||b4),b8=b5?document.documentMode:b6?+b6[1]:b4?+b4[1]:0,b9=!b7&&/gecko\/(\d+)/i.test(b3);b9&&(/Firefox\/(\d+)/.exec(b3)||[0,0])[1];let ca=!b7&&/Chrome\/(\d+)/.exec(b3),cb=!!ca,cc=ca?+ca[1]:0,cd=!b7&&!!b1&&/Apple Computer/.test(b1.vendor),ce=cd&&(/Mobile\/\w+/.test(b3)||!!b1&&b1.maxTouchPoints>2),cf=ce||!!b1&&/Mac/.test(b1.platform),cg=!!b1&&/Win/.test(b1.platform),ch=/Android \d/.test(b3),ci=!!b2&&"webkitFontSmoothing"in b2.documentElement.style,cj=ci?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ck(a,b){return"number"==typeof a?a:a[b]}function cl(a,b,c){let d=a.someProp("scrollThreshold")||0,e=a.someProp("scrollMargin")||5,f=a.dom.ownerDocument;for(let g=c||a.dom;g;){if(1!=g.nodeType){g=bS(g);continue}let a=g,c=a==f.body,h=c?function(a){let b=a.defaultView&&a.defaultView.visualViewport;return b?{left:0,right:b.width,top:0,bottom:b.height}:{left:0,right:a.documentElement.clientWidth,top:0,bottom:a.documentElement.clientHeight}}(f):function(a){let b=a.getBoundingClientRect(),c=b.width/a.offsetWidth||1,d=b.height/a.offsetHeight||1;return{left:b.left,right:b.left+a.clientWidth*c,top:b.top,bottom:b.top+a.clientHeight*d}}(a),i=0,j=0;if(b.top<h.top+ck(d,"top")?j=-(h.top-b.top+ck(e,"top")):b.bottom>h.bottom-ck(d,"bottom")&&(j=b.bottom-b.top>h.bottom-h.top?b.top+ck(e,"top")-h.top:b.bottom-h.bottom+ck(e,"bottom")),b.left<h.left+ck(d,"left")?i=-(h.left-b.left+ck(e,"left")):b.right>h.right-ck(d,"right")&&(i=b.right-h.right+ck(e,"right")),i||j)if(c)f.defaultView.scrollBy(i,j);else{let c=a.scrollLeft,d=a.scrollTop;j&&(a.scrollTop+=j),i&&(a.scrollLeft+=i);let e=a.scrollLeft-c,f=a.scrollTop-d;b={left:b.left-e,top:b.top-f,right:b.right-e,bottom:b.bottom-f}}let k=c?"fixed":getComputedStyle(g).position;if(/^(fixed|sticky)$/.test(k))break;g="absolute"==k?g.offsetParent:bS(g)}}function cm(a){let b=[],c=a.ownerDocument;for(let d=a;d&&(b.push({dom:d,top:d.scrollTop,left:d.scrollLeft}),a!=c);d=bS(d));return b}function cn(a,b){for(let c=0;c<a.length;c++){let{dom:d,top:e,left:f}=a[c];d.scrollTop!=e+b&&(d.scrollTop=e+b),d.scrollLeft!=f&&(d.scrollLeft=f)}}let co=null;function cp(a,b){return a.left>=b.left-1&&a.left<=b.right+1&&a.top>=b.top-1&&a.top<=b.bottom+1}function cq(a){return a.top<a.bottom||a.left<a.right}function cr(a,b){let c=a.getClientRects();if(c.length){let a=c[b<0?0:c.length-1];if(cq(a))return a}return Array.prototype.find.call(c,cq)||a.getBoundingClientRect()}let cs=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ct(a,b,c){let{node:d,offset:e,atom:f}=a.docView.domFromPos(b,c<0?-1:1),g=ci||b9;if(3==d.nodeType)if(g&&(cs.test(d.nodeValue)||(c<0?!e:e==d.nodeValue.length))){let a=cr(bU(d,e,e),c);if(b9&&e&&/\s/.test(d.nodeValue[e-1])&&e<d.nodeValue.length){let b=cr(bU(d,e-1,e-1),-1);if(b.top==a.top){let c=cr(bU(d,e,e+1),-1);if(c.top!=a.top)return cu(c,c.left<b.left)}}return a}else{let a=e,b=e,f=c<0?1:-1;return c<0&&!e?(b++,f=-1):c>=0&&e==d.nodeValue.length?(a--,f=1):c<0?a--:b++,cu(cr(bU(d,a,b),f),f<0)}if(!a.state.doc.resolve(b-(f||0)).parent.inlineContent){if(null==f&&e&&(c<0||e==bZ(d))){let a=d.childNodes[e-1];if(1==a.nodeType)return cv(a.getBoundingClientRect(),!1)}if(null==f&&e<bZ(d)){let a=d.childNodes[e];if(1==a.nodeType)return cv(a.getBoundingClientRect(),!0)}return cv(d.getBoundingClientRect(),c>=0)}if(null==f&&e&&(c<0||e==bZ(d))){let a=d.childNodes[e-1],b=3==a.nodeType?bU(a,bZ(a)-!g):1!=a.nodeType||"BR"==a.nodeName&&a.nextSibling?null:a;if(b)return cu(cr(b,1),!1)}if(null==f&&e<bZ(d)){let a=d.childNodes[e];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let b=a?3==a.nodeType?bU(a,0,+!g):1==a.nodeType?a:null:null;if(b)return cu(cr(b,-1),!0)}return cu(cr(3==d.nodeType?bU(d):d,-c),c>=0)}function cu(a,b){if(0==a.width)return a;let c=b?a.left:a.right;return{top:a.top,bottom:a.bottom,left:c,right:c}}function cv(a,b){if(0==a.height)return a;let c=b?a.top:a.bottom;return{top:c,bottom:c,left:a.left,right:a.right}}function cw(a,b,c){let d=a.state,e=a.root.activeElement;d!=b&&a.updateState(b),e!=a.dom&&a.focus();try{return c()}finally{d!=b&&a.updateState(d),e!=a.dom&&e&&e.focus()}}let cx=/[\u0590-\u08ac]/,cy=null,cz=null,cA=!1;class cB{constructor(a,b,c,d){this.parent=a,this.children=b,this.dom=c,this.contentDOM=d,this.dirty=0,c.pmViewDesc=this}matchesWidget(a){return!1}matchesMark(a){return!1}matchesNode(a,b,c){return!1}matchesHack(a){return!1}parseRule(){return null}stopEvent(a){return!1}get size(){let a=0;for(let b=0;b<this.children.length;b++)a+=this.children[b].size;return a}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let a=0;a<this.children.length;a++)this.children[a].destroy()}posBeforeChild(a){for(let b=0,c=this.posAtStart;;b++){let d=this.children[b];if(d==a)return c;c+=d.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(a,b,c){let d;if(this.contentDOM&&this.contentDOM.contains(1==a.nodeType?a:a.parentNode))if(c<0){let c,d;if(a==this.contentDOM)c=a.childNodes[b-1];else{for(;a.parentNode!=this.contentDOM;)a=a.parentNode;c=a.previousSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.previousSibling;return c?this.posBeforeChild(d)+d.size:this.posAtStart}else{let c,d;if(a==this.contentDOM)c=a.childNodes[b];else{for(;a.parentNode!=this.contentDOM;)a=a.parentNode;c=a.nextSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.nextSibling;return c?this.posBeforeChild(d):this.posAtEnd}if(a==this.dom&&this.contentDOM)d=b>bR(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))d=2&a.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==b)for(let b=a;;b=b.parentNode){if(b==this.dom){d=!1;break}if(b.previousSibling)break}if(null==d&&b==a.childNodes.length)for(let b=a;;b=b.parentNode){if(b==this.dom){d=!0;break}if(b.nextSibling)break}}return(null==d?c>0:d)?this.posAtEnd:this.posAtStart}nearestDesc(a,b=!1){for(let c=!0,d=a;d;d=d.parentNode){let e=this.getDesc(d),f;if(e&&(!b||e.node))if(!c||!(f=e.nodeDOM)||(1==f.nodeType?f.contains(1==a.nodeType?a:a.parentNode):f==a))return e;else c=!1}}getDesc(a){let b=a.pmViewDesc;for(let a=b;a;a=a.parent)if(a==this)return b}posFromDOM(a,b,c){for(let d=a;d;d=d.parentNode){let e=this.getDesc(d);if(e)return e.localPosFromDOM(a,b,c)}return -1}descAt(a){for(let b=0,c=0;b<this.children.length;b++){let d=this.children[b],e=c+d.size;if(c==a&&e!=c){for(;!d.border&&d.children.length;)for(let a=0;a<d.children.length;a++){let b=d.children[a];if(b.size){d=b;break}}return d}if(a<e)return d.descAt(a-c-d.border);c=e}}domFromPos(a,b){if(!this.contentDOM)return{node:this.dom,offset:0,atom:a+1};let c=0,d=0;for(let b=0;c<this.children.length;c++){let e=this.children[c],f=b+e.size;if(f>a||e instanceof cI){d=a-b;break}b=f}if(d)return this.children[c].domFromPos(d-this.children[c].border,b);for(let a;c&&!(a=this.children[c-1]).size&&a instanceof cC&&a.side>=0;c--);if(b<=0){let a,d=!0;for(;(a=c?this.children[c-1]:null)&&a.dom.parentNode!=this.contentDOM;c--,d=!1);return a&&b&&d&&!a.border&&!a.domAtom?a.domFromPos(a.size,b):{node:this.contentDOM,offset:a?bR(a.dom)+1:0}}{let a,d=!0;for(;(a=c<this.children.length?this.children[c]:null)&&a.dom.parentNode!=this.contentDOM;c++,d=!1);return a&&d&&!a.border&&!a.domAtom?a.domFromPos(0,b):{node:this.contentDOM,offset:a?bR(a.dom):this.contentDOM.childNodes.length}}}parseRange(a,b,c=0){if(0==this.children.length)return{node:this.contentDOM,from:a,to:b,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let d=-1,e=-1;for(let f=c,g=0;;g++){let c=this.children[g],h=f+c.size;if(-1==d&&a<=h){let e=f+c.border;if(a>=e&&b<=h-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(a,b,e);a=f;for(let b=g;b>0;b--){let c=this.children[b-1];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(1)){d=bR(c.dom)+1;break}a-=c.size}-1==d&&(d=0)}if(d>-1&&(h>b||g==this.children.length-1)){b=h;for(let a=g+1;a<this.children.length;a++){let c=this.children[a];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){e=bR(c.dom);break}b+=c.size}-1==e&&(e=this.contentDOM.childNodes.length);break}f=h}return{node:this.contentDOM,from:a,to:b,fromOffset:d,toOffset:e}}emptyChildAt(a){if(this.border||!this.contentDOM||!this.children.length)return!1;let b=this.children[a<0?0:this.children.length-1];return 0==b.size||b.emptyChildAt(a)}domAfterPos(a){let{node:b,offset:c}=this.domFromPos(a,0);if(1!=b.nodeType||c==b.childNodes.length)throw RangeError("No node after pos "+a);return b.childNodes[c]}setSelection(a,b,c,d=!1){let e=Math.min(a,b),f=Math.max(a,b);for(let g=0,h=0;g<this.children.length;g++){let i=this.children[g],j=h+i.size;if(e>h&&f<j)return i.setSelection(a-h-i.border,b-h-i.border,c,d);h=j}let g=this.domFromPos(a,a?-1:1),h=b==a?g:this.domFromPos(b,b?-1:1),i=c.root.getSelection(),j=c.domSelectionRange(),k=!1;if((b9||cd)&&a==b){let{node:a,offset:b}=g;if(3==a.nodeType){if((k=!!(b&&"\n"==a.nodeValue[b-1]))&&b==a.nodeValue.length)for(let b=a,c;b;b=b.parentNode){if(c=b.nextSibling){"BR"==c.nodeName&&(g=h={node:c.parentNode,offset:bR(c)+1});break}let a=b.pmViewDesc;if(a&&a.node&&a.node.isBlock)break}}else{let c=a.childNodes[b-1];k=c&&("BR"==c.nodeName||"false"==c.contentEditable)}}if(b9&&j.focusNode&&j.focusNode!=h.node&&1==j.focusNode.nodeType){let a=j.focusNode.childNodes[j.focusOffset];a&&"false"==a.contentEditable&&(d=!0)}if(!(d||k&&cd)&&bW(g.node,g.offset,j.anchorNode,j.anchorOffset)&&bW(h.node,h.offset,j.focusNode,j.focusOffset))return;let l=!1;if((i.extend||a==b)&&!(k&&b9)){i.collapse(g.node,g.offset);try{a!=b&&i.extend(h.node,h.offset),l=!0}catch(a){}}if(!l){if(a>b){let a=g;g=h,h=a}let c=document.createRange();c.setEnd(h.node,h.offset),c.setStart(g.node,g.offset),i.removeAllRanges(),i.addRange(c)}}ignoreMutation(a){return!this.contentDOM&&"selection"!=a.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(a,b){for(let c=0,d=0;d<this.children.length;d++){let e=this.children[d],f=c+e.size;if(c==f?a<=f&&b>=c:a<f&&b>c){let d=c+e.border,g=f-e.border;if(a>=d&&b<=g){this.dirty=a==c||b==f?2:1,a==d&&b==g&&(e.contentLost||e.dom.parentNode!=this.contentDOM)?e.dirty=3:e.markDirty(a-d,b-d);return}e.dirty=e.dom!=e.contentDOM||e.dom.parentNode!=this.contentDOM||e.children.length?3:2}c=f}this.dirty=2}markParentsDirty(){let a=1;for(let b=this.parent;b;b=b.parent,a++){let c=1==a?2:1;b.dirty<c&&(b.dirty=c)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(a){return!1}}class cC extends cB{constructor(a,b,c,d){let e,f=b.type.toDOM;if("function"==typeof f&&(f=f(c,()=>e?e.parent?e.parent.posBeforeChild(e):void 0:d)),!b.type.spec.raw){if(1!=f.nodeType){let a=document.createElement("span");a.appendChild(f),f=a}f.contentEditable="false",f.classList.add("ProseMirror-widget")}super(a,[],f,null),this.widget=b,this.widget=b,e=this}matchesWidget(a){return 0==this.dirty&&a.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(a){let b=this.widget.spec.stopEvent;return!!b&&b(a)}ignoreMutation(a){return"selection"!=a.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class cD extends cB{constructor(a,b,c,d){super(a,[],b,null),this.textDOM=c,this.text=d}get size(){return this.text.length}localPosFromDOM(a,b){return a!=this.textDOM?this.posAtStart+(b?this.size:0):this.posAtStart+b}domFromPos(a){return{node:this.textDOM,offset:a}}ignoreMutation(a){return"characterData"===a.type&&a.target.nodeValue==a.oldValue}}class cE extends cB{constructor(a,b,c,d,e){super(a,[],c,d),this.mark=b,this.spec=e}static create(a,b,c,d){let e=d.nodeViews[b.type.name],f=e&&e(b,d,c);return f&&f.dom||(f=aq.renderSpec(document,b.type.spec.toDOM(b,c),null,b.attrs)),new cE(a,b,f.dom,f.contentDOM||f.dom,f)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(a){return 3!=this.dirty&&this.mark.eq(a)}markDirty(a,b){if(super.markDirty(a,b),0!=this.dirty){let a=this.parent;for(;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=0}}slice(a,b,c){let d=cE.create(this.parent,this.mark,!0,c),e=this.children,f=this.size;b<f&&(e=cT(e,b,f,c)),a>0&&(e=cT(e,0,a,c));for(let a=0;a<e.length;a++)e[a].parent=d;return d.children=e,d}ignoreMutation(a){return this.spec.ignoreMutation?this.spec.ignoreMutation(a):super.ignoreMutation(a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class cF extends cB{constructor(a,b,c,d,e,f,g,h,i){super(a,[],e,f),this.node=b,this.outerDeco=c,this.innerDeco=d,this.nodeDOM=g}static create(a,b,c,d,e,f){let g=e.nodeViews[b.type.name],h,i=g&&g(b,e,()=>h?h.parent?h.parent.posBeforeChild(h):void 0:f,c,d),j=i&&i.dom,k=i&&i.contentDOM;if(b.isText)if(j){if(3!=j.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else j=document.createTextNode(b.text);else if(!j){let a=aq.renderSpec(document,b.type.spec.toDOM(b),null,b.attrs);({dom:j,contentDOM:k}=a)}k||b.isText||"BR"==j.nodeName||(j.hasAttribute("contenteditable")||(j.contentEditable="false"),b.type.spec.draggable&&(j.draggable=!0));let l=j;return(j=cO(j,c,b),i)?h=new cJ(a,b,c,d,j,k||null,l,i,e,f+1):b.isText?new cH(a,b,c,d,j,l,e):new cF(a,b,c,d,j,k||null,l,e,f+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let a={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(a.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let b=this.children.length-1;b>=0;b--){let c=this.children[b];if(this.dom.contains(c.dom.parentNode)){a.contentElement=c.dom.parentNode;break}}a.contentElement||(a.getContent=()=>z.empty)}else a.contentElement=this.contentDOM;else a.getContent=()=>this.node.content;return a}matchesNode(a,b,c){return 0==this.dirty&&a.eq(this.node)&&cP(b,this.outerDeco)&&c.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return+!this.node.isLeaf}updateChildren(a,b){let c=this.node.inlineContent,d=b,e=a.composing?this.localCompositionInfo(a,b):null,f=e&&e.pos>-1?e:null,g=e&&e.pos<0,h=new cR(this,f&&f.node,a);(function(a,b,c,d){let e=b.locals(a),f=0;if(0==e.length){for(let c=0;c<a.childCount;c++){let g=a.child(c);d(g,e,b.forChild(f,g),c),f+=g.nodeSize}return}let g=0,h=[],i=null;for(let j=0;;){let k,l,m,n;for(;g<e.length&&e[g].to==f;){let a=e[g++];a.widget&&(k?(l||(l=[k])).push(a):k=a)}if(k)if(l){l.sort(cS);for(let a=0;a<l.length;a++)c(l[a],j,!!i)}else c(k,j,!!i);if(i)n=-1,m=i,i=null;else if(j<a.childCount)n=j,m=a.child(j++);else break;for(let a=0;a<h.length;a++)h[a].to<=f&&h.splice(a--,1);for(;g<e.length&&e[g].from<=f&&e[g].to>f;)h.push(e[g++]);let o=f+m.nodeSize;if(m.isText){let a=o;g<e.length&&e[g].from<a&&(a=e[g].from);for(let b=0;b<h.length;b++)h[b].to<a&&(a=h[b].to);a<o&&(i=m.cut(a-f),m=m.cut(0,a-f),o=a,n=-1)}else for(;g<e.length&&e[g].to<o;)g++;let p=m.isInline&&!m.isLeaf?h.filter(a=>!a.inline):h.slice();d(m,p,b.forChild(f,m),n),f=o}})(this.node,this.innerDeco,(b,e,f)=>{b.spec.marks?h.syncToMarks(b.spec.marks,c,a):b.type.side>=0&&!f&&h.syncToMarks(e==this.node.childCount?D.none:this.node.child(e).marks,c,a),h.placeWidget(b,a,d)},(b,f,i,j)=>{let k;h.syncToMarks(b.marks,c,a),h.findNodeMatch(b,f,i,j)||g&&a.state.selection.from>d&&a.state.selection.to<d+b.nodeSize&&(k=h.findIndexWithChild(e.node))>-1&&h.updateNodeAt(b,f,i,k,a)||h.updateNextNode(b,f,i,a,j,d)||h.addNode(b,f,i,a,d),d+=b.nodeSize}),h.syncToMarks([],c,a),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||2==this.dirty)&&(f&&this.protectLocalComposition(a,f),function a(b,c,d){let e=b.firstChild,f=!1;for(let g=0;g<c.length;g++){let h=c[g],i=h.dom;if(i.parentNode==b){for(;i!=e;)e=cQ(e),f=!0;e=e.nextSibling}else f=!0,b.insertBefore(i,e);if(h instanceof cE){let c=e?e.previousSibling:b.lastChild;a(h.contentDOM,h.children,d),e=c?c.nextSibling:b.firstChild}}for(;e;)e=cQ(e),f=!0;f&&d.trackWrites==b&&(d.trackWrites=null)}(this.contentDOM,this.children,a),ce&&function(a){if("UL"==a.nodeName||"OL"==a.nodeName){let b=a.style.cssText;a.style.cssText=b+"; list-style: square !important",window.getComputedStyle(a).listStyle,a.style.cssText=b}}(this.dom))}localCompositionInfo(a,b){let{from:c,to:d}=a.state.selection;if(!(a.state.selection instanceof a9)||c<b||d>b+this.node.content.size)return null;let e=a.input.compositionNode;if(!e||!this.dom.contains(e.parentNode))return null;if(!this.node.inlineContent)return{node:e,pos:-1,text:""};{let a=e.nodeValue,f=function(a,b,c,d){for(let e=0,f=0;e<a.childCount&&f<=d;){let g=a.child(e++),h=f;if(f+=g.nodeSize,!g.isText)continue;let i=g.text;for(;e<a.childCount;){let b=a.child(e++);if(f+=b.nodeSize,!b.isText)break;i+=b.text}if(f>=c){if(f>=d&&i.slice(d-b.length-h,d-h)==b)return d-b.length;let a=h<d?i.lastIndexOf(b,d-h-1):-1;if(a>=0&&a+b.length+h>=c)return h+a;if(c==d&&i.length>=d+b.length-h&&i.slice(d-h,d-h+b.length)==b)return d}}return -1}(this.node.content,a,c-b,d-b);return f<0?null:{node:e,pos:f,text:a}}}protectLocalComposition(a,{node:b,pos:c,text:d}){if(this.getDesc(b))return;let e=b;for(;e.parentNode!=this.contentDOM;e=e.parentNode){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling);for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling);e.pmViewDesc&&(e.pmViewDesc=void 0)}let f=new cD(this,e,b,d);a.input.compositionNodes.push(f),this.children=cT(this.children,c,c+d.length,a,f)}update(a,b,c,d){return 3!=this.dirty&&!!a.sameMarkup(this.node)&&(this.updateInner(a,b,c,d),!0)}updateInner(a,b,c,d){this.updateOuterDeco(b),this.node=a,this.innerDeco=c,this.contentDOM&&this.updateChildren(d,this.posAtStart),this.dirty=0}updateOuterDeco(a){if(cP(a,this.outerDeco))return;let b=1!=this.nodeDOM.nodeType,c=this.dom;this.dom=cN(this.dom,this.nodeDOM,cM(this.outerDeco,this.node,b),cM(a,this.node,b)),this.dom!=c&&(c.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=a}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function cG(a,b,c,d,e){cO(d,b,a);let f=new cF(void 0,a,b,c,d,d,d,e,0);return f.contentDOM&&f.updateChildren(e,0),f}class cH extends cF{constructor(a,b,c,d,e,f,g){super(a,b,c,d,e,null,f,g,0)}parseRule(){let a=this.nodeDOM.parentNode;for(;a&&a!=this.dom&&!a.pmIsDeco;)a=a.parentNode;return{skip:a||!0}}update(a,b,c,d){return 3!=this.dirty&&(0==this.dirty||!!this.inParent())&&!!a.sameMarkup(this.node)&&(this.updateOuterDeco(b),(0!=this.dirty||a.text!=this.node.text)&&a.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=a.text,d.trackWrites==this.nodeDOM&&(d.trackWrites=null)),this.node=a,this.dirty=0,!0)}inParent(){let a=this.parent.contentDOM;for(let b=this.nodeDOM;b;b=b.parentNode)if(b==a)return!0;return!1}domFromPos(a){return{node:this.nodeDOM,offset:a}}localPosFromDOM(a,b,c){return a==this.nodeDOM?this.posAtStart+Math.min(b,this.node.text.length):super.localPosFromDOM(a,b,c)}ignoreMutation(a){return"characterData"!=a.type&&"selection"!=a.type}slice(a,b,c){let d=this.node.cut(a,b),e=document.createTextNode(d.text);return new cH(this.parent,d,this.outerDeco,this.innerDeco,e,e,c)}markDirty(a,b){super.markDirty(a,b),this.dom!=this.nodeDOM&&(0==a||b==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}isText(a){return this.node.text==a}}class cI extends cB{parseRule(){return{ignore:!0}}matchesHack(a){return 0==this.dirty&&this.dom.nodeName==a}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class cJ extends cF{constructor(a,b,c,d,e,f,g,h,i,j){super(a,b,c,d,e,f,g,i,j),this.spec=h}update(a,b,c,d){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==a.type||this.spec.multiType)){let e=this.spec.update(a,b,c);return e&&this.updateInner(a,b,c,d),e}return(!!this.contentDOM||!!a.isLeaf)&&super.update(a,b,c,d)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(a,b,c,d){this.spec.setSelection?this.spec.setSelection(a,b,c.root):super.setSelection(a,b,c,d)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(a){return!!this.spec.stopEvent&&this.spec.stopEvent(a)}ignoreMutation(a){return this.spec.ignoreMutation?this.spec.ignoreMutation(a):super.ignoreMutation(a)}}let cK=function(a){a&&(this.nodeName=a)};cK.prototype=Object.create(null);let cL=[new cK];function cM(a,b,c){if(0==a.length)return cL;let d=c?cL[0]:new cK,e=[d];for(let f=0;f<a.length;f++){let g=a[f].type.attrs;if(g)for(let a in g.nodeName&&e.push(d=new cK(g.nodeName)),g){let f=g[a];null!=f&&(c&&1==e.length&&e.push(d=new cK(b.isInline?"span":"div")),"class"==a?d.class=(d.class?d.class+" ":"")+f:"style"==a?d.style=(d.style?d.style+";":"")+f:"nodeName"!=a&&(d[a]=f))}}return e}function cN(a,b,c,d){if(c==cL&&d==cL)return b;let e=b;for(let b=0;b<d.length;b++){let f=d[b],g=c[b];if(b){let b;g&&g.nodeName==f.nodeName&&e!=a&&(b=e.parentNode)&&b.nodeName.toLowerCase()==f.nodeName||((b=document.createElement(f.nodeName)).pmIsDeco=!0,b.appendChild(e),g=cL[0]),e=b}!function(a,b,c){for(let d in b)"class"==d||"style"==d||"nodeName"==d||d in c||a.removeAttribute(d);for(let d in c)"class"!=d&&"style"!=d&&"nodeName"!=d&&c[d]!=b[d]&&a.setAttribute(d,c[d]);if(b.class!=c.class){let d=b.class?b.class.split(" ").filter(Boolean):[],e=c.class?c.class.split(" ").filter(Boolean):[];for(let b=0;b<d.length;b++)-1==e.indexOf(d[b])&&a.classList.remove(d[b]);for(let b=0;b<e.length;b++)-1==d.indexOf(e[b])&&a.classList.add(e[b]);0==a.classList.length&&a.removeAttribute("class")}if(b.style!=c.style){if(b.style){let c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,d;for(;d=c.exec(b.style);)a.style.removeProperty(d[1])}c.style&&(a.style.cssText+=c.style)}}(e,g||cL[0],f)}return e}function cO(a,b,c){return cN(a,a,cL,cM(b,c,1!=a.nodeType))}function cP(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(!a[c].type.eq(b[c].type))return!1;return!0}function cQ(a){let b=a.nextSibling;return a.parentNode.removeChild(a),b}class cR{constructor(a,b,c){this.lock=b,this.view=c,this.index=0,this.stack=[],this.changed=!1,this.top=a,this.preMatch=function(a,b){let c=b,d=c.children.length,e=a.childCount,f=new Map,g=[];c:for(;e>0;){let h;for(;;)if(d){let a=c.children[d-1];if(a instanceof cE)c=a,d=a.children.length;else{h=a,d--;break}}else if(c==b)break c;else d=c.parent.children.indexOf(c),c=c.parent;let i=h.node;if(i){if(i!=a.child(e-1))break;--e,f.set(h,e),g.push(h)}}return{index:e,matched:f,matches:g.reverse()}}(a.node.content,a)}destroyBetween(a,b){if(a!=b){for(let c=a;c<b;c++)this.top.children[c].destroy();this.top.children.splice(a,b-a),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(a,b,c){let d=0,e=this.stack.length>>1,f=Math.min(e,a.length);for(;d<f&&(d==e-1?this.top:this.stack[d+1<<1]).matchesMark(a[d])&&!1!==a[d].type.spec.spanning;)d++;for(;d<e;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),e--;for(;e<a.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let b=this.index;b<Math.min(this.index+3,this.top.children.length);b++){let c=this.top.children[b];if(c.matchesMark(a[e])&&!this.isLocked(c.dom)){d=b;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let d=cE.create(this.top,a[e],b,c);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,e++}}findNodeMatch(a,b,c,d){let e=-1,f;if(d>=this.preMatch.index&&(f=this.preMatch.matches[d-this.preMatch.index]).parent==this.top&&f.matchesNode(a,b,c))e=this.top.children.indexOf(f,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let f=this.top.children[d];if(f.matchesNode(a,b,c)&&!this.preMatch.matched.has(f)){e=d;break}}return!(e<0)&&(this.destroyBetween(this.index,e),this.index++,!0)}updateNodeAt(a,b,c,d,e){let f=this.top.children[d];return 3==f.dirty&&f.dom==f.contentDOM&&(f.dirty=2),!!f.update(a,b,c,e)&&(this.destroyBetween(this.index,d),this.index++,!0)}findIndexWithChild(a){for(;;){let b=a.parentNode;if(!b)return -1;if(b==this.top.contentDOM){let b=a.pmViewDesc;if(b){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==b)return a}return -1}a=b}}updateNextNode(a,b,c,d,e,f){for(let g=this.index;g<this.top.children.length;g++){let h=this.top.children[g];if(h instanceof cF){let i=this.preMatch.matched.get(h);if(null!=i&&i!=e)return!1;let j=h.dom,k,l=this.isLocked(j)&&!(a.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==a.text&&3!=h.dirty&&cP(b,h.outerDeco));if(!l&&h.update(a,b,c,d))return this.destroyBetween(this.index,g),h.dom!=j&&(this.changed=!0),this.index++,!0;if(!l&&(k=this.recreateWrapper(h,a,b,c,d,f)))return this.destroyBetween(this.index,g),this.top.children[this.index]=k,k.contentDOM&&(k.dirty=2,k.updateChildren(d,f+1),k.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(a,b,c,d,e,f){if(a.dirty||b.isAtom||!a.children.length||!a.node.content.eq(b.content)||!cP(c,a.outerDeco)||!d.eq(a.innerDeco))return null;let g=cF.create(this.top,b,c,d,e,f);if(g.contentDOM)for(let b of(g.children=a.children,a.children=[],g.children))b.parent=g;return a.destroy(),g}addNode(a,b,c,d,e){let f=cF.create(this.top,a,b,c,d,e);f.contentDOM&&f.updateChildren(d,e+1),this.top.children.splice(this.index++,0,f),this.changed=!0}placeWidget(a,b,c){let d=this.index<this.top.children.length?this.top.children[this.index]:null;if(d&&d.matchesWidget(a)&&(a==d.widget||!d.widget.type.toDOM.parentNode))this.index++;else{let d=new cC(this.top,a,b,c);this.top.children.splice(this.index++,0,d),this.changed=!0}}addTextblockHacks(){let a=this.top.children[this.index-1],b=this.top;for(;a instanceof cE;)a=(b=a).children[b.children.length-1];(!a||!(a instanceof cH)||/\n$/.test(a.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(a.node.text))&&((cd||cb)&&a&&"false"==a.dom.contentEditable&&this.addHackNode("IMG",b),this.addHackNode("BR",this.top))}addHackNode(a,b){if(b==this.top&&this.index<b.children.length&&b.children[this.index].matchesHack(a))this.index++;else{let c=document.createElement(a);"IMG"==a&&(c.className="ProseMirror-separator",c.alt=""),"BR"==a&&(c.className="ProseMirror-trailingBreak");let d=new cI(this.top,[],c,null);b!=this.top?b.children.push(d):b.children.splice(this.index++,0,d),this.changed=!0}}isLocked(a){return this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))}}function cS(a,b){return a.type.side-b.type.side}function cT(a,b,c,d,e){let f=[];for(let g=0,h=0;g<a.length;g++){let i=a[g],j=h,k=h+=i.size;j>=c||k<=b?f.push(i):(j<b&&f.push(i.slice(0,b-j,d)),e&&(f.push(e),e=void 0),k>c&&f.push(i.slice(c-j,i.size,d)))}return f}function cU(a,b=null){let c=a.domSelectionRange(),d=a.state.doc;if(!c.focusNode)return null;let e=a.docView.nearestDesc(c.focusNode),f=e&&0==e.size,g=a.docView.posFromDOM(c.focusNode,c.focusOffset,1);if(g<0)return null;let h=d.resolve(g),i,j;if(b_(c)){for(i=g;e&&!e.node;)e=e.parent;let a=e.node;if(e&&a.isAtom&&bb.isSelectable(a)&&e.parent&&!(a.isInline&&function(a,b,c){for(let d=0==b,e=b==bZ(a);d||e;){if(a==c)return!0;let b=bR(a);if(!(a=a.parentNode))return!1;d=d&&0==b,e=e&&b==bZ(a)}}(c.focusNode,c.focusOffset,e.dom))){let a=e.posBefore;j=new bb(g==a?h:d.resolve(a))}}else{if(c instanceof a.dom.ownerDocument.defaultView.Selection&&c.rangeCount>1){let b=g,e=g;for(let d=0;d<c.rangeCount;d++){let f=c.getRangeAt(d);b=Math.min(b,a.docView.posFromDOM(f.startContainer,f.startOffset,1)),e=Math.max(e,a.docView.posFromDOM(f.endContainer,f.endOffset,-1))}if(b<0)return null;[i,g]=e==a.state.selection.anchor?[e,b]:[b,e],h=d.resolve(g)}else i=a.docView.posFromDOM(c.anchorNode,c.anchorOffset,1);if(i<0)return null}let k=d.resolve(i);if(!j){let c="pointer"==b||a.state.selection.head<h.pos&&!f?1:-1;j=c1(a,k,h,c)}return j}function cV(a){return a.editable?a.hasFocus():c3(a)&&document.activeElement&&document.activeElement.contains(a.dom)}function cW(a,b=!1){let c=a.state.selection;if(c_(a,c),cV(a)){if(!b&&a.input.mouseDown&&a.input.mouseDown.allowDefault&&cb){let b=a.domSelectionRange(),c=a.domObserver.currentSelection;if(b.anchorNode&&c.anchorNode&&bW(b.anchorNode,b.anchorOffset,c.anchorNode,c.anchorOffset)){a.input.mouseDown.delayedSelectionSync=!0,a.domObserver.setCurSelection();return}}if(a.domObserver.disconnectSelection(),a.cursorWrapper)!function(a){let b=a.domSelection();if(!b)return;let c=a.cursorWrapper.dom,d="IMG"==c.nodeName;d?b.collapse(c.parentNode,bR(c)+1):b.collapse(c,0),!d&&!a.state.selection.visible&&b7&&b8<=11&&(c.disabled=!0,c.disabled=!1)}(a);else{var d;let e,f,g,h,{anchor:i,head:j}=c,k,l;cX&&!(c instanceof a9)&&(c.$from.parent.inlineContent||(k=cY(a,c.from)),c.empty||c.$from.parent.inlineContent||(l=cY(a,c.to))),a.docView.setSelection(i,j,a,b),cX&&(k&&c$(k),l&&c$(l)),c.visible?a.dom.classList.remove("ProseMirror-hideselection"):(a.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&((e=(d=a).dom.ownerDocument).removeEventListener("selectionchange",d.input.hideSelectionGuard),g=(f=d.domSelectionRange()).anchorNode,h=f.anchorOffset,e.addEventListener("selectionchange",d.input.hideSelectionGuard=()=>{(f.anchorNode!=g||f.anchorOffset!=h)&&(e.removeEventListener("selectionchange",d.input.hideSelectionGuard),setTimeout(()=>{(!cV(d)||d.state.selection.visible)&&d.dom.classList.remove("ProseMirror-hideselection")},20))})))}a.domObserver.setCurSelection(),a.domObserver.connectSelection()}}let cX=cd||cb&&cc<63;function cY(a,b){let{node:c,offset:d}=a.docView.domFromPos(b,0),e=d<c.childNodes.length?c.childNodes[d]:null,f=d?c.childNodes[d-1]:null;if(cd&&e&&"false"==e.contentEditable)return cZ(e);if((!e||"false"==e.contentEditable)&&(!f||"false"==f.contentEditable)){if(e)return cZ(e);else if(f)return cZ(f)}}function cZ(a){return a.contentEditable="true",cd&&a.draggable&&(a.draggable=!1,a.wasDraggable=!0),a}function c$(a){a.contentEditable="false",a.wasDraggable&&(a.draggable=!0,a.wasDraggable=null)}function c_(a,b){if(b instanceof bb){let c=a.docView.descAt(b.from);c!=a.lastSelectedViewDesc&&(c0(a),c&&c.selectNode(),a.lastSelectedViewDesc=c)}else c0(a)}function c0(a){a.lastSelectedViewDesc&&(a.lastSelectedViewDesc.parent&&a.lastSelectedViewDesc.deselectNode(),a.lastSelectedViewDesc=void 0)}function c1(a,b,c,d){return a.someProp("createSelectionBetween",d=>d(a,b,c))||a9.between(b,c,d)}function c2(a){return(!a.editable||!!a.hasFocus())&&c3(a)}function c3(a){let b=a.domSelectionRange();if(!b.anchorNode)return!1;try{return a.dom.contains(3==b.anchorNode.nodeType?b.anchorNode.parentNode:b.anchorNode)&&(a.editable||a.dom.contains(3==b.focusNode.nodeType?b.focusNode.parentNode:b.focusNode))}catch(a){return!1}}function c4(a,b){let{$anchor:c,$head:d}=a.selection,e=b>0?c.max(d):c.min(d),f=e.parent.inlineContent?e.depth?a.doc.resolve(b>0?e.after():e.before()):null:e;return f&&a5.findFrom(f,b)}function c5(a,b){return a.dispatch(a.state.tr.setSelection(b).scrollIntoView()),!0}function c6(a,b,c){let d=a.state.selection;if(d instanceof a9){if(c.indexOf("s")>-1){let{$head:c}=d,e=c.textOffset?null:b<0?c.nodeBefore:c.nodeAfter;if(!e||e.isText||!e.isLeaf)return!1;let f=a.state.doc.resolve(c.pos+e.nodeSize*(b<0?-1:1));return c5(a,new a9(d.$anchor,f))}else if(!d.empty)return!1;else if(a.endOfTextblock(b>0?"forward":"backward")){let c=c4(a.state,b);return!!c&&c instanceof bb&&c5(a,c)}else if(!(cf&&c.indexOf("m")>-1)){let c=d.$head,e=c.textOffset?null:b<0?c.nodeBefore:c.nodeAfter,f;if(!e||e.isText)return!1;let g=b<0?c.pos-e.nodeSize:c.pos;return!!(e.isAtom||(f=a.docView.descAt(g))&&!f.contentDOM)&&(bb.isSelectable(e)?c5(a,new bb(b<0?a.state.doc.resolve(c.pos-e.nodeSize):c)):!!ci&&c5(a,new a9(a.state.doc.resolve(b<0?g:g+e.nodeSize))))}}else{if(d instanceof bb&&d.node.isInline)return c5(a,new a9(b>0?d.$to:d.$from));let c=c4(a.state,b);return!!c&&c5(a,c)}}function c7(a){return 3==a.nodeType?a.nodeValue.length:a.childNodes.length}function c8(a,b){let c=a.pmViewDesc;return c&&0==c.size&&(b<0||a.nextSibling||"BR"!=a.nodeName)}function c9(a,b){return b<0?function(a){let b=a.domSelectionRange(),c=b.focusNode,d=b.focusOffset;if(!c)return;let e,f,g=!1;for(b9&&1==c.nodeType&&d<c7(c)&&c8(c.childNodes[d],-1)&&(g=!0);;)if(d>0)if(1!=c.nodeType)break;else{let a=c.childNodes[d-1];if(c8(a,-1))e=c,f=--d;else if(3==a.nodeType)d=(c=a).nodeValue.length;else break}else if(da(c))break;else{let b=c.previousSibling;for(;b&&c8(b,-1);)e=c.parentNode,f=bR(b),b=b.previousSibling;if(b)d=c7(c=b);else{if((c=c.parentNode)==a.dom)break;d=0}}g?db(a,c,d):e&&db(a,e,f)}(a):function(a){let b,c,d=a.domSelectionRange(),e=d.focusNode,f=d.focusOffset;if(!e)return;let g=c7(e);for(;;)if(f<g){if(1!=e.nodeType)break;if(c8(e.childNodes[f],1))b=e,c=++f;else break}else if(da(e))break;else{let d=e.nextSibling;for(;d&&c8(d,1);)b=d.parentNode,c=bR(d)+1,d=d.nextSibling;if(d)f=0,g=c7(e=d);else{if((e=e.parentNode)==a.dom)break;f=g=0}}b&&db(a,b,c)}(a)}function da(a){let b=a.pmViewDesc;return b&&b.node&&b.node.isBlock}function db(a,b,c){if(3!=b.nodeType){let a,d;(d=function(a,b){for(;a&&b==a.childNodes.length&&!b$(a);)b=bR(a)+1,a=a.parentNode;for(;a&&b<a.childNodes.length;){let c=a.childNodes[b];if(3==c.nodeType)return c;if(1==c.nodeType&&"false"==c.contentEditable)break;a=c,b=0}}(b,c))?(b=d,c=0):(a=function(a,b){for(;a&&!b&&!b$(a);)b=bR(a),a=a.parentNode;for(;a&&b;){let c=a.childNodes[b-1];if(3==c.nodeType)return c;if(1==c.nodeType&&"false"==c.contentEditable)break;b=(a=c).childNodes.length}}(b,c))&&(b=a,c=a.nodeValue.length)}let d=a.domSelection();if(!d)return;if(b_(d)){let a=document.createRange();a.setEnd(b,c),a.setStart(b,c),d.removeAllRanges(),d.addRange(a)}else d.extend&&d.extend(b,c);a.domObserver.setCurSelection();let{state:e}=a;setTimeout(()=>{a.state==e&&cW(a)},50)}function dc(a,b){let c=a.state.doc.resolve(b);if(!(cb||cg)&&c.parent.inlineContent){let d=a.coordsAtPos(b);if(b>c.start()){let c=a.coordsAtPos(b-1),e=(c.top+c.bottom)/2;if(e>d.top&&e<d.bottom&&Math.abs(c.left-d.left)>1)return c.left<d.left?"ltr":"rtl"}if(b<c.end()){let c=a.coordsAtPos(b+1),e=(c.top+c.bottom)/2;if(e>d.top&&e<d.bottom&&Math.abs(c.left-d.left)>1)return c.left>d.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(a.dom).direction?"rtl":"ltr"}function dd(a,b,c){let d=a.state.selection;if(d instanceof a9&&!d.empty||c.indexOf("s")>-1||cf&&c.indexOf("m")>-1)return!1;let{$from:e,$to:f}=d;if(!e.parent.inlineContent||a.endOfTextblock(b<0?"up":"down")){let c=c4(a.state,b);if(c&&c instanceof bb)return c5(a,c)}if(!e.parent.inlineContent){let c=b<0?e:f,g=d instanceof bd?a5.near(c,b):a5.findFrom(c,b);return!!g&&c5(a,g)}return!1}function de(a,b){if(!(a.state.selection instanceof a9))return!0;let{$head:c,$anchor:d,empty:e}=a.state.selection;if(!c.sameParent(d))return!0;if(!e)return!1;if(a.endOfTextblock(b>0?"forward":"backward"))return!0;let f=!c.textOffset&&(b<0?c.nodeBefore:c.nodeAfter);if(f&&!f.isText){let d=a.state.tr;return b<0?d.delete(c.pos-f.nodeSize,c.pos):d.delete(c.pos,c.pos+f.nodeSize),a.dispatch(d),!0}return!1}function df(a,b,c){a.domObserver.stop(),b.contentEditable=c,a.domObserver.start()}function dg(a,b){a.someProp("transformCopied",c=>{b=c(b,a)});let c=[],{content:d,openStart:e,openEnd:f}=b;for(;e>1&&f>1&&1==d.childCount&&1==d.firstChild.childCount;){e--,f--;let a=d.firstChild;c.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),d=a.content}let g=a.someProp("clipboardSerializer")||aq.fromSchema(a.state.schema),h=dp(),i=h.createElement("div");i.appendChild(g.serializeFragment(d,{document:h}));let j=i.firstChild,k,l=0;for(;j&&1==j.nodeType&&(k=dm[j.nodeName.toLowerCase()]);){for(let a=k.length-1;a>=0;a--){let b=h.createElement(k[a]);for(;i.firstChild;)b.appendChild(i.firstChild);i.appendChild(b),l++}j=i.firstChild}return j&&1==j.nodeType&&j.setAttribute("data-pm-slice",`${e} ${f}${l?` -${l}`:""} ${JSON.stringify(c)}`),{dom:i,text:a.someProp("clipboardTextSerializer",c=>c(b,a))||b.content.textBetween(0,b.content.size,"\n\n"),slice:b}}function dh(a,b,c,d,e){let f,g,h=e.parent.type.spec.code;if(!c&&!b)return null;let i=!!b&&(d||h||!c);if(i){if(a.someProp("transformPastedText",c=>{b=c(b,h||d,a)}),h)return g=new F(z.from(a.state.schema.text(b.replace(/\r\n?/g,"\n"))),0,0),a.someProp("transformPasted",b=>{g=b(g,a,!0)}),g;let c=a.someProp("clipboardTextParser",c=>c(b,e,d,a));if(c)g=c;else{let c=e.marks(),{schema:d}=a.state,g=aq.fromSchema(d);f=document.createElement("div"),b.split(/(?:\r\n?|\n)+/).forEach(a=>{let b=f.appendChild(document.createElement("p"));a&&b.appendChild(g.serializeNode(d.text(a,c)))})}}else a.someProp("transformPastedHTML",b=>{c=b(c,a)}),f=function(a){var b;let c,d=/^(\s*<meta [^>]*>)*/.exec(a);d&&(a=a.slice(d[0].length));let e=dp().createElement("div"),f=/<([a-z][^>\s]+)/i.exec(a),g;if((g=f&&dm[f[1].toLowerCase()])&&(a=g.map(a=>"<"+a+">").join("")+a+g.map(a=>"</"+a+">").reverse().join("")),e.innerHTML=(b=a,(c=window.trustedTypes)?(dq||(dq=c.defaultPolicy||c.createPolicy("ProseMirrorClipboard",{createHTML:a=>a})),dq.createHTML(b)):b),g)for(let a=0;a<g.length;a++)e=e.querySelector(g[a])||e;return e}(c),ci&&function(a){let b=a.querySelectorAll(cb?"span:not([class]):not([style])":"span.Apple-converted-space");for(let c=0;c<b.length;c++){let d=b[c];1==d.childNodes.length&&""==d.textContent&&d.parentNode&&d.parentNode.replaceChild(a.ownerDocument.createTextNode(" "),d)}}(f);let j=f&&f.querySelector("[data-pm-slice]"),k=j&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(j.getAttribute("data-pm-slice")||"");if(k&&k[3])for(let a=+k[3];a>0;a--){let a=f.firstChild;for(;a&&1!=a.nodeType;)a=a.nextSibling;if(!a)break;f=a}if(g||(g=(a.someProp("clipboardParser")||a.someProp("domParser")||ah.fromSchema(a.state.schema)).parseSlice(f,{preserveWhitespace:!!(i||k),context:e,ruleFromNode:a=>"BR"!=a.nodeName||a.nextSibling||!a.parentNode||di.test(a.parentNode.nodeName)?null:{ignore:!0}})),k)g=function(a,b){if(!a.size)return a;let c=a.content.firstChild.type.schema,d;try{d=JSON.parse(b)}catch(b){return a}let{content:e,openStart:f,openEnd:g}=a;for(let a=d.length-2;a>=0;a-=2){let b=c.nodes[d[a]];if(!b||b.hasRequiredAttrs())break;e=z.from(b.create(d[a+1],e)),f++,g++}return new F(e,f,g)}(dl(g,+k[1],+k[2]),k[4]);else if((g=F.maxOpen(function(a,b){if(a.childCount<2)return a;for(let c=b.depth;c>=0;c--){let d=b.node(c).contentMatchAt(b.index(c)),e,f=[];if(a.forEach(a=>{if(!f)return;let b=d.findWrapping(a.type),c;if(!b)return f=null;if(c=f.length&&e.length&&function a(b,c,d,e,f){if(f<b.length&&f<c.length&&b[f]==c[f]){let g=a(b,c,d,e.lastChild,f+1);if(g)return e.copy(e.content.replaceChild(e.childCount-1,g));if(e.contentMatchAt(e.childCount).matchType(f==b.length-1?d.type:b[f+1]))return e.copy(e.content.append(z.from(dj(d,b,f+1))))}}(b,e,a,f[f.length-1],0))f[f.length-1]=c;else{f.length&&(f[f.length-1]=function a(b,c){if(0==c)return b;let d=b.content.replaceChild(b.childCount-1,a(b.lastChild,c-1)),e=b.contentMatchAt(b.childCount).fillBefore(z.empty,!0);return b.copy(d.append(e))}(f[f.length-1],e.length));let c=dj(a,b);f.push(c),d=d.matchType(c.type),e=b}}),f)return z.from(f)}return a}(g.content,e),!0)).openStart||g.openEnd){let a=0,b=0;for(let b=g.content.firstChild;a<g.openStart&&!b.type.spec.isolating;a++,b=b.firstChild);for(let a=g.content.lastChild;b<g.openEnd&&!a.type.spec.isolating;b++,a=a.lastChild);g=dl(g,a,b)}return a.someProp("transformPasted",b=>{g=b(g,a,i)}),g}let di=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dj(a,b,c=0){for(let d=b.length-1;d>=c;d--)a=b[d].create(null,z.from(a));return a}function dk(a,b,c,d,e,f){let g=b<0?a.firstChild:a.lastChild,h=g.content;return a.childCount>1&&(f=0),e<d-1&&(h=dk(h,b,c,d,e+1,f)),e>=c&&(h=b<0?g.contentMatchAt(0).fillBefore(h,f<=e).append(h):h.append(g.contentMatchAt(g.childCount).fillBefore(z.empty,!0))),a.replaceChild(b<0?0:a.childCount-1,g.copy(h))}function dl(a,b,c){return b<a.openStart&&(a=new F(dk(a.content,-1,b,a.openStart,0,a.openEnd),b,a.openEnd)),c<a.openEnd&&(a=new F(dk(a.content,1,c,a.openEnd,0,0),a.openStart,c)),a}let dm={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},dn=null;function dp(){return dn||(dn=document.implementation.createHTMLDocument("title"))}let dq=null,dr={},ds={},dt={touchstart:!0,touchmove:!0};class du{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dv(a,b){a.input.lastSelectionOrigin=b,a.input.lastSelectionTime=Date.now()}function dw(a){a.someProp("handleDOMEvents",b=>{for(let c in b)a.input.eventHandlers[c]||a.dom.addEventListener(c,a.input.eventHandlers[c]=b=>dx(a,b))})}function dx(a,b){return a.someProp("handleDOMEvents",c=>{let d=c[b.type];return!!d&&(d(a,b)||b.defaultPrevented)})}function dy(a){return{left:a.clientX,top:a.clientY}}function dz(a,b,c,d,e){if(-1==d)return!1;let f=a.state.doc.resolve(d);for(let d=f.depth+1;d>0;d--)if(a.someProp(b,b=>d>f.depth?b(a,c,f.nodeAfter,f.before(d),e,!0):b(a,c,f.node(d),f.before(d),e,!1)))return!0;return!1}function dA(a,b,c){if(a.focused||a.focus(),a.state.selection.eq(b))return;let d=a.state.tr.setSelection(b);"pointer"==c&&d.setMeta("pointer",!0),a.dispatch(d)}ds.keydown=(a,b)=>{if((a.input.shiftKey=16==b.keyCode||b.shiftKey,!dD(a,b))&&(a.input.lastKeyCode=b.keyCode,a.input.lastKeyCodeTime=Date.now(),!ch||!cb||13!=b.keyCode))if(229!=b.keyCode&&a.domObserver.forceFlush(),!ce||13!=b.keyCode||b.ctrlKey||b.altKey||b.metaKey)a.someProp("handleKeyDown",c=>c(a,b))||function(a,b){let c,d=b.keyCode,e=(c="",b.ctrlKey&&(c+="c"),b.metaKey&&(c+="m"),b.altKey&&(c+="a"),b.shiftKey&&(c+="s"),c);if(8==d||cf&&72==d&&"c"==e)return de(a,-1)||c9(a,-1);if(46==d&&!b.shiftKey||cf&&68==d&&"c"==e)return de(a,1)||c9(a,1);if(13==d||27==d)return!0;if(37==d||cf&&66==d&&"c"==e){let b=37==d?"ltr"==dc(a,a.state.selection.from)?-1:1:-1;return c6(a,b,e)||c9(a,b)}if(39==d||cf&&70==d&&"c"==e){let b=39==d?"ltr"==dc(a,a.state.selection.from)?1:-1:1;return c6(a,b,e)||c9(a,b)}else if(38==d||cf&&80==d&&"c"==e)return dd(a,-1,e)||c9(a,-1);else if(40==d||cf&&78==d&&"c"==e)return function(a){if(!cd||a.state.selection.$head.parentOffset>0)return!1;let{focusNode:b,focusOffset:c}=a.domSelectionRange();if(b&&1==b.nodeType&&0==c&&b.firstChild&&"false"==b.firstChild.contentEditable){let c=b.firstChild;df(a,c,"true"),setTimeout(()=>df(a,c,"false"),20)}return!1}(a)||dd(a,1,e)||c9(a,1);else if(e==(cf?"m":"c")&&(66==d||73==d||89==d||90==d))return!0;return!1}(a,b)?b.preventDefault():dv(a,"key");else{let b=Date.now();a.input.lastIOSEnter=b,a.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{a.input.lastIOSEnter==b&&(a.someProp("handleKeyDown",b=>b(a,b0(13,"Enter"))),a.input.lastIOSEnter=0)},200)}},ds.keyup=(a,b)=>{16==b.keyCode&&(a.input.shiftKey=!1)},ds.keypress=(a,b)=>{if(dD(a,b)||!b.charCode||b.ctrlKey&&!b.altKey||cf&&b.metaKey)return;if(a.someProp("handleKeyPress",c=>c(a,b)))return void b.preventDefault();let c=a.state.selection;if(!(c instanceof a9)||!c.$from.sameParent(c.$to)){let d=String.fromCharCode(b.charCode),e=()=>a.state.tr.insertText(d).scrollIntoView();/[\r\n]/.test(d)||a.someProp("handleTextInput",b=>b(a,c.$from.pos,c.$to.pos,d,e))||a.dispatch(e()),b.preventDefault()}};let dB=cf?"metaKey":"ctrlKey";dr.mousedown=(a,b)=>{a.input.shiftKey=b.shiftKey;let c=dH(a),d=Date.now(),e="singleClick";d-a.input.lastClick.time<500&&function(a,b){let c=b.x-a.clientX,d=b.y-a.clientY;return c*c+d*d<100}(b,a.input.lastClick)&&!b[dB]&&a.input.lastClick.button==b.button&&("singleClick"==a.input.lastClick.type?e="doubleClick":"doubleClick"==a.input.lastClick.type&&(e="tripleClick")),a.input.lastClick={time:d,x:b.clientX,y:b.clientY,type:e,button:b.button};let f=a.posAtCoords(dy(b));f&&("singleClick"==e?(a.input.mouseDown&&a.input.mouseDown.done(),a.input.mouseDown=new dC(a,f,b,!!c)):("doubleClick"==e?function(a,b,c,d){return dz(a,"handleDoubleClickOn",b,c,d)||a.someProp("handleDoubleClick",c=>c(a,b,d))}:function(a,b,c,d){return dz(a,"handleTripleClickOn",b,c,d)||a.someProp("handleTripleClick",c=>c(a,b,d))||function(a,b,c){if(0!=c.button)return!1;let d=a.state.doc;if(-1==b)return!!d.inlineContent&&(dA(a,a9.create(d,0,d.content.size),"pointer"),!0);let e=d.resolve(b);for(let b=e.depth+1;b>0;b--){let c=b>e.depth?e.nodeAfter:e.node(b),f=e.before(b);if(c.inlineContent)dA(a,a9.create(d,f+1,f+1+c.content.size),"pointer");else{if(!bb.isSelectable(c))continue;dA(a,bb.create(d,f),"pointer")}return!0}}(a,c,d)})(a,f.pos,f.inside,b)?b.preventDefault():dv(a,"pointer"))};class dC{constructor(a,b,c,d){let e,f;if(this.view=a,this.pos=b,this.event=c,this.flushed=d,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=a.state.doc,this.selectNode=!!c[dB],this.allowDefault=c.shiftKey,b.inside>-1)e=a.state.doc.nodeAt(b.inside),f=b.inside;else{let c=a.state.doc.resolve(b.pos);e=c.parent,f=c.depth?c.before():0}let g=d?null:c.target,h=g?a.docView.nearestDesc(g,!0):null;this.target=h&&1==h.nodeDOM.nodeType?h.nodeDOM:null;let{selection:i}=a.state;(0==c.button&&e.type.spec.draggable&&!1!==e.type.spec.selectable||i instanceof bb&&i.from<=f&&i.to>f)&&(this.mightDrag={node:e,pos:f,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&b9&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),a.root.addEventListener("mouseup",this.up=this.up.bind(this)),a.root.addEventListener("mousemove",this.move=this.move.bind(this)),dv(a,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>cW(this.view)),this.view.input.mouseDown=null}up(a){if(this.done(),!this.view.dom.contains(a.target))return;let b=this.pos;if(this.view.state.doc!=this.startDoc&&(b=this.view.posAtCoords(dy(a))),this.updateAllowDefault(a),this.allowDefault||!b)dv(this.view,"pointer");else{var c,d,e,f;(c=this.view,d=b.pos,e=b.inside,f=this.selectNode,dz(c,"handleClickOn",d,e,a)||c.someProp("handleClick",b=>b(c,d,a))||(f?function(a,b){if(-1==b)return!1;let c=a.state.selection,d,e;c instanceof bb&&(d=c.node);let f=a.state.doc.resolve(b);for(let a=f.depth+1;a>0;a--){let b=a>f.depth?f.nodeAfter:f.node(a);if(bb.isSelectable(b)){e=d&&c.$from.depth>0&&a>=c.$from.depth&&f.before(c.$from.depth+1)==c.$from.pos?f.before(c.$from.depth):f.before(a);break}}return null!=e&&(dA(a,bb.create(a.state.doc,e),"pointer"),!0)}(c,e):function(a,b){if(-1==b)return!1;let c=a.state.doc.resolve(b),d=c.nodeAfter;return!!(d&&d.isAtom&&bb.isSelectable(d))&&(dA(a,new bb(c),"pointer"),!0)}(c,e)))?a.preventDefault():0==a.button&&(this.flushed||cd&&this.mightDrag&&!this.mightDrag.node.isAtom||cb&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(b.pos-this.view.state.selection.from),Math.abs(b.pos-this.view.state.selection.to)))?(dA(this.view,a5.near(this.view.state.doc.resolve(b.pos)),"pointer"),a.preventDefault()):dv(this.view,"pointer")}}move(a){this.updateAllowDefault(a),dv(this.view,"pointer"),0==a.buttons&&this.done()}updateAllowDefault(a){!this.allowDefault&&(Math.abs(this.event.x-a.clientX)>4||Math.abs(this.event.y-a.clientY)>4)&&(this.allowDefault=!0)}}function dD(a,b){return!!a.composing||!!(cd&&500>Math.abs(b.timeStamp-a.input.compositionEndedAt))&&(a.input.compositionEndedAt=-2e8,!0)}dr.touchstart=a=>{a.input.lastTouch=Date.now(),dH(a),dv(a,"pointer")},dr.touchmove=a=>{a.input.lastTouch=Date.now(),dv(a,"pointer")},dr.contextmenu=a=>dH(a);let dE=ch?5e3:-1;function dF(a,b){clearTimeout(a.input.composingTimeout),b>-1&&(a.input.composingTimeout=setTimeout(()=>dH(a),b))}function dG(a){let b;for(a.composing&&(a.input.composing=!1,a.input.compositionEndedAt=((b=document.createEvent("Event")).initEvent("event",!0,!0),b.timeStamp));a.input.compositionNodes.length>0;)a.input.compositionNodes.pop().markParentsDirty()}function dH(a,b=!1){if(!ch||!(a.domObserver.flushingSoon>=0)){if(a.domObserver.forceFlush(),dG(a),b||a.docView&&a.docView.dirty){let c=cU(a),d=a.state.selection;return c&&!c.eq(d)?a.dispatch(a.state.tr.setSelection(c)):(a.markCursor||b)&&!d.$from.node(d.$from.sharedDepth(d.to)).inlineContent?a.dispatch(a.state.tr.deleteSelection()):a.updateState(a.state),!0}return!1}}ds.compositionstart=ds.compositionupdate=a=>{if(!a.composing){a.domObserver.flush();let{state:b}=a,c=b.selection.$to;if(b.selection instanceof a9&&(b.storedMarks||!c.textOffset&&c.parentOffset&&c.nodeBefore.marks.some(a=>!1===a.type.spec.inclusive)))a.markCursor=a.state.storedMarks||c.marks(),dH(a,!0),a.markCursor=null;else if(dH(a,!b.selection.empty),b9&&b.selection.empty&&c.parentOffset&&!c.textOffset&&c.nodeBefore.marks.length){let b=a.domSelectionRange();for(let c=b.focusNode,d=b.focusOffset;c&&1==c.nodeType&&0!=d;){let b=d<0?c.lastChild:c.childNodes[d-1];if(!b)break;if(3==b.nodeType){let c=a.domSelection();c&&c.collapse(b,b.nodeValue.length);break}c=b,d=-1}}a.input.composing=!0}dF(a,dE)},ds.compositionend=(a,b)=>{a.composing&&(a.input.composing=!1,a.input.compositionEndedAt=b.timeStamp,a.input.compositionPendingChanges=a.domObserver.pendingRecords().length?a.input.compositionID:0,a.input.compositionNode=null,a.input.compositionPendingChanges&&Promise.resolve().then(()=>a.domObserver.flush()),a.input.compositionID++,dF(a,20))};let dI=b7&&b8<15||ce&&cj<604;function dJ(a,b,c,d,e){let f=dh(a,b,c,d,a.state.selection.$from);if(a.someProp("handlePaste",b=>b(a,e,f||F.empty)))return!0;if(!f)return!1;let g=0==f.openStart&&0==f.openEnd&&1==f.content.childCount?f.content.firstChild:null,h=g?a.state.tr.replaceSelectionWith(g,d):a.state.tr.replaceSelection(f);return a.dispatch(h.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function dK(a){let b=a.getData("text/plain")||a.getData("Text");if(b)return b;let c=a.getData("text/uri-list");return c?c.replace(/\r?\n/g," "):""}dr.copy=ds.cut=(a,b)=>{let c=a.state.selection,d="cut"==b.type;if(c.empty)return;let e=dI?null:b.clipboardData,{dom:f,text:g}=dg(a,c.content());e?(b.preventDefault(),e.clearData(),e.setData("text/html",f.innerHTML),e.setData("text/plain",g)):function(a,b){if(!a.dom.parentNode)return;let c=a.dom.parentNode.appendChild(document.createElement("div"));c.appendChild(b),c.style.cssText="position: fixed; left: -10000px; top: 10px";let d=getSelection(),e=document.createRange();e.selectNodeContents(b),a.dom.blur(),d.removeAllRanges(),d.addRange(e),setTimeout(()=>{c.parentNode&&c.parentNode.removeChild(c),a.focus()},50)}(a,f),d&&a.dispatch(a.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ds.paste=(a,b)=>{if(a.composing&&!ch)return;let c=dI?null:b.clipboardData,d=a.input.shiftKey&&45!=a.input.lastKeyCode;c&&dJ(a,dK(c),c.getData("text/html"),d,b)?b.preventDefault():function(a,b){if(!a.dom.parentNode)return;let c=a.input.shiftKey||a.state.selection.$from.parent.type.spec.code,d=a.dom.parentNode.appendChild(document.createElement(c?"textarea":"div"));c||(d.contentEditable="true"),d.style.cssText="position: fixed; left: -10000px; top: 10px",d.focus();let e=a.input.shiftKey&&45!=a.input.lastKeyCode;setTimeout(()=>{a.focus(),d.parentNode&&d.parentNode.removeChild(d),c?dJ(a,d.value,null,e,b):dJ(a,d.textContent,d.innerHTML,e,b)},50)}(a,b)};class dL{constructor(a,b,c){this.slice=a,this.move=b,this.node=c}}let dM=cf?"altKey":"ctrlKey";function dN(a,b){let c=a.someProp("dragCopies",a=>!a(b));return null!=c?c:!b[dM]}for(let a in dr.dragstart=(a,b)=>{let c,d=a.input.mouseDown;if(d&&d.done(),!b.dataTransfer)return;let e=a.state.selection,f=e.empty?null:a.posAtCoords(dy(b));if(f&&f.pos>=e.from&&f.pos<=(e instanceof bb?e.to-1:e.to));else if(d&&d.mightDrag)c=bb.create(a.state.doc,d.mightDrag.pos);else if(b.target&&1==b.target.nodeType){let d=a.docView.nearestDesc(b.target,!0);d&&d.node.type.spec.draggable&&d!=a.docView&&(c=bb.create(a.state.doc,d.posBefore))}let g=(c||a.state.selection).content(),{dom:h,text:i,slice:j}=dg(a,g);b.dataTransfer.files.length&&cb&&!(cc>120)||b.dataTransfer.clearData(),b.dataTransfer.setData(dI?"Text":"text/html",h.innerHTML),b.dataTransfer.effectAllowed="copyMove",dI||b.dataTransfer.setData("text/plain",i),a.dragging=new dL(j,dN(a,b),c)},dr.dragend=a=>{let b=a.dragging;window.setTimeout(()=>{a.dragging==b&&(a.dragging=null)},50)},ds.dragover=ds.dragenter=(a,b)=>b.preventDefault(),ds.drop=(a,b)=>{let c=a.dragging;if(a.dragging=null,!b.dataTransfer)return;let d=a.posAtCoords(dy(b));if(!d)return;let e=a.state.doc.resolve(d.pos),f=c&&c.slice;f?a.someProp("transformPasted",b=>{f=b(f,a,!1)}):f=dh(a,dK(b.dataTransfer),dI?null:b.dataTransfer.getData("text/html"),!1,e);let g=!!(c&&dN(a,b));if(a.someProp("handleDrop",c=>c(a,b,f||F.empty,g)))return void b.preventDefault();if(!f)return;b.preventDefault();let h=f?aT(a.state.doc,e.pos,f):e.pos;null==h&&(h=e.pos);let i=a.state.tr;if(g){let{node:a}=c;a?a.replace(i):i.deleteSelection()}let j=i.mapping.map(h),k=0==f.openStart&&0==f.openEnd&&1==f.content.childCount,l=i.doc;if(k?i.replaceRangeWith(j,j,f.content.firstChild):i.replaceRange(j,j,f),i.doc.eq(l))return;let m=i.doc.resolve(j);if(k&&bb.isSelectable(f.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(f.content.firstChild))i.setSelection(new bb(m));else{let b=i.mapping.map(h);i.mapping.maps[i.mapping.maps.length-1].forEach((a,c,d,e)=>b=e),i.setSelection(c1(a,m,i.doc.resolve(b)))}a.focus(),a.dispatch(i.setMeta("uiEvent","drop"))},dr.focus=a=>{a.input.lastFocus=Date.now(),a.focused||(a.domObserver.stop(),a.dom.classList.add("ProseMirror-focused"),a.domObserver.start(),a.focused=!0,setTimeout(()=>{a.docView&&a.hasFocus()&&!a.domObserver.currentSelection.eq(a.domSelectionRange())&&cW(a)},20))},dr.blur=(a,b)=>{a.focused&&(a.domObserver.stop(),a.dom.classList.remove("ProseMirror-focused"),a.domObserver.start(),b.relatedTarget&&a.dom.contains(b.relatedTarget)&&a.domObserver.currentSelection.clear(),a.focused=!1)},dr.beforeinput=(a,b)=>{if(cb&&ch&&"deleteContentBackward"==b.inputType){a.domObserver.flushSoon();let{domChangeCount:b}=a.input;setTimeout(()=>{if(a.input.domChangeCount!=b||(a.dom.blur(),a.focus(),a.someProp("handleKeyDown",b=>b(a,b0(8,"Backspace")))))return;let{$cursor:c}=a.state.selection;c&&c.pos>0&&a.dispatch(a.state.tr.delete(c.pos-1,c.pos).scrollIntoView())},50)}},ds)dr[a]=ds[a];function dO(a,b){if(a==b)return!0;for(let c in a)if(a[c]!==b[c])return!1;for(let c in b)if(!(c in a))return!1;return!0}class dP{constructor(a,b){this.toDOM=a,this.spec=b||dU,this.side=this.spec.side||0}map(a,b,c,d){let{pos:e,deleted:f}=a.mapResult(b.from+d,this.side<0?-1:1);return f?null:new dS(e-c,e-c,this)}valid(){return!0}eq(a){return this==a||a instanceof dP&&(this.spec.key&&this.spec.key==a.spec.key||this.toDOM==a.toDOM&&dO(this.spec,a.spec))}destroy(a){this.spec.destroy&&this.spec.destroy(a)}}class dQ{constructor(a,b){this.attrs=a,this.spec=b||dU}map(a,b,c,d){let e=a.map(b.from+d,this.spec.inclusiveStart?-1:1)-c,f=a.map(b.to+d,this.spec.inclusiveEnd?1:-1)-c;return e>=f?null:new dS(e,f,this)}valid(a,b){return b.from<b.to}eq(a){return this==a||a instanceof dQ&&dO(this.attrs,a.attrs)&&dO(this.spec,a.spec)}static is(a){return a.type instanceof dQ}destroy(){}}class dR{constructor(a,b){this.attrs=a,this.spec=b||dU}map(a,b,c,d){let e=a.mapResult(b.from+d,1);if(e.deleted)return null;let f=a.mapResult(b.to+d,-1);return f.deleted||f.pos<=e.pos?null:new dS(e.pos-c,f.pos-c,this)}valid(a,b){let{index:c,offset:d}=a.content.findIndex(b.from),e;return d==b.from&&!(e=a.child(c)).isText&&d+e.nodeSize==b.to}eq(a){return this==a||a instanceof dR&&dO(this.attrs,a.attrs)&&dO(this.spec,a.spec)}destroy(){}}class dS{constructor(a,b,c){this.from=a,this.to=b,this.type=c}copy(a,b){return new dS(a,b,this.type)}eq(a,b=0){return this.type.eq(a.type)&&this.from+b==a.from&&this.to+b==a.to}map(a,b,c){return this.type.map(a,this,b,c)}static widget(a,b,c){return new dS(a,a,new dP(b,c))}static inline(a,b,c,d){return new dS(a,b,new dQ(c,d))}static node(a,b,c,d){return new dS(a,b,new dR(c,d))}get spec(){return this.type.spec}get inline(){return this.type instanceof dQ}get widget(){return this.type instanceof dP}}let dT=[],dU={};class dV{constructor(a,b){this.local=a.length?a:dT,this.children=b.length?b:dT}static create(a,b){return b.length?d_(b,a,0,dU):dW}find(a,b,c){let d=[];return this.findInner(null==a?0:a,null==b?1e9:b,d,0,c),d}findInner(a,b,c,d,e){for(let f=0;f<this.local.length;f++){let g=this.local[f];g.from<=b&&g.to>=a&&(!e||e(g.spec))&&c.push(g.copy(g.from+d,g.to+d))}for(let f=0;f<this.children.length;f+=3)if(this.children[f]<b&&this.children[f+1]>a){let g=this.children[f]+1;this.children[f+2].findInner(a-g,b-g,c,d+g,e)}}map(a,b,c){return this==dW||0==a.maps.length?this:this.mapInner(a,b,0,0,c||dU)}mapInner(a,b,c,d,e){let f;for(let g=0;g<this.local.length;g++){let h=this.local[g].map(a,c,d);h&&h.type.valid(b,h)?(f||(f=[])).push(h):e.onRemove&&e.onRemove(this.local[g].spec)}return this.children.length?function(a,b,c,d,e,f,g){let h=a.slice();for(let a=0,b=f;a<c.maps.length;a++){let d=0;c.maps[a].forEach((a,c,e,f)=>{let g=f-e-(c-a);for(let e=0;e<h.length;e+=3){let f=h[e+1];if(f<0||a>f+b-d)continue;let i=h[e]+b-d;c>=i?h[e+1]=a<=i?-2:-1:a>=b&&g&&(h[e]+=g,h[e+1]+=g)}d+=g}),b=c.maps[a].map(b,-1)}let i=!1;for(let b=0;b<h.length;b+=3)if(h[b+1]<0){if(-2==h[b+1]){i=!0,h[b+1]=-1;continue}let j=c.map(a[b]+f),k=j-e;if(k<0||k>=d.content.size){i=!0;continue}let l=c.map(a[b+1]+f,-1)-e,{index:m,offset:n}=d.content.findIndex(k),o=d.maybeChild(m);if(o&&n==k&&n+o.nodeSize==l){let d=h[b+2].mapInner(c,o,j+1,a[b]+f+1,g);d!=dW?(h[b]=k,h[b+1]=l,h[b+2]=d):(h[b+1]=-2,i=!0)}else i=!0}if(i){let i=d_(function(a,b,c,d,e,f,g){for(let h=0;h<a.length;h+=3)-1==a[h+1]&&function a(b,f){for(let a=0;a<b.local.length;a++){let h=b.local[a].map(d,e,f);h?c.push(h):g.onRemove&&g.onRemove(b.local[a].spec)}for(let c=0;c<b.children.length;c+=3)a(b.children[c+2],b.children[c]+f+1)}(a[h+2],b[h]+f+1);return c}(h,a,b,c,e,f,g),d,0,g);b=i.local;for(let a=0;a<h.length;a+=3)h[a+1]<0&&(h.splice(a,3),a-=3);for(let a=0,b=0;a<i.children.length;a+=3){let c=i.children[a];for(;b<h.length&&h[b]<c;)b+=3;h.splice(b,0,i.children[a],i.children[a+1],i.children[a+2])}}return new dV(b.sort(d0),h)}(this.children,f||[],a,b,c,d,e):f?new dV(f.sort(d0),dT):dW}add(a,b){return b.length?this==dW?dV.create(a,b):this.addInner(a,b,0):this}addInner(a,b,c){let d,e=0;a.forEach((a,f)=>{let g=f+c,h;if(h=dZ(b,a,g)){for(d||(d=this.children.slice());e<d.length&&d[e]<f;)e+=3;d[e]==f?d[e+2]=d[e+2].addInner(a,h,g+1):d.splice(e,0,f,f+a.nodeSize,d_(h,a,g+1,dU)),e+=3}});let f=dY(e?d$(b):b,-c);for(let b=0;b<f.length;b++)f[b].type.valid(a,f[b])||f.splice(b--,1);return new dV(f.length?this.local.concat(f).sort(d0):this.local,d||this.children)}remove(a){return 0==a.length||this==dW?this:this.removeInner(a,0)}removeInner(a,b){let c=this.children,d=this.local;for(let d=0;d<c.length;d+=3){let e,f=c[d]+b,g=c[d+1]+b;for(let b=0,c;b<a.length;b++)(c=a[b])&&c.from>f&&c.to<g&&(a[b]=null,(e||(e=[])).push(c));if(!e)continue;c==this.children&&(c=this.children.slice());let h=c[d+2].removeInner(e,f+1);h!=dW?c[d+2]=h:(c.splice(d,3),d-=3)}if(d.length){for(let c=0,e;c<a.length;c++)if(e=a[c])for(let a=0;a<d.length;a++)d[a].eq(e,b)&&(d==this.local&&(d=this.local.slice()),d.splice(a--,1))}return c==this.children&&d==this.local?this:d.length||c.length?new dV(d,c):dW}forChild(a,b){let c,d;if(this==dW)return this;if(b.isLeaf)return dV.empty;for(let b=0;b<this.children.length;b+=3)if(this.children[b]>=a){this.children[b]==a&&(c=this.children[b+2]);break}let e=a+1,f=e+b.content.size;for(let a=0;a<this.local.length;a++){let b=this.local[a];if(b.from<f&&b.to>e&&b.type instanceof dQ){let a=Math.max(e,b.from)-e,c=Math.min(f,b.to)-e;a<c&&(d||(d=[])).push(b.copy(a,c))}}if(d){let a=new dV(d.sort(d0),dT);return c?new dX([a,c]):a}return c||dW}eq(a){if(this==a)return!0;if(!(a instanceof dV)||this.local.length!=a.local.length||this.children.length!=a.children.length)return!1;for(let b=0;b<this.local.length;b++)if(!this.local[b].eq(a.local[b]))return!1;for(let b=0;b<this.children.length;b+=3)if(this.children[b]!=a.children[b]||this.children[b+1]!=a.children[b+1]||!this.children[b+2].eq(a.children[b+2]))return!1;return!0}locals(a){return d1(this.localsInner(a))}localsInner(a){if(this==dW)return dT;if(a.inlineContent||!this.local.some(dQ.is))return this.local;let b=[];for(let a=0;a<this.local.length;a++)this.local[a].type instanceof dQ||b.push(this.local[a]);return b}forEachSet(a){a(this)}}dV.empty=new dV([],[]),dV.removeOverlap=d1;let dW=dV.empty;class dX{constructor(a){this.members=a}map(a,b){let c=this.members.map(c=>c.map(a,b,dU));return dX.from(c)}forChild(a,b){if(b.isLeaf)return dV.empty;let c=[];for(let d=0;d<this.members.length;d++){let e=this.members[d].forChild(a,b);e!=dW&&(e instanceof dX?c=c.concat(e.members):c.push(e))}return dX.from(c)}eq(a){if(!(a instanceof dX)||a.members.length!=this.members.length)return!1;for(let b=0;b<this.members.length;b++)if(!this.members[b].eq(a.members[b]))return!1;return!0}locals(a){let b,c=!0;for(let d=0;d<this.members.length;d++){let e=this.members[d].localsInner(a);if(e.length)if(b){c&&(b=b.slice(),c=!1);for(let a=0;a<e.length;a++)b.push(e[a])}else b=e}return b?d1(c?b:b.sort(d0)):dT}static from(a){switch(a.length){case 0:return dW;case 1:return a[0];default:return new dX(a.every(a=>a instanceof dV)?a:a.reduce((a,b)=>a.concat(b instanceof dV?b:b.members),[]))}}forEachSet(a){for(let b=0;b<this.members.length;b++)this.members[b].forEachSet(a)}}function dY(a,b){if(!b||!a.length)return a;let c=[];for(let d=0;d<a.length;d++){let e=a[d];c.push(new dS(e.from+b,e.to+b,e.type))}return c}function dZ(a,b,c){if(b.isLeaf)return null;let d=c+b.nodeSize,e=null;for(let b=0,f;b<a.length;b++)(f=a[b])&&f.from>c&&f.to<d&&((e||(e=[])).push(f),a[b]=null);return e}function d$(a){let b=[];for(let c=0;c<a.length;c++)null!=a[c]&&b.push(a[c]);return b}function d_(a,b,c,d){let e=[],f=!1;b.forEach((b,g)=>{let h=dZ(a,b,g+c);if(h){f=!0;let a=d_(h,b,c+g+1,d);a!=dW&&e.push(g,g+b.nodeSize,a)}});let g=dY(f?d$(a):a,-c).sort(d0);for(let a=0;a<g.length;a++)g[a].type.valid(b,g[a])||(d.onRemove&&d.onRemove(g[a].spec),g.splice(a--,1));return g.length||e.length?new dV(g,e):dW}function d0(a,b){return a.from-b.from||a.to-b.to}function d1(a){let b=a;for(let c=0;c<b.length-1;c++){let d=b[c];if(d.from!=d.to)for(let e=c+1;e<b.length;e++){let f=b[e];if(f.from==d.from){f.to!=d.to&&(b==a&&(b=a.slice()),b[e]=f.copy(f.from,d.to),d2(b,e+1,f.copy(d.to,f.to)));continue}f.from<d.to&&(b==a&&(b=a.slice()),b[c]=d.copy(d.from,f.from),d2(b,e,d.copy(f.from,d.to)));break}}return b}function d2(a,b,c){for(;b<a.length&&d0(c,a[b])>0;)b++;a.splice(b,0,c)}function d3(a){let b=[];return a.someProp("decorations",c=>{let d=c(a.state);d&&d!=dW&&b.push(d)}),a.cursorWrapper&&b.push(dV.create(a.state.doc,[a.cursorWrapper.deco])),dX.from(b)}let d4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},d5=b7&&b8<=11;class d6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(a){this.anchorNode=a.anchorNode,this.anchorOffset=a.anchorOffset,this.focusNode=a.focusNode,this.focusOffset=a.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(a){return a.anchorNode==this.anchorNode&&a.anchorOffset==this.anchorOffset&&a.focusNode==this.focusNode&&a.focusOffset==this.focusOffset}}class d7{constructor(a,b){this.view=a,this.handleDOMChange=b,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new d6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(a=>{for(let b=0;b<a.length;b++)this.queue.push(a[b]);b7&&b8<=11&&a.some(a=>"childList"==a.type&&a.removedNodes.length||"characterData"==a.type&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),d5&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,d4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let a=this.observer.takeRecords();if(a.length){for(let b=0;b<a.length;b++)this.queue.push(a[b]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(c2(this.view)){if(this.suppressingSelectionUpdates)return cW(this.view);if(b7&&b8<=11&&!this.view.state.selection.empty){let a=this.view.domSelectionRange();if(a.focusNode&&bW(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(a){if(!a.focusNode)return!0;let b=new Set,c;for(let c=a.focusNode;c;c=bS(c))b.add(c);for(let d=a.anchorNode;d;d=bS(d))if(b.has(d)){c=d;break}let d=c&&this.view.docView.nearestDesc(c);if(d&&d.ignoreMutation({type:"selection",target:3==c.nodeType?c.parentNode:c}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let a of this.observer.takeRecords())this.queue.push(a);return this.queue}flush(){var a;let{view:b}=this;if(!b.docView||this.flushingSoon>-1)return;let c=this.pendingRecords();c.length&&(this.queue=[]);let d=b.domSelectionRange(),e=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(d)&&c2(b)&&!this.ignoreSelectionChange(d),f=-1,g=-1,h=!1,i=[];if(b.editable)for(let a=0;a<c.length;a++){let b=this.registerMutation(c[a],i);b&&(f=f<0?b.from:Math.min(b.from,f),g=g<0?b.to:Math.max(b.to,g),b.typeOver&&(h=!0))}if(b9&&i.length){let a=i.filter(a=>"BR"==a.nodeName);if(2==a.length){let[b,c]=a;b.parentNode&&b.parentNode.parentNode==c.parentNode?c.remove():b.remove()}else{let{focusNode:c}=this.currentSelection;for(let d of a){let a=d.parentNode;a&&"LI"==a.nodeName&&(!c||function(a,b){for(let c=b.parentNode;c&&c!=a.dom;c=c.parentNode){let b=a.docView.nearestDesc(c,!0);if(b&&b.node.isBlock)return c}return null}(b,c)!=a)&&d.remove()}}}let j=null;f<0&&e&&b.input.lastFocus>Date.now()-200&&Math.max(b.input.lastTouch,b.input.lastClick.time)<Date.now()-300&&b_(d)&&(j=cU(b))&&j.eq(a5.near(b.state.doc.resolve(0),1))?(b.input.lastFocus=0,cW(b),this.currentSelection.set(d),b.scrollToSelection()):(f>-1||e)&&(f>-1&&(b.docView.markDirty(f,g),a=b,!d8.has(a)&&(d8.set(a,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(a.dom).whiteSpace))&&(a.requiresGeckoHackNode=b9,d9||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),d9=!0))),this.handleDOMChange(f,g,h,i),b.docView&&b.docView.dirty?b.updateState(b.state):this.currentSelection.eq(d)||cW(b),this.currentSelection.set(d))}registerMutation(a,b){if(b.indexOf(a.target)>-1)return null;let c=this.view.docView.nearestDesc(a.target);if("attributes"==a.type&&(c==this.view.docView||"contenteditable"==a.attributeName||"style"==a.attributeName&&!a.oldValue&&!a.target.getAttribute("style"))||!c||c.ignoreMutation(a))return null;if("childList"==a.type){for(let c=0;c<a.addedNodes.length;c++){let d=a.addedNodes[c];b.push(d),3==d.nodeType&&(this.lastChangedTextNode=d)}if(c.contentDOM&&c.contentDOM!=c.dom&&!c.contentDOM.contains(a.target))return{from:c.posBefore,to:c.posAfter};let d=a.previousSibling,e=a.nextSibling;if(b7&&b8<=11&&a.addedNodes.length)for(let b=0;b<a.addedNodes.length;b++){let{previousSibling:c,nextSibling:f}=a.addedNodes[b];(!c||0>Array.prototype.indexOf.call(a.addedNodes,c))&&(d=c),(!f||0>Array.prototype.indexOf.call(a.addedNodes,f))&&(e=f)}let f=d&&d.parentNode==a.target?bR(d)+1:0,g=c.localPosFromDOM(a.target,f,-1),h=e&&e.parentNode==a.target?bR(e):a.target.childNodes.length;return{from:g,to:c.localPosFromDOM(a.target,h,1)}}return"attributes"==a.type?{from:c.posAtStart-c.border,to:c.posAtEnd+c.border}:(this.lastChangedTextNode=a.target,{from:c.posAtStart,to:c.posAtEnd,typeOver:a.target.nodeValue==a.oldValue})}}let d8=new WeakMap,d9=!1;function ea(a,b){let c=b.startContainer,d=b.startOffset,e=b.endContainer,f=b.endOffset,g=a.domAtPos(a.state.selection.anchor);return bW(g.node,g.offset,e,f)&&([c,d,e,f]=[e,f,c,d]),{anchorNode:c,anchorOffset:d,focusNode:e,focusOffset:f}}function eb(a){let b=a.pmViewDesc;if(b)return b.parseRule();if("BR"==a.nodeName&&a.parentNode){if(cd&&/^(ul|ol)$/i.test(a.parentNode.nodeName)){let a=document.createElement("div");return a.appendChild(document.createElement("li")),{skip:a}}else if(a.parentNode.lastChild==a||cd&&/^(tr|table)$/i.test(a.parentNode.nodeName))return{ignore:!0}}else if("IMG"==a.nodeName&&a.getAttribute("mark-placeholder"))return{ignore:!0};return null}let ec=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ed(a,b,c){return Math.max(c.anchor,c.head)>b.content.size?null:c1(a,b.resolve(c.anchor),b.resolve(c.head))}function ee(a,b,c){let d=a.depth,e=b?a.end():a.pos;for(;d>0&&(b||a.indexAfter(d)==a.node(d).childCount);)d--,e++,b=!1;if(c){let b=a.node(d).maybeChild(a.indexAfter(d));for(;b&&!b.isLeaf;)b=b.firstChild,e++}return e}function ef(a){if(2!=a.length)return!1;let b=a.charCodeAt(0),c=a.charCodeAt(1);return b>=56320&&b<=57343&&c>=55296&&c<=56319}class eg{constructor(a,b){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new du,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=b,this.state=b.state,this.directPlugins=b.plugins||[],this.directPlugins.forEach(el),this.dispatch=this.dispatch.bind(this),this.dom=a&&a.mount||document.createElement("div"),a&&(a.appendChild?a.appendChild(this.dom):"function"==typeof a?a(this.dom):a.mount&&(this.mounted=!0)),this.editable=ej(this),ei(this),this.nodeViews=ek(this),this.docView=cG(this.state.doc,eh(this),d3(this),this.dom,this),this.domObserver=new d7(this,(a,b,c,d)=>(function(a,b,c,d,e){let f,g,h,i=a.input.compositionPendingChanges||(a.composing?a.input.compositionID:0);if(a.input.compositionPendingChanges=0,b<0){let b=a.input.lastSelectionTime>Date.now()-50?a.input.lastSelectionOrigin:null,c=cU(a,b);if(c&&!a.state.selection.eq(c)){if(cb&&ch&&13===a.input.lastKeyCode&&Date.now()-100<a.input.lastKeyCodeTime&&a.someProp("handleKeyDown",b=>b(a,b0(13,"Enter"))))return;let d=a.state.tr.setSelection(c);"pointer"==b?d.setMeta("pointer",!0):"key"==b&&d.scrollIntoView(),i&&d.setMeta("composition",i),a.dispatch(d)}return}let j=a.state.doc.resolve(b),k=j.sharedDepth(c);b=j.before(k+1),c=a.state.doc.resolve(c).after(k+1);let l=a.state.selection,m=function(a,b,c){let d,{node:e,fromOffset:f,toOffset:g,from:h,to:i}=a.docView.parseRange(b,c),j=a.domSelectionRange(),k=j.anchorNode;if(k&&a.dom.contains(1==k.nodeType?k:k.parentNode)&&(d=[{node:k,offset:j.anchorOffset}],b_(j)||d.push({node:j.focusNode,offset:j.focusOffset})),cb&&8===a.input.lastKeyCode)for(let a=g;a>f;a--){let b=e.childNodes[a-1],c=b.pmViewDesc;if("BR"==b.nodeName&&!c){g=a;break}if(!c||c.size)break}let l=a.state.doc,m=a.someProp("domParser")||ah.fromSchema(a.state.schema),n=l.resolve(h),o=null,p=m.parse(e,{topNode:n.parent,topMatch:n.parent.contentMatchAt(n.index()),topOpen:!0,from:f,to:g,preserveWhitespace:"pre"!=n.parent.type.whitespace||"full",findPositions:d,ruleFromNode:eb,context:n});if(d&&null!=d[0].pos){let a=d[0].pos,b=d[1]&&d[1].pos;null==b&&(b=a),o={anchor:a+h,head:b+h}}return{doc:p,sel:o,from:h,to:i}}(a,b,c),n=a.state.doc,o=n.slice(m.from,m.to);8===a.input.lastKeyCode&&Date.now()-100<a.input.lastKeyCodeTime?(f=a.state.selection.to,g="end"):(f=a.state.selection.from,g="start"),a.input.lastKeyCode=null;let p=function(a,b,c,d,e){let f=a.findDiffStart(b,c);if(null==f)return null;let{a:g,b:h}=a.findDiffEnd(b,c+a.size,c+b.size);if("end"==e){let a=Math.max(0,f-Math.min(g,h));d-=g+a-f}if(g<f&&a.size<b.size){let a=d<=f&&d>=g?f-d:0;(f-=a)&&f<b.size&&ef(b.textBetween(f-1,f+1))&&(f+=a?1:-1),h=f+(h-g),g=f}else if(h<f){let b=d<=f&&d>=h?f-d:0;(f-=b)&&f<a.size&&ef(a.textBetween(f-1,f+1))&&(f+=b?1:-1),g=f+(g-h),h=f}return{start:f,endA:g,endB:h}}(o.content,m.doc.content,m.from,f,g);if(p&&a.input.domChangeCount++,(ce&&a.input.lastIOSEnter>Date.now()-225||ch)&&e.some(a=>1==a.nodeType&&!ec.test(a.nodeName))&&(!p||p.endA>=p.endB)&&a.someProp("handleKeyDown",b=>b(a,b0(13,"Enter")))){a.input.lastIOSEnter=0;return}if(!p)if(d&&l instanceof a9&&!l.empty&&l.$head.sameParent(l.$anchor)&&!a.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(m.sel){let b=ed(a,a.state.doc,m.sel);if(b&&!b.eq(a.state.selection)){let c=a.state.tr.setSelection(b);i&&c.setMeta("composition",i),a.dispatch(c)}}return}a.state.selection.from<a.state.selection.to&&p.start==p.endB&&a.state.selection instanceof a9&&(p.start>a.state.selection.from&&p.start<=a.state.selection.from+2&&a.state.selection.from>=m.from?p.start=a.state.selection.from:p.endA<a.state.selection.to&&p.endA>=a.state.selection.to-2&&a.state.selection.to<=m.to&&(p.endB+=a.state.selection.to-p.endA,p.endA=a.state.selection.to)),b7&&b8<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>m.from&&" "==m.doc.textBetween(p.start-m.from-1,p.start-m.from+1)&&(p.start--,p.endA--,p.endB--);let q=m.doc.resolveNoCache(p.start-m.from),r=m.doc.resolveNoCache(p.endB-m.from),s=n.resolve(p.start),t=q.sameParent(r)&&q.parent.inlineContent&&s.end()>=p.endA;if((ce&&a.input.lastIOSEnter>Date.now()-225&&(!t||e.some(a=>"DIV"==a.nodeName||"P"==a.nodeName))||!t&&q.pos<m.doc.content.size&&(!q.sameParent(r)||!q.parent.inlineContent)&&q.pos<r.pos&&!/\S/.test(m.doc.textBetween(q.pos,r.pos,"","")))&&a.someProp("handleKeyDown",b=>b(a,b0(13,"Enter")))){a.input.lastIOSEnter=0;return}if(a.state.selection.anchor>p.start&&function(a,b,c,d,e){if(c-b<=e.pos-d.pos||ee(d,!0,!1)<e.pos)return!1;let f=a.resolve(b);if(!d.parent.isTextblock){let a=f.nodeAfter;return null!=a&&c==b+a.nodeSize}if(f.parentOffset<f.parent.content.size||!f.parent.isTextblock)return!1;let g=a.resolve(ee(f,!0,!0));return!(!g.parent.isTextblock||g.pos>c||ee(g,!0,!1)<c)&&d.parent.content.cut(d.parentOffset).eq(g.parent.content)}(n,p.start,p.endA,q,r)&&a.someProp("handleKeyDown",b=>b(a,b0(8,"Backspace")))){ch&&cb&&a.domObserver.suppressSelectionUpdates();return}cb&&p.endB==p.start&&(a.input.lastChromeDelete=Date.now()),ch&&!t&&q.start()!=r.start()&&0==r.parentOffset&&q.depth==r.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==p.endA&&(p.endB-=2,r=m.doc.resolveNoCache(p.endB-m.from),setTimeout(()=>{a.someProp("handleKeyDown",function(b){return b(a,b0(13,"Enter"))})},20));let u=p.start,v=p.endA,w=b=>{let c=b||a.state.tr.replace(u,v,m.doc.slice(p.start-m.from,p.endB-m.from));if(m.sel){let b=ed(a,c.doc,m.sel);b&&!(cb&&a.composing&&b.empty&&(p.start!=p.endB||a.input.lastChromeDelete<Date.now()-100)&&(b.head==u||b.head==c.mapping.map(v)-1)||b7&&b.empty&&b.head==u)&&c.setSelection(b)}return i&&c.setMeta("composition",i),c.scrollIntoView()};if(t)if(q.pos==r.pos){b7&&b8<=11&&0==q.parentOffset&&(a.domObserver.suppressSelectionUpdates(),setTimeout(()=>cW(a),20));let b=w(a.state.tr.delete(u,v)),c=n.resolve(p.start).marksAcross(n.resolve(p.endA));c&&b.ensureMarks(c),a.dispatch(b)}else if(p.endA==p.endB&&(h=function(a,b){let c=a.firstChild.marks,d=b.firstChild.marks,e=c,f=d,g,h,i;for(let a=0;a<d.length;a++)e=d[a].removeFromSet(e);for(let a=0;a<c.length;a++)f=c[a].removeFromSet(f);if(1==e.length&&0==f.length)h=e[0],g="add",i=a=>a.mark(h.addToSet(a.marks));else{if(0!=e.length||1!=f.length)return null;h=f[0],g="remove",i=a=>a.mark(h.removeFromSet(a.marks))}let j=[];for(let a=0;a<b.childCount;a++)j.push(i(b.child(a)));if(z.from(j).eq(a))return{mark:h,type:g}}(q.parent.content.cut(q.parentOffset,r.parentOffset),s.parent.content.cut(s.parentOffset,p.endA-s.start())))){let b=w(a.state.tr);"add"==h.type?b.addMark(u,v,h.mark):b.removeMark(u,v,h.mark),a.dispatch(b)}else if(q.parent.child(q.index()).isText&&q.index()==r.index()-!r.textOffset){let b=q.parent.textBetween(q.parentOffset,r.parentOffset),c=()=>w(a.state.tr.insertText(b,u,v));a.someProp("handleTextInput",d=>d(a,u,v,b,c))||a.dispatch(c())}else a.dispatch(w());else a.dispatch(w())})(this,a,b,c,d)),this.domObserver.start(),function(a){for(let b in dr){let c=dr[b];a.dom.addEventListener(b,a.input.eventHandlers[b]=b=>{!function(a,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;for(let c=b.target;c!=a.dom;c=c.parentNode)if(!c||11==c.nodeType||c.pmViewDesc&&c.pmViewDesc.stopEvent(b))return!1;return!0}(a,b)||dx(a,b)||!a.editable&&b.type in ds||c(a,b)},dt[b]?{passive:!0}:void 0)}cd&&a.dom.addEventListener("input",()=>null),dw(a)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let a=this._props;for(let b in this._props={},a)this._props[b]=a[b];this._props.state=this.state}return this._props}update(a){a.handleDOMEvents!=this._props.handleDOMEvents&&dw(this);let b=this._props;this._props=a,a.plugins&&(a.plugins.forEach(el),this.directPlugins=a.plugins),this.updateStateInner(a.state,b)}setProps(a){let b={};for(let a in this._props)b[a]=this._props[a];for(let c in b.state=this.state,a)b[c]=a[c];this.update(b)}updateState(a){this.updateStateInner(a,this._props)}updateStateInner(a,b){var c,d,e;let f=this.state,g=!1,h=!1;a.storedMarks&&this.composing&&(dG(this),h=!0),this.state=a;let i=f.plugins!=a.plugins||this._props.plugins!=b.plugins;if(i||this._props.plugins!=b.plugins||this._props.nodeViews!=b.nodeViews){let a=ek(this);(function(a,b){let c=0,d=0;for(let d in a){if(a[d]!=b[d])return!0;c++}for(let a in b)d++;return c!=d})(a,this.nodeViews)&&(this.nodeViews=a,g=!0)}(i||b.handleDOMEvents!=this._props.handleDOMEvents)&&dw(this),this.editable=ej(this),ei(this);let j=d3(this),k=eh(this),l=f.plugins==a.plugins||f.doc.eq(a.doc)?a.scrollToSelection>f.scrollToSelection?"to selection":"preserve":"reset",m=g||!this.docView.matchesNode(a.doc,k,j);(m||!a.selection.eq(f.selection))&&(h=!0);let n="preserve"==l&&h&&null==this.dom.style.overflowAnchor&&function(a){let b,c,d=a.dom.getBoundingClientRect(),e=Math.max(0,d.top);for(let f=(d.left+d.right)/2,g=e+1;g<Math.min(innerHeight,d.bottom);g+=5){let d=a.root.elementFromPoint(f,g);if(!d||d==a.dom||!a.dom.contains(d))continue;let h=d.getBoundingClientRect();if(h.top>=e-20){b=d,c=h.top;break}}return{refDOM:b,refTop:c,stack:cm(a.dom)}}(this);if(h){let b,c,h;this.domObserver.stop();let i=m&&(b7||cb)&&!this.composing&&!f.selection.empty&&!a.selection.empty&&(d=f.selection,e=a.selection,h=Math.min(d.$anchor.sharedDepth(d.head),e.$anchor.sharedDepth(e.head)),d.$anchor.start(h)!=e.$anchor.start(h));if(m){let b=cb?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(a){let b=a.domSelectionRange();if(!b.focusNode)return null;let c=function(a,b){for(;;){if(3==a.nodeType&&b)return a;if(1==a.nodeType&&b>0){if("false"==a.contentEditable)return null;b=bZ(a=a.childNodes[b-1])}else{if(!a.parentNode||b$(a))return null;b=bR(a),a=a.parentNode}}}(b.focusNode,b.focusOffset),d=function(a,b){for(;;){if(3==a.nodeType&&b<a.nodeValue.length)return a;if(1==a.nodeType&&b<a.childNodes.length){if("false"==a.contentEditable)return null;a=a.childNodes[b],b=0}else{if(!a.parentNode||b$(a))return null;b=bR(a)+1,a=a.parentNode}}}(b.focusNode,b.focusOffset);if(c&&d&&c!=d){let b=d.pmViewDesc,e=a.domObserver.lastChangedTextNode;if(c==e||d==e)return e;if(!b||!b.isText(d.nodeValue))return d;if(a.input.compositionNode==d){let a=c.pmViewDesc;if(!(!a||!a.isText(c.nodeValue)))return d}}return c||d}(this)),(g||!this.docView.update(a.doc,k,j,this))&&(this.docView.updateOuterDeco(k),this.docView.destroy(),this.docView=cG(a.doc,k,j,this.dom,this)),b&&!this.trackWrites&&(i=!0)}i||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(b=this.docView.domFromPos(this.state.selection.anchor,0),c=this.domSelectionRange(),bW(b.node,b.offset,c.anchorNode,c.anchorOffset)))?cW(this,i):(c_(this,a.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(f),(null==(c=this.dragging)?void 0:c.node)&&!f.doc.eq(a.doc)&&this.updateDraggedNode(this.dragging,f),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():n&&function({refDOM:a,refTop:b,stack:c}){let d=a?a.getBoundingClientRect().top:0;cn(c,0==d?0:d-b)}(n)}scrollToSelection(){let a=this.domSelectionRange().focusNode;if(a&&this.dom.contains(1==a.nodeType?a:a.parentNode))if(this.someProp("handleScrollToSelection",a=>a(this)));else if(this.state.selection instanceof bb){let b=this.docView.domAfterPos(this.state.selection.from);1==b.nodeType&&cl(this,b.getBoundingClientRect(),a)}else cl(this,this.coordsAtPos(this.state.selection.head,1),a)}destroyPluginViews(){let a;for(;a=this.pluginViews.pop();)a.destroy&&a.destroy()}updatePluginViews(a){if(a&&a.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let b=0;b<this.pluginViews.length;b++){let c=this.pluginViews[b];c.update&&c.update(this,a)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let a=0;a<this.directPlugins.length;a++){let b=this.directPlugins[a];b.spec.view&&this.pluginViews.push(b.spec.view(this))}for(let a=0;a<this.state.plugins.length;a++){let b=this.state.plugins[a];b.spec.view&&this.pluginViews.push(b.spec.view(this))}}}updateDraggedNode(a,b){let c=a.node,d=-1;if(this.state.doc.nodeAt(c.from)==c.node)d=c.from;else{let a=c.from+(this.state.doc.content.size-b.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==c.node&&(d=a)}this.dragging=new dL(a.slice,a.move,d<0?void 0:bb.create(this.state.doc,d))}someProp(a,b){let c=this._props&&this._props[a],d;if(null!=c&&(d=b?b(c):c))return d;for(let c=0;c<this.directPlugins.length;c++){let e=this.directPlugins[c].props[a];if(null!=e&&(d=b?b(e):e))return d}let e=this.state.plugins;if(e)for(let c=0;c<e.length;c++){let f=e[c].props[a];if(null!=f&&(d=b?b(f):f))return d}}hasFocus(){if(b7){let a=this.root.activeElement;if(a==this.dom)return!0;if(!a||!this.dom.contains(a))return!1;for(;a&&this.dom!=a&&this.dom.contains(a);){if("false"==a.contentEditable)return!1;a=a.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(a){if(a.setActive)return a.setActive();if(co)return a.focus(co);let b=cm(a);a.focus(null==co?{get preventScroll(){return co={preventScroll:!0},!0}}:void 0),co||(co=!1,cn(b,0))}(this.dom),cW(this),this.domObserver.start()}get root(){let a=this._root;if(null==a){for(let a=this.dom.parentNode;a;a=a.parentNode)if(9==a.nodeType||11==a.nodeType&&a.host)return a.getSelection||(Object.getPrototypeOf(a).getSelection=()=>a.ownerDocument.getSelection()),this._root=a}return a||document}updateRoot(){this._root=null}posAtCoords(a){return function(a,b){var c;let d,e,f=a.dom.ownerDocument,g,h=0,i=function(a,b,c){if(a.caretPositionFromPoint)try{let d=a.caretPositionFromPoint(b,c);if(d)return{node:d.offsetNode,offset:Math.min(bZ(d.offsetNode),d.offset)}}catch(a){}if(a.caretRangeFromPoint){let d=a.caretRangeFromPoint(b,c);if(d)return{node:d.startContainer,offset:Math.min(bZ(d.startContainer),d.startOffset)}}}(f,b.left,b.top);i&&({node:g,offset:h}=i);let j=(a.root.elementFromPoint?a.root:f).elementFromPoint(b.left,b.top);if(!j||!a.dom.contains(1!=j.nodeType?j.parentNode:j)){let c=a.dom.getBoundingClientRect();if(!cp(b,c)||!(j=function a(b,c,d){let e=b.childNodes.length;if(e&&d.top<d.bottom)for(let f=Math.max(0,Math.min(e-1,Math.floor(e*(c.top-d.top)/(d.bottom-d.top))-2)),g=f;;){let d=b.childNodes[g];if(1==d.nodeType){let b=d.getClientRects();for(let e=0;e<b.length;e++){let f=b[e];if(cp(c,f))return a(d,c,f)}}if((g=(g+1)%e)==f)break}return b}(a.dom,b,c)))return null}if(cd)for(let a=j;g&&a;a=bS(a))a.draggable&&(g=void 0);if(j=(d=(c=j).parentNode)&&/^li$/i.test(d.nodeName)&&b.left<c.getBoundingClientRect().left?d:c,g){let c;if(b9&&1==g.nodeType&&(h=Math.min(h,g.childNodes.length))<g.childNodes.length){let a=g.childNodes[h],c;"IMG"==a.nodeName&&(c=a.getBoundingClientRect()).right<=b.left&&c.bottom>b.top&&h++}ci&&h&&1==g.nodeType&&1==(c=g.childNodes[h-1]).nodeType&&"false"==c.contentEditable&&c.getBoundingClientRect().top>=b.top&&h--,g==a.dom&&h==g.childNodes.length-1&&1==g.lastChild.nodeType&&b.top>g.lastChild.getBoundingClientRect().bottom?e=a.state.doc.content.size:(0==h||1!=g.nodeType||"BR"!=g.childNodes[h-1].nodeName)&&(e=function(a,b,c,d){let e=-1;for(let c=b,f=!1;c!=a.dom;){let b=a.docView.nearestDesc(c,!0),g;if(!b)return null;if(1==b.dom.nodeType&&(b.node.isBlock&&b.parent||!b.contentDOM)&&((g=b.dom.getBoundingClientRect()).width||g.height)&&(b.node.isBlock&&b.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(b.dom.nodeName)&&(!f&&g.left>d.left||g.top>d.top?e=b.posBefore:(!f&&g.right<d.left||g.bottom<d.top)&&(e=b.posAfter),f=!0),!b.contentDOM&&e<0&&!b.node.isText))return(b.node.isBlock?d.top<(g.top+g.bottom)/2:d.left<(g.left+g.right)/2)?b.posBefore:b.posAfter;c=b.dom.parentNode}return e>-1?e:a.docView.posFromDOM(b,c,-1)}(a,g,h,b))}null==e&&(e=function(a,b,c){let{node:d,offset:e}=function a(b,c){let d,e,f,g=2e8,h,i=0,j=c.top,k=c.top;for(let a=b.firstChild,l=0;a;a=a.nextSibling,l++){let b;if(1==a.nodeType)b=a.getClientRects();else{if(3!=a.nodeType)continue;b=bU(a).getClientRects()}for(let m=0;m<b.length;m++){let n=b[m];if(n.top<=j&&n.bottom>=k){j=Math.max(n.bottom,j),k=Math.min(n.top,k);let b=n.left>c.left?n.left-c.left:n.right<c.left?c.left-n.right:0;if(b<g){f=a,g=b,h=b&&3==f.nodeType?{left:n.right<c.left?n.right:n.left,top:c.top}:c,1==a.nodeType&&b&&(i=l+ +(c.left>=(n.left+n.right)/2));continue}}else n.top>c.top&&!d&&n.left<=c.left&&n.right>=c.left&&(d=a,e={left:Math.max(n.left,Math.min(n.right,c.left)),top:n.top});!f&&(c.left>=n.right&&c.top>=n.top||c.left>=n.left&&c.top>=n.bottom)&&(i=l+1)}}return(!f&&d&&(f=d,h=e,g=0),f&&3==f.nodeType)?function(a,b){let c=a.nodeValue.length,d=document.createRange();for(let e=0;e<c;e++){d.setEnd(a,e+1),d.setStart(a,e);let c=cr(d,1);if(c.top!=c.bottom&&cp(b,c))return{node:a,offset:e+ +(b.left>=(c.left+c.right)/2)}}return{node:a,offset:0}}(f,h):!f||g&&1==f.nodeType?{node:b,offset:i}:a(f,h)}(b,c),f=-1;if(1==d.nodeType&&!d.firstChild){let a=d.getBoundingClientRect();f=a.left!=a.right&&c.left>(a.left+a.right)/2?1:-1}return a.docView.posFromDOM(d,e,f)}(a,j,b));let k=a.docView.nearestDesc(j,!0);return{pos:e,inside:k?k.posAtStart-k.border:-1}}(this,a)}coordsAtPos(a,b=1){return ct(this,a,b)}domAtPos(a,b=0){return this.docView.domFromPos(a,b)}nodeDOM(a){let b=this.docView.descAt(a);return b?b.nodeDOM:null}posAtDOM(a,b,c=-1){let d=this.docView.posFromDOM(a,b,c);if(null==d)throw RangeError("DOM position not inside the editor");return d}endOfTextblock(a,b){return function(a,b,c){let d,e;return cy==b&&cz==c?cA:(cy=b,cz=c,cA="up"==c||"down"==c?(d=b.selection,e="up"==c?d.$from:d.$to,cw(a,b,()=>{let{node:b}=a.docView.domFromPos(e.pos,"up"==c?-1:1);for(;;){let c=a.docView.nearestDesc(b,!0);if(!c)break;if(c.node.isBlock){b=c.contentDOM||c.dom;break}b=c.dom.parentNode}let d=ct(a,e.pos,1);for(let a=b.firstChild;a;a=a.nextSibling){let b;if(1==a.nodeType)b=a.getClientRects();else{if(3!=a.nodeType)continue;b=bU(a,0,a.nodeValue.length).getClientRects()}for(let a=0;a<b.length;a++){let e=b[a];if(e.bottom>e.top+1&&("up"==c?d.top-e.top>(e.bottom-d.top)*2:e.bottom-d.bottom>(d.bottom-e.top)*2))return!1}}return!0})):function(a,b,c){let{$head:d}=b.selection;if(!d.parent.isTextblock)return!1;let e=d.parentOffset,f=e==d.parent.content.size,g=a.domSelection();return g?cx.test(d.parent.textContent)&&g.modify?cw(a,b,()=>{let{focusNode:b,focusOffset:e,anchorNode:f,anchorOffset:h}=a.domSelectionRange(),i=g.caretBidiLevel;g.modify("move",c,"character");let j=d.depth?a.docView.domAfterPos(d.before()):a.dom,{focusNode:k,focusOffset:l}=a.domSelectionRange(),m=k&&!j.contains(1==k.nodeType?k:k.parentNode)||b==k&&e==l;try{g.collapse(f,h),b&&(b!=f||e!=h)&&g.extend&&g.extend(b,e)}catch(a){}return null!=i&&(g.caretBidiLevel=i),m}):"left"==c||"backward"==c?!e:f:d.pos==d.start()||d.pos==d.end()}(a,b,c))}(this,b||this.state,a)}pasteHTML(a,b){return dJ(this,"",a,!1,b||new ClipboardEvent("paste"))}pasteText(a,b){return dJ(this,a,null,!0,b||new ClipboardEvent("paste"))}serializeForClipboard(a){return dg(this,a)}destroy(){if(this.docView){for(let a in this.domObserver.stop(),this.input.eventHandlers)this.dom.removeEventListener(a,this.input.eventHandlers[a]);clearTimeout(this.input.composingTimeout),clearTimeout(this.input.lastIOSEnterFallbackTimeout),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],d3(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bV()}}get isDestroyed(){return null==this.docView}dispatchEvent(a){!dx(this,a)&&dr[a.type]&&(this.editable||!(a.type in ds))&&dr[a.type](this,a)}domSelectionRange(){let a=this.domSelection();return a?cd&&11===this.root.nodeType&&function(a){let b=a.activeElement;for(;b&&b.shadowRoot;)b=b.shadowRoot.activeElement;return b}(this.dom.ownerDocument)==this.dom&&function(a,b){let c;if(b.getComposedRanges){let c=b.getComposedRanges(a.root)[0];if(c)return ea(a,c)}function d(a){a.preventDefault(),a.stopImmediatePropagation(),c=a.getTargetRanges()[0]}return a.dom.addEventListener("beforeinput",d,!0),document.execCommand("indent"),a.dom.removeEventListener("beforeinput",d,!0),c?ea(a,c):null}(this,a)||a:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function eh(a){let b=Object.create(null);return b.class="ProseMirror",b.contenteditable=String(a.editable),a.someProp("attributes",c=>{if("function"==typeof c&&(c=c(a.state)),c)for(let a in c)"class"==a?b.class+=" "+c[a]:"style"==a?b.style=(b.style?b.style+";":"")+c[a]:b[a]||"contenteditable"==a||"nodeName"==a||(b[a]=String(c[a]))}),b.translate||(b.translate="no"),[dS.node(0,a.state.doc.content.size,b)]}function ei(a){if(a.markCursor){let b=document.createElement("img");b.className="ProseMirror-separator",b.setAttribute("mark-placeholder","true"),b.setAttribute("alt",""),a.cursorWrapper={dom:b,deco:dS.widget(a.state.selection.from,b,{raw:!0,marks:a.markCursor})}}else a.cursorWrapper=null}function ej(a){return!a.someProp("editable",b=>!1===b(a.state))}function ek(a){let b=Object.create(null);function c(a){for(let c in a)Object.prototype.hasOwnProperty.call(b,c)||(b[c]=a[c])}return a.someProp("nodeViews",c),a.someProp("markViews",c),b}function el(a){if(a.spec.state||a.spec.filterTransaction||a.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}eg.prototype.dispatch=function(a){let b=this._props.dispatchTransaction;b?b.call(this,a):this.updateState(this.state.apply(a))};for(var em={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},en={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ep="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),eq=0;eq<10;eq++)em[48+eq]=em[96+eq]=String(eq);for(var eq=1;eq<=24;eq++)em[eq+111]="F"+eq;for(var eq=65;eq<=90;eq++)em[eq]=String.fromCharCode(eq+32),en[eq]=String.fromCharCode(eq);for(var er in em)en.hasOwnProperty(er)||(en[er]=em[er]);let es="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),et="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function eu(a,b,c=!0){return b.altKey&&(a="Alt-"+a),b.ctrlKey&&(a="Ctrl-"+a),b.metaKey&&(a="Meta-"+a),c&&b.shiftKey&&(a="Shift-"+a),a}function ev(a){let b=function(a){let b=Object.create(null);for(let c in a)b[function(a){let b,c,d,e,f=a.split(/-(?!$)/),g=f[f.length-1];"Space"==g&&(g=" ");for(let a=0;a<f.length-1;a++){let g=f[a];if(/^(cmd|meta|m)$/i.test(g))e=!0;else if(/^a(lt)?$/i.test(g))b=!0;else if(/^(c|ctrl|control)$/i.test(g))c=!0;else if(/^s(hift)?$/i.test(g))d=!0;else if(/^mod$/i.test(g))es?e=!0:c=!0;else throw Error("Unrecognized modifier name: "+g)}return b&&(g="Alt-"+g),c&&(g="Ctrl-"+g),e&&(g="Meta-"+g),d&&(g="Shift-"+g),g}(c)]=a[c];return b}(a);return function(a,c){var d;let e=("Esc"==(d=!(eo&&c.metaKey&&c.shiftKey&&!c.ctrlKey&&!c.altKey||ep&&c.shiftKey&&c.key&&1==c.key.length||"Unidentified"==c.key)&&c.key||(c.shiftKey?en:em)[c.keyCode]||c.key||"Unidentified")&&(d="Escape"),"Del"==d&&(d="Delete"),"Left"==d&&(d="ArrowLeft"),"Up"==d&&(d="ArrowUp"),"Right"==d&&(d="ArrowRight"),"Down"==d&&(d="ArrowDown"),d),f,g=b[eu(e,c)];if(g&&g(a.state,a.dispatch,a))return!0;if(1==e.length&&" "!=e){if(c.shiftKey){let d=b[eu(e,c,!1)];if(d&&d(a.state,a.dispatch,a))return!0}if((c.altKey||c.metaKey||c.ctrlKey)&&!(et&&c.ctrlKey&&c.altKey)&&(f=em[c.keyCode])&&f!=e){let d=b[eu(f,c)];if(d&&d(a.state,a.dispatch,a))return!0}}return!1}}var ew=Object.defineProperty,ex=(a,b)=>{for(var c in b)ew(a,c,{get:b[c],enumerable:!0})};function ey(a){let{state:b,transaction:c}=a,{selection:d}=c,{doc:e}=c,{storedMarks:f}=c;return{...b,apply:b.apply.bind(b),applyTransaction:b.applyTransaction.bind(b),plugins:b.plugins,schema:b.schema,reconfigure:b.reconfigure.bind(b),toJSON:b.toJSON.bind(b),get storedMarks(){return f},get selection(){return d},get doc(){return e},get tr(){return d=c.selection,e=c.doc,f=c.storedMarks,c}}}var ez=class{constructor(a){this.editor=a.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=a.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:a,editor:b,state:c}=this,{view:d}=b,{tr:e}=c,f=this.buildProps(e);return Object.fromEntries(Object.entries(a).map(([a,b])=>[a,(...a)=>{let c=b(...a)(f);return e.getMeta("preventDispatch")||this.hasCustomState||d.dispatch(e),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(a,b=!0){let{rawCommands:c,editor:d,state:e}=this,{view:f}=d,g=[],h=!!a,i=a||e.tr,j=()=>(h||!b||i.getMeta("preventDispatch")||this.hasCustomState||f.dispatch(i),g.every(a=>!0===a)),k={...Object.fromEntries(Object.entries(c).map(([a,c])=>[a,(...a)=>{let d=this.buildProps(i,b),e=c(...a)(d);return g.push(e),k}])),run:j};return k}createCan(a){let{rawCommands:b,state:c}=this,d=a||c.tr,e=this.buildProps(d,!1);return{...Object.fromEntries(Object.entries(b).map(([a,b])=>[a,(...a)=>b(...a)({...e,dispatch:void 0})])),chain:()=>this.createChain(d,!1)}}buildProps(a,b=!0){let{rawCommands:c,editor:d,state:e}=this,{view:f}=d,g={tr:a,editor:d,view:f,state:ey({state:e,transaction:a}),dispatch:b?()=>void 0:void 0,chain:()=>this.createChain(a,b),can:()=>this.createCan(a),get commands(){return Object.fromEntries(Object.entries(c).map(([a,b])=>[a,(...a)=>b(...a)(g)]))}};return g}},eA={};ex(eA,{blur:()=>eB,clearContent:()=>eC,clearNodes:()=>eD,command:()=>eE,createParagraphNear:()=>eF,cut:()=>eG,deleteCurrentNode:()=>eH,deleteNode:()=>eJ,deleteRange:()=>eK,deleteSelection:()=>eL,enter:()=>eM,exitCode:()=>eN,extendMarkRange:()=>eU,first:()=>eV,focus:()=>e_,forEach:()=>e0,insertContent:()=>e1,insertContentAt:()=>e4,joinBackward:()=>e7,joinDown:()=>e6,joinForward:()=>e8,joinItemBackward:()=>e9,joinItemForward:()=>fa,joinTextblockBackward:()=>fb,joinTextblockForward:()=>fc,joinUp:()=>e5,keyboardShortcut:()=>fe,lift:()=>fg,liftEmptyBlock:()=>fh,liftListItem:()=>fi,newlineInCode:()=>fj,resetAttributes:()=>fm,scrollIntoView:()=>fn,selectAll:()=>fo,selectNodeBackward:()=>fp,selectNodeForward:()=>fq,selectParentNode:()=>fr,selectTextblockEnd:()=>fs,selectTextblockStart:()=>ft,setContent:()=>fv,setMark:()=>fY,setMeta:()=>fZ,setNode:()=>f$,setNodeSelection:()=>f_,setTextSelection:()=>f0,sinkListItem:()=>f1,splitBlock:()=>f3,splitListItem:()=>f4,toggleList:()=>f7,toggleMark:()=>f8,toggleNode:()=>f9,toggleWrap:()=>ga,undoInputRule:()=>gb,unsetAllMarks:()=>gc,unsetMark:()=>gd,updateAttributes:()=>ge,wrapIn:()=>gf,wrapInList:()=>gg});var eB=()=>({editor:a,view:b})=>(requestAnimationFrame(()=>{var c;a.isDestroyed||(b.dom.blur(),null==(c=null==window?void 0:window.getSelection())||c.removeAllRanges())}),!0),eC=(a=!0)=>({commands:b})=>b.setContent("",{emitUpdate:a}),eD=()=>({state:a,tr:b,dispatch:c})=>{let{selection:d}=b,{ranges:e}=d;return!c||(e.forEach(({$from:c,$to:d})=>{a.doc.nodesBetween(c.pos,d.pos,(a,c)=>{if(a.type.isText)return;let{doc:d,mapping:e}=b,f=d.resolve(e.map(c)),g=d.resolve(e.map(c+a.nodeSize)),h=f.blockRange(g);if(!h)return;let i=aK(h);if(a.type.isTextblock){let{defaultType:a}=f.parent.contentMatchAt(f.index());b.setNodeMarkup(h.start,a)}(i||0===i)&&b.lift(h,i)})}),!0)},eE=a=>b=>a(b),eF=()=>({state:a,dispatch:b})=>bF(a,b),eG=(a,b)=>({editor:c,tr:d})=>{let{state:e}=c,f=e.doc.slice(a.from,a.to);d.deleteRange(a.from,a.to);let g=d.mapping.map(b);return d.insert(g,f.content),d.setSelection(new a9(d.doc.resolve(Math.max(g-1,0)))),!0},eH=()=>({tr:a,dispatch:b})=>{let{selection:c}=a,d=c.$anchor.node();if(d.content.size>0)return!1;let e=a.selection.$anchor;for(let c=e.depth;c>0;c-=1)if(e.node(c).type===d.type){if(b){let b=e.before(c),d=e.after(c);a.delete(b,d).scrollIntoView()}return!0}return!1};function eI(a,b){if("string"==typeof a){if(!b.nodes[a])throw Error(`There is no node type named '${a}'. Maybe you forgot to add the extension?`);return b.nodes[a]}return a}var eJ=a=>({tr:b,state:c,dispatch:d})=>{let e=eI(a,c.schema),f=b.selection.$anchor;for(let a=f.depth;a>0;a-=1)if(f.node(a).type===e){if(d){let c=f.before(a),d=f.after(a);b.delete(c,d).scrollIntoView()}return!0}return!1},eK=a=>({tr:b,dispatch:c})=>{let{from:d,to:e}=a;return c&&b.delete(d,e),!0},eL=()=>({state:a,dispatch:b})=>br(a,b),eM=()=>({commands:a})=>a.keyboardShortcut("Enter"),eN=()=>({state:a,dispatch:b})=>bE(a,b);function eO(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function eP(a,b,c={strict:!0}){let d=Object.keys(b);return!d.length||d.every(d=>c.strict?b[d]===a[d]:eO(b[d])?b[d].test(a[d]):b[d]===a[d])}function eQ(a,b,c={}){return a.find(a=>a.type===b&&eP(Object.fromEntries(Object.keys(c).map(b=>[b,a.attrs[b]])),c))}function eR(a,b,c={}){return!!eQ(a,b,c)}function eS(a,b,c){var d;if(!a||!b)return;let e=a.parent.childAfter(a.parentOffset);if(e.node&&e.node.marks.some(a=>a.type===b)||(e=a.parent.childBefore(a.parentOffset)),!e.node||!e.node.marks.some(a=>a.type===b)||(c=c||(null==(d=e.node.marks[0])?void 0:d.attrs),!eQ([...e.node.marks],b,c)))return;let f=e.index,g=a.start()+e.offset,h=f+1,i=g+e.node.nodeSize;for(;f>0&&eR([...a.parent.child(f-1).marks],b,c);)f-=1,g-=a.parent.child(f).nodeSize;for(;h<a.parent.childCount&&eR([...a.parent.child(h).marks],b,c);)i+=a.parent.child(h).nodeSize,h+=1;return{from:g,to:i}}function eT(a,b){if("string"==typeof a){if(!b.marks[a])throw Error(`There is no mark type named '${a}'. Maybe you forgot to add the extension?`);return b.marks[a]}return a}var eU=(a,b={})=>({tr:c,state:d,dispatch:e})=>{let f=eT(a,d.schema),{doc:g,selection:h}=c,{$from:i,from:j,to:k}=h;if(e){let a=eS(i,f,b);if(a&&a.from<=j&&a.to>=k){let b=a9.create(g,a.from,a.to);c.setSelection(b)}}return!0},eV=a=>b=>{let c="function"==typeof a?a(b):a;for(let a=0;a<c.length;a+=1)if(c[a](b))return!0;return!1};function eW(a){return a instanceof a9}function eX(a=0,b=0,c=0){return Math.min(Math.max(a,b),c)}function eY(a,b=null){if(!b)return null;let c=a5.atStart(a),d=a5.atEnd(a);if("start"===b||!0===b)return c;if("end"===b)return d;let e=c.from,f=d.to;return"all"===b?a9.create(a,eX(0,e,f),eX(a.content.size,e,f)):a9.create(a,eX(b,e,f),eX(b,e,f))}function eZ(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function e$(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var e_=(a=null,b={})=>({editor:c,view:d,tr:e,dispatch:f})=>{b={scrollIntoView:!0,...b};let g=()=>{(e$()||eZ())&&d.dom.focus(),requestAnimationFrame(()=>{!c.isDestroyed&&(d.focus(),(null==b?void 0:b.scrollIntoView)&&c.commands.scrollIntoView())})};if(d.hasFocus()&&null===a||!1===a)return!0;if(f&&null===a&&!eW(c.state.selection))return g(),!0;let h=eY(e.doc,a)||c.state.selection,i=c.state.selection.eq(h);return f&&(i||e.setSelection(h),i&&e.storedMarks&&e.setStoredMarks(e.storedMarks),g()),!0},e0=(a,b)=>c=>a.every((a,d)=>b(a,{...c,index:d})),e1=(a,b)=>({tr:c,commands:d})=>d.insertContentAt({from:c.selection.from,to:c.selection.to},a,b);function e2(a){throw Error("[tiptap error]: there is no window object available, so this function cannot be used")}function e3(a,b,c){if(a instanceof S||a instanceof z)return a;c={slice:!0,parseOptions:{},...c};let d="object"==typeof a&&null!==a,e="string"==typeof a;if(d)try{if(Array.isArray(a)&&a.length>0)return z.fromArray(a.map(a=>b.nodeFromJSON(a)));let d=b.nodeFromJSON(a);return c.errorOnInvalidContent&&d.check(),d}catch(d){if(c.errorOnInvalidContent)throw Error("[tiptap error]: Invalid JSON content",{cause:d});return console.warn("[tiptap warn]: Invalid content.","Passed value:",a,"Error:",d),e3("",b,c)}if(e){if(c.errorOnInvalidContent){let d=!1,e="",f=new af({topNode:b.spec.topNode,marks:b.spec.marks,nodes:b.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:a=>(d=!0,e="string"==typeof a?a:a.outerHTML,null)}]}})});if(c.slice?ah.fromSchema(f).parseSlice(e2(a),c.parseOptions):ah.fromSchema(f).parse(e2(a),c.parseOptions),c.errorOnInvalidContent&&d)throw Error("[tiptap error]: Invalid HTML content",{cause:Error(`Invalid element found: ${e}`)})}let d=ah.fromSchema(b);return c.slice?d.parseSlice(e2(a),c.parseOptions).content:d.parse(e2(a),c.parseOptions)}return e3("",b,c)}var e4=(a,b,c)=>({tr:d,dispatch:e,editor:f})=>{var g;if(e){let e,h;c={parseOptions:f.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...c};let i=a=>{f.emit("contentError",{editor:f,error:a,disableCollaboration:()=>{"collaboration"in f.storage&&"object"==typeof f.storage.collaboration&&f.storage.collaboration&&(f.storage.collaboration.isDisabled=!0)}})},j={preserveWhitespace:"full",...c.parseOptions};if(!c.errorOnInvalidContent&&!f.options.enableContentCheck&&f.options.emitContentError)try{e3(b,f.schema,{parseOptions:j,errorOnInvalidContent:!0})}catch(a){i(a)}try{e=e3(b,f.schema,{parseOptions:j,errorOnInvalidContent:null!=(g=c.errorOnInvalidContent)?g:f.options.enableContentCheck})}catch(a){return i(a),!1}let{from:k,to:l}="number"==typeof a?{from:a,to:a}:{from:a.from,to:a.to},m=!0,n=!0;if((!("type"in e)?e:[e]).forEach(a=>{a.check(),m=!!m&&a.isText&&0===a.marks.length,n=!!n&&a.isBlock}),k===l&&n){let{parent:a}=d.doc.resolve(k);!a.isTextblock||a.type.spec.code||a.childCount||(k-=1,l+=1)}if(m){if(Array.isArray(b))h=b.map(a=>a.text||"").join("");else if(b instanceof z){let a="";b.forEach(b=>{b.text&&(a+=b.text)}),h=a}else h="object"==typeof b&&b&&b.text?b.text:b;d.insertText(h,k,l)}else{h=e;let a=d.doc.resolve(k),b=a.node(),c=0===a.parentOffset,f=b.isText||b.isTextblock,g=b.content.size>0;c&&f&&g&&(k=Math.max(0,k-1)),d.replaceWith(k,l,h)}c.updateSelection&&function(a,b,c){let d=a.steps.length-1;if(d<b)return;let e=a.steps[d];if(!(e instanceof aG||e instanceof aH))return;let f=a.mapping.maps[d],g=0;f.forEach((a,b,c,d)=>{0===g&&(g=d)}),a.setSelection(a5.near(a.doc.resolve(g),-1))}(d,d.steps.length-1,0),c.applyInputRules&&d.setMeta("applyInputRules",{from:k,text:h}),c.applyPasteRules&&d.setMeta("applyPasteRules",{from:k,text:h})}return!0},e5=()=>({state:a,dispatch:b})=>((a,b)=>{let c=a.selection,d=c instanceof bb,e;if(d){if(c.node.isTextblock||!aQ(a.doc,c.from))return!1;e=c.from}else if(null==(e=aS(a.doc,c.from,-1)))return!1;if(b){let c=a.tr.join(e);d&&c.setSelection(bb.create(c.doc,e-a.doc.resolve(e).nodeBefore.nodeSize)),b(c.scrollIntoView())}return!0})(a,b),e6=()=>({state:a,dispatch:b})=>((a,b)=>{let c=a.selection,d;if(c instanceof bb){if(c.node.isTextblock||!aQ(a.doc,c.to))return!1;d=c.to}else if(null==(d=aS(a.doc,c.to,1)))return!1;return b&&b(a.tr.join(d).scrollIntoView()),!0})(a,b),e7=()=>({state:a,dispatch:b})=>bt(a,b),e8=()=>({state:a,dispatch:b})=>bz(a,b),e9=()=>({state:a,dispatch:b,tr:c})=>{try{let d=aS(a.doc,a.selection.$from.pos,-1);if(null==d)return!1;return c.join(d,2),b&&b(c),!0}catch{return!1}},fa=()=>({state:a,dispatch:b,tr:c})=>{try{let d=aS(a.doc,a.selection.$from.pos,1);if(null==d)return!1;return c.join(d,2),b&&b(c),!0}catch{return!1}},fb=()=>({state:a,dispatch:b})=>((a,b,c)=>{let d=bs(a,c);if(!d)return!1;let e=bx(d);return!!e&&bu(a,e,b)})(a,b),fc=()=>({state:a,dispatch:b})=>((a,b,c)=>{let d=by(a,c);if(!d)return!1;let e=bB(d);return!!e&&bu(a,e,b)})(a,b);function fd(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var fe=a=>({editor:b,view:c,tr:d,dispatch:e})=>{let f=(function(a){let b,c,d,e,f=a.split(/-(?!$)/),g=f[f.length-1];"Space"===g&&(g=" ");for(let a=0;a<f.length-1;a+=1){let g=f[a];if(/^(cmd|meta|m)$/i.test(g))e=!0;else if(/^a(lt)?$/i.test(g))b=!0;else if(/^(c|ctrl|control)$/i.test(g))c=!0;else if(/^s(hift)?$/i.test(g))d=!0;else if(/^mod$/i.test(g))e$()||fd()?e=!0:c=!0;else throw Error(`Unrecognized modifier name: ${g}`)}return b&&(g=`Alt-${g}`),c&&(g=`Ctrl-${g}`),e&&(g=`Meta-${g}`),d&&(g=`Shift-${g}`),g})(a).split(/-(?!$)/),g=f.find(a=>!["Alt","Ctrl","Meta","Shift"].includes(a)),h=new KeyboardEvent("keydown",{key:"Space"===g?" ":g,altKey:f.includes("Alt"),ctrlKey:f.includes("Ctrl"),metaKey:f.includes("Meta"),shiftKey:f.includes("Shift"),bubbles:!0,cancelable:!0}),i=b.captureTransaction(()=>{c.someProp("handleKeyDown",a=>a(c,h))});return null==i||i.steps.forEach(a=>{let b=a.map(d.mapping);b&&e&&d.maybeStep(b)}),!0};function ff(a,b,c={}){let{from:d,to:e,empty:f}=a.selection,g=b?eI(b,a.schema):null,h=[];a.doc.nodesBetween(d,e,(a,b)=>{if(a.isText)return;let c=Math.max(d,b),f=Math.min(e,b+a.nodeSize);h.push({node:a,from:c,to:f})});let i=e-d,j=h.filter(a=>!g||g.name===a.node.type.name).filter(a=>eP(a.node.attrs,c,{strict:!1}));return f?!!j.length:j.reduce((a,b)=>a+b.to-b.from,0)>=i}var fg=(a,b={})=>({state:c,dispatch:d})=>{let e=eI(a,c.schema);return!!ff(c,e,b)&&((a,b)=>{let{$from:c,$to:d}=a.selection,e=c.blockRange(d),f=e&&aK(e);return null!=f&&(b&&b(a.tr.lift(e,f).scrollIntoView()),!0)})(c,d)},fh=()=>({state:a,dispatch:b})=>bG(a,b),fi=a=>({state:b,dispatch:c})=>(function(a){return function(b,c){let{$from:d,$to:e}=b.selection,f=d.blockRange(e,b=>b.childCount>0&&b.firstChild.type==a);return!!f&&(!c||(d.node(f.depth-1).type==a?function(a,b,c,d){let e=a.tr,f=d.end,g=d.$to.end(d.depth);f<g&&(e.step(new aH(f-1,g,f,g,new F(z.from(c.create(null,d.parent.copy())),1,0),1,!0)),d=new Q(e.doc.resolve(d.$from.pos),e.doc.resolve(g),d.depth));let h=aK(d);if(null==h)return!1;e.lift(d,h);let i=e.doc.resolve(e.mapping.map(f,-1)-1);return aQ(e.doc,i.pos)&&i.nodeBefore.type==i.nodeAfter.type&&e.join(i.pos),b(e.scrollIntoView()),!0}(b,c,a,f):function(a,b,c){let d=a.tr,e=c.parent;for(let a=c.end,b=c.endIndex-1,f=c.startIndex;b>f;b--)a-=e.child(b).nodeSize,d.delete(a-1,a+1);let f=d.doc.resolve(c.start),g=f.nodeAfter;if(d.mapping.map(c.end)!=c.start+f.nodeAfter.nodeSize)return!1;let h=0==c.startIndex,i=c.endIndex==e.childCount,j=f.node(-1),k=f.index(-1);if(!j.canReplace(k+ +!h,k+1,g.content.append(i?z.empty:z.from(e))))return!1;let l=f.pos,m=l+g.nodeSize;return d.step(new aH(l-!!h,m+ +!!i,l+1,m-1,new F((h?z.empty:z.from(e.copy(z.empty))).append(i?z.empty:z.from(e.copy(z.empty))),+!h,+!i),+!h)),b(d.scrollIntoView()),!0}(b,c,f)))}})(eI(a,b.schema))(b,c),fj=()=>({state:a,dispatch:b})=>bC(a,b);function fk(a,b){return b.nodes[a]?"node":b.marks[a]?"mark":null}function fl(a,b){let c="string"==typeof b?[b]:b;return Object.keys(a).reduce((b,d)=>(c.includes(d)||(b[d]=a[d]),b),{})}var fm=(a,b)=>({tr:c,state:d,dispatch:e})=>{let f=null,g=null,h=fk("string"==typeof a?a:a.name,d.schema);return!!h&&("node"===h&&(f=eI(a,d.schema)),"mark"===h&&(g=eT(a,d.schema)),e&&c.selection.ranges.forEach(a=>{d.doc.nodesBetween(a.$from.pos,a.$to.pos,(a,d)=>{f&&f===a.type&&c.setNodeMarkup(d,void 0,fl(a.attrs,b)),g&&a.marks.length&&a.marks.forEach(e=>{g===e.type&&c.addMark(d,d+a.nodeSize,g.create(fl(e.attrs,b)))})})}),!0)},fn=()=>({tr:a,dispatch:b})=>(b&&a.scrollIntoView(),!0),fo=()=>({tr:a,dispatch:b})=>{if(b){let b=new bd(a.doc);a.setSelection(b)}return!0},fp=()=>({state:a,dispatch:b})=>bw(a,b),fq=()=>({state:a,dispatch:b})=>bA(a,b),fr=()=>({state:a,dispatch:b})=>((a,b)=>{let{$from:c,to:d}=a.selection,e,f=c.sharedDepth(d);return 0!=f&&(e=c.before(f),b&&b(a.tr.setSelection(bb.create(a.doc,e))),!0)})(a,b),fs=()=>({state:a,dispatch:b})=>bK(a,b),ft=()=>({state:a,dispatch:b})=>bJ(a,b);function fu(a,b,c={},d={}){return e3(a,b,{slice:!1,parseOptions:c,errorOnInvalidContent:d.errorOnInvalidContent})}var fv=(a,{errorOnInvalidContent:b,emitUpdate:c=!0,parseOptions:d={}}={})=>({editor:e,tr:f,dispatch:g,commands:h})=>{let{doc:i}=f;if("full"!==d.preserveWhitespace){let h=fu(a,e.schema,d,{errorOnInvalidContent:null!=b?b:e.options.enableContentCheck});return g&&f.replaceWith(0,i.content.size,h).setMeta("preventUpdate",!c),!0}return g&&f.setMeta("preventUpdate",!c),h.insertContentAt({from:0,to:i.content.size},a,{parseOptions:d,errorOnInvalidContent:null!=b?b:e.options.enableContentCheck})};function fw(a,b){let c=eT(b,a.schema),{from:d,to:e,empty:f}=a.selection,g=[];f?(a.storedMarks&&g.push(...a.storedMarks),g.push(...a.selection.$head.marks())):a.doc.nodesBetween(d,e,a=>{g.push(...a.marks)});let h=g.find(a=>a.type.name===c.name);return h?{...h.attrs}:{}}function fx(a,b){let c=new a3(a);return b.forEach(a=>{a.steps.forEach(a=>{c.step(a)})}),c}function fy(a){return b=>(function(a,b){for(let c=a.depth;c>0;c-=1){let d=a.node(c);if(b(d))return{pos:c>0?a.before(c):0,start:a.start(c),depth:c,node:d}}})(b.$from,a)}function fz(a,b,c){return void 0===a.config[b]&&a.parent?fz(a.parent,b,c):"function"==typeof a.config[b]?a.config[b].bind({...c,parent:a.parent?fz(a.parent,b,c):null}):a.config[b]}function fA(a){return a.map(a=>{let b={name:a.name,options:a.options,storage:a.storage},c=fz(a,"addExtensions",b);return c?[a,...fA(c())]:a}).flat(10)}function fB(a,b){let c=aq.fromSchema(b).serializeFragment(a),d=document.implementation.createHTMLDocument().createElement("div");return d.appendChild(c),d.innerHTML}function fC(a){return"function"==typeof a}function fD(a,b,...c){return fC(a)?b?a.bind(b)(...c):a(...c):a}function fE(a){let b=a.filter(a=>"extension"===a.type);return{baseExtensions:b,nodeExtensions:a.filter(a=>"node"===a.type),markExtensions:a.filter(a=>"mark"===a.type)}}function fF(a){let b=[],{nodeExtensions:c,markExtensions:d}=fE(a),e=[...c,...d],f={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return a.forEach(a=>{let c={name:a.name,options:a.options,storage:a.storage,extensions:e},d=fz(a,"addGlobalAttributes",c);d&&d().forEach(a=>{a.types.forEach(c=>{Object.entries(a.attributes).forEach(([a,d])=>{b.push({type:c,name:a,attribute:{...f,...d}})})})})}),e.forEach(a=>{let c={name:a.name,options:a.options,storage:a.storage},d=fz(a,"addAttributes",c);d&&Object.entries(d()).forEach(([c,d])=>{let e={...f,...d};"function"==typeof(null==e?void 0:e.default)&&(e.default=e.default()),(null==e?void 0:e.isRequired)&&(null==e?void 0:e.default)===void 0&&delete e.default,b.push({type:a.name,name:c,attribute:e})})}),b}function fG(...a){return a.filter(a=>!!a).reduce((a,b)=>{let c={...a};return Object.entries(b).forEach(([a,b])=>{if(!c[a]){c[a]=b;return}if("class"===a){let d=b?String(b).split(" "):[],e=c[a]?c[a].split(" "):[],f=d.filter(a=>!e.includes(a));c[a]=[...e,...f].join(" ")}else if("style"===a){let d=b?b.split(";").map(a=>a.trim()).filter(Boolean):[],e=c[a]?c[a].split(";").map(a=>a.trim()).filter(Boolean):[],f=new Map;e.forEach(a=>{let[b,c]=a.split(":").map(a=>a.trim());f.set(b,c)}),d.forEach(a=>{let[b,c]=a.split(":").map(a=>a.trim());f.set(b,c)}),c[a]=Array.from(f.entries()).map(([a,b])=>`${a}: ${b}`).join("; ")}else c[a]=b}),c},{})}function fH(a,b){return b.filter(b=>b.type===a.type.name).filter(a=>a.attribute.rendered).map(b=>b.attribute.renderHTML?b.attribute.renderHTML(a.attrs)||{}:{[b.name]:a.attrs[b.name]}).reduce((a,b)=>fG(a,b),{})}function fI(a,b){return"style"in a?a:{...a,getAttrs:c=>{let d=a.getAttrs?a.getAttrs(c):a.attrs;if(!1===d)return!1;let e=b.reduce((a,b)=>{var d;let e=b.attribute.parseHTML?b.attribute.parseHTML(c):"string"!=typeof(d=c.getAttribute(b.name))?d:d.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(d):"true"===d||"false"!==d&&d;return null==e?a:{...a,[b.name]:e}},{});return{...d,...e}}}}function fJ(a){return Object.fromEntries(Object.entries(a).filter(([a,b])=>!("attrs"===a&&function(a={}){return 0===Object.keys(a).length&&a.constructor===Object}(b))&&null!=b))}function fK(a){return a.sort((a,b)=>{let c=fz(a,"priority")||100,d=fz(b,"priority")||100;return c>d?-1:+(c<d)})}function fL(a){var b;let c=fK(fA(a)),d=Array.from(new Set((b=c.map(a=>a.name)).filter((a,c)=>b.indexOf(a)!==c)));return d.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${d.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),c}function fM(a,b,c){let{from:d,to:e}=b,{blockSeparator:f="\n\n",textSerializers:g={}}=c||{},h="";return a.nodesBetween(d,e,(a,c,i,j)=>{var k;a.isBlock&&c>d&&(h+=f);let l=null==g?void 0:g[a.type.name];if(l)return i&&(h+=l({node:a,pos:c,parent:i,index:j,range:b})),!1;a.isText&&(h+=null==(k=null==a?void 0:a.text)?void 0:k.slice(Math.max(d,c)-c,e-c))}),h}function fN(a){return Object.fromEntries(Object.entries(a.nodes).filter(([,a])=>a.spec.toText).map(([a,b])=>[a,b.spec.toText]))}function fO(a,b){let c=fk("string"==typeof b?b:b.name,a.schema);if("node"===c){let c=eI(b,a.schema),{from:d,to:e}=a.selection,f=[];a.doc.nodesBetween(d,e,a=>{f.push(a)});let g=f.reverse().find(a=>a.type.name===c.name);return g?{...g.attrs}:{}}return"mark"===c?fw(a,b):{}}function fP(a){let{mapping:b,steps:c}=a,d=[];b.maps.forEach((a,e)=>{let f=[];if(a.ranges.length)a.forEach((a,b)=>{f.push({from:a,to:b})});else{let{from:a,to:b}=c[e];if(void 0===a||void 0===b)return;f.push({from:a,to:b})}f.forEach(({from:a,to:c})=>{let f=b.slice(e).map(a,-1),g=b.slice(e).map(c),h=b.invert().map(f,-1),i=b.invert().map(g);d.push({oldRange:{from:h,to:i},newRange:{from:f,to:g}})})});let e=function(a,b=JSON.stringify){let c={};return a.filter(a=>{let d=b(a);return!Object.prototype.hasOwnProperty.call(c,d)&&(c[d]=!0)})}(d);return 1===e.length?e:e.filter((a,b)=>!e.filter((a,c)=>c!==b).some(b=>a.oldRange.from>=b.oldRange.from&&a.oldRange.to<=b.oldRange.to&&a.newRange.from>=b.newRange.from&&a.newRange.to<=b.newRange.to))}function fQ(a,b,c){let d=[];return a===b?c.resolve(a).marks().forEach(b=>{let e=eS(c.resolve(a),b.type);e&&d.push({mark:b,...e})}):c.nodesBetween(a,b,(a,b)=>{a&&(null==a?void 0:a.nodeSize)!==void 0&&d.push(...a.marks.map(c=>({from:b,to:b+a.nodeSize,mark:c})))}),d}function fR(a,b){return b.nodes[a]||b.marks[a]||null}function fS(a,b,c){return Object.fromEntries(Object.entries(c).filter(([c])=>{let d=a.find(a=>a.type===b&&a.name===c);return!!d&&d.attribute.keepOnSplit}))}function fT(a,b,c={}){let{empty:d,ranges:e}=a.selection,f=b?eT(b,a.schema):null;if(d)return!!(a.storedMarks||a.selection.$from.marks()).filter(a=>!f||f.name===a.type.name).find(a=>eP(a.attrs,c,{strict:!1}));let g=0,h=[];if(e.forEach(({$from:b,$to:c})=>{let d=b.pos,e=c.pos;a.doc.nodesBetween(d,e,(a,b)=>{if(!a.isText&&!a.marks.length)return;let c=Math.max(d,b),f=Math.min(e,b+a.nodeSize);g+=f-c,h.push(...a.marks.map(a=>({mark:a,from:c,to:f})))})}),0===g)return!1;let i=h.filter(a=>!f||f.name===a.mark.type.name).filter(a=>eP(a.mark.attrs,c,{strict:!1})).reduce((a,b)=>a+b.to-b.from,0),j=h.filter(a=>!f||a.mark.type!==f&&a.mark.type.excludes(f)).reduce((a,b)=>a+b.to-b.from,0);return(i>0?i+j:i)>=g}function fU(a,b){return Array.isArray(b)?b.some(b=>("string"==typeof b?b:b.name)===a.name):b}function fV(a,b){let{nodeExtensions:c}=fE(b),d=c.find(b=>b.name===a);if(!d)return!1;let e={name:d.name,options:d.options,storage:d.storage},f=fD(fz(d,"group",e));return"string"==typeof f&&f.split(" ").includes("list")}function fW(a,{checkChildren:b=!0,ignoreWhitespace:c=!1}={}){var d;if(c){if("hardBreak"===a.type.name)return!0;if(a.isText)return/^\s*$/m.test(null!=(d=a.text)?d:"")}if(a.isText)return!a.text;if(a.isAtom||a.isLeaf)return!1;if(0===a.content.childCount)return!0;if(b){let d=!0;return a.content.forEach(a=>{!1!==d&&(fW(a,{ignoreWhitespace:c,checkChildren:b})||(d=!1))}),d}return!1}function fX(a){return a instanceof bb}var fY=(a,b={})=>({tr:c,state:d,dispatch:e})=>{let{selection:f}=c,{empty:g,ranges:h}=f,i=eT(a,d.schema);if(e)if(g){let a=fw(d,i);c.addStoredMark(i.create({...a,...b}))}else h.forEach(a=>{let e=a.$from.pos,f=a.$to.pos;d.doc.nodesBetween(e,f,(a,d)=>{let g=Math.max(d,e),h=Math.min(d+a.nodeSize,f);a.marks.find(a=>a.type===i)?a.marks.forEach(a=>{i===a.type&&c.addMark(g,h,i.create({...a.attrs,...b}))}):c.addMark(g,h,i.create(b))})});return function(a,b,c){var d;let{selection:e}=b,f=null;if(eW(e)&&(f=e.$cursor),f){let b=null!=(d=a.storedMarks)?d:f.marks();return f.parent.type.allowsMarkType(c)&&(!!c.isInSet(b)||!b.some(a=>a.type.excludes(c)))}let{ranges:g}=e;return g.some(({$from:b,$to:d})=>{let e=0===b.depth&&a.doc.inlineContent&&a.doc.type.allowsMarkType(c);return a.doc.nodesBetween(b.pos,d.pos,(a,b,d)=>{if(e)return!1;if(a.isInline){let b=!d||d.type.allowsMarkType(c),f=!!c.isInSet(a.marks)||!a.marks.some(a=>a.type.excludes(c));e=b&&f}return!e}),e})}(d,c,i)},fZ=(a,b)=>({tr:c})=>(c.setMeta(a,b),!0),f$=(a,b={})=>({state:c,dispatch:d,chain:e})=>{let f,g=eI(a,c.schema);return(c.selection.$anchor.sameParent(c.selection.$head)&&(f=c.selection.$anchor.parent.attrs),g.isTextblock)?e().command(({commands:a})=>!!bL(g,{...f,...b})(c)||a.clearNodes()).command(({state:a})=>bL(g,{...f,...b})(a,d)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},f_=a=>({tr:b,dispatch:c})=>{if(c){let{doc:c}=b,d=eX(a,0,c.content.size),e=bb.create(c,d);b.setSelection(e)}return!0},f0=a=>({tr:b,dispatch:c})=>{if(c){let{doc:c}=b,{from:d,to:e}="number"==typeof a?{from:a,to:a}:a,f=a9.atStart(c).from,g=a9.atEnd(c).to,h=eX(d,f,g),i=eX(e,f,g),j=a9.create(c,h,i);b.setSelection(j)}return!0},f1=a=>({state:b,dispatch:c})=>(function(a){return function(b,c){let{$from:d,$to:e}=b.selection,f=d.blockRange(e,b=>b.childCount>0&&b.firstChild.type==a);if(!f)return!1;let g=f.startIndex;if(0==g)return!1;let h=f.parent,i=h.child(g-1);if(i.type!=a)return!1;if(c){let d=i.lastChild&&i.lastChild.type==h.type,e=z.from(d?a.create():null),g=new F(z.from(a.create(null,z.from(h.type.create(null,e)))),d?3:1,0),j=f.start,k=f.end;c(b.tr.step(new aH(j-(d?3:1),k,j,k,g,1,!0)).scrollIntoView())}return!0}})(eI(a,b.schema))(b,c);function f2(a,b){let c=a.storedMarks||a.selection.$to.parentOffset&&a.selection.$from.marks();if(c){let d=c.filter(a=>null==b?void 0:b.includes(a.type.name));a.tr.ensureMarks(d)}}var f3=({keepMarks:a=!0}={})=>({tr:b,state:c,dispatch:d,editor:e})=>{let{selection:f,doc:g}=b,{$from:h,$to:i}=f,j=fS(e.extensionManager.attributes,h.node().type.name,h.node().attrs);if(f instanceof bb&&f.node.isBlock)return!!h.parentOffset&&!!aP(g,h.pos)&&(d&&(a&&f2(c,e.extensionManager.splittableMarks),b.split(h.pos).scrollIntoView()),!0);if(!h.parent.isBlock)return!1;let k=i.parentOffset===i.parent.content.size,l=0===h.depth?void 0:function(a){for(let b=0;b<a.edgeCount;b+=1){let{type:c}=a.edge(b);if(c.isTextblock&&!c.hasRequiredAttrs())return c}return null}(h.node(-1).contentMatchAt(h.indexAfter(-1))),m=k&&l?[{type:l,attrs:j}]:void 0,n=aP(b.doc,b.mapping.map(h.pos),1,m);if(!m&&!n&&aP(b.doc,b.mapping.map(h.pos),1,l?[{type:l}]:void 0)&&(n=!0,m=l?[{type:l,attrs:j}]:void 0),d){if(n&&(f instanceof a9&&b.deleteSelection(),b.split(b.mapping.map(h.pos),1,m),l&&!k&&!h.parentOffset&&h.parent.type!==l)){let a=b.mapping.map(h.before()),c=b.doc.resolve(a);h.node(-1).canReplaceWith(c.index(),c.index()+1,l)&&b.setNodeMarkup(b.mapping.map(h.before()),l)}a&&f2(c,e.extensionManager.splittableMarks),b.scrollIntoView()}return n},f4=(a,b={})=>({tr:c,state:d,dispatch:e,editor:f})=>{var g;let h=eI(a,d.schema),{$from:i,$to:j}=d.selection,k=d.selection.node;if(k&&k.isBlock||i.depth<2||!i.sameParent(j))return!1;let l=i.node(-1);if(l.type!==h)return!1;let m=f.extensionManager.attributes;if(0===i.parent.content.size&&i.node(-1).childCount===i.indexAfter(-1)){if(2===i.depth||i.node(-3).type!==h||i.index(-2)!==i.node(-2).childCount-1)return!1;if(e){let a=z.empty,d=i.index(-1)?1:i.index(-2)?2:3;for(let b=i.depth-d;b>=i.depth-3;b-=1)a=z.from(i.node(b).copy(a));let e=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3,f={...fS(m,i.node().type.name,i.node().attrs),...b},j=(null==(g=h.contentMatch.defaultType)?void 0:g.createAndFill(f))||void 0;a=a.append(z.from(h.createAndFill(null,j)||void 0));let k=i.before(i.depth-(d-1));c.replace(k,i.after(-e),new F(a,4-d,0));let l=-1;c.doc.nodesBetween(k,c.doc.content.size,(a,b)=>{if(l>-1)return!1;a.isTextblock&&0===a.content.size&&(l=b+1)}),l>-1&&c.setSelection(a9.near(c.doc.resolve(l))),c.scrollIntoView()}return!0}let n=j.pos===i.end()?l.contentMatchAt(0).defaultType:null,o={...fS(m,l.type.name,l.attrs),...b},p={...fS(m,i.node().type.name,i.node().attrs),...b};c.delete(i.pos,j.pos);let q=n?[{type:h,attrs:o},{type:n,attrs:p}]:[{type:h,attrs:o}];if(!aP(c.doc,i.pos,2))return!1;if(e){let{selection:a,storedMarks:b}=d,{splittableMarks:g}=f.extensionManager,h=b||a.$to.parentOffset&&a.$from.marks();if(c.split(i.pos,2,q).scrollIntoView(),!h||!e)return!0;let j=h.filter(a=>g.includes(a.type.name));c.ensureMarks(j)}return!0},f5=(a,b)=>{let c=fy(a=>a.type===b)(a.selection);if(!c)return!0;let d=a.doc.resolve(Math.max(0,c.pos-1)).before(c.depth);if(void 0===d)return!0;let e=a.doc.nodeAt(d);return!(c.node.type===(null==e?void 0:e.type)&&aQ(a.doc,c.pos))||(a.join(c.pos),!0)},f6=(a,b)=>{let c=fy(a=>a.type===b)(a.selection);if(!c)return!0;let d=a.doc.resolve(c.start).after(c.depth);if(void 0===d)return!0;let e=a.doc.nodeAt(d);return!(c.node.type===(null==e?void 0:e.type)&&aQ(a.doc,d))||(a.join(d),!0)},f7=(a,b,c,d={})=>({editor:e,tr:f,state:g,dispatch:h,chain:i,commands:j,can:k})=>{let{extensions:l,splittableMarks:m}=e.extensionManager,n=eI(a,g.schema),o=eI(b,g.schema),{selection:p,storedMarks:q}=g,{$from:r,$to:s}=p,t=r.blockRange(s),u=q||p.$to.parentOffset&&p.$from.marks();if(!t)return!1;let v=fy(a=>fV(a.type.name,l))(p);if(t.depth>=1&&v&&t.depth-v.depth<=1){if(v.node.type===n)return j.liftListItem(o);if(fV(v.node.type.name,l)&&n.validContent(v.node.content)&&h)return i().command(()=>(f.setNodeMarkup(v.pos,n),!0)).command(()=>f5(f,n)).command(()=>f6(f,n)).run()}return c&&u&&h?i().command(()=>{let a=k().wrapInList(n,d),b=u.filter(a=>m.includes(a.type.name));return f.ensureMarks(b),!!a||j.clearNodes()}).wrapInList(n,d).command(()=>f5(f,n)).command(()=>f6(f,n)).run():i().command(()=>!!k().wrapInList(n,d)||j.clearNodes()).wrapInList(n,d).command(()=>f5(f,n)).command(()=>f6(f,n)).run()},f8=(a,b={},c={})=>({state:d,commands:e})=>{let{extendEmptyMarkRange:f=!1}=c,g=eT(a,d.schema);return fT(d,g,b)?e.unsetMark(g,{extendEmptyMarkRange:f}):e.setMark(g,b)},f9=(a,b,c={})=>({state:d,commands:e})=>{let f,g=eI(a,d.schema),h=eI(b,d.schema),i=ff(d,g,c);return(d.selection.$anchor.sameParent(d.selection.$head)&&(f=d.selection.$anchor.parent.attrs),i)?e.setNode(h,f):e.setNode(g,{...f,...c})},ga=(a,b={})=>({state:c,commands:d})=>{let e=eI(a,c.schema);return ff(c,e,b)?d.lift(e):d.wrapIn(e,b)},gb=()=>({state:a,dispatch:b})=>{let c=a.plugins;for(let d=0;d<c.length;d+=1){let e,f=c[d];if(f.spec.isInputRules&&(e=f.getState(a))){if(b){let b=a.tr,c=e.transform;for(let a=c.steps.length-1;a>=0;a-=1)b.step(c.steps[a].invert(c.docs[a]));if(e.text){let c=b.doc.resolve(e.from).marks();b.replaceWith(e.from,e.to,a.schema.text(e.text,c))}else b.delete(e.from,e.to)}return!0}}return!1},gc=()=>({tr:a,dispatch:b})=>{let{selection:c}=a,{empty:d,ranges:e}=c;return!!d||(b&&e.forEach(b=>{a.removeMark(b.$from.pos,b.$to.pos)}),!0)},gd=(a,b={})=>({tr:c,state:d,dispatch:e})=>{var f;let{extendEmptyMarkRange:g=!1}=b,{selection:h}=c,i=eT(a,d.schema),{$from:j,empty:k,ranges:l}=h;if(!e)return!0;if(k&&g){let{from:a,to:b}=h,d=null==(f=j.marks().find(a=>a.type===i))?void 0:f.attrs,e=eS(j,i,d);e&&(a=e.from,b=e.to),c.removeMark(a,b,i)}else l.forEach(a=>{c.removeMark(a.$from.pos,a.$to.pos,i)});return c.removeStoredMark(i),!0},ge=(a,b={})=>({tr:c,state:d,dispatch:e})=>{let f=null,g=null,h=fk("string"==typeof a?a:a.name,d.schema);return!!h&&("node"===h&&(f=eI(a,d.schema)),"mark"===h&&(g=eT(a,d.schema)),e&&c.selection.ranges.forEach(a=>{let e,h,i,j,k=a.$from.pos,l=a.$to.pos;c.selection.empty?d.doc.nodesBetween(k,l,(a,b)=>{f&&f===a.type&&(i=Math.max(b,k),j=Math.min(b+a.nodeSize,l),e=b,h=a)}):d.doc.nodesBetween(k,l,(a,d)=>{d<k&&f&&f===a.type&&(i=Math.max(d,k),j=Math.min(d+a.nodeSize,l),e=d,h=a),d>=k&&d<=l&&(f&&f===a.type&&c.setNodeMarkup(d,void 0,{...a.attrs,...b}),g&&a.marks.length&&a.marks.forEach(e=>{if(g===e.type){let f=Math.max(d,k),h=Math.min(d+a.nodeSize,l);c.addMark(f,h,g.create({...e.attrs,...b}))}}))}),h&&(void 0!==e&&c.setNodeMarkup(e,void 0,{...h.attrs,...b}),g&&h.marks.length&&h.marks.forEach(a=>{g===a.type&&c.addMark(i,j,g.create({...a.attrs,...b}))}))}),!0)},gf=(a,b={})=>({state:c,dispatch:d})=>(function(a,b=null){return function(c,d){let{$from:e,$to:f}=c.selection,g=e.blockRange(f),h=g&&aL(g,a,b);return!!h&&(d&&d(c.tr.wrap(g,h).scrollIntoView()),!0)}})(eI(a,c.schema),b)(c,d),gg=(a,b={})=>({state:c,dispatch:d})=>(function(a,b=null){return function(c,d){let{$from:e,$to:f}=c.selection,g=e.blockRange(f);if(!g)return!1;let h=d?c.tr:null;return!!function(a,b,c,d=null){let e=!1,f=b,g=b.$from.doc;if(b.depth>=2&&b.$from.node(b.depth-1).type.compatibleContent(c)&&0==b.startIndex){if(0==b.$from.index(b.depth-1))return!1;let a=g.resolve(b.start-2);f=new Q(a,a,b.depth),b.endIndex<b.parent.childCount&&(b=new Q(b.$from,g.resolve(b.$to.end(b.depth)),b.depth)),e=!0}let h=aL(f,c,d,b);return!!h&&(a&&function(a,b,c,d,e){let f=z.empty;for(let a=c.length-1;a>=0;a--)f=z.from(c[a].type.create(c[a].attrs,f));a.step(new aH(b.start-2*!!d,b.end,b.start,b.end,new F(f,0,0),c.length,!0));let g=0;for(let a=0;a<c.length;a++)c[a].type==e&&(g=a+1);let h=c.length-g,i=b.start+c.length-2*!!d,j=b.parent;for(let c=b.startIndex,d=b.endIndex,e=!0;c<d;c++,e=!1)!e&&aP(a.doc,i,h)&&(a.split(i,h),i+=2*h),i+=j.child(c).nodeSize}(a,b,h,e,c),!0)}(h,g,a,b)&&(d&&d(h.scrollIntoView()),!0)}})(eI(a,c.schema),b)(c,d),gh=class{constructor(){this.callbacks={}}on(a,b){return this.callbacks[a]||(this.callbacks[a]=[]),this.callbacks[a].push(b),this}emit(a,...b){let c=this.callbacks[a];return c&&c.forEach(a=>a.apply(this,b)),this}off(a,b){let c=this.callbacks[a];return c&&(b?this.callbacks[a]=c.filter(a=>a!==b):delete this.callbacks[a]),this}once(a,b){let c=(...d)=>{this.off(a,c),b.apply(this,d)};return this.on(a,c)}removeAllListeners(){this.callbacks={}}},gi=class{constructor(a){var b;this.find=a.find,this.handler=a.handler,this.undoable=null==(b=a.undoable)||b}};function gj(a){var b;let{editor:c,from:d,to:e,text:f,rules:g,plugin:h}=a,{view:i}=c;if(i.composing)return!1;let j=i.state.doc.resolve(d);if(j.parent.type.spec.code||(null==(b=j.nodeBefore||j.nodeAfter)?void 0:b.marks.find(a=>a.type.spec.code)))return!1;let k=!1,l=((a,b=500)=>{let c="",d=a.parentOffset;return a.parent.nodesBetween(Math.max(0,d-b),d,(a,b,e,f)=>{var g,h;let i=(null==(h=(g=a.type.spec).toText)?void 0:h.call(g,{node:a,pos:b,parent:e,index:f}))||a.textContent||"%leaf%";c+=a.isAtom&&!a.isText?i:i.slice(0,Math.max(0,d-b))}),c})(j)+f;return g.forEach(a=>{if(k)return;let b=((a,b)=>{if(eO(b))return b.exec(a);let c=b(a);if(!c)return null;let d=[c.text];return d.index=c.index,d.input=a,d.data=c.data,c.replaceWith&&(c.text.includes(c.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),d.push(c.replaceWith)),d})(l,a.find);if(!b)return;let g=i.state.tr,j=ey({state:i.state,transaction:g}),m={from:d-(b[0].length-f.length),to:e},{commands:n,chain:o,can:p}=new ez({editor:c,state:j});null!==a.handler({state:j,range:m,match:b,commands:n,chain:o,can:p})&&g.steps.length&&(a.undoable&&g.setMeta(h,{transform:g,from:d,to:e,text:f}),i.dispatch(g),k=!0)}),k}function gk(a){return"Object"===Object.prototype.toString.call(a).slice(8,-1)&&a.constructor===Object&&Object.getPrototypeOf(a)===Object.prototype}var gl=class{constructor(a={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...a},this.name=this.config.name}get options(){return{...fD(fz(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...fD(fz(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(a={}){let b=this.extend({...this.config,addOptions:()=>(function a(b,c){let d={...b};return gk(b)&&gk(c)&&Object.keys(c).forEach(e=>{gk(c[e])&&gk(b[e])?d[e]=a(b[e],c[e]):d[e]=c[e]}),d})(this.options,a)});return b.name=this.name,b.parent=this.parent,b}extend(a={}){let b=new this.constructor({...this.config,...a});return b.parent=this,this.child=b,b.name="name"in a?a.name:b.parent.name,b}},gm=class a extends gl{constructor(){super(...arguments),this.type="mark"}static create(b={}){return new a("function"==typeof b?b():b)}static handleExit({editor:a,mark:b}){let{tr:c}=a.state,d=a.state.selection.$from;if(d.pos===d.end()){let e=d.marks();if(!e.find(a=>(null==a?void 0:a.type.name)===b.name))return!1;let f=e.find(a=>(null==a?void 0:a.type.name)===b.name);return f&&c.removeStoredMark(f),c.insertText(" ",d.pos),a.view.dispatch(c),!0}return!1}configure(a){return super.configure(a)}extend(a){let b="function"==typeof a?a():a;return super.extend(b)}},gn=class{constructor(a){this.find=a.find,this.handler=a.handler}},go=null,gp=class{constructor(a,b){this.splittableMarks=[],this.editor=b,this.baseExtensions=a,this.extensions=fL(a),this.schema=function(a,b){var c;let d=fF(a),{nodeExtensions:e,markExtensions:f}=fE(a),g=null==(c=e.find(a=>fz(a,"topNode")))?void 0:c.name;return new af({topNode:g,nodes:Object.fromEntries(e.map(c=>{let e=d.filter(a=>a.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:b},g=fJ({...a.reduce((a,b)=>{let d=fz(b,"extendNodeSchema",f);return{...a,...d?d(c):{}}},{}),content:fD(fz(c,"content",f)),marks:fD(fz(c,"marks",f)),group:fD(fz(c,"group",f)),inline:fD(fz(c,"inline",f)),atom:fD(fz(c,"atom",f)),selectable:fD(fz(c,"selectable",f)),draggable:fD(fz(c,"draggable",f)),code:fD(fz(c,"code",f)),whitespace:fD(fz(c,"whitespace",f)),linebreakReplacement:fD(fz(c,"linebreakReplacement",f)),defining:fD(fz(c,"defining",f)),isolating:fD(fz(c,"isolating",f)),attrs:Object.fromEntries(e.map(a=>{var b,c;return[a.name,{default:null==(b=null==a?void 0:a.attribute)?void 0:b.default,validate:null==(c=null==a?void 0:a.attribute)?void 0:c.validate}]}))}),h=fD(fz(c,"parseHTML",f));h&&(g.parseDOM=h.map(a=>fI(a,e)));let i=fz(c,"renderHTML",f);i&&(g.toDOM=a=>i({node:a,HTMLAttributes:fH(a,e)}));let j=fz(c,"renderText",f);return j&&(g.toText=j),[c.name,g]})),marks:Object.fromEntries(f.map(c=>{let e=d.filter(a=>a.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:b},g=fJ({...a.reduce((a,b)=>{let d=fz(b,"extendMarkSchema",f);return{...a,...d?d(c):{}}},{}),inclusive:fD(fz(c,"inclusive",f)),excludes:fD(fz(c,"excludes",f)),group:fD(fz(c,"group",f)),spanning:fD(fz(c,"spanning",f)),code:fD(fz(c,"code",f)),attrs:Object.fromEntries(e.map(a=>{var b,c;return[a.name,{default:null==(b=null==a?void 0:a.attribute)?void 0:b.default,validate:null==(c=null==a?void 0:a.attribute)?void 0:c.validate}]}))}),h=fD(fz(c,"parseHTML",f));h&&(g.parseDOM=h.map(a=>fI(a,e)));let i=fz(c,"renderHTML",f);return i&&(g.toDOM=a=>i({mark:a,HTMLAttributes:fH(a,e)})),[c.name,g]}))})}(this.extensions,b),this.setupExtensions()}get commands(){return this.extensions.reduce((a,b)=>{let c={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:this.editor,type:fR(b.name,this.schema)},d=fz(b,"addCommands",c);return d?{...a,...d()}:a},{})}get plugins(){let{editor:a}=this;return fK([...this.extensions].reverse()).flatMap(b=>{let c={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:a,type:fR(b.name,this.schema)},d=[],e=fz(b,"addKeyboardShortcuts",c),f={};if("mark"===b.type&&fz(b,"exitable",c)&&(f.ArrowRight=()=>gm.handleExit({editor:a,mark:b})),e){let b=Object.fromEntries(Object.entries(e()).map(([b,c])=>[b,()=>c({editor:a})]));f={...f,...b}}let g=new bn({props:{handleKeyDown:ev(f)}});d.push(g);let h=fz(b,"addInputRules",c);if(fU(b,a.options.enableInputRules)&&h){let b=h();if(b&&b.length){let c=function(a){let{editor:b,rules:c}=a,d=new bn({state:{init:()=>null,apply(a,e,f){let g=a.getMeta(d);if(g)return g;let h=a.getMeta("applyInputRules");return h&&setTimeout(()=>{let{text:a}=h;"string"==typeof a||(a=fB(z.from(a),f.schema));let{from:e}=h,g=e+a.length;gj({editor:b,from:e,to:g,text:a,rules:c,plugin:d})}),a.selectionSet||a.docChanged?null:e}},props:{handleTextInput:(a,e,f,g)=>gj({editor:b,from:e,to:f,text:g,rules:c,plugin:d}),handleDOMEvents:{compositionend:a=>(setTimeout(()=>{let{$cursor:e}=a.state.selection;e&&gj({editor:b,from:e.pos,to:e.pos,text:"",rules:c,plugin:d})}),!1)},handleKeyDown(a,e){if("Enter"!==e.key)return!1;let{$cursor:f}=a.state.selection;return!!f&&gj({editor:b,from:f.pos,to:f.pos,text:"\n",rules:c,plugin:d})}},isInputRules:!0});return d}({editor:a,rules:b}),e=Array.isArray(c)?c:[c];d.push(...e)}}let i=fz(b,"addPasteRules",c);if(fU(b,a.options.enablePasteRules)&&i){let b=i();if(b&&b.length){let c=function(a){let b,{editor:c,rules:d}=a,e=null,f=!1,g=!1,h="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{b="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{b=null}let i=({state:a,from:d,to:e,rule:f,pasteEvt:g})=>{let i=a.tr;if(function(a){let{editor:b,state:c,from:d,to:e,rule:f,pasteEvent:g,dropEvent:h}=a,{commands:i,chain:j,can:k}=new ez({editor:b,state:c}),l=[];return c.doc.nodesBetween(d,e,(a,b)=>{var m,n,o,p,q;if((null==(n=null==(m=a.type)?void 0:m.spec)?void 0:n.code)||!(a.isText||a.isTextblock||a.isInline))return;let r=null!=(q=null!=(p=null==(o=a.content)?void 0:o.size)?p:a.nodeSize)?q:0,s=Math.max(d,b),t=Math.min(e,b+r);s>=t||((a,b,c)=>{if(eO(b))return[...a.matchAll(b)];let d=b(a,c);return d?d.map(b=>{let c=[b.text];return c.index=b.index,c.input=a,c.data=b.data,b.replaceWith&&(b.text.includes(b.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),c.push(b.replaceWith)),c}):[]})(a.isText?a.text||"":a.textBetween(s-b,t-b,void 0,""),f.find,g).forEach(a=>{if(void 0===a.index)return;let b=s+a.index+1,d=b+a[0].length,e={from:c.tr.mapping.map(b),to:c.tr.mapping.map(d)},m=f.handler({state:c,range:e,match:a,commands:i,chain:j,can:k,pasteEvent:g,dropEvent:h});l.push(m)})}),l.every(a=>null!==a)}({editor:c,state:ey({state:a,transaction:i}),from:Math.max(d-1,0),to:e.b-1,rule:f,pasteEvent:g,dropEvent:b})&&i.steps.length){try{b="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{b=null}return h="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,i}};return d.map(a=>new bn({view(a){let b=b=>{var d;(e=(null==(d=a.dom.parentElement)?void 0:d.contains(b.target))?a.dom.parentElement:null)&&(go=c)},d=()=>{go&&(go=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",d),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",d)}}},props:{handleDOMEvents:{drop:(a,c)=>{if(g=e===a.dom.parentElement,b=c,!g){let a=go;(null==a?void 0:a.isEditable)&&setTimeout(()=>{let b=a.state.selection;b&&a.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(a,b)=>{var c;let d=null==(c=b.clipboardData)?void 0:c.getData("text/html");return h=b,f=!!(null==d?void 0:d.includes("data-pm-slice")),!1}}},appendTransaction:(b,c,d)=>{let e=b[0],j="paste"===e.getMeta("uiEvent")&&!f,k="drop"===e.getMeta("uiEvent")&&!g,l=e.getMeta("applyPasteRules"),m=!!l;if(!j&&!k&&!m)return;if(m){let{text:b}=l;"string"==typeof b||(b=fB(z.from(b),d.schema));let{from:c}=l,e=c+b.length;return i({rule:a,state:d,from:c,to:{b:e},pasteEvt:(a=>{var b;let c=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(b=c.clipboardData)||b.setData("text/html",a),c})(b)})}let n=c.doc.content.findDiffStart(d.doc.content),o=c.doc.content.findDiffEnd(d.doc.content);if("number"==typeof n&&o&&n!==o.b)return i({rule:a,state:d,from:n,to:o,pasteEvt:h})}}))}({editor:a,rules:b});d.push(...c)}}let j=fz(b,"addProseMirrorPlugins",c);if(j){let a=j();d.push(...a)}return d})}get attributes(){return fF(this.extensions)}get nodeViews(){let{editor:a}=this,{nodeExtensions:b}=fE(this.extensions);return Object.fromEntries(b.filter(a=>!!fz(a,"addNodeView")).map(b=>{let c=this.attributes.filter(a=>a.type===b.name),d={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:a,type:eI(b.name,this.schema)},e=fz(b,"addNodeView",d);return e?[b.name,(d,f,g,h,i)=>{let j=fH(d,c);return e()({node:d,view:f,getPos:g,decorations:h,innerDecorations:i,editor:a,extension:b,HTMLAttributes:j})}]:[]}))}get markViews(){let{editor:a}=this,{markExtensions:b}=fE(this.extensions);return Object.fromEntries(b.filter(a=>!!fz(a,"addMarkView")).map(b=>{let c=this.attributes.filter(a=>a.type===b.name),d={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:a,type:eT(b.name,this.schema)},e=fz(b,"addMarkView",d);return e?[b.name,(d,f,g)=>{let h=fH(d,c);return e()({mark:d,view:f,inline:g,editor:a,extension:b,HTMLAttributes:h,updateAttributes:b=>{!function(a,b,c={}){let{state:d}=b,{doc:e,tr:f}=d;e.descendants((b,d)=>{let e=f.mapping.map(d),g=f.mapping.map(d)+b.nodeSize,h=null;if(b.marks.forEach(b=>{if(b!==a)return!1;h=b}),!h)return;let i=!1;if(Object.keys(c).forEach(a=>{c[a]!==h.attrs[a]&&(i=!0)}),i){let b=a.type.create({...a.attrs,...c});f.removeMark(e,g,a.type),f.addMark(e,g,b)}}),f.docChanged&&b.view.dispatch(f)}(d,a,b)}})}]:[]}))}setupExtensions(){let a=this.extensions;this.editor.extensionStorage=Object.fromEntries(a.map(a=>[a.name,a.storage])),a.forEach(a=>{var b;let c={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:this.editor,type:fR(a.name,this.schema)};"mark"===a.type&&(null==(b=fD(fz(a,"keepOnSplit",c)))||b)&&this.splittableMarks.push(a.name);let d=fz(a,"onBeforeCreate",c),e=fz(a,"onCreate",c),f=fz(a,"onUpdate",c),g=fz(a,"onSelectionUpdate",c),h=fz(a,"onTransaction",c),i=fz(a,"onFocus",c),j=fz(a,"onBlur",c),k=fz(a,"onDestroy",c);d&&this.editor.on("beforeCreate",d),e&&this.editor.on("create",e),f&&this.editor.on("update",f),g&&this.editor.on("selectionUpdate",g),h&&this.editor.on("transaction",h),i&&this.editor.on("focus",i),j&&this.editor.on("blur",j),k&&this.editor.on("destroy",k)})}};gp.resolve=fL,gp.sort=fK,gp.flatten=fA,ex({},{ClipboardTextSerializer:()=>gr,Commands:()=>gs,Delete:()=>gt,Drop:()=>gu,Editable:()=>gv,FocusEvents:()=>gx,Keymap:()=>gy,Paste:()=>gz,Tabindex:()=>gA,focusEventsPluginKey:()=>gw});var gq=class a extends gl{constructor(){super(...arguments),this.type="extension"}static create(b={}){return new a("function"==typeof b?b():b)}configure(a){return super.configure(a)}extend(a){let b="function"==typeof a?a():a;return super.extend(b)}},gr=gq.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new bn({key:new bq("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:a}=this,{state:b,schema:c}=a,{doc:d,selection:e}=b,{ranges:f}=e,g=Math.min(...f.map(a=>a.$from.pos)),h=Math.max(...f.map(a=>a.$to.pos)),i=fN(c);return fM(d,{from:g,to:h},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:i})}}})]}}),gs=gq.create({name:"commands",addCommands:()=>({...eA})}),gt=gq.create({name:"delete",onUpdate({transaction:a,appendedTransactions:b}){var c,d,e;let f=()=>{var c,d,e,f;if(null!=(f=null==(e=null==(d=null==(c=this.editor.options.coreExtensionOptions)?void 0:c.delete)?void 0:d.filterTransaction)?void 0:e.call(d,a))?f:a.getMeta("y-sync$"))return;let g=fx(a.before,[a,...b]);fP(g).forEach(b=>{g.mapping.mapResult(b.oldRange.from).deletedAfter&&g.mapping.mapResult(b.oldRange.to).deletedBefore&&g.before.nodesBetween(b.oldRange.from,b.oldRange.to,(c,d)=>{let e=d+c.nodeSize-2,f=b.oldRange.from<=d&&e<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:c,from:d,to:e,newFrom:g.mapping.map(d),newTo:g.mapping.map(e),deletedRange:b.oldRange,newRange:b.newRange,partial:!f,editor:this.editor,transaction:a,combinedTransform:g})})});let h=g.mapping;g.steps.forEach((b,c)=>{var d,e;if(b instanceof aD){let f=h.slice(c).map(b.from,-1),i=h.slice(c).map(b.to),j=h.invert().map(f,-1),k=h.invert().map(i),l=null==(d=g.doc.nodeAt(f-1))?void 0:d.marks.some(a=>a.eq(b.mark)),m=null==(e=g.doc.nodeAt(i))?void 0:e.marks.some(a=>a.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:j,to:k},newRange:{from:f,to:i},partial:!!(m||l),editor:this.editor,transaction:a,combinedTransform:g})}})};null==(e=null==(d=null==(c=this.editor.options.coreExtensionOptions)?void 0:c.delete)?void 0:d.async)||e?setTimeout(f,0):f()}}),gu=gq.create({name:"drop",addProseMirrorPlugins(){return[new bn({key:new bq("tiptapDrop"),props:{handleDrop:(a,b,c,d)=>{this.editor.emit("drop",{editor:this.editor,event:b,slice:c,moved:d})}}})]}}),gv=gq.create({name:"editable",addProseMirrorPlugins(){return[new bn({key:new bq("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gw=new bq("focusEvents"),gx=gq.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:a}=this;return[new bn({key:gw,props:{handleDOMEvents:{focus:(b,c)=>{a.isFocused=!0;let d=a.state.tr.setMeta("focus",{event:c}).setMeta("addToHistory",!1);return b.dispatch(d),!1},blur:(b,c)=>{a.isFocused=!1;let d=a.state.tr.setMeta("blur",{event:c}).setMeta("addToHistory",!1);return b.dispatch(d),!1}}}})]}}),gy=gq.create({name:"keymap",addKeyboardShortcuts(){let a=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:b})=>{let{selection:c,doc:d}=b,{empty:e,$anchor:f}=c,{pos:g,parent:h}=f,i=f.parent.isTextblock&&g>0?b.doc.resolve(g-1):f,j=i.parent.type.spec.isolating,k=f.pos-f.parentOffset,l=j&&1===i.parent.childCount?k===f.pos:a5.atStart(d).from===g;return!!e&&!!h.type.isTextblock&&!h.textContent.length&&!!l&&(!l||"paragraph"!==f.parent.type.name)&&a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),b=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),c={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:a,"Mod-Backspace":a,"Shift-Backspace":a,Delete:b,"Mod-Delete":b,"Mod-a":()=>this.editor.commands.selectAll()},d={...c},e={...c,"Ctrl-h":a,"Alt-Backspace":a,"Ctrl-d":b,"Ctrl-Alt-Backspace":b,"Alt-Delete":b,"Alt-d":b,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return e$()||fd()?e:d},addProseMirrorPlugins(){return[new bn({key:new bq("clearDocument"),appendTransaction:(a,b,c)=>{if(a.some(a=>a.getMeta("composition")))return;let d=a.some(a=>a.docChanged)&&!b.doc.eq(c.doc),e=a.some(a=>a.getMeta("preventClearDocument"));if(!d||e)return;let{empty:f,from:g,to:h}=b.selection,i=a5.atStart(b.doc).from,j=a5.atEnd(b.doc).to;if(f||g!==i||h!==j||!fW(c.doc))return;let k=c.tr,l=ey({state:c,transaction:k}),{commands:m}=new ez({editor:this.editor,state:l});if(m.clearNodes(),k.steps.length)return k}})]}}),gz=gq.create({name:"paste",addProseMirrorPlugins(){return[new bn({key:new bq("tiptapPaste"),props:{handlePaste:(a,b,c)=>{this.editor.emit("paste",{editor:this.editor,event:b,slice:c})}}})]}}),gA=gq.create({name:"tabindex",addProseMirrorPlugins(){return[new bn({key:new bq("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),gB=class a{constructor(a,b,c=!1,d=null){this.currentNode=null,this.actualDepth=null,this.isBlock=c,this.resolvedPos=a,this.editor=b,this.currentNode=d}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var a;return null!=(a=this.actualDepth)?a:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(a){let b=this.from,c=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);b=this.from+1,c=this.to-1}this.editor.commands.insertContentAt({from:b,to:c},a)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+ +!this.node.isText}get parent(){if(0===this.depth)return null;let b=this.resolvedPos.start(this.resolvedPos.depth-1);return new a(this.resolvedPos.doc.resolve(b),this.editor)}get before(){let b=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return b.depth!==this.depth&&(b=this.resolvedPos.doc.resolve(this.from-3)),new a(b,this.editor)}get after(){let b=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return b.depth!==this.depth&&(b=this.resolvedPos.doc.resolve(this.to+3)),new a(b,this.editor)}get children(){let b=[];return this.node.content.forEach((c,d)=>{let e=c.isBlock&&!c.isTextblock,f=c.isAtom&&!c.isText,g=this.pos+d+ +!f;if(g<0||g>this.resolvedPos.doc.nodeSize-2)return;let h=this.resolvedPos.doc.resolve(g);if(!e&&h.depth<=this.depth)return;let i=new a(h,this.editor,e,e?c:null);e&&(i.actualDepth=this.depth+1),b.push(new a(h,this.editor,e,e?c:null))}),b}get firstChild(){return this.children[0]||null}get lastChild(){let a=this.children;return a[a.length-1]||null}closest(a,b={}){let c=null,d=this.parent;for(;d&&!c;){if(d.node.type.name===a)if(Object.keys(b).length>0){let a=d.node.attrs,c=Object.keys(b);for(let d=0;d<c.length;d+=1){let e=c[d];if(a[e]!==b[e])break}}else c=d;d=d.parent}return c}querySelector(a,b={}){return this.querySelectorAll(a,b,!0)[0]||null}querySelectorAll(a,b={},c=!1){let d=[];if(!this.children||0===this.children.length)return d;let e=Object.keys(b);return this.children.forEach(f=>{(!c||!(d.length>0))&&(f.node.type.name===a&&e.every(a=>b[a]===f.node.attrs[a])&&d.push(f),c&&d.length>0||(d=d.concat(f.querySelectorAll(a,b,c))))}),d}setAttribute(a){let{tr:b}=this.editor.state;b.setNodeMarkup(this.from,void 0,{...this.node.attrs,...a}),this.editor.view.dispatch(b)}},gC=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`,gD=class extends gh{constructor(a={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:a})=>{throw a},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(a),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:a,slice:b,moved:c})=>this.options.onDrop(a,b,c)),this.on("paste",({event:a,slice:b})=>this.options.onPaste(a,b)),this.on("delete",this.options.onDelete);let b=this.createDoc(),c=eY(b,this.options.autofocus);this.editorState=bm.create({doc:b,schema:this.schema,selection:c||void 0}),this.options.element&&this.mount(this.options.element)}mount(a){if("undefined"==typeof document)throw Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(a),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){let a=this.editorView.dom;(null==a?void 0:a.editor)&&delete a.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(a){console.warn("Failed to remove CSS element:",a)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(a,b,c){let d=document.querySelector("style[data-tiptap-style]");if(null!==d)return d;let e=document.createElement("style");return b&&e.setAttribute("nonce",b),e.setAttribute("data-tiptap-style",""),e.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(e),e}(gC,this.options.injectNonce))}setOptions(a={}){this.options={...this.options,...a},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(a,b=!0){this.setOptions({editable:a}),b&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:a=>{this.editorState=a},dispatch:a=>{this.dispatchTransaction(a)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(a,b)=>{if(this.editorView)return this.editorView[b];if("state"===b)return this.editorState;if(b in a)return Reflect.get(a,b);throw Error(`[tiptap error]: The editor view is not available. Cannot access view['${b}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(a,b){let c=fC(b)?b(a,[...this.state.plugins]):[...this.state.plugins,a],d=this.state.reconfigure({plugins:c});return this.view.updateState(d),d}unregisterPlugin(a){if(this.isDestroyed)return;let b=this.state.plugins,c=b;if([].concat(a).forEach(a=>{let b="string"==typeof a?`${a}$`:a.key;c=c.filter(a=>!a.key.startsWith(b))}),b.length===c.length)return;let d=this.state.reconfigure({plugins:c});return this.view.updateState(d),d}createExtensionManager(){var a,b;let c=[...this.options.enableCoreExtensions?[gv,gr.configure({blockSeparator:null==(b=null==(a=this.options.coreExtensionOptions)?void 0:a.clipboardTextSerializer)?void 0:b.blockSeparator}),gs,gx,gy,gA,gu,gz,gt].filter(a=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[a.name]):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(null==a?void 0:a.type));this.extensionManager=new gp(c,this)}createCommandManager(){this.commandManager=new ez({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let a;try{a=fu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(b){if(!(b instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(b.message))throw b;this.emit("contentError",{editor:this,error:b,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>"collaboration"!==a.name),this.createExtensionManager()}}),a=fu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return a}createView(a){var b;this.editorView=new eg(a,{...this.options.editorProps,attributes:{role:"textbox",...null==(b=this.options.editorProps)?void 0:b.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});let c=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(c),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(a){this.isCapturingTransaction=!0,a(),this.isCapturingTransaction=!1;let b=this.capturedTransaction;return this.capturedTransaction=null,b}dispatchTransaction(a){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=a;return}a.steps.forEach(a=>{var b;return null==(b=this.capturedTransaction)?void 0:b.step(a)});return}let{state:b,transactions:c}=this.state.applyTransaction(a),d=!this.state.selection.eq(b.selection),e=c.includes(a),f=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:a,nextState:b}),!e)return;this.view.updateState(b),this.emit("transaction",{editor:this,transaction:a,appendedTransactions:c.slice(1)}),d&&this.emit("selectionUpdate",{editor:this,transaction:a});let g=c.findLast(a=>a.getMeta("focus")||a.getMeta("blur")),h=null==g?void 0:g.getMeta("focus"),i=null==g?void 0:g.getMeta("blur");h&&this.emit("focus",{editor:this,event:h.event,transaction:g}),i&&this.emit("blur",{editor:this,event:i.event,transaction:g}),a.getMeta("preventUpdate")||!c.some(a=>a.docChanged)||f.doc.eq(b.doc)||this.emit("update",{editor:this,transaction:a,appendedTransactions:c.slice(1)})}getAttributes(a){return fO(this.state,a)}isActive(a,b){let c="string"==typeof a?a:null,d="string"==typeof a?b:a;return function(a,b,c={}){if(!b)return ff(a,null,c)||fT(a,null,c);let d=fk(b,a.schema);return"node"===d?ff(a,b,c):"mark"===d&&fT(a,b,c)}(this.state,c,d)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fB(this.state.doc.content,this.schema)}getText(a){let{blockSeparator:b="\n\n",textSerializers:c={}}=a||{};return function(a,b){let c={from:0,to:a.content.size};return fM(a,c,b)}(this.state.doc,{blockSeparator:b,textSerializers:{...fN(this.schema),...c}})}get isEmpty(){return fW(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var a,b;return null==(b=null==(a=this.editorView)?void 0:a.isDestroyed)||b}$node(a,b){var c;return(null==(c=this.$doc)?void 0:c.querySelector(a,b))||null}$nodes(a,b){var c;return(null==(c=this.$doc)?void 0:c.querySelectorAll(a,b))||null}$pos(a){return new gB(this.state.doc.resolve(a),this)}get $doc(){return this.$pos(0)}};function gE(a){return new gi({find:a.find,handler:({state:b,range:c,match:d})=>{let e=fD(a.getAttributes,void 0,d);if(!1===e||null===e)return null;let{tr:f}=b,g=d[d.length-1],h=d[0];if(g){let d=h.search(/\S/),i=c.from+h.indexOf(g),j=i+g.length;if(fQ(c.from,c.to,b.doc).filter(b=>b.mark.type.excluded.find(c=>c===a.type&&c!==b.mark.type)).filter(a=>a.to>i).length)return null;j<c.to&&f.delete(j,c.to),i>c.from&&f.delete(c.from+d,i);let k=c.from+d+g.length;f.addMark(c.from+d,k,a.type.create(e||{})),f.removeStoredMark(a.type)}},undoable:a.undoable})}function gF(a){return new gi({find:a.find,handler:({state:b,range:c,match:d})=>{let e=fD(a.getAttributes,void 0,d)||{},{tr:f}=b,g=c.from,h=c.to,i=a.type.create(e);if(d[1]){let a=g+d[0].lastIndexOf(d[1]);a>h?a=h:h=a+d[1].length;let b=d[0][d[0].length-1];f.insertText(b,g+d[0].length-1),f.replaceWith(a,h,i)}else if(d[0]){let b=a.type.isInline?g:g-1;f.insert(b,a.type.create(e)).delete(f.mapping.map(g),f.mapping.map(h))}f.scrollIntoView()},undoable:a.undoable})}function gG(a){return new gi({find:a.find,handler:({state:b,range:c,match:d})=>{let e=b.doc.resolve(c.from),f=fD(a.getAttributes,void 0,d)||{};if(!e.node(-1).canReplaceWith(e.index(-1),e.indexAfter(-1),a.type))return null;b.tr.delete(c.from,c.to).setBlockType(c.from,c.from,a.type,f)},undoable:a.undoable})}function gH(a){return new gi({find:a.find,handler:({state:b,range:c,match:d,chain:e})=>{let f=fD(a.getAttributes,void 0,d)||{},g=b.tr.delete(c.from,c.to),h=g.doc.resolve(c.from).blockRange(),i=h&&aL(h,a.type,f);if(!i)return null;if(g.wrap(h,i),a.keepMarks&&a.editor){let{selection:c,storedMarks:d}=b,{splittableMarks:e}=a.editor.extensionManager,f=d||c.$to.parentOffset&&c.$from.marks();if(f){let a=f.filter(a=>e.includes(a.type.name));g.ensureMarks(a)}}if(a.keepAttributes){let b="bulletList"===a.type.name||"orderedList"===a.type.name?"listItem":"taskList";e().updateAttributes(b,f).run()}let j=g.doc.resolve(c.from-1).nodeBefore;j&&j.type===a.type&&aQ(g.doc,c.from-1)&&(!a.joinPredicate||a.joinPredicate(d,j))&&g.join(c.from-1)},undoable:a.undoable})}function gI(a){if(!(null==a?void 0:a.trim()))return{};let b={},c=[],d=a.replace(/["']([^"']*)["']/g,a=>(c.push(a),`__QUOTED_${c.length-1}__`)),e=d.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);e&&(b.class=e.map(a=>a.trim().slice(1)).join(" "));let f=d.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);f&&(b.id=f[1]),Array.from(d.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(([,a,d])=>{var e;let f=c[parseInt((null==(e=d.match(/__QUOTED_(\d+)__/))?void 0:e[1])||"0",10)];f&&(b[a]=f.slice(1,-1))});let g=d.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return g&&g.split(/\s+/).filter(Boolean).forEach(a=>{a.match(/^[a-zA-Z][\w-]*$/)&&(b[a]=!0)}),b}function gJ(a){if(!a||0===Object.keys(a).length)return"";let b=[];return a.class&&String(a.class).split(/\s+/).filter(Boolean).forEach(a=>b.push(`.${a}`)),a.id&&b.push(`#${a.id}`),Object.entries(a).forEach(([a,c])=>{"class"!==a&&"id"!==a&&(!0===c?b.push(a):!1!==c&&null!=c&&b.push(`${a}="${String(c)}"`))}),b.join(" ")}function gK(a){let{nodeName:b,name:c,parseAttributes:d=gI,serializeAttributes:e=gJ,defaultAttributes:f={},requiredAttributes:g=[],allowedAttributes:h}=a,i=c||b;return{parseMarkdown:(a,c)=>{let d={...f,...a.attributes};return c.createNode(b,d,[])},markdownTokenizer:{name:b,level:"block",start(a){var b;let c=RegExp(`^:::${i}(?:\\s|$)`,"m"),d=null==(b=a.match(c))?void 0:b.index;return void 0!==d?d:-1},tokenize(a,c,e){let f=RegExp(`^:::${i}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),h=a.match(f);if(!h)return;let j=d(h[1]||"");if(!g.find(a=>!(a in j)))return{type:b,raw:h[0],attributes:j}}},renderMarkdown:a=>{let b=e((a=>{if(!h)return a;let b={};return h.forEach(c=>{c in a&&(b[c]=a[c])}),b})(a.attrs||{})),c=b?` {${b}}`:"";return`:::${i}${c} :::`}}}function gL(a){let{nodeName:b,name:c,getContent:d,parseAttributes:e=gI,serializeAttributes:f=gJ,defaultAttributes:g={},content:h="block",allowedAttributes:i}=a,j=c||b;return{parseMarkdown:(a,c)=>{let e;if(d){let b=d(a);e="string"==typeof b?[{type:"text",text:b}]:b}else e="block"===h?c.parseChildren(a.tokens||[]):c.parseInline(a.tokens||[]);let f={...g,...a.attributes};return c.createNode(b,f,e)},markdownTokenizer:{name:b,level:"block",start(a){var b;let c=RegExp(`^:::${j}`,"m"),d=null==(b=a.match(c))?void 0:b.index;return void 0!==d?d:-1},tokenize(a,c,d){var f;let g=RegExp(`^:::${j}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),i=a.match(g);if(!i)return;let[k,l=""]=i,m=e(l),n=1,o=k.length,p="",q=/^:::([\w-]*)(\s.*)?/gm,r=a.slice(o);for(q.lastIndex=0;;){let c=q.exec(r);if(null===c)break;let e=c.index,g=c[1];if(null==(f=c[2])||!f.endsWith(":::")){if(g)n+=1;else if(0==(n-=1)){let f=r.slice(0,e);p=f.trim();let g=a.slice(0,o+e+c[0].length),i=[];if(p)if("block"===h)for((i=d.blockTokens(f)).forEach(a=>{a.text&&(!a.tokens||0===a.tokens.length)&&(a.tokens=d.inlineTokens(a.text))});i.length>0;){let a=i[i.length-1];if("paragraph"!==a.type||a.text&&""!==a.text.trim())break;i.pop()}else i=d.inlineTokens(p);return{type:b,raw:g,attributes:m,content:p,tokens:i}}}}}},renderMarkdown:(a,b)=>{let c=f((a=>{if(!i)return a;let b={};return i.forEach(c=>{c in a&&(b[c]=a[c])}),b})(a.attrs||{})),d=c?` {${c}}`:"",e=b.renderChildren(a.content||[],"\n\n");return`:::${j}${d}

${e}

:::`}}}function gM(a){if(!a.trim())return{};let b={},c=/(\w+)=(?:"([^"]*)"|'([^']*)')/g,d=c.exec(a);for(;null!==d;){let[,e,f,g]=d;b[e]=f||g,d=c.exec(a)}return b}function gN(a){return Object.entries(a).filter(([,a])=>null!=a).map(([a,b])=>`${a}="${b}"`).join(" ")}function gO(a){let{nodeName:b,name:c,getContent:d,parseAttributes:e=gM,serializeAttributes:f=gN,defaultAttributes:g={},selfClosing:h=!1,allowedAttributes:i}=a,j=c||b,k=j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(a,c)=>{let e={...g,...a.attributes};if(h)return c.createNode(b,e);let f=d?d(a):a.content||"";return f?c.createNode(b,e,[c.createTextNode(f)]):c.createNode(b,e,[])},markdownTokenizer:{name:b,level:"inline",start(a){let b=h?RegExp(`\\[${k}\\s*[^\\]]*\\]`):RegExp(`\\[${k}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${k}\\]`),c=a.match(b),d=null==c?void 0:c.index;return void 0!==d?d:-1},tokenize(a,c,d){let f=h?RegExp(`^\\[${k}\\s*([^\\]]*)\\]`):RegExp(`^\\[${k}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${k}\\]`),g=a.match(f);if(!g)return;let i="",j="";if(h){let[,a]=g;j=a}else{let[,a,b]=g;j=a,i=b||""}let l=e(j.trim());return{type:b,raw:g[0],content:i.trim(),attributes:l}}},renderMarkdown:a=>{let b="";d?b=d(a):a.content&&a.content.length>0&&(b=a.content.filter(a=>"text"===a.type).map(a=>a.text).join(""));let c=f((a=>{if(!i)return a;let b={};return i.forEach(c=>{c in a&&(b[c]=a[c])}),b})(a.attrs||{})),e=c?` ${c}`:"";return h?`[${j}${e}]`:`[${j}${e}]${b}[/${j}]`}}}function gP(a,b,c){var d,e,f,g;let h=a.split("\n"),i=[],j="",k=0,l=b.baseIndentSize||2;for(;k<h.length;){let a,m=h[k],n=m.match(b.itemPattern);if(!n)if(i.length>0)break;else{if(""!==m.trim())return;k+=1;continue}let o=b.extractItemData(n),{indentLevel:p,mainContent:q}=o;j=`${j}${m}
`;let r=[q];for(k+=1;k<h.length;){let a=h[k];if(""===a.trim()){let b=h.slice(k+1).findIndex(a=>""!==a.trim());if(-1===b)break;if(((null==(e=null==(d=h[k+1+b].match(/^(\s*)/))?void 0:d[1])?void 0:e.length)||0)>p){r.push(a),j=`${j}${a}
`,k+=1;continue}break}if(((null==(g=null==(f=a.match(/^(\s*)/))?void 0:f[1])?void 0:g.length)||0)>p)r.push(a),j=`${j}${a}
`,k+=1;else break}let s=r.slice(1);if(s.length>0){let d=s.map(a=>a.slice(p+l)).join("\n");d.trim()&&(a=b.customNestedParser?b.customNestedParser(d):c.blockTokens(d))}let t=b.createToken(o,a);i.push(t)}if(0!==i.length)return{items:i,raw:j.trim()}}function gQ(a,b,c,d){if(!a||!Array.isArray(a.content))return"";let e="function"==typeof c?c(d):c,[f,...g]=a.content,h=b.renderChildren([f]),i=[`${e}${h}`];return g&&g.length>0&&g.forEach(a=>{let c=b.renderChildren([a]);if(c){let a=c.split("\n").map(a=>a?b.indent(a):"").join("\n");i.push(a)}}),i.join("\n")}ex({},{createAtomBlockMarkdownSpec:()=>gK,createBlockMarkdownSpec:()=>gL,createInlineMarkdownSpec:()=>gO,parseAttributes:()=>gI,parseIndentedBlocks:()=>gP,renderNestedMarkdownContent:()=>gQ,serializeAttributes:()=>gJ});var gR=class a extends gl{constructor(){super(...arguments),this.type="node"}static create(b={}){return new a("function"==typeof b?b():b)}configure(a){return super.configure(a)}extend(a){let b="function"==typeof a?a():a;return super.extend(b)}},gS=class{constructor(a,b,c){this.isDragging=!1,this.component=a,this.editor=b.editor,this.options={stopEvent:null,ignoreMutation:null,...c},this.extension=b.extension,this.node=b.node,this.decorations=b.decorations,this.innerDecorations=b.innerDecorations,this.view=b.view,this.HTMLAttributes=b.HTMLAttributes,this.getPos=b.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(a){var b,c,d,e,f,g,h;let{view:i}=this.editor,j=a.target,k=3===j.nodeType?null==(b=j.parentElement)?void 0:b.closest("[data-drag-handle]"):j.closest("[data-drag-handle]");if(!this.dom||(null==(c=this.contentDOM)?void 0:c.contains(j))||!k)return;let l=0,m=0;if(this.dom!==k){let b=this.dom.getBoundingClientRect(),c=k.getBoundingClientRect(),h=null!=(e=a.offsetX)?e:null==(d=a.nativeEvent)?void 0:d.offsetX,i=null!=(g=a.offsetY)?g:null==(f=a.nativeEvent)?void 0:f.offsetY;l=c.x-b.x+h,m=c.y-b.y+i}let n=this.dom.cloneNode(!0);try{let a=this.dom.getBoundingClientRect();n.style.width=`${Math.round(a.width)}px`,n.style.height=`${Math.round(a.height)}px`,n.style.boxSizing="border-box",n.style.pointerEvents="none"}catch{}let o=null;try{(o=document.createElement("div")).style.position="absolute",o.style.top="-9999px",o.style.left="-9999px",o.style.pointerEvents="none",o.appendChild(n),document.body.appendChild(o),null==(h=a.dataTransfer)||h.setDragImage(n,l,m)}finally{o&&setTimeout(()=>{try{null==o||o.remove()}catch{}},0)}let p=this.getPos();if("number"!=typeof p)return;let q=bb.create(i.state.doc,p),r=i.state.tr.setSelection(q);i.dispatch(r)}stopEvent(a){var b;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:a});let c=a.target;if(!(this.dom.contains(c)&&!(null==(b=this.contentDOM)?void 0:b.contains(c))))return!1;let d=a.type.startsWith("drag"),e="drop"===a.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(c.tagName)||c.isContentEditable)&&!e&&!d)return!0;let{isEditable:f}=this.editor,{isDragging:g}=this,h=!!this.node.type.spec.draggable,i=bb.isSelectable(this.node),j="copy"===a.type,k="paste"===a.type,l="cut"===a.type,m="mousedown"===a.type;if(!h&&i&&d&&a.target===this.dom&&a.preventDefault(),h&&d&&!g&&a.target===this.dom)return a.preventDefault(),!1;if(h&&f&&!g&&m){let a=c.closest("[data-drag-handle]");a&&(this.dom===a||this.dom.contains(a))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!g&&!e&&!j&&!k&&!l&&(!m||!i)}ignoreMutation(a){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:a}):!!this.node.isLeaf||!!this.node.isAtom||!("selection"===a.type||this.dom.contains(a.target)&&"childList"===a.type&&(e$()||eZ())&&this.editor.isFocused&&[...Array.from(a.addedNodes),...Array.from(a.removedNodes)].every(a=>a.isContentEditable))&&(this.contentDOM===a.target&&"attributes"===a.type||!this.contentDOM.contains(a.target)))}updateAttributes(a){this.editor.commands.command(({tr:b})=>{let c=this.getPos();return"number"==typeof c&&(b.setNodeMarkup(c,void 0,{...this.node.attrs,...a}),!0)})}deleteNode(){let a=this.getPos();if("number"!=typeof a)return;let b=a+this.node.nodeSize;this.editor.commands.deleteRange({from:a,to:b})}};function gT(a){return new gn({find:a.find,handler:({state:b,range:c,match:d,pasteEvent:e})=>{let f=fD(a.getAttributes,void 0,d,e);if(!1===f||null===f)return null;let{tr:g}=b,h=d[d.length-1],i=d[0],j=c.to;if(h){let d=i.search(/\S/),e=c.from+i.indexOf(h),k=e+h.length;if(fQ(c.from,c.to,b.doc).filter(b=>b.mark.type.excluded.find(c=>c===a.type&&c!==b.mark.type)).filter(a=>a.to>e).length)return null;k<c.to&&g.delete(k,c.to),e>c.from&&g.delete(c.from+d,e),j=c.from+d+h.length,g.addMark(c.from+d,j,a.type.create(f||{})),g.removeStoredMark(a.type)}}})}var gU=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,gV=gR.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:a}){return["img",fG(this.options.HTMLAttributes,a)]},parseMarkdown:(a,b)=>b.createNode("image",{src:a.href,title:a.title,alt:a.text}),renderMarkdown:a=>{var b,c,d,e,f,g;let h=null!=(c=null==(b=a.attrs)?void 0:b.src)?c:"",i=null!=(e=null==(d=a.attrs)?void 0:d.alt)?e:"",j=null!=(g=null==(f=a.attrs)?void 0:f.title)?g:"";return j?`![${i}](${h} "${j}")`:`![${i}](${h})`},addCommands(){return{setImage:a=>({commands:b})=>b.insertContent({type:this.name,attrs:a})}},addInputRules(){return[gF({find:gU,type:this.type,getAttributes:a=>{let[,,b,c,d]=a;return{src:c,alt:b,title:d}}})]}}),gW=q,gX=a.i(487610),gY=a.i(906798),gZ=a.i(864442),g$=({contentComponent:a})=>{let b=(0,gX.useSyncExternalStore)(a.subscribe,a.getSnapshot,a.getServerSnapshot);return(0,h.jsx)(h.Fragment,{children:Object.values(b)})},g_=class extends gW.default.Component{constructor(a){var b;super(a),this.editorContentRef=gW.default.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(b=a.editor)?void 0:b.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let a=this.props.editor;if(a&&!a.isDestroyed&&a.options.element){if(a.contentComponent)return;let b=this.editorContentRef.current;b.append(a.view.dom),a.setOptions({element:b}),a.contentComponent=function(){let a=new Set,b={};return{subscribe:b=>(a.add(b),()=>{a.delete(b)}),getSnapshot:()=>b,getServerSnapshot:()=>b,setRenderer(c,d){b={...b,[c]:r.default.createPortal(d.reactElement,d.element,c)},a.forEach(a=>a())},removeRenderer(c){let d={...b};delete d[c],b=d,a.forEach(a=>a())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=a.contentComponent.subscribe(()=>{this.setState(a=>a.hasContentComponentInitialized?a:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),a.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var a;let b=this.props.editor;if(b){this.initialized=!1,b.isDestroyed||b.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),b.contentComponent=null;try{if(!(null==(a=b.view.dom)?void 0:a.firstChild))return;let c=document.createElement("div");c.append(b.view.dom),b.setOptions({element:c})}catch{}}}render(){let{editor:a,innerRef:b,...c}=this.props;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{ref:((...a)=>b=>{a.forEach(a=>{"function"==typeof a?a(b):a&&(a.current=b)})})(b,this.editorContentRef),...c}),(null==a?void 0:a.contentComponent)&&(0,h.jsx)(g$,{contentComponent:a.contentComponent})]})}},g0=(0,gW.forwardRef)((a,b)=>{let c=gW.default.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[a.editor]);return gW.default.createElement(g_,{key:c,innerRef:b,...a})}),g1=gW.default.memo(g0),g2=gW.useEffect,g3=class{constructor(a){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=a,this.lastSnapshot={editor:a,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(a){return this.subscribers.add(a),()=>{this.subscribers.delete(a)}}watch(a){if(this.editor=a,this.editor){let a=()=>{this.transactionNumber+=1,this.subscribers.forEach(a=>a())},b=this.editor;return b.on("transaction",a),()=>{b.off("transaction",a)}}}},g4=class a{constructor(a){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=a,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(a){this.editor=a,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(a=>a())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?null:(this.options.current.immediatelyRender,this.options.current.immediatelyRender)?this.createEditor():null}createEditor(){return new gD({...this.options.current,onBeforeCreate:(...a)=>{var b,c;return null==(c=(b=this.options.current).onBeforeCreate)?void 0:c.call(b,...a)},onBlur:(...a)=>{var b,c;return null==(c=(b=this.options.current).onBlur)?void 0:c.call(b,...a)},onCreate:(...a)=>{var b,c;return null==(c=(b=this.options.current).onCreate)?void 0:c.call(b,...a)},onDestroy:(...a)=>{var b,c;return null==(c=(b=this.options.current).onDestroy)?void 0:c.call(b,...a)},onFocus:(...a)=>{var b,c;return null==(c=(b=this.options.current).onFocus)?void 0:c.call(b,...a)},onSelectionUpdate:(...a)=>{var b,c;return null==(c=(b=this.options.current).onSelectionUpdate)?void 0:c.call(b,...a)},onTransaction:(...a)=>{var b,c;return null==(c=(b=this.options.current).onTransaction)?void 0:c.call(b,...a)},onUpdate:(...a)=>{var b,c;return null==(c=(b=this.options.current).onUpdate)?void 0:c.call(b,...a)},onContentError:(...a)=>{var b,c;return null==(c=(b=this.options.current).onContentError)?void 0:c.call(b,...a)},onDrop:(...a)=>{var b,c;return null==(c=(b=this.options.current).onDrop)?void 0:c.call(b,...a)},onPaste:(...a)=>{var b,c;return null==(c=(b=this.options.current).onPaste)?void 0:c.call(b,...a)},onDelete:(...a)=>{var b,c;return null==(c=(b=this.options.current).onDelete)?void 0:c.call(b,...a)}})}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(a){return this.subscriptions.add(a),()=>{this.subscriptions.delete(a)}}static compareOptions(a,b){return Object.keys(a).every(c=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(c)||("extensions"===c&&a.extensions&&b.extensions?a.extensions.length===b.extensions.length&&a.extensions.every((a,c)=>{var d;return a===(null==(d=b.extensions)?void 0:d[c])}):a[c]===b[c]))}onRender(b){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===b.length?a.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(b),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(a){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=a;return}if(this.previousDeps.length===a.length&&this.previousDeps.every((b,c)=>b===a[c]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=a}scheduleDestroy(){let a=this.instanceId,b=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===a){b&&b.setOptions(this.options.current);return}b&&!b.isDestroyed&&(b.destroy(),this.instanceId===a&&this.setEditor(null))},1)}};(0,gW.createContext)({editor:null}).Consumer;var g5=(0,gW.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),g6=gW.default.forwardRef((a,b)=>{let{onDragStart:c}=(0,gW.useContext)(g5),d=a.as||"div";return(0,h.jsx)(d,{...a,ref:b,"data-node-view-wrapper":"",onDragStart:c,style:{whiteSpace:"normal",...a.style}})});function g7(a){return!!("function"==typeof a&&a.prototype&&a.prototype.isReactComponent)}function g8(a){return!!("object"==typeof a&&a.$$typeof&&("Symbol(react.forward_ref)"===a.$$typeof.toString()||"react.forward_ref"===a.$$typeof.description))}var g9=class{constructor(a,{editor:b,props:c={},as:d="div",className:e=""}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=a,this.editor=b,this.props=c,this.element=document.createElement(d),this.element.classList.add("react-renderer"),e&&this.element.classList.add(...e.split(" ")),this.editor.isInitialized?(0,r.flushSync)(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var a;let b=this.component,c=this.props,d=this.editor,e=function(){try{if(gW.version)return parseInt(gW.version.split(".")[0],10)>=19}catch{}return!1}(),f=function(a){if(g7(a)||g8(a))return!0;if("object"==typeof a&&a.$$typeof&&("Symbol(react.memo)"===a.$$typeof.toString()||"react.memo"===a.$$typeof.description)){let b=a.type;if(b)return g7(b)||g8(b)}return!1}(b),g={...c};g.ref&&!(e||f)&&delete g.ref,!g.ref&&(e||f)&&(g.ref=a=>{this.ref=a}),this.reactElement=(0,h.jsx)(b,{...g}),null==(a=null==d?void 0:d.contentComponent)||a.setRenderer(this.id,this)}updateProps(a={}){this.props={...this.props,...a},this.render()}destroy(){var a;let b=this.editor;null==(a=null==b?void 0:b.contentComponent)||a.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(a){Object.keys(a).forEach(b=>{this.element.setAttribute(b,a[b])})}};gW.default.createContext({markViewContentRef:()=>{}});var ha=class extends gS{constructor(a,b,c){if(super(a,b,c),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";let a=this.dom.querySelector("[data-node-view-content]");if(!a)return;a.appendChild(this.contentDOMElement)}}mount(){let a={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(a={})=>this.updateAttributes(a),deleteNode:()=>this.deleteNode(),ref:(0,gW.createRef)()};if(!this.component.displayName){let a;this.component.displayName=(a=this.extension.name).charAt(0).toUpperCase()+a.substring(1)}let b={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:a=>{a&&this.contentDOMElement&&a.firstChild!==this.contentDOMElement&&(a.hasAttribute("data-node-view-wrapper")&&a.removeAttribute("data-node-view-wrapper"),a.appendChild(this.contentDOMElement))}},c=this.component,d=(0,gW.memo)(a=>(0,h.jsx)(g5.Provider,{value:b,children:(0,gW.createElement)(c,a)}));d.displayName="ReactNodeView";let e=this.node.isInline?"span":"div";this.options.as&&(e=this.options.as);let{className:f=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new g9(d,{editor:this.editor,props:a,as:e,className:`node-${this.node.type.name} ${f}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var a;if(this.renderer.element.firstElementChild&&!(null==(a=this.renderer.element.firstElementChild)?void 0:a.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:a,to:b}=this.editor.state.selection,c=this.getPos();if("number"==typeof c)if(a<=c&&b>=c+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(a,b,c){let d=a=>{this.renderer.updateProps(a),"function"==typeof this.options.attrs&&this.updateElementAttributes()};if(a.type!==this.node.type)return!1;if("function"==typeof this.options.update){let e=this.node,f=this.decorations,g=this.innerDecorations;return this.node=a,this.decorations=b,this.innerDecorations=c,this.options.update({oldNode:e,oldDecorations:f,newNode:a,newDecorations:b,oldInnerDecorations:g,innerDecorations:c,updateProps:()=>d({node:a,decorations:b,innerDecorations:c})})}return a===this.node&&this.decorations===b&&this.innerDecorations===c||(this.node=a,this.decorations=b,this.innerDecorations=c,d({node:a,decorations:b,innerDecorations:c}),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let a={};if("function"==typeof this.options.attrs){let b=this.editor.extensionManager.attributes,c=fH(this.node,b);a=this.options.attrs({node:this.node,HTMLAttributes:c})}else a=this.options.attrs;this.renderer.updateAttributes(a)}}};let hb=gV.extend({addAttributes(){return{...this.parent?.(),alignment:{default:"left",parseHTML:a=>a.getAttribute("data-align")||"left",renderHTML:a=>{let{alignment:b}=a,c="";return"left"===b?c="float: left; margin: 0 1em 1em 0;":"right"===b?c="float: right; margin: 0 0 1em 1em;":"center"===b?c="display: block; margin: 0 auto 1em;":"justify"===b&&(c="display: block; margin: 0 auto 1em; width: 100%;"),{style:c,"data-align":b}}},width:{default:null,parseHTML:a=>a.getAttribute("width"),renderHTML:a=>a.width?{width:a.width}:{}}}},addNodeView:()=>a=>a.editor.contentComponent?new ha(hc,a,void 0):{}}),hc=({node:a,updateAttributes:b,selected:c,editor:d,getPos:e})=>{let{src:f,alt:g,width:i,alignment:j}=a.attrs,[k,l]=(0,q.useState)(!1),[m,n]=(0,q.useState)(!1),o=(0,q.useRef)(null),p=(0,q.useRef)(0),r=(0,q.useRef)(0),s=(0,q.useRef)(0),t=(0,q.useRef)(()=>{}),u=(0,q.useRef)(()=>{});(0,q.useEffect)(()=>{let a=o.current;if(a&&!i){let c=()=>{let c=Math.min(a.naturalWidth||300,800);b({width:`${c}px`})};if(!a.complete)return a.addEventListener("load",c),()=>a.removeEventListener("load",c);c()}},[f,i,b]);let v=(0,q.useCallback)(()=>{let a=e();void 0!==a?d.commands.setNodeSelection(a):d.commands.focus()},[d,e]),w=(0,q.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),v()},[v]),x=(0,q.useCallback)(a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),v())},[v]),y=(0,q.useCallback)(a=>{if("ArrowLeft"===a.key){a.preventDefault();let c=Math.max(100,(o.current?.clientWidth||300)-5);b({width:`${c}px`})}else if("ArrowRight"===a.key){a.preventDefault();let c=Math.min(800,(o.current?.clientWidth||300)+5);b({width:`${c}px`})}},[b]),z=(0,q.useCallback)(a=>{if(a.preventDefault(),a.stopPropagation(),!k)return;let b=a.clientX-r.current,c=Math.max(100,Math.min(800,s.current+b));p.current=c,o.current&&(o.current.style.width=`${c}px`,o.current.style.maxWidth="800px")},[k]),A=(0,q.useCallback)(a=>{if(a.preventDefault(),a.stopPropagation(),!k)return;let b=a.touches[0].clientX-r.current,c=Math.max(100,Math.min(800,s.current+b));p.current=c,o.current&&(o.current.style.width=`${c}px`,o.current.style.maxWidth="800px")},[k]),B=(0,q.useCallback)(()=>{let a=p.current;a!==s.current&&b({width:`${a}px`}),o.current&&(o.current.style.removeProperty("width"),o.current.style.maxWidth="800px"),l(!1)},[b]);t.current=(0,q.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),k&&(B(),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",t.current))},[k,B,z]),u.current=(0,q.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),k&&(B(),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",u.current))},[k,B,A]);let C=(0,q.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),v(),l(!0),r.current=a.clientX,s.current=o.current?.clientWidth||300,p.current=s.current,document.addEventListener("mousemove",z),document.addEventListener("mouseup",t.current)},[v,z]),D=(0,q.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),v(),l(!0),r.current=a.touches[0].clientX,s.current=o.current?.clientWidth||300,p.current=s.current,document.addEventListener("touchmove",A),document.addEventListener("touchend",u.current)},[v,A]);(0,q.useEffect)(()=>()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",t.current),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",u.current)},[z,A]);let E="center"===j||"justify"===j,F=m||c||k;return(0,h.jsxs)(g6,{as:E?"div":"span",role:"figure",tabIndex:0,"aria-label":g||"Resizable image",className:"resizable-image-wrapper",contentEditable:!1,style:{position:"relative",display:E?"block":"inline-block",float:"left"===j?"left":"right"===j?"right":"none",margin:E?"0 auto 1em":"left"===j?"0 1em 1em 0":"right"===j?"0 0 1em 1em":"0",width:"justify"===j?"100%":"auto",outline:c||k?"1px dashed #2196f3":"none",cursor:k?"nwse-resize":"default"},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:w,onKeyDown:x,children:[(0,h.jsx)("img",{ref:o,src:f,alt:g,draggable:!1,style:{maxWidth:"800px",height:"auto",display:E?"block":"inline-block",margin:E?"0 auto":"0",pointerEvents:k?"none":"auto",width:k?`${p.current}px`:i||"auto"}}),(0,h.jsx)("div",{role:"slider",tabIndex:0,"aria-label":"Resize image width","aria-valuenow":p.current,"aria-valuemin":100,"aria-valuemax":800,className:"resize-handle",onMouseDown:C,onTouchStart:D,onKeyDown:y,style:{position:"absolute",bottom:"0",right:"0",width:"28px",height:"28px",background:"#2196f3",border:"2px solid white",borderRadius:"50%",cursor:"nwse-resize",opacity:+!!F,transition:"opacity 0.2s",zIndex:20,boxShadow:F?"0 0 4px rgba(0, 0, 0, 0.2)":"none"}})]})};var hd=a.i(988328),he=(a,b)=>{if("slot"===a)return 0;if(a instanceof Function)return a(b);let{children:c,...d}=null!=b?b:{};if("svg"===a)throw Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[a,d,c]},hf=/^\s*>\s$/,hg=gR.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:a}){return he("blockquote",{...fG(this.options.HTMLAttributes,a),children:he("slot",{})})},parseMarkdown:(a,b)=>b.createNode("blockquote",void 0,b.parseChildren(a.tokens||[])),renderMarkdown:(a,b)=>{if(!a.content)return"";let c=[];return a.content.forEach(a=>{let d=b.renderChildren(a).split("\n").map(a=>`> ${a}`).join("\n");c.push(d)}),c.flatMap(a=>[a,"> "]).slice(0,-1).join("\n")},addCommands(){return{setBlockquote:()=>({commands:a})=>a.wrapIn(this.name),toggleBlockquote:()=>({commands:a})=>a.toggleWrap(this.name),unsetBlockquote:()=>({commands:a})=>a.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[gH({find:hf,type:this.type})]}}),hh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,hi=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,hj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,hk=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hl=gm.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:a=>"normal"!==a.style.fontWeight&&null},{style:"font-weight=400",clearMark:a=>a.type.name===this.name},{style:"font-weight",getAttrs:a=>/^(bold(er)?|[5-9]\d{2,})$/.test(a)&&null}]},renderHTML({HTMLAttributes:a}){return he("strong",{...fG(this.options.HTMLAttributes,a),children:he("slot",{})})},markdownTokenName:"strong",parseMarkdown:(a,b)=>b.applyMark("bold",b.parseInline(a.tokens||[])),renderMarkdown:(a,b)=>`**${b.renderChildren(a)}**`,addCommands(){return{setBold:()=>({commands:a})=>a.setMark(this.name),toggleBold:()=>({commands:a})=>a.toggleMark(this.name),unsetBold:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[gE({find:hh,type:this.type}),gE({find:hj,type:this.type})]},addPasteRules(){return[gT({find:hi,type:this.type}),gT({find:hk,type:this.type})]}}),hm=/(^|[^`])`([^`]+)`(?!`)$/,hn=/(^|[^`])`([^`]+)`(?!`)/g,ho=gm.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:a}){return["code",fG(this.options.HTMLAttributes,a),0]},markdownTokenName:"codespan",parseMarkdown:(a,b)=>b.applyMark("code",[{type:"text",text:a.text||""}]),renderMarkdown:(a,b)=>a.content?`\`${b.renderChildren(a.content)}\``:"",addCommands(){return{setCode:()=>({commands:a})=>a.setMark(this.name),toggleCode:()=>({commands:a})=>a.toggleMark(this.name),unsetCode:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[gE({find:hm,type:this.type})]},addPasteRules(){return[gT({find:hn,type:this.type})]}}),hp=/^```([a-z]+)?[\s\n]$/,hq=/^~~~([a-z]+)?[\s\n]$/,hr=gR.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:a=>{var b;let{languageClassPrefix:c}=this.options;if(!c)return null;let d=[...(null==(b=a.firstElementChild)?void 0:b.classList)||[]].filter(a=>a.startsWith(c)).map(a=>a.replace(c,""))[0];return d||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:a,HTMLAttributes:b}){return["pre",fG(this.options.HTMLAttributes,b),["code",{class:a.attrs.language?this.options.languageClassPrefix+a.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(a,b)=>{var c;return(null==(c=a.raw)?void 0:c.startsWith("```"))===!1&&"indented"!==a.codeBlockStyle?[]:b.createNode("codeBlock",{language:a.lang||null},a.text?[b.createTextNode(a.text)]:[])},renderMarkdown:(a,b)=>{var c;let d=(null==(c=a.attrs)?void 0:c.language)||"";return a.content?[`\`\`\`${d}`,b.renderChildren(a.content),"```"].join("\n"):`\`\`\`${d}

\`\`\``},addCommands(){return{setCodeBlock:a=>({commands:b})=>b.setNode(this.name,a),toggleCodeBlock:a=>({commands:b})=>b.toggleNode(this.name,"paragraph",a)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:a,$anchor:b}=this.editor.state.selection,c=1===b.pos;return!!a&&b.parent.type.name===this.name&&(!!c||!b.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:a})=>{var b;if(!this.options.enableTabIndentation)return!1;let c=null!=(b=this.options.tabSize)?b:4,{state:d}=a,{selection:e}=d,{$from:f,empty:g}=e;if(f.parent.type!==this.type)return!1;let h=" ".repeat(c);return g?a.commands.insertContent(h):a.commands.command(({tr:a})=>{let{from:b,to:c}=e,f=d.doc.textBetween(b,c,"\n","\n").split("\n").map(a=>h+a).join("\n");return a.replaceWith(b,c,d.schema.text(f)),!0})},"Shift-Tab":({editor:a})=>{var b;if(!this.options.enableTabIndentation)return!1;let c=null!=(b=this.options.tabSize)?b:4,{state:d}=a,{selection:e}=d,{$from:f,empty:g}=e;return f.parent.type===this.type&&(g?a.commands.command(({tr:a})=>{var b;let{pos:e}=f,g=f.start(),h=f.end(),i=d.doc.textBetween(g,h,"\n","\n").split("\n"),j=0,k=0,l=e-g;for(let a=0;a<i.length;a+=1){if(k+i[a].length>=l){j=a;break}k+=i[a].length+1}let m=Math.min(((null==(b=i[j].match(/^ */))?void 0:b[0])||"").length,c);if(0===m)return!0;let n=g;for(let a=0;a<j;a+=1)n+=i[a].length+1;return a.delete(n,n+m),e-n<=m&&a.setSelection(a9.create(a.doc,n)),!0}):a.commands.command(({tr:a})=>{let{from:b,to:f}=e,g=d.doc.textBetween(b,f,"\n","\n").split("\n").map(a=>{var b;let d=Math.min(((null==(b=a.match(/^ */))?void 0:b[0])||"").length,c);return a.slice(d)}).join("\n");return a.replaceWith(b,f,d.schema.text(g)),!0}))},Enter:({editor:a})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:b}=a,{selection:c}=b,{$from:d,empty:e}=c;if(!e||d.parent.type!==this.type)return!1;let f=d.parentOffset===d.parent.nodeSize-2,g=d.parent.textContent.endsWith("\n\n");return!!f&&!!g&&a.chain().command(({tr:a})=>(a.delete(d.pos-2,d.pos),!0)).exitCode().run()},ArrowDown:({editor:a})=>{if(!this.options.exitOnArrowDown)return!1;let{state:b}=a,{selection:c,doc:d}=b,{$from:e,empty:f}=c;if(!f||e.parent.type!==this.type||e.parentOffset!==e.parent.nodeSize-2)return!1;let g=e.after();return void 0!==g&&(d.nodeAt(g)?a.commands.command(({tr:a})=>(a.setSelection(a5.near(d.resolve(g))),!0)):a.commands.exitCode())}}},addInputRules(){return[gG({find:hp,type:this.type,getAttributes:a=>({language:a[1]})}),gG({find:hq,type:this.type,getAttributes:a=>({language:a[1]})})]},addProseMirrorPlugins(){return[new bn({key:new bq("codeBlockVSCodeHandler"),props:{handlePaste:(a,b)=>{if(!b.clipboardData||this.editor.isActive(this.type.name))return!1;let c=b.clipboardData.getData("text/plain"),d=b.clipboardData.getData("vscode-editor-data"),e=d?JSON.parse(d):void 0,f=null==e?void 0:e.mode;if(!c||!f)return!1;let{tr:g,schema:h}=a.state,i=h.text(c.replace(/\r\n?/g,"\n"));return g.replaceSelectionWith(this.type.create({language:f},i)),g.selection.$from.parent.type!==this.type&&g.setSelection(a9.near(g.doc.resolve(Math.max(0,g.selection.from-2)))),g.setMeta("paste",!0),a.dispatch(g),!0}}})]}}),hs=gR.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(a,b)=>a.content?b.renderChildren(a.content,"\n\n"):""}),ht=gR.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:a}){return["br",fG(this.options.HTMLAttributes,a)]},renderText:()=>"\n",renderMarkdown:(a,b)=>b.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:a,chain:b,state:c,editor:d})=>a.first([()=>a.exitCode(),()=>a.command(()=>{let{selection:a,storedMarks:e}=c;if(a.$from.parent.type.spec.isolating)return!1;let{keepMarks:f}=this.options,{splittableMarks:g}=d.extensionManager,h=e||a.$to.parentOffset&&a.$from.marks();return b().insertContent({type:this.name}).command(({tr:a,dispatch:b})=>{if(b&&h&&f){let b=h.filter(a=>g.includes(a.type.name));a.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),hu=gR.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(a=>({tag:`h${a}`,attrs:{level:a}}))},renderHTML({node:a,HTMLAttributes:b}){let c=this.options.levels.includes(a.attrs.level)?a.attrs.level:this.options.levels[0];return[`h${c}`,fG(this.options.HTMLAttributes,b),0]},parseMarkdown:(a,b)=>b.createNode("heading",{level:a.depth||1},b.parseInline(a.tokens||[])),renderMarkdown:(a,b)=>{var c;let d=(null==(c=a.attrs)?void 0:c.level)?parseInt(a.attrs.level,10):1,e="#".repeat(d);return a.content?`${e} ${b.renderChildren(a.content)}`:""},addCommands(){return{setHeading:a=>({commands:b})=>!!this.options.levels.includes(a.level)&&b.setNode(this.name,a),toggleHeading:a=>({commands:b})=>!!this.options.levels.includes(a.level)&&b.toggleNode(this.name,"paragraph",a)}},addKeyboardShortcuts(){return this.options.levels.reduce((a,b)=>({...a,...{[`Mod-Alt-${b}`]:()=>this.editor.commands.toggleHeading({level:b})}}),{})},addInputRules(){return this.options.levels.map(a=>gG({find:RegExp(`^(#{${Math.min(...this.options.levels)},${a}})\\s$`),type:this.type,getAttributes:{level:a}}))}}),hv=gR.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:a}){return["hr",fG(this.options.HTMLAttributes,a)]},markdownTokenName:"hr",parseMarkdown:(a,b)=>b.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:a,state:b})=>{if(!function(a,b){let{selection:c}=a,{$from:d}=c;if(c instanceof bb){let a=d.index();return d.parent.canReplaceWith(a,a+1,b)}let e=d.depth;for(;e>=0;){let a=d.index(e);if(d.node(e).contentMatchAt(a).matchType(b))return!0;e-=1}return!1}(b,b.schema.nodes[this.name]))return!1;let{selection:c}=b,{$to:d}=c,e=a();return fX(c)?e.insertContentAt(d.pos,{type:this.name}):e.insertContent({type:this.name}),e.command(({state:a,tr:b,dispatch:c})=>{if(c){let{$to:c}=b.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?b.setSelection(a9.create(b.doc,c.pos+1)):c.nodeAfter.isBlock?b.setSelection(bb.create(b.doc,c.pos)):b.setSelection(a9.create(b.doc,c.pos));else{let e=a.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=null==e?void 0:e.create();f&&(b.insert(d,f),b.setSelection(a9.create(b.doc,d+1)))}b.scrollIntoView()}return!0}).run()}}},addInputRules(){return[gF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),hw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,hx=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hy=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,hA=gm.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:a=>"normal"!==a.style.fontStyle&&null},{style:"font-style=normal",clearMark:a=>a.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:a}){return["em",fG(this.options.HTMLAttributes,a),0]},addCommands(){return{setItalic:()=>({commands:a})=>a.setMark(this.name),toggleItalic:()=>({commands:a})=>a.toggleMark(this.name),unsetItalic:()=>({commands:a})=>a.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(a,b)=>b.applyMark("italic",b.parseInline(a.tokens||[])),renderMarkdown:(a,b)=>`*${b.renderChildren(a)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[gE({find:hw,type:this.type}),gE({find:hy,type:this.type})]},addPasteRules(){return[gT({find:hx,type:this.type}),gT({find:hz,type:this.type})]}});let hB="numeric",hC="ascii",hD="alpha",hE="asciinumeric",hF="alphanumeric",hG="domain",hH="emoji",hI="whitespace";function hJ(a,b,c){for(let d in b[hB]&&(b[hE]=!0,b[hF]=!0),b[hC]&&(b[hE]=!0,b[hD]=!0),b[hE]&&(b[hF]=!0),b[hD]&&(b[hF]=!0),b[hF]&&(b[hG]=!0),b[hH]&&(b[hG]=!0),b){let b=(d in c||(c[d]=[]),c[d]);0>b.indexOf(a)&&b.push(a)}}function hK(a=null){this.j={},this.jr=[],this.jd=null,this.t=a}hK.groups={},hK.prototype={accepts(){return!!this.t},go(a){let b=this.j[a];if(b)return b;for(let b=0;b<this.jr.length;b++){let c=this.jr[b][0],d=this.jr[b][1];if(d&&c.test(a))return d}return this.jd},has(a,b=!1){return b?a in this.j:!!this.go(a)},ta(a,b,c,d){for(let e=0;e<a.length;e++)this.tt(a[e],b,c,d)},tr(a,b,c,d){let e;return d=d||hK.groups,b&&b.j?e=b:(e=new hK(b),c&&d&&hJ(b,c,d)),this.jr.push([a,e]),e},ts(a,b,c,d){let e=this,f=a.length;if(!f)return e;for(let b=0;b<f-1;b++)e=e.tt(a[b]);return e.tt(a[f-1],b,c,d)},tt(a,b,c,d){if(d=d||hK.groups,b&&b.j)return this.j[a]=b,b;let e,f=this.go(a);return f?(Object.assign((e=new hK).j,f.j),e.jr.push.apply(e.jr,f.jr),e.jd=f.jd,e.t=f.t):e=new hK,b&&(d&&(e.t&&"string"==typeof e.t?hJ(b,Object.assign(function(a,b){let c={};for(let d in b)b[d].indexOf(a)>=0&&(c[d]=!0);return c}(e.t,d),c),d):c&&hJ(b,c,d)),e.t=b),this.j[a]=e,e}};let hL=(a,b,c,d,e)=>a.ta(b,c,d,e),hM=(a,b,c,d,e)=>a.tr(b,c,d,e),hN=(a,b,c,d,e)=>a.ts(b,c,d,e),hO=(a,b,c,d,e)=>a.tt(b,c,d,e),hP="WORD",hQ="UWORD",hR="ASCIINUMERICAL",hS="ALPHANUMERICAL",hT="LOCALHOST",hU="UTLD",hV="SCHEME",hW="SLASH_SCHEME",hX="OPENBRACE",hY="CLOSEBRACE",hZ="OPENBRACKET",h$="CLOSEBRACKET",h_="OPENPAREN",h0="CLOSEPAREN",h1="OPENANGLEBRACKET",h2="CLOSEANGLEBRACKET",h3="FULLWIDTHLEFTPAREN",h4="FULLWIDTHRIGHTPAREN",h5="LEFTCORNERBRACKET",h6="RIGHTCORNERBRACKET",h7="LEFTWHITECORNERBRACKET",h8="RIGHTWHITECORNERBRACKET",h9="FULLWIDTHLESSTHAN",ia="FULLWIDTHGREATERTHAN",ib="AMPERSAND",ic="APOSTROPHE",id="ASTERISK",ie="BACKSLASH",ig="BACKTICK",ih="CARET",ii="COLON",ij="COMMA",ik="DOLLAR",il="EQUALS",im="EXCLAMATION",io="HYPHEN",ip="PERCENT",iq="PIPE",ir="PLUS",is="POUND",it="QUERY",iu="QUOTE",iv="FULLWIDTHMIDDLEDOT",iw="SEMI",ix="SLASH",iy="TILDE",iz="UNDERSCORE",iA="EMOJI";var iB=Object.freeze({__proto__:null,ALPHANUMERICAL:hS,AMPERSAND:ib,APOSTROPHE:ic,ASCIINUMERICAL:hR,ASTERISK:id,AT:"AT",BACKSLASH:ie,BACKTICK:ig,CARET:ih,CLOSEANGLEBRACKET:h2,CLOSEBRACE:hY,CLOSEBRACKET:h$,CLOSEPAREN:h0,COLON:ii,COMMA:ij,DOLLAR:ik,DOT:"DOT",EMOJI:iA,EQUALS:il,EXCLAMATION:im,FULLWIDTHGREATERTHAN:ia,FULLWIDTHLEFTPAREN:h3,FULLWIDTHLESSTHAN:h9,FULLWIDTHMIDDLEDOT:iv,FULLWIDTHRIGHTPAREN:h4,HYPHEN:io,LEFTCORNERBRACKET:h5,LEFTWHITECORNERBRACKET:h7,LOCALHOST:hT,NL:"NL",NUM:"NUM",OPENANGLEBRACKET:h1,OPENBRACE:hX,OPENBRACKET:hZ,OPENPAREN:h_,PERCENT:ip,PIPE:iq,PLUS:ir,POUND:is,QUERY:it,QUOTE:iu,RIGHTCORNERBRACKET:h6,RIGHTWHITECORNERBRACKET:h8,SCHEME:hV,SEMI:iw,SLASH:ix,SLASH_SCHEME:hW,SYM:"SYM",TILDE:iy,TLD:"TLD",UNDERSCORE:iz,UTLD:hU,UWORD:hQ,WORD:hP,WS:"WS"});let iC=/[a-z]/,iD=/\p{L}/u,iE=/\p{Emoji}/u,iF=/\d/,iG=/\s/,iH=null,iI=null;function iJ(a,b){let c=function(a){let b=[],c=a.length,d=0;for(;d<c;){let e,f=a.charCodeAt(d),g=f<55296||f>56319||d+1===c||(e=a.charCodeAt(d+1))<56320||e>57343?a[d]:a.slice(d,d+2);b.push(g),d+=g.length}return b}(b.replace(/[A-Z]/g,a=>a.toLowerCase())),d=c.length,e=[],f=0,g=0;for(;g<d;){let h=a,i=null,j=0,k=null,l=-1,m=-1;for(;g<d&&(i=h.go(c[g]));)(h=i).accepts()?(l=0,m=0,k=h):l>=0&&(l+=c[g].length,m++),j+=c[g].length,f+=c[g].length,g++;f-=l,g-=m,j-=l,e.push({t:k.t,v:b.slice(f-j,f),s:f-j,e:f})}return e}function iK(a,b,c,d,e){let f,g=b.length;for(let c=0;c<g-1;c++){let g=b[c];a.j[g]?f=a.j[g]:((f=new hK(d)).jr=e.slice(),a.j[g]=f),a=f}return(f=new hK(c)).jr=e.slice(),a.j[b[g-1]]=f,f}function iL(a){let b=[],c=[],d=0;for(;d<a.length;){let e=0;for(;"0123456789".indexOf(a[d+e])>=0;)e++;if(e>0){b.push(c.join(""));for(let b=parseInt(a.substring(d,d+e),10);b>0;b--)c.pop();d+=e}else c.push(a[d]),d++}return b}let iM={defaultProtocol:"http",events:null,format:iO,formatHref:iO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function iN(a,b=null){let c=Object.assign({},iM);a&&(c=Object.assign(c,a instanceof iN?a.o:a));let d=c.ignoreTags,e=[];for(let a=0;a<d.length;a++)e.push(d[a].toUpperCase());this.o=c,b&&(this.defaultRender=b),this.ignoreTags=e}function iO(a){return a}function iP(a,b){this.t="token",this.v=a,this.tk=b}function iQ(a,b){class c extends iP{constructor(b,c){super(b,c),this.t=a}}for(let a in b)c.prototype[a]=b[a];return c.t=a,c}iN.prototype={o:iM,ignoreTags:[],defaultRender:a=>a,check(a){return this.get("validate",a.toString(),a)},get(a,b,c){let d=null!=b,e=this.o[a];return e&&("object"==typeof e?"function"==typeof(e=c.t in e?e[c.t]:iM[a])&&d&&(e=e(b,c)):"function"==typeof e&&d&&(e=e(b,c.t,c))),e},getObj(a,b,c){let d=this.o[a];return"function"==typeof d&&null!=b&&(d=d(b,c.t,c)),d},render(a){let b=a.render(this);return(this.get("render",null,a)||this.defaultRender)(b,a.t,a)}},iP.prototype={isLink:!1,toString(){return this.v},toHref(a){return this.toString()},toFormattedString(a){let b=this.toString(),c=a.get("truncate",b,this),d=a.get("format",b,this);return c&&d.length>c?d.substring(0,c)+"":d},toFormattedHref(a){return a.get("formatHref",this.toHref(a.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(a=iM.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(a),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(a){return{type:this.t,value:this.toFormattedString(a),isLink:this.isLink,href:this.toFormattedHref(a),start:this.startIndex(),end:this.endIndex()}},validate(a){return a.get("validate",this.toString(),this)},render(a){let b=this.toHref(a.get("defaultProtocol")),c=a.get("formatHref",b,this),d=a.get("tagName",b,this),e=this.toFormattedString(a),f={},g=a.get("className",b,this),h=a.get("target",b,this),i=a.get("rel",b,this),j=a.getObj("attributes",b,this),k=a.getObj("events",b,this);return f.href=c,g&&(f.class=g),h&&(f.target=h),i&&(f.rel=i),j&&Object.assign(f,j),{tagName:d,attributes:f,content:e,eventListeners:k}}};let iR=iQ("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),iS=iQ("text"),iT=iQ("nl"),iU=iQ("url",{isLink:!0,toHref(a=iM.defaultProtocol){return this.hasProtocol()?this.v:`${a}://${this.v}`},hasProtocol(){let a=this.tk;return a.length>=2&&a[0].t!==hT&&a[1].t===ii}}),iV=a=>new hK(a);function iW(a,b,c){let d=c[0].s,e=c[c.length-1].e;return new a(b.slice(d,e),c)}let iX="undefined"!=typeof console&&console&&console.warn||(()=>{}),iY={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function iZ(a,b=!1){if(iY.initialized&&iX(`linkifyjs: already initialized - will not register custom scheme "${a}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(a))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);iY.customSchemes.push([a,b])}function i$(a){return iY.initialized||function(){iY.scanner=function(a=[]){let b={};hK.groups=b;let c=new hK;null==iH&&(iH=iL("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==iI&&(iI=iL("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),hO(c,"'",ic),hO(c,"{",hX),hO(c,"}",hY),hO(c,"[",hZ),hO(c,"]",h$),hO(c,"(",h_),hO(c,")",h0),hO(c,"<",h1),hO(c,">",h2),hO(c,"",h3),hO(c,"",h4),hO(c,"",h5),hO(c,"",h6),hO(c,"",h7),hO(c,"",h8),hO(c,"",h9),hO(c,"",ia),hO(c,"&",ib),hO(c,"*",id),hO(c,"@","AT"),hO(c,"`",ig),hO(c,"^",ih),hO(c,":",ii),hO(c,",",ij),hO(c,"$",ik),hO(c,".","DOT"),hO(c,"=",il),hO(c,"!",im),hO(c,"-",io),hO(c,"%",ip),hO(c,"|",iq),hO(c,"+",ir),hO(c,"#",is),hO(c,"?",it),hO(c,'"',iu),hO(c,"/",ix),hO(c,";",iw),hO(c,"~",iy),hO(c,"_",iz),hO(c,"\\",ie),hO(c,"",iv);let d=hM(c,iF,"NUM",{[hB]:!0});hM(d,iF,d);let e=hM(d,iC,hR,{[hE]:!0}),f=hM(d,iD,hS,{[hF]:!0}),g=hM(c,iC,hP,{[hC]:!0});hM(g,iF,e),hM(g,iC,g),hM(e,iF,e),hM(e,iC,e);let h=hM(c,iD,hQ,{[hD]:!0});hM(h,iC),hM(h,iF,f),hM(h,iD,h),hM(f,iF,f),hM(f,iC),hM(f,iD,f);let i=hO(c,"\n","NL",{[hI]:!0}),j=hO(c,"\r","WS",{[hI]:!0}),k=hM(c,iG,"WS",{[hI]:!0});hO(c,"",k),hO(j,"\n",i),hO(j,"",k),hM(j,iG,k),hO(k,"\r"),hO(k,"\n"),hM(k,iG,k),hO(k,"",k);let l=hM(c,iE,iA,{[hH]:!0});hO(l,"#"),hM(l,iE,l),hO(l,"",l);let m=hO(l,"");hO(m,"#"),hM(m,iE,l);let n=[[iC,g],[iF,e]],o=[[iC,null],[iD,h],[iF,f]];for(let a=0;a<iH.length;a++)iK(c,iH[a],"TLD",hP,n);for(let a=0;a<iI.length;a++)iK(c,iI[a],hU,hQ,o);hJ("TLD",{tld:!0,ascii:!0},b),hJ(hU,{utld:!0,alpha:!0},b),iK(c,"file",hV,hP,n),iK(c,"mailto",hV,hP,n),iK(c,"http",hW,hP,n),iK(c,"https",hW,hP,n),iK(c,"ftp",hW,hP,n),iK(c,"ftps",hW,hP,n),hJ(hV,{scheme:!0,ascii:!0},b),hJ(hW,{slashscheme:!0,ascii:!0},b),a=a.sort((a,b)=>a[0]>b[0]?1:-1);for(let b=0;b<a.length;b++){let d=a[b][0],e=a[b][1]?{scheme:!0}:{slashscheme:!0};d.indexOf("-")>=0?e[hG]=!0:iC.test(d)?iF.test(d)?e[hE]=!0:e[hC]=!0:e[hB]=!0,hN(c,d,d,e)}return hN(c,"localhost",hT,{ascii:!0}),c.jd=new hK("SYM"),{start:c,tokens:Object.assign({groups:b},iB)}}(iY.customSchemes);for(let a=0;a<iY.tokenQueue.length;a++)iY.tokenQueue[a][1]({scanner:iY.scanner});iY.parser=function({groups:a}){let b=a.domain.concat([ib,id,"AT",ie,ig,ih,ik,il,io,"NUM",ip,iq,ir,is,ix,"SYM",iy,iz]),c=[ic,ii,ij,"DOT",im,ip,it,iu,iw,h1,h2,hX,hY,h$,hZ,h_,h0,h3,h4,h5,h6,h7,h8,h9,ia],d=[ib,ic,id,ie,ig,ih,ik,il,io,hX,hY,ip,iq,ir,is,it,ix,"SYM",iy,iz],e=iV(),f=hO(e,iy);hL(f,d,f),hL(f,a.domain,f);let g=iV(),h=iV(),i=iV();hL(e,a.domain,g),hL(e,a.scheme,h),hL(e,a.slashscheme,i),hL(g,d,f),hL(g,a.domain,g);let j=hO(g,"AT");hO(f,"AT",j),hO(h,"AT",j),hO(i,"AT",j);let k=hO(f,"DOT");hL(k,d,f),hL(k,a.domain,f);let l=iV();hL(j,a.domain,l),hL(l,a.domain,l);let m=hO(l,"DOT");hL(m,a.domain,l);let n=iV(iR);hL(m,a.tld,n),hL(m,a.utld,n),hO(j,hT,n);let o=hO(l,io);hO(o,io,o),hL(o,a.domain,l),hL(n,a.domain,l),hO(n,"DOT",m),hO(n,io,o),hL(hO(n,ii),a.numeric,iR);let p=hO(g,io),q=hO(g,"DOT");hO(p,io,p),hL(p,a.domain,g),hL(q,d,f),hL(q,a.domain,g);let r=iV(iU);hL(q,a.tld,r),hL(q,a.utld,r),hL(r,a.domain,g),hL(r,d,f),hO(r,"DOT",q),hO(r,io,p),hO(r,"AT",j);let s=hO(r,ii),t=iV(iU);hL(s,a.numeric,t);let u=iV(iU),v=iV();hL(u,b,u),hL(u,c,v),hL(v,b,u),hL(v,c,v),hO(r,ix,u),hO(t,ix,u);let w=hO(h,ii),x=hO(i,ii),y=hO(x,ix),z=hO(y,ix);hL(h,a.domain,g),hO(h,"DOT",q),hO(h,io,p),hL(i,a.domain,g),hO(i,"DOT",q),hO(i,io,p),hL(w,a.domain,u),hO(w,ix,u),hO(w,it,u),hL(z,a.domain,u),hL(z,b,u),hO(z,ix,u);let A=[[hX,hY],[hZ,h$],[h_,h0],[h1,h2],[h3,h4],[h5,h6],[h7,h8],[h9,ia]];for(let a=0;a<A.length;a++){let[d,e]=A[a],f=hO(u,d);hO(v,d,f),hO(f,e,u);let g=iV(iU);hL(f,b,g);let h=iV();hL(f,c),hL(g,b,g),hL(g,c,h),hL(h,b,g),hL(h,c,h),hO(g,e,u),hO(h,e,u)}return hO(e,hT,r),hO(e,"NL",iT),{start:e,tokens:iB}}(iY.scanner.tokens);for(let a=0;a<iY.pluginQueue.length;a++)iY.pluginQueue[a][1]({scanner:iY.scanner,parser:iY.parser});iY.initialized=!0}(),function(a,b,c){let d=c.length,e=0,f=[],g=[];for(;e<d;){let h=a,i=null,j=null,k=0,l=null,m=-1;for(;e<d&&!(i=h.go(c[e].t));)g.push(c[e++]);for(;e<d&&(j=i||h.go(c[e].t));)i=null,(h=j).accepts()?(m=0,l=h):m>=0&&m++,e++,k++;if(m<0)(e-=k)<d&&(g.push(c[e]),e++);else{g.length>0&&(f.push(iW(iS,b,g)),g=[]),e-=m,k-=m;let a=l.t,d=c.slice(e-k,e);f.push(iW(a,b,d))}}return g.length>0&&f.push(iW(iS,b,g)),f}(iY.parser.start,a,iJ(iY.scanner.start,a))}function i_(a,b=null,c=null){if(b&&"object"==typeof b){if(c)throw Error(`linkifyjs: Invalid link type ${b}; must be a string`);c=b,b=null}let d=new iN(c),e=i$(a),f=[];for(let a=0;a<e.length;a++){let c=e[a];c.isLink&&(!b||c.t===b)&&d.check(c)&&f.push(c.toFormattedObject(d))}return f}i$.scan=iJ;var i0="[\0- -\u2029]",i1=new RegExp(i0),i2=RegExp(`${i0}$`),i3=RegExp(i0,"g");function i4(a,b){let c=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return b&&b.forEach(a=>{let b="string"==typeof a?a:a.scheme;b&&c.push(b)}),!a||a.replace(i3,"").match(RegExp(`^(?:(?:${c.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var i5=gm.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(a=>{if("string"==typeof a)return void iZ(a);iZ(a.scheme,a.optionalSlashes)})},onDestroy(){hK.groups={},iY.scanner=null,iY.parser=null,iY.tokenQueue=[],iY.pluginQueue=[],iY.customSchemes=[],iY.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(a,b)=>!!i4(a,b.protocols),validate:a=>!!a,shouldAutoLink:a=>!!a}),addAttributes(){return{href:{default:null,parseHTML:a=>a.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:a=>{let b=a.getAttribute("href");return!!b&&!!this.options.isAllowedUri(b,{defaultValidate:a=>!!i4(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&null}}]},renderHTML({HTMLAttributes:a}){return this.options.isAllowedUri(a.href,{defaultValidate:a=>!!i4(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",fG(this.options.HTMLAttributes,a),0]:["a",fG(this.options.HTMLAttributes,{...a,href:""}),0]},markdownTokenName:"link",parseMarkdown:(a,b)=>b.applyMark("link",b.parseInline(a.tokens||[]),{href:a.href,title:a.title||null}),renderMarkdown:(a,b)=>{var c;let d=(null==(c=a.attrs)?void 0:c.href)||"",e=b.renderChildren(a);return`[${e}](${d})`},addCommands(){return{setLink:a=>({chain:b})=>{let{href:c}=a;return!!this.options.isAllowedUri(c,{defaultValidate:a=>!!i4(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&b().setMark(this.name,a).setMeta("preventAutolink",!0).run()},toggleLink:a=>({chain:b})=>{let{href:c}=a||{};return(!c||!!this.options.isAllowedUri(c,{defaultValidate:a=>!!i4(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&b().toggleMark(this.name,a,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:a})=>a().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[gT({find:a=>{let b=[];if(a){let{protocols:c,defaultProtocol:d}=this.options,e=i_(a).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:a=>!!i4(a,c),protocols:c,defaultProtocol:d}));e.length&&e.forEach(a=>{this.options.shouldAutoLink(a.value)&&b.push({text:a.value,data:{href:a.href},index:a.start})})}return b},type:this.type,getAttributes:a=>{var b;return{href:null==(b=a.data)?void 0:b.href}}})]},addProseMirrorPlugins(){var a,b,c;let d=[],{protocols:e,defaultProtocol:f}=this.options;return this.options.autolink&&d.push((a={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:a=>this.options.isAllowedUri(a,{defaultValidate:a=>!!i4(a,e),protocols:e,defaultProtocol:f}),shouldAutoLink:this.options.shouldAutoLink},new bn({key:new bq("autolink"),appendTransaction:(b,c,d)=>{let e=b.some(a=>a.docChanged)&&!c.doc.eq(d.doc),f=b.some(a=>a.getMeta("preventAutolink"));if(!e||f)return;let{tr:g}=d;if(fP(fx(c.doc,[...b])).forEach(({newRange:b})=>{let c,e,f=function(a,b,c){let d=[];return a.nodesBetween(b.from,b.to,(a,b)=>{c(a)&&d.push({node:a,pos:b})}),d}(d.doc,b,a=>a.isTextblock);if(f.length>1)c=f[0],e=d.doc.textBetween(c.pos,c.pos+c.node.nodeSize,void 0," ");else if(f.length){let a=d.doc.textBetween(b.from,b.to," "," ");if(!i2.test(a))return;c=f[0],e=d.doc.textBetween(c.pos,b.to,void 0," ")}if(c&&e){let b=e.split(i1).filter(Boolean);if(b.length<=0)return!1;let f=b[b.length-1],h=c.pos+e.lastIndexOf(f);if(!f)return!1;let i=i$(f).map(b=>b.toObject(a.defaultProtocol));if(!(1===i.length?i[0].isLink:3===i.length&&!!i[1].isLink&&["()","[]"].includes(i[0].value+i[2].value)))return!1;i.filter(a=>a.isLink).map(a=>({...a,from:h+a.start+1,to:h+a.end+1})).filter(a=>!d.schema.marks.code||!d.doc.rangeHasMark(a.from,a.to,d.schema.marks.code)).filter(b=>a.validate(b.value)).filter(b=>a.shouldAutoLink(b.value)).forEach(b=>{fQ(b.from,b.to,d.doc).some(b=>b.mark.type===a.type)||g.addMark(b.from,b.to,a.type.create({href:b.href}))})}}),g.steps.length)return g}}))),!0===this.options.openOnClick&&d.push((b={type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection},new bn({key:new bq("handleClickLink"),props:{handleClick:(a,c,d)=>{var e,f;if(0!==d.button||!a.editable)return!1;let g=null;if(d.target instanceof HTMLAnchorElement)g=d.target;else{let a=d.target,b=[];for(;"DIV"!==a.nodeName;)b.push(a),a=a.parentNode;g=b.find(a=>"A"===a.nodeName)}if(!g)return!1;let h=fO(a.state,b.type.name),i=null!=(e=null==g?void 0:g.href)?e:h.href,j=null!=(f=null==g?void 0:g.target)?f:h.target;return b.enableClickSelection&&b.editor.commands.extendMarkRange(b.type.name),!!g&&!!i&&(window.open(i,j),!0)}}}))),this.options.linkOnPaste&&d.push((c={editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink},new bn({key:new bq("handlePasteLink"),props:{handlePaste:(a,b,d)=>{let{shouldAutoLink:e}=c,{state:f}=a,{selection:g}=f,{empty:h}=g;if(h)return!1;let i="";d.content.forEach(a=>{i+=a.textContent});let j=i_(i,{defaultProtocol:c.defaultProtocol}).find(a=>a.isLink&&a.value===i);return!!i&&!!j&&(void 0===e||!!e(j.href))&&c.editor.commands.setMark(c.type,{href:j.href})}}}))),d}}),i6=Object.defineProperty,i7="textStyle",i8=/^\s*([-+*])\s$/,i9=gR.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:a}){return["ul",fG(this.options.HTMLAttributes,a),0]},markdownTokenName:"list",parseMarkdown:(a,b)=>"list"!==a.type||a.ordered?[]:{type:"bulletList",content:a.items?b.parseChildren(a.items):[]},renderMarkdown:(a,b)=>a.content?b.renderChildren(a.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:a,chain:b})=>this.options.keepAttributes?b().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(i7)).run():a.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let a=gH({find:i8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(a=gH({find:i8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i7),editor:this.editor})),[a]}}),ja=gR.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:a}){return["li",fG(this.options.HTMLAttributes,a),0]},markdownTokenName:"list_item",parseMarkdown:(a,b)=>{if("list_item"!==a.type)return[];let c=[];if(a.tokens&&a.tokens.length>0)if(a.tokens.some(a=>"paragraph"===a.type))c=b.parseChildren(a.tokens);else{let d=a.tokens[0];if(d&&"text"===d.type&&d.tokens&&d.tokens.length>0){if(c=[{type:"paragraph",content:b.parseInline(d.tokens)}],a.tokens.length>1){let d=a.tokens.slice(1),e=b.parseChildren(d);c.push(...e)}}else c=b.parseChildren(a.tokens)}return 0===c.length&&(c=[{type:"paragraph",content:[]}]),{type:"listItem",content:c}},renderMarkdown:(a,b,c)=>gQ(a,b,a=>"bulletList"===a.parentType?"- ":"orderedList"===a.parentType?`${a.index+1}. `:"- ",c),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((a,b)=>{for(var c in b)i6(a,c,{get:b[c],enumerable:!0})})({},{findListItemPos:()=>jb,getNextListDepth:()=>jc,handleBackspace:()=>jg,handleDelete:()=>jj,hasListBefore:()=>jd,hasListItemAfter:()=>jk,hasListItemBefore:()=>je,listItemHasSubList:()=>jf,nextListIsDeeper:()=>jh,nextListIsHigher:()=>ji});var jb=(a,b)=>{let{$from:c}=b.selection,d=eI(a,b.schema),e=c.depth,f=c.pos,g=null;for(;e>0&&null===g;)c.node(e).type===d?g=e:(e-=1,f-=1);return null===g?null:{$pos:b.doc.resolve(f),depth:g}},jc=(a,b)=>{let c=jb(a,b);if(!c)return!1;let[,d]=((a,b,c,d=20)=>{let e=a.doc.resolve(c),f=d,g=null;for(;f>0&&null===g;){let a=e.node(f);(null==a?void 0:a.type.name)===b?g=a:f-=1}return[g,f]})(b,a,c.$pos.pos+4);return d},jd=(a,b,c)=>{let{$anchor:d}=a.selection,e=Math.max(0,d.pos-2),f=a.doc.resolve(e).node();return!!f&&!!c.includes(f.type.name)},je=(a,b)=>{var c;let{$anchor:d}=b.selection,e=b.doc.resolve(d.pos-2);return 0!==e.index()&&(null==(c=e.nodeBefore)?void 0:c.type.name)===a},jf=(a,b,c)=>{if(!c)return!1;let d=eI(a,b.schema),e=!1;return c.descendants(a=>{a.type===d&&(e=!0)}),e},jg=(a,b,c)=>{if(a.commands.undoInputRule())return!0;if(a.state.selection.from!==a.state.selection.to)return!1;if(!ff(a.state,b)&&jd(a.state,b,c)){let{$anchor:c}=a.state.selection,d=a.state.doc.resolve(c.before()-1),e=[];d.node().descendants((a,c)=>{a.type.name===b&&e.push({node:a,pos:c})});let f=e.at(-1);if(!f)return!1;let g=a.state.doc.resolve(d.start()+f.pos+1);return a.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!ff(a.state,b)||!(a=>{let{$from:b,$to:c}=a.selection;return!(b.parentOffset>0)&&b.pos===c.pos})(a.state))return!1;let d=jb(b,a.state);if(!d)return!1;let e=a.state.doc.resolve(d.$pos.pos-2).node(d.depth),f=jf(b,a.state,e);return je(b,a.state)&&!f?a.commands.joinItemBackward():a.chain().liftListItem(b).run()},jh=(a,b)=>{let c=jc(a,b),d=jb(a,b);return!!d&&!!c&&c>d.depth},ji=(a,b)=>{let c=jc(a,b),d=jb(a,b);return!!d&&!!c&&c<d.depth},jj=(a,b)=>{if(!ff(a.state,b)||!((a,b)=>{let{$from:c,$to:d,$anchor:e}=a.selection;if(b){let c=fy(a=>a.type.name===b)(a.selection);if(!c)return!1;let d=a.doc.resolve(c.pos+1);return e.pos+1===d.end()}return!(d.parentOffset<d.parent.nodeSize-2)&&c.pos===d.pos})(a.state,b))return!1;let{selection:c}=a.state,{$from:d,$to:e}=c;return!(!c.empty&&d.sameParent(e))&&(jh(b,a.state)?a.chain().focus(a.state.selection.from+4).lift(b).joinBackward().run():ji(b,a.state)?a.chain().joinForward().joinBackward().run():a.commands.joinItemForward())},jk=(a,b)=>{var c;let{$anchor:d}=b.selection,e=b.doc.resolve(d.pos-d.parentOffset-2);return e.index()!==e.parent.childCount-1&&(null==(c=e.nodeAfter)?void 0:c.type.name)===a},jl=gq.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:a})=>{let b=!1;return this.options.listTypes.forEach(({itemName:c})=>{void 0!==a.state.schema.nodes[c]&&jj(a,c)&&(b=!0)}),b},"Mod-Delete":({editor:a})=>{let b=!1;return this.options.listTypes.forEach(({itemName:c})=>{void 0!==a.state.schema.nodes[c]&&jj(a,c)&&(b=!0)}),b},Backspace:({editor:a})=>{let b=!1;return this.options.listTypes.forEach(({itemName:c,wrapperNames:d})=>{void 0!==a.state.schema.nodes[c]&&jg(a,c,d)&&(b=!0)}),b},"Mod-Backspace":({editor:a})=>{let b=!1;return this.options.listTypes.forEach(({itemName:c,wrapperNames:d})=>{void 0!==a.state.schema.nodes[c]&&jg(a,c,d)&&(b=!0)}),b}}}}),jm=/^(\s*)(\d+)\.\s+(.*)$/,jn=/^\s/,jo="textStyle",jp=/^(\d+)\.\s$/,jq=gR.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:a=>a.hasAttribute("start")?parseInt(a.getAttribute("start")||"",10):1},type:{default:null,parseHTML:a=>a.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:a}){let{start:b,...c}=a;return 1===b?["ol",fG(this.options.HTMLAttributes,c),0]:["ol",fG(this.options.HTMLAttributes,a),0]},markdownTokenName:"list",parseMarkdown:(a,b)=>{if("list"!==a.type||!a.ordered)return[];let c=a.start||1,d=a.items?function(a,b){return a.map(a=>{if("list_item"!==a.type)return b.parseChildren([a])[0];let c=[];return a.tokens&&a.tokens.length>0&&a.tokens.forEach(a=>{if("paragraph"===a.type||"list"===a.type||"blockquote"===a.type||"code"===a.type)c.push(...b.parseChildren([a]));else if("text"===a.type&&a.tokens){let d=b.parseChildren([a]);c.push({type:"paragraph",content:d})}else{let d=b.parseChildren([a]);d.length>0&&c.push(...d)}}),{type:"listItem",content:c}})}(a.items,b):[];return 1!==c?{type:"orderedList",attrs:{start:c},content:d}:{type:"orderedList",content:d}},renderMarkdown:(a,b)=>a.content?b.renderChildren(a.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:a=>{let b=a.match(/^(\s*)(\d+)\.\s+/),c=null==b?void 0:b.index;return void 0!==c?c:-1},tokenize:(a,b,c)=>{var d;let e=a.split("\n"),[f,g]=function(a){let b=[],c=0,d=0;for(;c<a.length;){let e=a[c],f=e.match(jm);if(!f)break;let[,g,h,i]=f,j=g.length,k=i,l=c+1,m=[e];for(;l<a.length;){let b=a[l];if(b.match(jm))break;if(""===b.trim())m.push(b),k+="\n",l+=1;else if(b.match(jn))m.push(b),k+=`
${b.slice(j+2)}`,l+=1;else break}b.push({indent:j,number:parseInt(h,10),content:k.trim(),raw:m.join("\n")}),d=l,c=l}return[b,d]}(e);if(0===f.length)return;let h=function a(b,c,d){var e;let f=[],g=0;for(;g<b.length;){let h=b[g];if(h.indent===c){let i=h.content.split("\n"),j=(null==(e=i[0])?void 0:e.trim())||"",k=[];j&&k.push({type:"paragraph",raw:j,tokens:d.inlineTokens(j)});let l=i.slice(1).join("\n").trim();if(l){let a=d.blockTokens(l);k.push(...a)}let m=g+1,n=[];for(;m<b.length&&b[m].indent>c;)n.push(b[m]),m+=1;if(n.length>0){let b=Math.min(...n.map(a=>a.indent)),c=a(n,b,d);k.push({type:"list",ordered:!0,start:n[0].number,items:c,raw:n.map(a=>a.raw).join("\n")})}f.push({type:"list_item",raw:h.raw,tokens:k}),g=m}else g+=1}return f}(f,0,c);if(0!==h.length)return{type:"list",ordered:!0,start:(null==(d=f[0])?void 0:d.number)||1,items:h,raw:e.slice(0,g).join("\n")}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:a,chain:b})=>this.options.keepAttributes?b().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(jo)).run():a.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let a=gH({find:jp,type:this.type,getAttributes:a=>({start:+a[1]}),joinPredicate:(a,b)=>b.childCount+b.attrs.start===+a[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(a=gH({find:jp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:a=>({start:+a[1],...this.editor.getAttributes(jo)}),joinPredicate:(a,b)=>b.childCount+b.attrs.start===+a[1],editor:this.editor})),[a]}}),jr=/^\s*(\[([( |x])?\])\s$/,js=gR.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:a=>{let b=a.getAttribute("data-checked");return""===b||"true"===b},renderHTML:a=>({"data-checked":a.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:a,HTMLAttributes:b}){return["li",fG(this.options.HTMLAttributes,b,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:a.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(a,b)=>{let c=[];if(a.tokens&&a.tokens.length>0?c.push(b.createNode("paragraph",{},b.parseInline(a.tokens))):a.text?c.push(b.createNode("paragraph",{},[b.createNode("text",{text:a.text})])):c.push(b.createNode("paragraph",{},[])),a.nestedTokens&&a.nestedTokens.length>0){let d=b.parseChildren(a.nestedTokens);c.push(...d)}return b.createNode("taskItem",{checked:a.checked||!1},c)},renderMarkdown:(a,b)=>{var c;let d=(null==(c=a.attrs)?void 0:c.checked)?"x":" ";return gQ(a,b,`- [${d}] `)},addKeyboardShortcuts(){let a={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...a,Tab:()=>this.editor.commands.sinkListItem(this.name)}:a},addNodeView(){return({node:a,HTMLAttributes:b,getPos:c,editor:d})=>{let e=document.createElement("li"),f=document.createElement("label"),g=document.createElement("span"),h=document.createElement("input"),i=document.createElement("div"),j=a=>{var b,c;h.ariaLabel=(null==(c=null==(b=this.options.a11y)?void 0:b.checkboxLabel)?void 0:c.call(b,a,h.checked))||`Task item checkbox for ${a.textContent||"empty task item"}`};return j(a),f.contentEditable="false",h.type="checkbox",h.addEventListener("mousedown",a=>a.preventDefault()),h.addEventListener("change",b=>{if(!d.isEditable&&!this.options.onReadOnlyChecked){h.checked=!h.checked;return}let{checked:e}=b.target;d.isEditable&&"function"==typeof c&&d.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:a})=>{let b=c();if("number"!=typeof b)return!1;let d=a.doc.nodeAt(b);return a.setNodeMarkup(b,void 0,{...null==d?void 0:d.attrs,checked:e}),!0}).run(),d.isEditable||!this.options.onReadOnlyChecked||this.options.onReadOnlyChecked(a,e)||(h.checked=!h.checked)}),Object.entries(this.options.HTMLAttributes).forEach(([a,b])=>{e.setAttribute(a,b)}),e.dataset.checked=a.attrs.checked,h.checked=a.attrs.checked,f.append(h,g),e.append(f,i),Object.entries(b).forEach(([a,b])=>{e.setAttribute(a,b)}),{dom:e,contentDOM:i,update:a=>a.type===this.type&&(e.dataset.checked=a.attrs.checked,h.checked=a.attrs.checked,j(a),!0)}}},addInputRules(){return[gH({find:jr,type:this.type,getAttributes:a=>({checked:"x"===a[a.length-1]})})]}}),jt=gR.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:a}){return["ul",fG(this.options.HTMLAttributes,a,{"data-type":this.name}),0]},parseMarkdown:(a,b)=>b.createNode("taskList",{},b.parseChildren(a.items||[])),renderMarkdown:(a,b)=>a.content?b.renderChildren(a.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(a){var b;let c=null==(b=a.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:b.index;return void 0!==c?c:-1},tokenize(a,b,c){let d=a=>{let b=gP(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:"x"===a[3].toLowerCase()}),createToken:(a,b)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:c.inlineTokens(a.mainContent),nestedTokens:b}),customNestedParser:d},c);return b?[{type:"taskList",raw:b.raw,items:b.items}]:c.blockTokens(a)},e=gP(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:"x"===a[3].toLowerCase()}),createToken:(a,b)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:c.inlineTokens(a.mainContent),nestedTokens:b}),customNestedParser:d},c);if(e)return{type:"taskList",raw:e.raw,items:e.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:a})=>a.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});gq.create({name:"listKit",addExtensions(){let a=[];return!1!==this.options.bulletList&&a.push(i9.configure(this.options.bulletList)),!1!==this.options.listItem&&a.push(ja.configure(this.options.listItem)),!1!==this.options.listKeymap&&a.push(jl.configure(this.options.listKeymap)),!1!==this.options.orderedList&&a.push(jq.configure(this.options.orderedList)),!1!==this.options.taskItem&&a.push(js.configure(this.options.taskItem)),!1!==this.options.taskList&&a.push(jt.configure(this.options.taskList)),a}});var ju=gR.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:a}){return["p",fG(this.options.HTMLAttributes,a),0]},parseMarkdown:(a,b)=>{let c=a.tokens||[];return 1===c.length&&"image"===c[0].type?b.parseChildren([c[0]]):b.createNode("paragraph",void 0,b.parseInline(c))},renderMarkdown:(a,b)=>a&&Array.isArray(a.content)?b.renderChildren(a.content):"",addCommands(){return{setParagraph:()=>({commands:a})=>a.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),jv=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,jw=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,jx=gm.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:a=>!!a.includes("line-through")&&{}}],renderHTML({HTMLAttributes:a}){return["s",fG(this.options.HTMLAttributes,a),0]},markdownTokenName:"del",parseMarkdown:(a,b)=>b.applyMark("strike",b.parseInline(a.tokens||[])),renderMarkdown:(a,b)=>`~~${b.renderChildren(a)}~~`,addCommands(){return{setStrike:()=>({commands:a})=>a.setMark(this.name),toggleStrike:()=>({commands:a})=>a.toggleMark(this.name),unsetStrike:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[gE({find:jv,type:this.type})]},addPasteRules(){return[gT({find:jw,type:this.type})]}}),jy=gR.create({name:"text",group:"inline",parseMarkdown:a=>({type:"text",text:a.text||""}),renderMarkdown:a=>a.text||""}),jz=gm.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:a=>!!a.includes("underline")&&{}}],renderHTML({HTMLAttributes:a}){return["u",fG(this.options.HTMLAttributes,a),0]},parseMarkdown(a,b){return b.applyMark(this.name||"underline",b.parseInline(a.tokens||[]))},renderMarkdown:(a,b)=>`++${b.renderChildren(a)}++`,markdownTokenizer:{name:"underline",level:"inline",start:a=>a.indexOf("++"),tokenize(a,b,c){let d=/^(\+\+)([\s\S]+?)(\+\+)/.exec(a);if(!d)return;let e=d[2].trim();return{type:"underline",raw:d[0],text:e,tokens:c.inlineTokens(e)}}},addCommands(){return{setUnderline:()=>({commands:a})=>a.setMark(this.name),toggleUnderline:()=>({commands:a})=>a.toggleMark(this.name),unsetUnderline:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});class jA{constructor(a,b){var c;this.editorView=a,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!=(c=b.width)?c:1,this.color=!1===b.color?void 0:b.color||"black",this.class=b.class,this.handlers=["dragover","dragend","drop","dragleave"].map(b=>{let c=a=>{this[b](a)};return a.dom.addEventListener(b,c),{name:b,handler:c}})}destroy(){this.handlers.forEach(({name:a,handler:b})=>this.editorView.dom.removeEventListener(a,b))}update(a,b){null!=this.cursorPos&&b.doc!=a.state.doc&&(this.cursorPos>a.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(a){a!=this.cursorPos&&(this.cursorPos=a,null==a?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let a,b,c=this.editorView.state.doc.resolve(this.cursorPos),d=!c.parent.inlineContent,e,f=this.editorView.dom,g=f.getBoundingClientRect(),h=g.width/f.offsetWidth,i=g.height/f.offsetHeight;if(d){let a=c.nodeBefore,b=c.nodeAfter;if(a||b){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let d=c.getBoundingClientRect(),f=a?d.bottom:d.top;a&&b&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*i;e={left:d.left,right:d.right,top:f-g,bottom:f+g}}}}if(!e){let a=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*h;e={left:a.left-b,right:a.left+b,top:a.top,bottom:a.bottom}}let j=this.editorView.dom.offsetParent;if(!this.element&&(this.element=j.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",d),this.element.classList.toggle("prosemirror-dropcursor-inline",!d),j&&(j!=document.body||"static"!=getComputedStyle(j).position)){let c=j.getBoundingClientRect(),d=c.width/j.offsetWidth,e=c.height/j.offsetHeight;a=c.left-j.scrollLeft*d,b=c.top-j.scrollTop*e}else a=-pageXOffset,b=-pageYOffset;this.element.style.left=(e.left-a)/h+"px",this.element.style.top=(e.top-b)/i+"px",this.element.style.width=(e.right-e.left)/h+"px",this.element.style.height=(e.bottom-e.top)/i+"px"}scheduleRemoval(a){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),a)}dragover(a){if(!this.editorView.editable)return;let b=this.editorView.posAtCoords({left:a.clientX,top:a.clientY}),c=b&&b.inside>=0&&this.editorView.state.doc.nodeAt(b.inside),d=c&&c.type.spec.disableDropCursor,e="function"==typeof d?d(this.editorView,b,a):d;if(b&&!e){let a=b.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let b=aT(this.editorView.state.doc,a,this.editorView.dragging.slice);null!=b&&(a=b)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(a){this.editorView.dom.contains(a.relatedTarget)||this.setCursor(null)}}class jB extends a5{constructor(a){super(a,a)}map(a,b){let c=a.resolve(b.map(this.head));return jB.valid(c)?new jB(c):a5.near(c)}content(){return F.empty}eq(a){return a instanceof jB&&a.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(a,b){if("number"!=typeof b.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new jB(a.resolve(b.pos))}getBookmark(){return new jC(this.anchor)}static valid(a){let b=a.parent;if(b.isTextblock||!function(a){for(let b=a.depth;b>=0;b--){let c=a.index(b),d=a.node(b);if(0==c){if(d.type.spec.isolating)return!0;continue}for(let a=d.child(c-1);;a=a.lastChild){if(0==a.childCount&&!a.inlineContent||jD(a.type))return!0;if(a.inlineContent)return!1}}return!0}(a)||!function(a){for(let b=a.depth;b>=0;b--){let c=a.indexAfter(b),d=a.node(b);if(c==d.childCount){if(d.type.spec.isolating)return!0;continue}for(let a=d.child(c);;a=a.firstChild){if(0==a.childCount&&!a.inlineContent||jD(a.type))return!0;if(a.inlineContent)return!1}}return!0}(a))return!1;let c=b.type.spec.allowGapCursor;if(null!=c)return c;let d=b.contentMatchAt(a.index()).defaultType;return d&&d.isTextblock}static findGapCursorFrom(a,b,c=!1){d:for(;;){if(!c&&jB.valid(a))return a;let d=a.pos,e=null;for(let c=a.depth;;c--){let f=a.node(c);if(b>0?a.indexAfter(c)<f.childCount:a.index(c)>0){e=f.child(b>0?a.indexAfter(c):a.index(c)-1);break}if(0==c)return null;d+=b;let g=a.doc.resolve(d);if(jB.valid(g))return g}for(;;){let f=b>0?e.firstChild:e.lastChild;if(!f){if(e.isAtom&&!e.isText&&!bb.isSelectable(e)){a=a.doc.resolve(d+e.nodeSize*b),c=!1;continue d}break}e=f,d+=b;let g=a.doc.resolve(d);if(jB.valid(g))return g}return null}}}jB.prototype.visible=!1,jB.findFrom=jB.findGapCursorFrom,a5.jsonID("gapcursor",jB);class jC{constructor(a){this.pos=a}map(a){return new jC(a.map(this.pos))}resolve(a){let b=a.resolve(this.pos);return jB.valid(b)?new jB(b):a5.near(b)}}function jD(a){return a.isAtom||a.spec.isolating||a.spec.createGapCursor}let jE=ev({ArrowLeft:jF("horiz",-1),ArrowRight:jF("horiz",1),ArrowUp:jF("vert",-1),ArrowDown:jF("vert",1)});function jF(a,b){let c="vert"==a?b>0?"down":"up":b>0?"right":"left";return function(a,d,e){let f=a.selection,g=b>0?f.$to:f.$from,h=f.empty;if(f instanceof a9){if(!e.endOfTextblock(c)||0==g.depth)return!1;h=!1,g=a.doc.resolve(b>0?g.after():g.before())}let i=jB.findGapCursorFrom(g,b,h);return!!i&&(d&&d(a.tr.setSelection(new jB(i))),!0)}}function jG(a,b,c){if(!a||!a.editable)return!1;let d=a.state.doc.resolve(b);if(!jB.valid(d))return!1;let e=a.posAtCoords({left:c.clientX,top:c.clientY});return!(e&&e.inside>-1&&bb.isSelectable(a.state.doc.nodeAt(e.inside)))&&(a.dispatch(a.state.tr.setSelection(new jB(d))),!0)}function jH(a,b){if("insertCompositionText"!=b.inputType||!(a.state.selection instanceof jB))return!1;let{$from:c}=a.state.selection,d=c.parent.contentMatchAt(c.index()).findWrapping(a.state.schema.nodes.text);if(!d)return!1;let e=z.empty;for(let a=d.length-1;a>=0;a--)e=z.from(d[a].createAndFill(null,e));let f=a.state.tr.replace(c.pos,c.pos,new F(e,0,0));return f.setSelection(a9.near(f.doc.resolve(c.pos+1))),a.dispatch(f),!1}function jI(a){if(!(a.selection instanceof jB))return null;let b=document.createElement("div");return b.className="ProseMirror-gapcursor",dV.create(a.doc,[dS.widget(a.selection.head,b,{key:"gapcursor"})])}var jJ=function(){};jJ.prototype.append=function(a){return a.length?(a=jJ.from(a),!this.length&&a||a.length<200&&this.leafAppend(a)||this.length<200&&a.leafPrepend(this)||this.appendInner(a)):this},jJ.prototype.prepend=function(a){return a.length?jJ.from(a).append(this):this},jJ.prototype.appendInner=function(a){return new jL(this,a)},jJ.prototype.slice=function(a,b){return(void 0===a&&(a=0),void 0===b&&(b=this.length),a>=b)?jJ.empty:this.sliceInner(Math.max(0,a),Math.min(this.length,b))},jJ.prototype.get=function(a){if(!(a<0)&&!(a>=this.length))return this.getInner(a)},jJ.prototype.forEach=function(a,b,c){void 0===b&&(b=0),void 0===c&&(c=this.length),b<=c?this.forEachInner(a,b,c,0):this.forEachInvertedInner(a,b,c,0)},jJ.prototype.map=function(a,b,c){void 0===b&&(b=0),void 0===c&&(c=this.length);var d=[];return this.forEach(function(b,c){return d.push(a(b,c))},b,c),d},jJ.from=function(a){return a instanceof jJ?a:a&&a.length?new jK(a):jJ.empty};var jK=function(a){function b(b){a.call(this),this.values=b}b.__proto__=a,b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={length:{configurable:!0},depth:{configurable:!0}};return b.prototype.flatten=function(){return this.values},b.prototype.sliceInner=function(a,c){return 0==a&&c==this.length?this:new b(this.values.slice(a,c))},b.prototype.getInner=function(a){return this.values[a]},b.prototype.forEachInner=function(a,b,c,d){for(var e=b;e<c;e++)if(!1===a(this.values[e],d+e))return!1},b.prototype.forEachInvertedInner=function(a,b,c,d){for(var e=b-1;e>=c;e--)if(!1===a(this.values[e],d+e))return!1},b.prototype.leafAppend=function(a){if(this.length+a.length<=200)return new b(this.values.concat(a.flatten()))},b.prototype.leafPrepend=function(a){if(this.length+a.length<=200)return new b(a.flatten().concat(this.values))},c.length.get=function(){return this.values.length},c.depth.get=function(){return 0},Object.defineProperties(b.prototype,c),b}(jJ);jJ.empty=new jK([]);var jL=function(a){function b(b,c){a.call(this),this.left=b,this.right=c,this.length=b.length+c.length,this.depth=Math.max(b.depth,c.depth)+1}return b.__proto__=a,b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},b.prototype.getInner=function(a){return a<this.left.length?this.left.get(a):this.right.get(a-this.left.length)},b.prototype.forEachInner=function(a,b,c,d){var e=this.left.length;if(b<e&&!1===this.left.forEachInner(a,b,Math.min(c,e),d)||c>e&&!1===this.right.forEachInner(a,Math.max(b-e,0),Math.min(this.length,c)-e,d+e))return!1},b.prototype.forEachInvertedInner=function(a,b,c,d){var e=this.left.length;if(b>e&&!1===this.right.forEachInvertedInner(a,b-e,Math.max(c,e)-e,d+e)||c<e&&!1===this.left.forEachInvertedInner(a,Math.min(b,e),c,d))return!1},b.prototype.sliceInner=function(a,b){if(0==a&&b==this.length)return this;var c=this.left.length;return b<=c?this.left.slice(a,b):a>=c?this.right.slice(a-c,b-c):this.left.slice(a,c).append(this.right.slice(0,b-c))},b.prototype.leafAppend=function(a){var c=this.right.leafAppend(a);if(c)return new b(this.left,c)},b.prototype.leafPrepend=function(a){var c=this.left.leafPrepend(a);if(c)return new b(c,this.right)},b.prototype.appendInner=function(a){return this.left.depth>=Math.max(this.right.depth,a.depth)+1?new b(this.left,new b(this.right,a)):new b(this,a)},b}(jJ);class jM{constructor(a,b){this.items=a,this.eventCount=b}popEvent(a,b){let c,d,e,f;if(0==this.eventCount)return null;let g=this.items.length;for(;;g--)if(this.items.get(g-1).selection){--g;break}b&&(d=(c=this.remapping(g,this.items.length)).maps.length);let h=a.tr,i=[],j=[];return this.items.forEach((a,b)=>{if(!a.step){c||(d=(c=this.remapping(g,b+1)).maps.length),d--,j.push(a);return}if(c){j.push(new jN(a.map));let b=a.step.map(c.slice(d)),e;b&&h.maybeStep(b).doc&&(e=h.mapping.maps[h.mapping.maps.length-1],i.push(new jN(e,void 0,void 0,i.length+j.length))),d--,e&&c.appendMap(e,d)}else h.maybeStep(a.step);if(a.selection)return e=c?a.selection.map(c.slice(d)):a.selection,f=new jM(this.items.slice(0,g).append(j.reverse().concat(i)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:h,selection:e}}addTransform(a,b,c,d){var e,f;let g,h=[],i=this.eventCount,j=this.items,k=!d&&j.length?j.get(j.length-1):null;for(let c=0;c<a.steps.length;c++){let e=a.steps[c].invert(a.docs[c]),f=new jN(a.mapping.maps[c],e,b),g;(g=k&&k.merge(f))&&(f=g,c?h.pop():j=j.slice(0,j.length-1)),h.push(f),b&&(i++,b=void 0),d||(k=f)}let l=i-c.depth;return l>jP&&(e=j,f=l,e.forEach((a,b)=>{if(a.selection&&0==f--)return g=b,!1}),j=e.slice(g),i-=l),new jM(j.append(h),i)}remapping(a,b){let c=new ax;return this.items.forEach((b,d)=>{let e=null!=b.mirrorOffset&&d-b.mirrorOffset>=a?c.maps.length-b.mirrorOffset:void 0;c.appendMap(b.map,e)},a,b),c}addMaps(a){return 0==this.eventCount?this:new jM(this.items.append(a.map(a=>new jN(a))),this.eventCount)}rebased(a,b){if(!this.eventCount)return this;let c=[],d=Math.max(0,this.items.length-b),e=a.mapping,f=a.steps.length,g=this.eventCount;this.items.forEach(a=>{a.selection&&g--},d);let h=b;this.items.forEach(b=>{let d=e.getMirror(--h);if(null==d)return;f=Math.min(f,d);let i=e.maps[d];if(b.step){let f=a.steps[d].invert(a.docs[d]),j=b.selection&&b.selection.map(e.slice(h+1,d));j&&g++,c.push(new jN(i,f,j))}else c.push(new jN(i))},d);let i=[];for(let a=b;a<f;a++)i.push(new jN(e.maps[a]));let j=new jM(this.items.slice(0,d).append(i).append(c),g);return j.emptyItemCount()>500&&(j=j.compress(this.items.length-c.length)),j}emptyItemCount(){let a=0;return this.items.forEach(b=>{!b.step&&a++}),a}compress(a=this.items.length){let b=this.remapping(0,a),c=b.maps.length,d=[],e=0;return this.items.forEach((f,g)=>{if(g>=a)d.push(f),f.selection&&e++;else if(f.step){let a=f.step.map(b.slice(c)),g=a&&a.getMap();if(c--,g&&b.appendMap(g,c),a){let h=f.selection&&f.selection.map(b.slice(c));h&&e++;let i=new jN(g.invert(),a,h),j,k=d.length-1;(j=d.length&&d[k].merge(i))?d[k]=j:d.push(i)}}else f.map&&c--},this.items.length,0),new jM(jJ.from(d.reverse()),e)}}jM.empty=new jM(jJ.empty,0);class jN{constructor(a,b,c,d){this.map=a,this.step=b,this.selection=c,this.mirrorOffset=d}merge(a){if(this.step&&a.step&&!a.selection){let b=a.step.merge(this.step);if(b)return new jN(b.getMap().invert(),b,this.selection)}}}class jO{constructor(a,b,c,d,e){this.done=a,this.undone=b,this.prevRanges=c,this.prevTime=d,this.prevComposition=e}}let jP=20;function jQ(a){let b=[];for(let c=a.length-1;c>=0&&0==b.length;c--)a[c].forEach((a,c,d,e)=>b.push(d,e));return b}function jR(a,b){if(!a)return null;let c=[];for(let d=0;d<a.length;d+=2){let e=b.map(a[d],1),f=b.map(a[d+1],-1);e<=f&&c.push(e,f)}return c}let jS=!1,jT=null;function jU(a){let b=a.plugins;if(jT!=b){jS=!1,jT=b;for(let a=0;a<b.length;a++)if(b[a].spec.historyPreserveItems){jS=!0;break}}return jS}let jV=new bq("history"),jW=new bq("closeHistory");function jX(a,b){return(c,d)=>{let e=jV.getState(c);if(!e||0==(a?e.undone:e.done).eventCount)return!1;if(d){let f=function(a,b,c){let d=jU(b),e=jV.get(b).spec.config,f=(c?a.undone:a.done).popEvent(b,d);if(!f)return null;let g=f.selection.resolve(f.transform.doc),h=(c?a.done:a.undone).addTransform(f.transform,b.selection.getBookmark(),e,d),i=new jO(c?h:f.remaining,c?f.remaining:h,null,0,-1);return f.transform.setSelection(g).setMeta(jV,{redo:c,historyState:i})}(e,c,a);f&&d(b?f.scrollIntoView():f)}return!0}}let jY=jX(!1,!0),jZ=jX(!0,!0);jX(!1,!1),jX(!0,!1),gq.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:a=>a.length,wordCounter:a=>a.split(" ").filter(a=>""!==a).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=a=>{let b=(null==a?void 0:a.node)||this.editor.state.doc;if("textSize"===((null==a?void 0:a.mode)||this.options.mode)){let a=b.textBetween(0,b.content.size,void 0," ");return this.options.textCounter(a)}return b.nodeSize},this.storage.words=a=>{let b=(null==a?void 0:a.node)||this.editor.state.doc,c=b.textBetween(0,b.content.size," "," ");return this.options.wordCounter(c)}},addProseMirrorPlugins(){let a=!1;return[new bn({key:new bq("characterCount"),appendTransaction:(b,c,d)=>{if(a)return;let e=this.options.limit;if(null==e||0===e){a=!0;return}let f=this.storage.characters({node:d.doc});if(f>e){console.warn(`[CharacterCount] Initial content exceeded limit of ${e} characters. Content was automatically trimmed.`);let b=d.tr.deleteRange(0,f-e);return a=!0,b}a=!0},filterTransaction:(a,b)=>{let c=this.options.limit;if(!a.docChanged||0===c||null==c)return!0;let d=this.storage.characters({node:b.doc}),e=this.storage.characters({node:a.doc});if(e<=c||d>c&&e>c&&e<=d)return!0;if(d>c&&e>c&&e>d||!a.getMeta("paste"))return!1;let f=a.selection.$head.pos;return a.deleteRange(f-(e-c),f),!(this.storage.characters({node:a.doc})>c)}})]}});var j$=gq.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[function(a={}){return new bn({view:b=>new jA(b,a)})}(this.options)]}});gq.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new bn({key:new bq("focus"),props:{decorations:({doc:a,selection:b})=>{let{isEditable:c,isFocused:d}=this.editor,{anchor:e}=b,f=[];if(!c||!d)return dV.create(a,[]);let g=0;"deepest"===this.options.mode&&a.descendants((a,b)=>{if(!a.isText){if(!(e>=b&&e<=b+a.nodeSize-1))return!1;g+=1}});let h=0;return a.descendants((a,b)=>!a.isText&&!!(e>=b&&e<=b+a.nodeSize-1)&&((h+=1,"deepest"===this.options.mode&&g-h>0||"shallowest"===this.options.mode&&h>1)?"deepest"===this.options.mode:void f.push(dS.node(b,b+a.nodeSize,{class:this.options.className})))),dV.create(a,f)}}})]}});var j_=gq.create({name:"gapCursor",addProseMirrorPlugins:()=>[new bn({props:{decorations:jI,createSelectionBetween:(a,b,c)=>b.pos==c.pos&&jB.valid(c)?new jB(c):null,handleClick:jG,handleKeyDown:jE,handleDOMEvents:{beforeinput:jH}}})],extendNodeSchema(a){var b;let c={name:a.name,options:a.options,storage:a.storage};return{allowGapCursor:null!=(b=fD(fz(a,"allowGapCursor",c)))?b:null}}});function j0({types:a,node:b}){return b&&Array.isArray(a)&&a.includes(b.type)||(null==b?void 0:b.type)===a}gq.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new bn({key:new bq("placeholder"),props:{decorations:({doc:a,selection:b})=>{let c=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:d}=b,e=[];if(!c)return null;let f=this.editor.isEmpty;return a.descendants((a,b)=>{let c=d>=b&&d<=b+a.nodeSize,g=!a.isLeaf&&fW(a);if((c||!this.options.showOnlyCurrent)&&g){let d=[this.options.emptyNodeClass];f&&d.push(this.options.emptyEditorClass);let g=dS.node(b,b+a.nodeSize,{class:d.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:a,pos:b,hasAnchor:c}):this.options.placeholder});e.push(g)}return this.options.includeChildren}),dV.create(a,e)}}})]}}),gq.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){let{editor:a,options:b}=this;return[new bn({key:new bq("selection"),props:{decorations:c=>c.selection.empty||a.isFocused||!a.isEditable||fX(c.selection)||a.view.dragging?null:dV.create(c.doc,[dS.inline(c.selection.from,c.selection.to,{class:b.className})])}})]}});var j1=gq.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var a;let b=new bq(this.name),c=(null==(a=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:a.name)||this.options.node||"paragraph",d=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(c).includes(a.name));return[new bn({key:b,appendTransaction:(a,d,e)=>{let{doc:f,tr:g,schema:h}=e,i=b.getState(e),j=f.content.size,k=h.nodes[c];if(i)return g.insert(j,k.create())},state:{init:(a,b)=>!j0({node:b.tr.doc.lastChild,types:d}),apply:(a,b)=>a.docChanged?!j0({node:a.doc.lastChild,types:d}):b}})]}}),j2=gq.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:a,dispatch:b})=>jY(a,b),redo:()=>({state:a,dispatch:b})=>jZ(a,b)}),addProseMirrorPlugins(){return[function(a={}){return new bn({key:jV,state:{init:()=>new jO(jM.empty,jM.empty,null,0,-1),apply:(b,c,d)=>(function(a,b,c,d){let e=c.getMeta(jV),f;if(e)return e.historyState;c.getMeta(jW)&&(a=new jO(a.done,a.undone,null,0,-1));let g=c.getMeta("appendedTransaction");if(0==c.steps.length)return a;if(g&&g.getMeta(jV))if(g.getMeta(jV).redo)return new jO(a.done.addTransform(c,void 0,d,jU(b)),a.undone,jQ(c.mapping.maps),a.prevTime,a.prevComposition);else return new jO(a.done,a.undone.addTransform(c,void 0,d,jU(b)),null,a.prevTime,a.prevComposition);if(!1===c.getMeta("addToHistory")||g&&!1===g.getMeta("addToHistory"))if(f=c.getMeta("rebased"))return new jO(a.done.rebased(c,f),a.undone.rebased(c,f),jR(a.prevRanges,c.mapping),a.prevTime,a.prevComposition);else return new jO(a.done.addMaps(c.mapping.maps),a.undone.addMaps(c.mapping.maps),jR(a.prevRanges,c.mapping),a.prevTime,a.prevComposition);{let e=c.getMeta("composition"),f=0==a.prevTime||!g&&a.prevComposition!=e&&(a.prevTime<(c.time||0)-d.newGroupDelay||!function(a,b){if(!b)return!1;if(!a.docChanged)return!0;let c=!1;return a.mapping.maps[0].forEach((a,d)=>{for(let e=0;e<b.length;e+=2)a<=b[e+1]&&d>=b[e]&&(c=!0)}),c}(c,a.prevRanges)),h=g?jR(a.prevRanges,c.mapping):jQ(c.mapping.maps);return new jO(a.done.addTransform(c,f?b.selection.getBookmark():void 0,d,jU(b)),jM.empty,h,c.time,null==e?a.prevComposition:e)}})(c,d,b,a)},config:a={depth:a.depth||100,newGroupDelay:a.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(a,b){let c=b.inputType,d="historyUndo"==c?jY:"historyRedo"==c?jZ:null;return!!d&&(b.preventDefault(),d(a.state,a.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),j3=gq.create({name:"starterKit",addExtensions(){var a,b,c,d;let e=[];return!1!==this.options.bold&&e.push(hl.configure(this.options.bold)),!1!==this.options.blockquote&&e.push(hg.configure(this.options.blockquote)),!1!==this.options.bulletList&&e.push(i9.configure(this.options.bulletList)),!1!==this.options.code&&e.push(ho.configure(this.options.code)),!1!==this.options.codeBlock&&e.push(hr.configure(this.options.codeBlock)),!1!==this.options.document&&e.push(hs.configure(this.options.document)),!1!==this.options.dropcursor&&e.push(j$.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&e.push(j_.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&e.push(ht.configure(this.options.hardBreak)),!1!==this.options.heading&&e.push(hu.configure(this.options.heading)),!1!==this.options.undoRedo&&e.push(j2.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&e.push(hv.configure(this.options.horizontalRule)),!1!==this.options.italic&&e.push(hA.configure(this.options.italic)),!1!==this.options.listItem&&e.push(ja.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(jl.configure(null==(a=this.options)?void 0:a.listKeymap)),!1!==this.options.link&&e.push(i5.configure(null==(b=this.options)?void 0:b.link)),!1!==this.options.orderedList&&e.push(jq.configure(this.options.orderedList)),!1!==this.options.paragraph&&e.push(ju.configure(this.options.paragraph)),!1!==this.options.strike&&e.push(jx.configure(this.options.strike)),!1!==this.options.text&&e.push(jy.configure(this.options.text)),!1!==this.options.underline&&e.push(jz.configure(null==(c=this.options)?void 0:c.underline)),!1!==this.options.trailingNode&&e.push(j1.configure(null==(d=this.options)?void 0:d.trailingNode)),e}}),j4=gq.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:a=>{let b=a.style.textAlign;return this.options.alignments.includes(b)?b:this.options.defaultAlignment},renderHTML:a=>a.textAlign?{style:`text-align: ${a.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:a=>({commands:b})=>!!this.options.alignments.includes(a)&&this.options.types.map(c=>b.updateAttributes(c,{textAlign:a})).every(a=>a),unsetTextAlign:()=>({commands:a})=>this.options.types.map(b=>a.resetAttributes(b,"textAlign")).every(a=>a),toggleTextAlign:a=>({editor:b,commands:c})=>!!this.options.alignments.includes(a)&&(b.isActive({textAlign:a})?c.unsetTextAlign():c.setTextAlign(a))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),j5=a.i(269464);let j6=(0,j5.default)((0,h.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),j7=(0,j5.default)((0,h.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),j8=(0,j5.default)((0,h.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted"),j9=(0,j5.default)((0,h.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),ka=(0,j5.default)((0,h.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),kb=(0,j5.default)((0,h.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),kc=(0,j5.default)((0,h.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),kd=(0,j5.default)((0,h.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),ke=(0,j5.default)((0,h.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),kf=(0,j5.default)((0,h.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify"),kg=(0,j5.default)((0,h.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),kh="bg-transparent border border-gray-300 px-2.5 py-2 !text-black hover:bg-gray-50 transition-colors rounded-none min-w-[50px] disabled:opacity-50 disabled:cursor-not-allowed",ki=({value:a="",onChange:b,upload:c})=>{let d=(0,j.useTranslation)(),e=(0,q.useRef)(null),f=function(a={},b=[]){let c=(0,gW.useRef)(a);c.current=a;let[d]=(0,gW.useState)(()=>new g4(c)),e=(0,gX.useSyncExternalStore)(d.subscribe,d.getEditor,d.getServerSnapshot);return(0,gW.useDebugValue)(e),(0,gW.useEffect)(d.onRender(b)),!function(a){var b;let[c]=(0,gW.useState)(()=>new g3(a.editor)),d=(0,gZ.useSyncExternalStoreWithSelector)(c.subscribe,c.getSnapshot,c.getServerSnapshot,a.selector,null!=(b=a.equalityFn)?b:gY.default);g2(()=>c.watch(a.editor),[a.editor,c]),(0,gW.useDebugValue)(d)}({editor:e,selector:({transactionNumber:b})=>!1===a.shouldRerenderOnTransaction||void 0===a.shouldRerenderOnTransaction?null:a.immediatelyRender&&0===b?0:b+1}),e}({immediatelyRender:!1,extensions:[j3,gV,hb,j4.configure({types:["heading","paragraph","image"]})],content:a,onUpdate:({editor:c})=>{let d=c.getHTML();d!==a&&b?.(d)}});(0,q.useEffect)(()=>{f&&void 0!==a&&f.getHTML()!==a&&f.commands.setContent(a)},[f,a]);let g=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void alert(d("editor.alerts.selectImageFile"));if(b.size>5242880)return void alert(d("editor.alerts.fileSizeExceeded"));if(!c)return void alert(d("editor.alerts.uploadUnavailable"));try{let a=await c({image:b});if(a?.public_id){let c=`https://res.cloudinary.com/dfj52taqr/image/upload/${a.public_id}`;f?.chain().focus().setImage({src:c,alt:b.name}).run()}else alert(d("editor.alerts.uploadError"))}catch(a){console.log(a),alert(d("editor.alerts.serverUploadError"))}a.target.value=""}};return(0,h.jsxs)(hd.Box,{className:"flex flex-col gap-4",children:[(0,h.jsx)(hd.Box,{className:"border-secondary-main flex border p-4",children:(0,h.jsxs)(hd.Box,{className:"flex flex-wrap gap-4",children:[(0,h.jsxs)(hd.Box,{className:"flex gap-1",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleBold().run(),className:kh,"aria-label":d("editor.ariaLabels.bold"),children:(0,h.jsx)(j6,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleItalic().run(),className:kh,"aria-label":d("editor.ariaLabels.italic"),children:(0,h.jsx)(j7,{fontSize:"small"})})]}),(0,h.jsxs)(hd.Box,{className:"flex gap-1",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleHeading({level:2}).run(),className:kh,"aria-label":d("editor.ariaLabels.headingH2"),children:"H1"}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleHeading({level:3}).run(),className:kh,"aria-label":d("editor.ariaLabels.headingH3"),children:"H2"})]}),(0,h.jsxs)(hd.Box,{className:"flex gap-1",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleBulletList().run(),className:kh,"aria-label":d("editor.ariaLabels.bulletList"),children:(0,h.jsx)(j8,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().toggleOrderedList().run(),className:kh,"aria-label":d("editor.ariaLabels.orderedList"),children:(0,h.jsx)(j9,{fontSize:"small"})})]}),(0,h.jsxs)(hd.Box,{className:"flex gap-1",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().undo().run(),className:kh,"aria-label":d("editor.ariaLabels.undo"),disabled:!f?.can().undo(),children:(0,h.jsx)(ka,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>f?.chain().focus().redo().run(),className:kh,"aria-label":d("editor.ariaLabels.redo"),disabled:!f?.can().redo(),children:(0,h.jsx)(kb,{fontSize:"small"})})]}),(0,h.jsxs)(hd.Box,{className:"flex gap-1",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:a}=f,{selection:b}=a,c=a.doc.nodeAt(b.from);c?.type.name==="image"?f?.chain().focus().updateAttributes("image",{alignment:"left"}).run():f?.chain().focus().setTextAlign("left").run()},className:kh,"aria-label":d("editor.ariaLabels.alignLeft"),children:(0,h.jsx)(kc,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:a}=f,{selection:b}=a,c=a.doc.nodeAt(b.from);c?.type.name==="image"?f?.chain().focus().updateAttributes("image",{alignment:"center"}).run():f?.chain().focus().setTextAlign("center").run()},className:kh,"aria-label":d("editor.ariaLabels.alignCenter"),children:(0,h.jsx)(kd,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:a}=f,{selection:b}=a,c=a.doc.nodeAt(b.from);c?.type.name==="image"?f?.chain().focus().updateAttributes("image",{alignment:"right"}).run():f?.chain().focus().setTextAlign("right").run()},className:kh,"aria-label":d("editor.ariaLabels.alignRight"),children:(0,h.jsx)(ke,{fontSize:"small"})}),(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{let{state:a}=f,{selection:b}=a,c=a.doc.nodeAt(b.from);c?.type.name==="image"?f?.chain().focus().updateAttributes("image",{alignment:"justify"}).run():f?.chain().focus().setTextAlign("justify").run()},className:kh,"aria-label":d("editor.ariaLabels.alignJustify"),children:(0,h.jsx)(kf,{fontSize:"small"})})]}),(0,h.jsx)(hd.Box,{className:"flex gap-1",children:(0,h.jsx)(t.Button,{type:"button",variant:"outlined",size:"small",onClick:()=>{e.current?.click()},className:kh,"aria-label":d("editor.ariaLabels.insertImage"),children:(0,h.jsx)(kg,{fontSize:"small"})})})]})}),(0,h.jsx)("input",{ref:e,type:"file",accept:"image/*",onChange:g,style:{display:"none"}}),(0,h.jsx)(g1,{className:"border-secondary-main border p-4",editor:f})]})};var kj=a.i(29173);let kk=()=>{let a=(0,j.useTranslation)(),b=(0,p.useAppSelector)(a=>a.locationsSlice.locations),c=(0,p.useAppSelector)(a=>a.locationsSlice.brothers),d=c?[...b,c]:b,e=(0,p.useAppSelector)(a=>a.userSlice.user),{control:f,register:g,handleSubmit:n,formState:{errors:y},reset:z,setValue:A,clearErrors:B}=(()=>{let a=(0,j.useTranslation)();return(0,k.useForm)({resolver:(0,l.zodResolver)((a=>i.default.object({title:i.default.string().min(1,a("news.validation.titleRequired")),image:i.default.string().min(1,a("news.validation.imagesRequired")),content:i.default.string().min(1,a("news.validation.contentRequired")),description:i.default.string().min(1,a("news.validation.descriptionRequired")),locationUuid:i.default.string().min(1,a("news.validation.locationRequired"))}))(a)),defaultValues:{title:"",description:"",image:"",content:"",locationUuid:""},mode:"onSubmit"})})(),C=(()=>{let[a]=(0,m.useCreateNewsMutation)();return async b=>{try{await a(b).unwrap()}catch(a){console.log(a)}}})(),D=o(),[E,F]=(0,q.useState)(null),G=(0,q.useRef)(null),H=()=>{z({locationUuid:"",content:"",title:"",description:"",image:""},{keepErrors:!1,keepDirty:!1}),(0,r.flushSync)(()=>{A("locationUuid",""),A("content",""),A("title",""),A("description",""),A("image","")}),B(),E&&URL.revokeObjectURL(E),F(null),G.current&&(G.current.value="")},I=async a=>{try{await C(a),H()}catch(a){console.error("   :",a)}},{ref:J,onChange:K,...L}=g("image",{required:a("news.validation.imagesRequired")}),M=(0,q.useCallback)(a=>{A("content",a,{shouldValidate:!0})},[A]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:a("news.createNews")}),(0,h.jsxs)("form",{onSubmit:n(I),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)(w.Typography,{className:"mb-2",children:a("news.mainImage")}),y.image?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:y.image.message}),(0,h.jsxs)("label",{htmlFor:"file-upload",className:"file:border-primary-main text-secondary-main file:text-primary-main border-primary-main inline-flex w-full max-w-96 cursor-pointer items-center justify-center rounded border bg-white px-8 py-2 font-[Inter] text-sm font-bold uppercase transition-colors hover:bg-gray-50",children:[a("editor.labels.selectImage")," "]}),(0,h.jsx)("input",{id:"file-upload",ref:a=>{G.current=a,J(a)},type:"file",accept:"image/*",onChange:a=>{K(a),(a=>{let b=a.target.files?.[0];b&&(E&&URL.revokeObjectURL(E),F(URL.createObjectURL(b)),D({image:b}).then(a=>{A("image",a?.public_id||"",{shouldValidate:!0})}))})(a)},className:"hidden",...L}),E&&(0,h.jsx)("img",{src:E,alt:a("images.previewAlt"),className:"mt-2 max-h-64 object-cover"})]}),(0,h.jsxs)(s.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:a("news.section")}),y.locationUuid?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:y.locationUuid.message})]}),(0,h.jsx)(k.Controller,{name:"locationUuid",control:f,render:({field:{onChange:b,value:c}})=>(0,h.jsx)(v.TextField,{select:!0,onChange:b,value:c,variant:"standard",fullWidth:!0,placeholder:a("news.selectSection"),className:"border px-2.5 py-2 !text-black",error:!!y.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:d.filter(a=>e?.role===kj.UserRole.ADMIN||e?.role===kj.UserRole.EDITOR&&a.uuid===e.locationUuid).map(a=>(0,h.jsx)(u.MenuItem,{value:a.uuid,className:"bg-white text-black hover:bg-gray-100",children:a.title},a.uuid))})})]}),(0,h.jsx)(x.Input,{...g("title"),errorMessage:y.title?.message,label:a("news.title"),className:"mb-4",fullWidth:!0}),(0,h.jsx)(x.Input,{...g("description"),errorMessage:y.description?.message,label:a("news.shortDescription"),className:"mb-4",multiline:!0,rows:3,fullWidth:!0}),(0,h.jsxs)(s.Box,{className:"mb-4",children:[(0,h.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:a("news.fullDescription")}),y.content?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:y.content.message})]}),(0,h.jsx)(k.Controller,{name:"content",control:f,render:({field:{value:a}})=>(0,h.jsx)(ki,{value:a,onChange:M,upload:D})})]}),(0,h.jsxs)(s.Box,{className:"flex justify-end gap-4",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",onClick:H,children:a("news.clear")}),(0,h.jsx)(t.Button,{type:"submit",variant:"contained",children:a("news.create")})]})]})]})};var kl=a.i(822422),km=a.i(22852),kn=a.i(959201),ko=a.i(613539);let kp=()=>{let a=(0,j.useTranslation)(),b=(0,p.useAppSelector)(a=>a.userSlice.user),{register:c,handleSubmit:d,formState:{errors:e,isDirty:f},reset:g}=(()=>{let a=(0,j.useTranslation)(),b=(0,p.useAppSelector)(a=>a.userSlice.user?.firstName),c=(0,p.useAppSelector)(a=>a.userSlice.user?.lastName);return(0,k.useForm)({resolver:(0,l.zodResolver)((a=>i.default.object({firstName:i.default.string().trim().min(1,a("profile.validation.firstNameRequired")).max(50,a("profile.validation.firstNameMaxLength")),lastName:i.default.string().trim().min(1,a("profile.validation.lastNameRequired")).max(50,a("profile.validation.lastNameMaxLength"))}))(a)),defaultValues:{firstName:b,lastName:c},mode:"onChange"})})(),{onSubmit:m,isLoading:n}=(a=>{let[b,{isLoading:c}]=(0,km.useUpdateUserMutation)(),d=(0,kl.useAppDispatch)();return{onSubmit:async c=>{try{let e=await b(c).unwrap();e&&e.data&&(d((0,kn.updateUser)(e.data)),a({firstName:e.data.firstName,lastName:e.data.lastName}))}catch(a){console.error("User update error:",a)}},isLoading:c}})(g);return b?(0,h.jsxs)(s.Box,{component:"form",onSubmit:d(m),className:"border-secondary-main flex max-w-md flex-col gap-10 border-4 p-10",children:[(0,h.jsx)(w.Typography,{variant:"h5",className:"text-center text-[32px] font-bold text-black",children:(0,h.jsx)(ko.Translate,{value:"profile.title"})}),(0,h.jsx)("div",{className:"bg-secondary-main h-1"}),(0,h.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,h.jsx)(x.Input,{...c("firstName"),errorMessage:e.firstName?.message,label:a("profile.firstName"),placeholder:a("profile.firstNamePlaceholder")}),(0,h.jsx)(x.Input,{...c("lastName"),errorMessage:e.lastName?.message,label:a("profile.lastName"),placeholder:a("profile.lastNamePlaceholder")}),(0,h.jsx)(x.Input,{value:b.email,label:a("profile.email"),placeholder:"example@email.com",disabled:!0,type:"email"}),(0,h.jsx)(x.Input,{value:b.role,label:a("profile.role"),placeholder:a("profile.rolePlaceholder"),disabled:!0}),(0,h.jsx)(t.Button,{type:"submit",className:"w-full",variant:"contained",color:"primary",disabled:!f||n,children:a("profile.saveChanges")})]})]}):(0,h.jsx)(w.Typography,{children:a("profile.loading")})};var kq=a.i(704439),kr=a.i(588463),ks=a.i(539705),kt=a.i(341212);let ku=parseInt(q.version,10),kv=a=>{if(ku>=19){let b=b=>a(b,b.ref??null);return b.displayName=a.displayName??a.name,b}return q.forwardRef(a)};var kw=a.i(96718),kx=a.i(298621);function ky(...a){let b=q.useRef(void 0),c=q.useCallback(b=>{let c=a.map(a=>{if(null==a)return null;if("function"==typeof a){let c=a(b);return"function"==typeof c?c:()=>{a(null)}}return a.current=b,()=>{a.current=null}});return()=>{c.forEach(a=>a?.())}},a);return q.useMemo(()=>a.every(a=>null==a)?null:a=>{b.current&&(b.current(),b.current=void 0),null!=a&&(b.current=c(a))},a)}function kz(a){if("string"!=typeof a)throw Error(function(a){let b=new URL("https://mui.com/production-error/?code=7");return[].forEach(a=>b.searchParams.append("args[]",a)),`Minified MUI error #${7}; visit ${b} for the full message.`}(7));return a.charAt(0).toUpperCase()+a.slice(1)}function kA(a,b,c){let d={};for(let e in a){let f=a[e],g="",h=!0;for(let a=0;a<f.length;a+=1){let d=f[a];d&&(g+=(!0===h?"":" ")+b(d),h=!1,c&&c[d]&&(g+=" "+c[d]))}d[e]=g}return d}let kB=Object.is;function kC(a,b){if(a===b)return!0;if(!(a instanceof Object)||!(b instanceof Object))return!1;let c=0,d=0;for(let d in a)if(c+=1,!kB(a[d],b[d])||!(d in b))return!1;for(let a in b)d+=1;return c===d}function kD(a){return q.memo(a,kC)}var kE=a.i(74443);let kF=a=>a,kG=(()=>{let a=kF;return{configure(b){a=b},generate:b=>a(b),reset(){a=kF}}})(),kH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kI(a,b,c="Mui"){let d=kH[b];return d?`${c}-${d}`:`${kG.generate(a)}-${b}`}function kJ(a,b,c="Mui"){let d={};return b.forEach(b=>{d[b]=kI(a,b,c)}),d}function kK(a){return kI("MuiDataGrid",a)}let kL=kJ("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]),kM={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:a=>{let b=kM.values,c="number"==typeof b[a]?b[a]:a;return`@media (min-width:${c}px)`}},kN={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},kO=function a(b){if("string"==typeof b)return`var(${b})`;let c={};for(let d in b)Object.hasOwn(b,d)&&(c[d]=a(b[d]));return c}(kN),kP=(0,ks.default)({breakpoints:kM,spacing:function(a,b,c,d){return void 0===a?kQ(1):void 0===b?kQ(a):void 0===c?kQ(a)+" "+kQ(b):void 0===d?kQ(a)+" "+kQ(b)+" "+kQ(c):kQ(a)+" "+kQ(b)+" "+kQ(c)+" "+kQ(d)},transition:function(a,b){let{duration:c=kP.transitions.duration.base,easing:d=kP.transitions.easing.easeInOut,delay:e=0}=b??{};return a.map(a=>`${a} ${c} ${d} ${e}ms`).join(", ")},keys:kN},kO);function kQ(a){return 0===a?"0":`calc(var(--DataGrid-t-spacing-unit) * ${a})`}var kR=a.i(364806);let kS={};function kT(a,b){let c=q.useRef(kS);return c.current===kS&&(c.current=a(b)),c}let kU=Object.is,kV=(a,b)=>a===b||a.length===b.length&&a.every((a,c)=>a===b[c]),kW=()=>({state:null,equals:null,selector:null,args:void 0}),kX=[],kY=()=>null;function kZ(a,b,c,d=kU){let e,f=kT(kW),g=null!==f.current.selector,[h,i]=q.useState(g?null:b(a,c));f.current.state=h,f.current.equals=d,f.current.selector=b;let j=f.current.args;if(f.current.args=c,g&&(e=Object.is,c instanceof Array?e=kV:c instanceof Object&&(e=kC),!e(j,c))){let b=f.current.selector(a,f.current.args);f.current.equals(f.current.state,b)||(f.current.state=b,i(b))}let k=q.useCallback(()=>(f.current.subscription||(f.current.subscription=a.current.store.subscribe(()=>{let b=f.current.selector(a,f.current.args);f.current.equals(f.current.state,b)||(f.current.state=b,i(b))})),null),kX),l=q.useCallback(()=>(f.current.subscription||k(),()=>{f.current.subscription&&(f.current.subscription(),f.current.subscription=void 0)}),kX);return(0,kR.useSyncExternalStore)(l,k,kY),h}let k$=q.createContext(void 0);function k_(){let a=q.useContext(k$);if(void 0===a)throw Error("MUI X: Could not find the Data Grid private context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return a}let k0={width:3,rx:1.5,x:10.5},k1=a=>a.current.state.dimensions.hasScrollX&&(!a.current.state.dimensions.hasScrollY||0===a.current.state.dimensions.scrollbarSize),k2=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(a,b)=>[b.root,{[`&.${kL.autoHeight}`]:b.autoHeight},{[`&.${kL.autosizing}`]:b.autosizing},{[`&.${kL["root--densityStandard"]}`]:b["root--densityStandard"]},{[`&.${kL["root--densityComfortable"]}`]:b["root--densityComfortable"]},{[`&.${kL["root--densityCompact"]}`]:b["root--densityCompact"]},{[`&.${kL["root--disableUserSelection"]}`]:b["root--disableUserSelection"]},{[`&.${kL["root--noToolbar"]}`]:b["root--noToolbar"]},{[`&.${kL.withVerticalBorder}`]:b.withVerticalBorder},{[`& .${kL.actionsCell}`]:b.actionsCell},{[`& .${kL.booleanCell}`]:b.booleanCell},{[`& .${kL.cell}`]:b.cell},{[`& .${kL["cell--editable"]}`]:b["cell--editable"]},{[`& .${kL["cell--editing"]}`]:b["cell--editing"]},{[`& .${kL["cell--flex"]}`]:b["cell--flex"]},{[`& .${kL["cell--pinnedLeft"]}`]:b["cell--pinnedLeft"]},{[`& .${kL["cell--pinnedRight"]}`]:b["cell--pinnedRight"]},{[`& .${kL["cell--rangeBottom"]}`]:b["cell--rangeBottom"]},{[`& .${kL["cell--rangeLeft"]}`]:b["cell--rangeLeft"]},{[`& .${kL["cell--rangeRight"]}`]:b["cell--rangeRight"]},{[`& .${kL["cell--rangeTop"]}`]:b["cell--rangeTop"]},{[`& .${kL["cell--selectionMode"]}`]:b["cell--selectionMode"]},{[`& .${kL["cell--textCenter"]}`]:b["cell--textCenter"]},{[`& .${kL["cell--textLeft"]}`]:b["cell--textLeft"]},{[`& .${kL["cell--textRight"]}`]:b["cell--textRight"]},{[`& .${kL["cell--withLeftBorder"]}`]:b["cell--withLeftBorder"]},{[`& .${kL["cell--withRightBorder"]}`]:b["cell--withRightBorder"]},{[`& .${kL.cellCheckbox}`]:b.cellCheckbox},{[`& .${kL.cellEmpty}`]:b.cellEmpty},{[`& .${kL.cellOffsetLeft}`]:b.cellOffsetLeft},{[`& .${kL.cellSkeleton}`]:b.cellSkeleton},{[`& .${kL.checkboxInput}`]:b.checkboxInput},{[`& .${kL.columnHeader}`]:b.columnHeader},{[`& .${kL["columnHeader--alignCenter"]}`]:b["columnHeader--alignCenter"]},{[`& .${kL["columnHeader--alignLeft"]}`]:b["columnHeader--alignLeft"]},{[`& .${kL["columnHeader--alignRight"]}`]:b["columnHeader--alignRight"]},{[`& .${kL["columnHeader--dragging"]}`]:b["columnHeader--dragging"]},{[`& .${kL["columnHeader--emptyGroup"]}`]:b["columnHeader--emptyGroup"]},{[`& .${kL["columnHeader--filledGroup"]}`]:b["columnHeader--filledGroup"]},{[`& .${kL["columnHeader--filtered"]}`]:b["columnHeader--filtered"]},{[`& .${kL["columnHeader--last"]}`]:b["columnHeader--last"]},{[`& .${kL["columnHeader--moving"]}`]:b["columnHeader--moving"]},{[`& .${kL["columnHeader--numeric"]}`]:b["columnHeader--numeric"]},{[`& .${kL["columnHeader--pinnedLeft"]}`]:b["columnHeader--pinnedLeft"]},{[`& .${kL["columnHeader--pinnedRight"]}`]:b["columnHeader--pinnedRight"]},{[`& .${kL["columnHeader--siblingFocused"]}`]:b["columnHeader--siblingFocused"]},{[`& .${kL["columnHeader--sortable"]}`]:b["columnHeader--sortable"]},{[`& .${kL["columnHeader--sorted"]}`]:b["columnHeader--sorted"]},{[`& .${kL["columnHeader--withLeftBorder"]}`]:b["columnHeader--withLeftBorder"]},{[`& .${kL["columnHeader--withRightBorder"]}`]:b["columnHeader--withRightBorder"]},{[`& .${kL.columnHeaderCheckbox}`]:b.columnHeaderCheckbox},{[`& .${kL.columnHeaderDraggableContainer}`]:b.columnHeaderDraggableContainer},{[`& .${kL.columnHeaderTitleContainer}`]:b.columnHeaderTitleContainer},{[`& .${kL.columnHeaderTitleContainerContent}`]:b.columnHeaderTitleContainerContent},{[`& .${kL.columnSeparator}`]:b.columnSeparator},{[`& .${kL["columnSeparator--resizable"]}`]:b["columnSeparator--resizable"]},{[`& .${kL["columnSeparator--resizing"]}`]:b["columnSeparator--resizing"]},{[`& .${kL["columnSeparator--sideLeft"]}`]:b["columnSeparator--sideLeft"]},{[`& .${kL["columnSeparator--sideRight"]}`]:b["columnSeparator--sideRight"]},{[`& .${kL["container--bottom"]}`]:b["container--bottom"]},{[`& .${kL["container--top"]}`]:b["container--top"]},{[`& .${kL.detailPanelToggleCell}`]:b.detailPanelToggleCell},{[`& .${kL["detailPanelToggleCell--expanded"]}`]:b["detailPanelToggleCell--expanded"]},{[`& .${kL.editBooleanCell}`]:b.editBooleanCell},{[`& .${kL.filterIcon}`]:b.filterIcon},{[`& .${kL["filler--borderBottom"]}`]:b["filler--borderBottom"]},{[`& .${kL["filler--pinnedLeft"]}`]:b["filler--pinnedLeft"]},{[`& .${kL["filler--pinnedRight"]}`]:b["filler--pinnedRight"]},{[`& .${kL.groupingCriteriaCell}`]:b.groupingCriteriaCell},{[`& .${kL.groupingCriteriaCellLoadingContainer}`]:b.groupingCriteriaCellLoadingContainer},{[`& .${kL.groupingCriteriaCellToggle}`]:b.groupingCriteriaCellToggle},{[`& .${kL.headerFilterRow}`]:b.headerFilterRow},{[`& .${kL.iconSeparator}`]:b.iconSeparator},{[`& .${kL.menuIcon}`]:b.menuIcon},{[`& .${kL.menuIconButton}`]:b.menuIconButton},{[`& .${kL.menuList}`]:b.menuList},{[`& .${kL.menuOpen}`]:b.menuOpen},{[`& .${kL.overlayWrapperInner}`]:b.overlayWrapperInner},{[`& .${kL.pinnedRows}`]:b.pinnedRows},{[`& .${kL["pinnedRows--bottom"]}`]:b["pinnedRows--bottom"]},{[`& .${kL["pinnedRows--top"]}`]:b["pinnedRows--top"]},{[`& .${kL.row}`]:b.row},{[`& .${kL["row--borderBottom"]}`]:b["row--borderBottom"]},{[`& .${kL["row--detailPanelExpanded"]}`]:b["row--detailPanelExpanded"]},{[`& .${kL["row--dragging"]}`]:b["row--dragging"]},{[`& .${kL["row--dynamicHeight"]}`]:b["row--dynamicHeight"]},{[`& .${kL["row--editable"]}`]:b["row--editable"]},{[`& .${kL["row--editing"]}`]:b["row--editing"]},{[`& .${kL["row--firstVisible"]}`]:b["row--firstVisible"]},{[`& .${kL["row--lastVisible"]}`]:b["row--lastVisible"]},{[`& .${kL.rowReorderCell}`]:b.rowReorderCell},{[`& .${kL["rowReorderCell--draggable"]}`]:b["rowReorderCell--draggable"]},{[`& .${kL.rowReorderCellContainer}`]:b.rowReorderCellContainer},{[`& .${kL.rowReorderCellPlaceholder}`]:b.rowReorderCellPlaceholder},{[`& .${kL.rowSkeleton}`]:b.rowSkeleton},{[`& .${kL.scrollbar}`]:b.scrollbar},{[`& .${kL["scrollbar--horizontal"]}`]:b["scrollbar--horizontal"]},{[`& .${kL["scrollbar--vertical"]}`]:b["scrollbar--vertical"]},{[`& .${kL.scrollbarFiller}`]:b.scrollbarFiller},{[`& .${kL["scrollbarFiller--pinnedRight"]}`]:b["scrollbarFiller--pinnedRight"]},{[`& .${kL.sortIcon}`]:b.sortIcon},{[`& .${kL.treeDataGroupingCell}`]:b.treeDataGroupingCell},{[`& .${kL.treeDataGroupingCellLoadingContainer}`]:b.treeDataGroupingCellLoadingContainer},{[`& .${kL.treeDataGroupingCellToggle}`]:b.treeDataGroupingCellToggle},{[`& .${kL.withBorderColor}`]:b.withBorderColor},{[`& .${kL["row--dropAbove"]}`]:b["row--dropAbove"]},{[`& .${kL["row--dropBelow"]}`]:b["row--dropBelow"]},{[`& .${kL["row--beingDragged"]}`]:b["row--beingDragged"]}]})(()=>{let a=kZ(k_(),k1),b=kP.colors.background.base,c=kP.header.background.base,d=kP.cell.background.pinned,e=k3(kP.colors.interactive.hover,1),f=kP.colors.interactive.hoverOpacity,g=kP.colors.interactive.selected,h=kP.colors.interactive.selectedOpacity,i=`calc(${h} + ${f})`,j=k4(b,e,f),k=k4(b,g,h),l=k4(b,g,i),m=k4(d,e,f),n=k4(d,g,h),o=k4(d,g,i),p=a=>({[`& .${kL["cell--pinnedLeft"]}, & .${kL["cell--pinnedRight"]}`]:{backgroundColor:a,"&.Mui-selected":{backgroundColor:k4(a,k,h),"&:hover":{backgroundColor:k4(a,l,i)}}}}),q=p(m),r=p(n),s=p(o),t={backgroundColor:k,"&:hover":{backgroundColor:l,"@media (hover: none)":{backgroundColor:k}}};return{"--unstable_DataGrid-radius":kP.radius.base,"--unstable_DataGrid-headWeight":kP.typography.fontWeight.medium,"--DataGrid-rowBorderColor":kP.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:kP.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:kP.colors.background.base,color:kP.colors.foreground.base,font:kP.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${kL.main} > *:first-child/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${kL.autoHeight}`]:{height:"auto"},[`&.${kL.autosizing}`]:{[`& .${kL.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${kL.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${kL.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${kL.groupingCriteriaCell}`]:{width:"unset"},[`& .${kL.treeDataGroupingCell}`]:{width:"unset"}},[`&.${kL.withSidePanel}`]:{flexDirection:"row"},[`& .${kL.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${kL.columnHeader}, & .${kL.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${kL.columnHeader}:focus-within, & .${kL.cell}:focus-within`]:{outline:`solid ${k3(kP.colors.interactive.focus,.5)} 1px`,outlineOffset:-1},[`& .${kL.columnHeader}:focus, & .${kL.cell}:focus`]:{outline:`solid ${kP.colors.interactive.focus} 1px`,outlineOffset:-1},[`& .${kL.columnHeader}:focus,
      & .${kL["columnHeader--withLeftBorder"]},
      & .${kL["columnHeader--withRightBorder"]},
      & .${kL["columnHeader--siblingFocused"]}
      `]:{[`& .${kL.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${kL["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${kL["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${kL["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${kL["root--noToolbar"]} [aria-rowindex="1"] .${kL["columnHeader--last"]}`]:{borderTopRightRadius:a?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${kL.columnHeaderCheckbox}, & .${kL.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${kL.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:c},[`& .${kL["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${kL["virtualScroller--hasScrollX"]} .${kL["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${kL["pivotPanelField--sorted"]} .${kL.iconButtonContainer},
      & .${kL["columnHeader--sorted"]} .${kL.iconButtonContainer},
      & .${kL["columnHeader--filtered"]} .${kL.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${kL.pivotPanelField}:not(.${kL["pivotPanelField--sorted"]}) .${kL.sortButton},
      & .${kL.columnHeader}:not(.${kL["columnHeader--sorted"]}) .${kL.sortButton}`]:{opacity:0,transition:kP.transition(["opacity"],{duration:kP.transitions.duration.short})},[`& .${kL.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:kP.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${kL.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${kL["columnHeader--filledGroup"]} .${kL.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${kL.sortIcon}, & .${kL.filterIcon}`]:{fontSize:"inherit"},[`& .${kL["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${kL["columnHeader--alignCenter"]} .${kL.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${kL["columnHeader--alignRight"]} .${kL.columnHeaderDraggableContainer}, & .${kL["columnHeader--alignRight"]} .${kL.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${kL["columnHeader--alignCenter"]} .${kL.menuIcon}`]:{marginLeft:"auto"},[`& .${kL["columnHeader--alignRight"]} .${kL.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${kL["columnHeader--moving"]}`]:{backgroundColor:j},[`& .${kL["columnHeader--pinnedLeft"]}, & .${kL["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:kP.header.background.base},[`& .${kL.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:10,color:kP.colors.border.base},[`& .${kL.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:c},"@media (hover: hover)":{[`& .${kL.columnHeader}:hover`]:{[`& .${kL.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${kL.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${kL.columnHeader}:not(.${kL["columnHeader--sorted"]}):hover .${kL.sortButton},
        & .${kL.pivotPanelField}:not(.${kL["pivotPanelField--sorted"]}):hover .${kL.sortButton},
        & .${kL.pivotPanelField}:not(.${kL["pivotPanelField--sorted"]}) .${kL.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${kL.columnHeader} .${kL.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${kL.columnHeader}:focus,
        & .${kL["columnHeader--siblingFocused"]}`]:{[`.${kL["columnSeparator--resizable"]}`]:{color:kP.colors.foreground.accent}},[`& .${kL.pivotPanelField}:not(.${kL["pivotPanelField--sorted"]}) .${kL.sortButton}`]:{opacity:.5}},[`& .${kL["columnHeader--withLeftBorder"]} .${kL["columnSeparator--sideLeft"]}:not(.${kL["columnSeparator--resizable"]}), & .${kL["columnHeader--withRightBorder"]} .${kL["columnSeparator--sideRight"]}:not(.${kL["columnSeparator--resizable"]})`]:{display:"none"},[`& .${kL["columnSeparator--sideLeft"]}`]:{left:-5},[`& .${kL["columnSeparator--sideRight"]}`]:{right:-5},[`& .${kL["columnHeader--withRightBorder"]} .${kL["columnSeparator--sideLeft"]}`]:{left:-5.5},[`& .${kL["columnHeader--withRightBorder"]} .${kL["columnSeparator--sideRight"]}`]:{right:-5.5},[`& .${kL["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${kL["columnSeparator--resizing"]}`]:{color:kP.colors.foreground.accent},"@media (hover: none)":{[`& .${kL.iconSeparator} rect`]:k0},"@media (hover: hover)":{"&:hover":{color:kP.colors.foreground.accent,[`& .${kL.iconSeparator} rect`]:k0}},"& svg":{pointerEvents:"none"}},[`& .${kL.iconSeparator}`]:{color:"inherit",transition:kP.transition(["color","width"],{duration:kP.transitions.duration.short})},[`& .${kL.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${kL.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${kL.headerFilterRow}`]:{[`& .${kL.columnHeader}, & .${kL.scrollbarFiller}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${kL["row--borderBottom"]} .${kL.columnHeader},
      & .${kL["row--borderBottom"]} .${kL.filler},
      & .${kL["row--borderBottom"]} .${kL.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${kL["row--borderBottom"]} .${kL.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${kL.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${kL["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:j,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kL.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":t},[`& .${kL.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":t},[`& .${kL["virtualScrollerContent--overflowed"]} .${kL["row--lastVisible"]} .${kL.cell}`]:{borderTopColor:"transparent"},[`& .${kL.pinnedRows} .${kL.row}, .${kL.aggregationRowOverlayWrapper} .${kL.row}`]:{backgroundColor:d,"&:hover":{backgroundColor:m}},[`& .${kL["pinnedRows--top"]} :first-of-type`]:{[`& .${kL.cell}, .${kL.scrollbarFiller}`]:{borderTop:"none"}},[`&.${kL["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${kL["row--dynamicHeight"]} > .${kL.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${kL.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${kL.cell}.${kL["cell--selectionMode"]}`]:{cursor:"default"},[`& .${kL.cell}.${kL["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:kP.shadows.base,backgroundColor:kP.colors.background.overlay,"&:focus-within":{outline:`1px solid ${kP.colors.interactive.focus}`,outlineOffset:-1}},[`& .${kL["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${kL["row--editing"]}`]:{boxShadow:kP.shadows.base},[`& .${kL["row--editing"]} .${kL.cell}`]:{boxShadow:"none",backgroundColor:kP.colors.background.overlay},[`& .${kL.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${kL.booleanCell}[data-value="true"]`]:{color:kP.colors.foreground.muted},[`& .${kL.booleanCell}[data-value="false"]`]:{color:kP.colors.foreground.disabled},[`& .${kL.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:kP.spacing(1)},[`& .${kL.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:kP.colors.interactive.disabledOpacity},[`& .${kL["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${kL.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${kL.withBorderColor}`]:{borderColor:kP.colors.border.base},[`& .${kL["cell--withLeftBorder"]}, & .${kL["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${kL["cell--withRightBorder"]}, & .${kL["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${kL["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${kL["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${kL["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${kL["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${kL["cell--pinnedLeft"]}, & .${kL["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:kP.cell.background.pinned,"&.Mui-selected":{backgroundColor:n}},[`& .${kL.row}`]:{"&:hover":q,"&.Mui-selected":r,"&.Mui-selected:hover":s},[`& .${kL.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${kL.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${kL.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${kL.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${kL["columnHeader--dragging"]}`]:{background:kP.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:kP.colors.interactive.disabledOpacity},[`& .${kL["row--dragging"]}`]:{background:kP.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:kP.colors.foreground.base,transform:"translateZ(0)",[`& .${kL.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${kL.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${kL.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:kP.spacing(2)},[`& .${kL.treeDataGroupingCellLoadingContainer}, .${kL.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${kL.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${kL.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:kP.spacing(2)},[`& .${kL.columnHeaders} .${kL.scrollbarFiller}`]:{backgroundColor:c},[`.${kL.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",backgroundColor:c,[`&.${kL["scrollbarFiller--pinnedRight"]}`]:{position:"sticky",zIndex:40,right:0}},[`& .${kL.filler}`]:{flex:"1 0 auto"},[`& .${kL["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${kL.columnHeaders} .${kL.filler}`]:{backgroundColor:c},[`& .${kL["main--hiddenContent"]}`]:{[`& .${kL.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${kL.pinnedRows}`]:{display:"none"}},[`& .${kL["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:kP.colors.interactive.selected}},[`& .${kL["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:kP.colors.interactive.selected},[`&.${kL["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${kL["row--beingDragged"]}`]:{color:kP.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function k3(a,b){return`rgba(from ${a} r g b / ${b})`}function k4(a,b,c){return`color-mix(in srgb,${a}, ${b} calc(${c} * 100%))`}let k5=q.createContext(void 0),k6=()=>{let a=q.useContext(k5);if(!a)throw Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return a},k7=q.createContext(void 0),k8=()=>{let a=q.useContext(k7);if(void 0===a)throw Error("MUI X: Could not find the Data Grid configuration context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return a},k9=q.createContext({className:"unset",tag:(0,h.jsx)("style",{href:"/unset"})});function la(){return q.useContext(k9).className}function lb(a){let b=k8(),c=k6(),d=b.hooks.useCSSVariables(),e=q.useMemo(()=>{let a=`MuiDataGridVariables-${d.id}`,b=`.${a}{${function(a){let b="";for(let c in a)Object.hasOwn(a,c)&&void 0!==a[c]&&(b+=`${c}:${a[c]};`);return b}(d.variables)}}`,e=(0,h.jsx)("style",{href:`/${a}`,nonce:c.nonce,children:b});return{className:a,tag:e}},[c.nonce,d]);return(0,h.jsx)(k9.Provider,{value:e,children:a.children})}var lc=a.i(44381);let ld=(0,lc.createSelectorCreator)({memoize:lc.lruMemoize,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),le=(a,b,c,d,e,f,...g)=>{let h;if(g.length>0)throw Error("Unsupported number of selectors");if(a&&b&&c&&d&&e&&f)h=(g,h,i,j)=>{let k=a(g,h,i,j),l=b(g,h,i,j),m=c(g,h,i,j);return f(k,l,m,d(g,h,i,j),e(g,h,i,j),h,i,j)};else if(a&&b&&c&&d&&e)h=(f,g,h,i)=>{let j=a(f,g,h,i),k=b(f,g,h,i);return e(j,k,c(f,g,h,i),d(f,g,h,i),g,h,i)};else if(a&&b&&c&&d)h=(e,f,g,h)=>{let i=a(e,f,g,h);return d(i,b(e,f,g,h),c(e,f,g,h),f,g,h)};else if(a&&b&&c)h=(d,e,f,g)=>c(a(d,e,f,g),b(d,e,f,g),e,f,g);else if(a&&b)h=(c,d,e,f)=>b(a(c,d,e,f),d,e,f);else if(a)h=a;else throw Error("Missing arguments");return h},lf=(...a)=>{let b=new WeakMap,c=1,d=a[a.length-1],e=a.length-1||1,f=Math.max(d.length-e,0);if(f>3)throw Error("Unsupported number of arguments");return(e,g,h,i)=>{let j=e.__cacheKey__;j||(e.__cacheKey__=j={id:c},c+=1);let k=b.get(j);if(!k){let c=1===a.length?[a=>a,d]:a,e=a,g=[void 0,void 0,void 0];switch(f){case 0:break;case 1:e=[...c.slice(0,-1),()=>g[0],d];break;case 2:e=[...c.slice(0,-1),()=>g[0],()=>g[1],d];break;case 3:e=[...c.slice(0,-1),()=>g[0],()=>g[1],()=>g[2],d];break;default:throw Error("Unsupported number of arguments")}(k=ld(...e)).selectorArgs=g,b.set(j,k)}switch(f){case 3:k.selectorArgs[2]=i;case 2:k.selectorArgs[1]=h;case 1:k.selectorArgs[0]=g}switch(f){case 0:return k(e);case 1:return k(e,g);case 2:return k(e,g,h);case 3:return k(e,g,h,i);default:throw Error("unreachable")}}},lg=(...a)=>{let b=le(...a);return(a,c,d,e)=>b(lj(a),c,d,e)},lh=(...a)=>{let b=lf(...a);return(a,c,d,e)=>b(lj(a),c,d,e)},li=a=>(b,c)=>a(lj(b),c);function lj(a){return"current"in a?a.current.state:a}let lk={compact:.7,comfortable:1.3,standard:1},ll=li(a=>a.density),lm=lg(ll,a=>lk[a]),ln=()=>()=>{},lo=()=>!1,lp=()=>!0,lq=function(a){return a.LEFT="left",a.RIGHT="right",a}({}),lr={left:[],right:[]},ls=li(a=>a.isRtl),lt=li(a=>a.props.listView??!1),lu=li(a=>a.listViewColumn),lv=li(a=>a.columns),lw=lg(lv,a=>a.orderedFields),lx=lg(lv,a=>a.lookup),ly=lh(lw,lx,(a,b)=>a.map(a=>b[a])),lz=lg(lv,a=>a.columnVisibilityModel),lA=lg(lv,a=>a.initialColumnVisibilityModel),lB=lh(ly,lz,lt,lu,(a,b,c,d)=>c&&d?[d]:a.filter(a=>!1!==b[a.field])),lC=lh(lB,a=>a.map(a=>a.field)),lD=li(a=>a.pinnedColumns);lh(lD,lw,ls,(a,b,c)=>lF(a,b,c));let lE=lh(lv,lD,lC,ls,lt,(a,b,c,d,e)=>{if(e)return lr;let f=lF(b,c,d);return{left:f.left.map(b=>a.lookup[b]),right:f.right.map(b=>a.lookup[b])}});function lF(a,b,c){if(!Array.isArray(a.left)&&!Array.isArray(a.right)||a.left?.length===0&&a.right?.length===0)return lr;let d=(a,b)=>Array.isArray(a)?a.filter(a=>b.includes(a)):[],e=d(a.left,b),f=b.filter(a=>!e.includes(a)),g=d(a.right,f);return c?{left:g,right:e}:{left:e,right:g}}let lG=lh(lB,a=>{let b=[],c=0;for(let d=0;d<a.length;d+=1)b.push(c),c+=a[d].computedWidth;return b}),lH=lh(ly,a=>a.filter(a=>a.filterable)),lI=lh(ly,a=>a.reduce((a,b)=>(b.filterable&&(a[b.field]=b),a),{})),lJ=lh(ly,a=>a.some(a=>void 0!==a.colSpan)),lK=li(a=>a.preferencePanel),lL=lg(lK,(a,b)=>!!a.open&&a.labelId===b);var lM=function(a){return a.filters="filters",a.columns="columns",a.aiAssistant="aiAssistant",a}(lM||{});let lN=q.createContext(void 0);function lO(){let a=q.useContext(lN);if(void 0===a)throw Error("MUI X: Could not find the Data Grid context.\nIt looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.\nThis can also happen if you are bundling multiple versions of the Data Grid.");return a}let lP=q.createContext(void 0);function lQ(){let a=q.useContext(lP);if(void 0===a)throw Error("MUI X: Missing context.");return a}function lR({children:a}){let b=q.useRef(null),c=q.useRef(null),d=q.useRef(null),e=q.useMemo(()=>({columnsPanelTriggerRef:b,filterPanelTriggerRef:c,aiAssistantPanelTriggerRef:d}),[]);return(0,h.jsx)(lP.Provider,{value:e,children:a})}function lS(){let a=lO(),b=kZ(a,ly),c=k6(),d=kZ(a,lK),{columnsPanelTriggerRef:e,filterPanelTriggerRef:f,aiAssistantPanelTriggerRef:g}=lQ(),i=a.current.unstable_applyPipeProcessors("preferencePanel",null,d.openedPanelValue??lM.filters),j=null;switch(d.openedPanelValue){case lM.filters:j=f.current;break;case lM.columns:j=e.current;break;case lM.aiAssistant:j=g.current}return(0,h.jsx)(c.slots.panel,(0,ks.default)({id:d.panelId,open:b.length>0&&d.open,"aria-labelledby":d.labelId,target:j,onClose:()=>a.current.hidePreferences()},c.slotProps?.panel,{children:i}))}function lT(){let a=k6();return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(lS,{}),a.showToolbar&&(0,h.jsx)(a.slots.toolbar,(0,ks.default)({},a.slotProps?.toolbar))]})}var lU=a.i(514635),lU=lU;let lV=li(a=>a.dimensions),lW=lg(lV,a=>a.columnsTotalWidth),lX=lg(lV,a=>a.rowHeight);lg(lV,a=>a.contentSize.height);let lY=lg(lV,a=>a.hasScrollX),lZ=lg(lV,a=>a.hasScrollY),l$=lg(lV,a=>a.columnsTotalWidth<a.viewportOuterSize.width),l_=lg(lV,a=>a.headerHeight),l0=lg(lV,a=>a.groupHeaderHeight);lg(lV,a=>a.headerFilterHeight);let l1=lg(lV,a=>a.hasScrollX?a.scrollbarSize:0),l2=lg(lV,a=>a.hasScrollY?a.scrollbarSize:0),l3=lg(lV,l1,(a,b)=>{let c=a.viewportOuterSize.height-a.minimumSize.height>0;return 0!==b||!!c}),l4=li(a=>a.rows),l5=lg(l4,a=>a.totalRowCount),l6=lg(l4,a=>a.loading),l7=lg(l4,a=>a.totalTopLevelRowCount),l8=lg(l4,a=>a.dataRowIdToModelLookup);lg(l8,(a,b)=>a[b]);let l9=lg(l4,a=>a.tree),ma=lg(l9,(a,b)=>a[b]),mb=lg(l4,a=>a.groupsToFetch),mc=lg(l4,a=>a.groupingName),md=lg(l4,a=>a.treeDepths),me=lh(l4,a=>{let b=Object.entries(a.treeDepths);return 0===b.length?1:(b.filter(([,a])=>a>0).map(([a])=>Number(a)).sort((a,b)=>b-a)[0]??0)+1}),mf=lg(l4,a=>a.dataRowIds),mg=lh(mf,l8,(a,b)=>a.reduce((a,c)=>(b[c]&&a.push(b[c]),a),[])),mh=lh(lg(l4,a=>a?.additionalRowGroups),a=>{let b=a?.pinnedRows;return{bottom:b?.bottom?.map(a=>({id:a.id,model:a.model??{}}))??[],top:b?.top?.map(a=>({id:a.id,model:a.model??{}}))??[]}}),mi=lg(mh,a=>(a?.top?.length||0)+(a?.bottom?.length||0)),mj=q.useEffect,mk=function(a){let b=q.useRef(a);return mj(()=>{b.current=a}),q.useRef((...a)=>(0,b.current)(...a)).current};var lU=lU;class ml{timeouts=new Map;cleanupTimeout=1e3;constructor(a=1e3){this.cleanupTimeout=a}register(a,b,c){this.timeouts||(this.timeouts=new Map);let d=setTimeout(()=>{"function"==typeof b&&b(),this.timeouts.delete(c.cleanupToken)},this.cleanupTimeout);this.timeouts.set(c.cleanupToken,d)}unregister(a){let b=this.timeouts.get(a.cleanupToken);b&&(this.timeouts.delete(a.cleanupToken),clearTimeout(b))}reset(){this.timeouts&&(this.timeouts.forEach((a,b)=>{this.unregister({cleanupToken:b})}),this.timeouts=void 0)}}class mm{registry=new FinalizationRegistry(a=>{"function"==typeof a&&a()});register(a,b,c){this.registry.register(a,b,c)}unregister(a){this.registry.unregister(a)}reset(){}}class mn{static create(){return new mn}}let mo={current:"undefined"!=typeof FinalizationRegistry?new mm:new ml},mp=0;function mq(a,b,c,d){let e=q.useState(mn.create)[0],f=q.useRef(null),g=q.useRef(null);g.current=c;let h=q.useRef(null);!f.current&&g.current?(f.current=a.current.subscribeEvent(b,(a,b,c)=>{b.defaultMuiPrevented||g.current?.(a,b,c)},d),h.current={cleanupToken:mp+=1},mo.current.register(e,()=>{f.current?.(),f.current=null,h.current=null},h.current)):!g.current&&f.current&&(f.current(),f.current=null,h.current&&(mo.current.unregister(h.current),h.current=null)),q.useEffect(()=>(!f.current&&g.current&&(f.current=a.current.subscribeEvent(b,(a,b,c)=>{b.defaultMuiPrevented||g.current?.(a,b,c)},d)),h.current&&mo.current&&(mo.current.unregister(h.current),h.current=null),()=>{f.current?.(),f.current=null}),[a,b,d])}let mr={isFirst:!0};function ms(a,b,c){mq(a,b,c,mr)}let mt=[];function mu(a){q.useEffect(a,mt)}class mv{static create(){return new mv}currentId=null;start(a,b){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,b()},a)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function mw(){let a=kT(mv.create).current;return mu(a.disposeEffect),a}function mx(a){throw Error("Failed assertion: should not be rendered")}let my=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],mz=(0,kE.styled)(mx,{name:"MuiDataGrid",slot:"EditInputCell"})({font:kP.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),mA=kv((a,b)=>{let c=k6(),{id:d,value:e,field:f,colDef:g,hasFocus:i,debounceMs:j=200,isProcessingProps:k,onValueChange:l,slotProps:m}=a,n=(0,kw.default)(a,my),o=lO(),p=q.useRef(null),[r,s]=q.useState(e),t=(a=>{let{classes:b}=a;return kA({root:["editInputCell"]},kK,b)})(c),u=q.useCallback(async a=>{let b=a.target.value,c=o.current.getColumn(f),e=b;c.valueParser&&(e=c.valueParser(b,o.current.getRow(d),c,o)),s(e),o.current.setEditCellValue({id:d,field:f,value:e,debounceMs:j,unstable_skipValueParser:!0},a),l&&await l(a,b)},[o,j,f,d,l]),v=o.current.unstable_getEditCellMeta(d,f);return q.useEffect(()=>{v?.changeReason!=="debouncedSetEditCellValue"&&s(e)},[v,e]),mj(()=>{i&&p.current.focus()},[i]),(0,h.jsx)(mz,(0,ks.default)({as:c.slots.baseInput,inputRef:p,className:t.root,ownerState:c,fullWidth:!0,type:"number"===g.type?g.type:"text",value:r??"",onChange:u,endAdornment:k?(0,h.jsx)(c.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},n,m?.root,{ref:b}))}),mB=(a,b)=>b&&a.length>1?[a[0]]:a,mC=(a,b)=>c=>(0,ks.default)({},c,{sorting:(0,ks.default)({},c.sorting,{sortModel:mB(a,b)})}),mD=(a,b)=>{let c=a.indexOf(b);return b&&-1!==c&&c+1!==a.length?a[c+1]:a[0]},mE=(a,b)=>null==a&&null!=b?-1:null==b&&null!=a?1:null==a&&null==b?0:null,mF=new Intl.Collator,mG=(a,b)=>{let c=mE(a,b);return null!==c?c:Number(a)-Number(b)},mH=(a,b)=>{let c=mE(a,b);return null!==c?c:a>b?1:a<b?-1:0},mI=0,mJ={...q}.useId;function mK(a){if(void 0!==mJ){let b=mJ();return a??b}let[b,c]=q.useState(a),d=a||b;return q.useEffect(()=>{null==b&&(mI+=1,c(`mui-${mI}`))},[b]),d}let mL=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function mM(a){let{item:b,applyValue:c,type:d,apiRef:e,focusElementRef:f,tabIndex:g,disabled:i,slotProps:j,clearButton:k,headerFilterMenu:l}=a,m=(0,kw.default)(a,mL),n=j?.root,o=mw(),[p,r]=q.useState(mN(b.value)),[s,t]=q.useState(!1),u=mK(),v=k6(),w=q.useCallback(a=>{let e=mN(a.target.value);r(e),t(!0),o.start(v.filterDebounceMs,()=>{c((0,ks.default)({},b,{value:"number"!==d||Number.isNaN(Number(e))?e:Number(e),fromInput:u})),t(!1)})},[o,v.filterDebounceMs,b,d,u,c]);return q.useEffect(()=>{(b.fromInput!==u||null==b.value)&&r(mN(b.value))},[u,b]),(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(v.slots.baseTextField,(0,ks.default)({id:u,label:e.current.getLocaleText("filterPanelInputLabel"),placeholder:e.current.getLocaleText("filterPanelInputPlaceholder"),value:p??"",onChange:w,type:d||"text",disabled:i,slotProps:(0,ks.default)({},n?.slotProps,{input:(0,ks.default)({endAdornment:s?(0,h.jsx)(v.slots.loadIcon,{fontSize:"small",color:"action"}):null},n?.slotProps?.input),htmlInput:(0,ks.default)({tabIndex:g},n?.slotProps?.htmlInput)}),inputRef:f},v.slotProps?.baseTextField,m,n)),l,k]})}function mN(a){if(null!=a&&""!==a)return String(a)}function mO(a){return"object"==typeof a&&null!==a}function mP(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}let mQ=(a,b,c)=>Math.max(b,Math.min(c,a));function mR(a){return"function"==typeof structuredClone?structuredClone(a):JSON.parse(JSON.stringify(a))}let mS=(a,b)=>c=>{a&&b(c)};function mT(a){let{item:b,applyValue:c,type:d,apiRef:e,focusElementRef:f,slotProps:g}=a,i=mK(),[j,k]=q.useState([]),[l,m]=q.useState(b.value||[]),n=k6();q.useEffect(()=>{m((b.value??[]).map(String))},[b.value]);let o=q.useCallback((a,e)=>{m(e.map(String)),c((0,ks.default)({},b,{value:[...e.map(a=>"number"===d?Number(a):a)]}))},[c,b,d]),p=q.useCallback((a,b)=>{""===b?k([]):k([b])},[k]),r=n.slots.baseAutocomplete;return(0,h.jsx)(r,(0,ks.default)({multiple:!0,freeSolo:!0,options:j,id:i,value:l,onChange:o,onInputChange:p,label:e.current.getLocaleText("filterPanelInputLabel"),placeholder:e.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:d||"text",inputRef:f}}},g?.root))}var mU=function(a){return a.And="and",a.Or="or",a}(mU||{});let mV={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},mW=()=>({items:[],logicOperator:mU.And,quickFilterValues:[],quickFilterLogicOperator:mU.And});function mX(a){return{current:a.current.getPublicApi()}}let mY=(a,b)=>{let c=(0,ks.default)({},a);if(null==c.id&&(c.id=Math.round(1e5*Math.random())),null==c.operator){let a=lx(b)[c.field];c.operator=a&&a.filterOperators[0].value}return c},mZ=(a,b,c)=>{let d,e=a.items.length>1;d=e&&b?[a.items[0]]:a.items;let f=e&&d.some(a=>null==a.id);return d.some(a=>null==a.operator)||f?(0,ks.default)({},a,{items:d.map(a=>mY(a,c))}):a.items!==d?(0,ks.default)({},a,{items:d}):a},m$=(a,b,c)=>d=>(0,ks.default)({},d,{filterModel:mZ(a,b,c)}),m_=a=>"string"==typeof a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,""):a,m0=(a,b,c)=>{let d;if(!a.field||!a.operator)return null;let e=c.current.getColumn(a.field);if(!e)return null;if(e.valueParser){let b=e.valueParser;d=Array.isArray(a.value)?a.value?.map(a=>b(a,void 0,e,c)):b(a.value,void 0,e,c)}else d=a.value;let{ignoreDiacritics:f}=c.current.rootProps;f&&(d=m_(d));let g=(0,ks.default)({},a,{value:d}),h=e.filterOperators;if(!h?.length)throw Error(`MUI X: No filter operators found for column '${e.field}'.`);let i=h.find(a=>a.value===g.operator);if(!i)throw Error(`MUI X: No filter operator found for column '${e.field}' and operator value '${g.operator}'.`);let j=mX(c),k=i.getApplyFilterFn(g,e);return"function"!=typeof k?null:{item:g,fn:a=>{let c=b(a,e);return f&&(c=m_(c)),k(c,a,e,j)}}},m1=1,m2=a=>null!=a,m3=(a,b,c,d,e,f)=>{let g=((a,b,c,d)=>(a.cleanedFilterItems||(a.cleanedFilterItems=d.filter(a=>null!==m0(a,b,c))),a.cleanedFilterItems))(f,d,e,c.items),h=a.filter(m2),i=b.filter(m2);if(h.length>0){let a=a=>h.some(b=>b[a.id]);if((c.logicOperator??mW().logicOperator)===mU.And){if(!g.every(a))return!1}else if(!g.some(a))return!1}if(i.length>0&&null!=c.quickFilterValues){let a=a=>i.some(b=>b[a]);if((c.quickFilterLogicOperator??mW().quickFilterLogicOperator)===mU.And){if(!c.quickFilterValues.every(a))return!1}else if(!c.quickFilterValues.some(a))return!1}return!0},m4=(a,b)=>c=>{if(!c.value)return null;let d=RegExp(mP(a?c.value:c.value.trim()),"i");return a=>{if(null==a)return b;let c=d.test(String(a));return b?!c:c}},m5=(a,b)=>c=>{if(!c.value)return null;let d=a?c.value:c.value.trim(),e=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return a=>{if(null==a)return b;let c=0===e.compare(d,a.toString());return b?!c:c}},m6=a=>()=>b=>{let c=""===b||null==b;return a?!c:c},m7={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,chartable:!0,editable:!1,sortComparator:(a,b)=>{let c=mE(a,b);return null!==c?c:"string"==typeof a?mF.compare(a.toString(),b.toString()):a-b},type:"string",align:"left",filterOperators:((a=!1)=>[{value:"contains",getApplyFilterFn:m4(a,!1),InputComponent:mM},{value:"doesNotContain",getApplyFilterFn:m4(a,!0),InputComponent:mM},{value:"equals",getApplyFilterFn:m5(a,!1),InputComponent:mM},{value:"doesNotEqual",getApplyFilterFn:m5(a,!0),InputComponent:mM},{value:"startsWith",getApplyFilterFn:b=>{if(!b.value)return null;let c=a?b.value:b.value.trim(),d=RegExp(`^${mP(c)}.*$`,"i");return a=>null!=a&&d.test(a.toString())},InputComponent:mM},{value:"endsWith",getApplyFilterFn:b=>{if(!b.value)return null;let c=a?b.value:b.value.trim(),d=RegExp(`.*${mP(c)}$`,"i");return a=>null!=a&&d.test(a.toString())},InputComponent:mM},{value:"isEmpty",getApplyFilterFn:m6(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:m6(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:b=>{if(!Array.isArray(b.value)||0===b.value.length)return null;let c=a?b.value:b.value.map(a=>a.trim()),d=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return a=>null!=a&&c.some(b=>0===d.compare(b,a.toString()||""))},InputComponent:mT}])(),renderEditCell:a=>(0,h.jsx)(mA,(0,ks.default)({},a)),getApplyQuickFilterFn:a=>{if(!a)return null;let b=RegExp(mP(a),"i");return(a,c,d,e)=>{let f=e.current.getRowFormattedValue(c,d);return e.current.ignoreDiacritics&&(f=m_(f)),null!=f&&b.test(f.toString())}}},m8=a=>null==a?null:Number(a),m9=(0,ks.default)({},m7,{type:"number",align:"right",headerAlign:"right",sortComparator:mG,valueParser:a=>""===a?null:Number(a),valueFormatter:a=>!function(a){return"number"==typeof a&&!Number.isNaN(a)}(a)?a||"":a.toLocaleString(),filterOperators:[{value:"=",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>m8(b)===a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>m8(b)!==a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>null!=b&&m8(b)>a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>null!=b&&m8(b)>=a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>null!=b&&m8(b)<a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:a=>null==a.value||Number.isNaN(a.value)?null:b=>null!=b&&m8(b)<=a.value,InputComponent:mM,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>a=>null==a,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>a=>null!=a,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:a=>Array.isArray(a.value)&&0!==a.value.length?b=>null!=b&&a.value.includes(Number(b)):null,InputComponent:mT,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:a=>null==a||Number.isNaN(a)||""===a?null:b=>m8(b)===m8(a)}),na=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function nb(a,b){if(null==a)return"";let c=new Date(a);return Number.isNaN(c.getTime())?"":"date"===b?c.toISOString().substring(0,10):"datetime-local"===b?(c.setMinutes(c.getMinutes()-c.getTimezoneOffset()),c.toISOString().substring(0,19)):c.toISOString().substring(0,10)}function nc(a){let{item:b,applyValue:c,type:d,apiRef:e,focusElementRef:f,slotProps:g,headerFilterMenu:i,clearButton:j,tabIndex:k,disabled:l}=a,m=(0,kw.default)(a,na),n=g?.root.slotProps,o=mw(),[p,r]=q.useState(()=>nb(b.value,d)),[s,t]=q.useState(!1),u=mK(),v=k6(),w=q.useCallback(a=>{o.clear();let d=a.target.value;r(d),t(!0),o.start(v.filterDebounceMs,()=>{let a=new Date(d);c((0,ks.default)({},b,{value:Number.isNaN(a.getTime())?void 0:a})),t(!1)})},[c,b,v.filterDebounceMs,o]);return q.useEffect(()=>{r(nb(b.value,d))},[b.value,d]),(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(v.slots.baseTextField,(0,ks.default)({fullWidth:!0,id:u,label:e.current.getLocaleText("filterPanelInputLabel"),placeholder:e.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:w,type:d||"text",disabled:l,inputRef:f,slotProps:(0,ks.default)({},n,{input:(0,ks.default)({endAdornment:s?(0,h.jsx)(v.slots.loadIcon,{fontSize:"small",color:"action"}):null},n?.input),htmlInput:(0,ks.default)({max:"datetime-local"===d?"9999-12-31T23:59":"9999-12-31",tabIndex:k},n?.htmlInput)})},v.slotProps?.baseTextField,m,g?.root)),i,j]})}function nd(a,b,c,d){if(!a.value)return null;let e=new Date(a.value);c?e.setSeconds(0,0):(e.setMinutes(e.getMinutes()+e.getTimezoneOffset()),e.setHours(0,0,0,0));let f=e.getTime();return a=>{if(!a)return!1;if(d)return b(a.getTime(),f);let e=new Date(a);return c?e.setSeconds(0,0):e.setHours(0,0,0,0),b(e.getTime(),f)}}let ne=a=>[{value:"is",getApplyFilterFn:b=>nd(b,(a,b)=>a===b,a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"not",getApplyFilterFn:b=>nd(b,(a,b)=>a!==b,a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"after",getApplyFilterFn:b=>nd(b,(a,b)=>a>b,a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:b=>nd(b,(a,b)=>a>=b,a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"before",getApplyFilterFn:b=>nd(b,(a,b)=>a<b,a,!a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:b=>nd(b,(a,b)=>a<=b,a),InputComponent:nc,InputComponentProps:{type:a?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>a=>null==a,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>a=>null!=a,requiresFilterValue:!1}],nf=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],ng=(0,kE.styled)(mx)({fontSize:"inherit"});function nh(a){let{id:b,value:c,field:d,colDef:e,hasFocus:f,onValueChange:g,slotProps:i}=a,j=(0,kw.default)(a,nf),k="dateTime"===e.type,l=lO(),m=q.useRef(null),n=q.useMemo(()=>{let a,b;return b=null==(a=null==c?null:c instanceof Date?c:new Date((c??"").toString()))||Number.isNaN(a.getTime())?"":new Date(a.getTime()-60*a.getTimezoneOffset()*1e3).toISOString().substr(0,k?16:10),{parsed:a,formatted:b}},[c,k]),[o,p]=q.useState(n),r=k6(),s=(a=>{let{classes:b}=a;return kA({root:["editInputCell"]},kK,b)})({classes:r.classes}),t=q.useCallback(a=>{if(""===a)return null;let[b,c]=a.split("T"),[d,e,f]=b.split("-"),g=new Date;if(g.setFullYear(Number(d),Number(e)-1,Number(f)),g.setHours(0,0,0,0),c){let[a,b]=c.split(":");g.setHours(Number(a),Number(b),0,0)}return g},[]),u=q.useCallback(async a=>{let c=a.target.value,e=t(c);g&&await g(a,e),p({parsed:e,formatted:c}),l.current.setEditCellValue({id:b,field:d,value:e},a)},[l,d,b,g,t]);return q.useEffect(()=>{p(a=>n.parsed!==a.parsed&&n.parsed?.getTime()!==a.parsed?.getTime()?n:a)},[n]),mj(()=>{f&&m.current.focus()},[f]),(0,h.jsx)(ng,(0,ks.default)({as:r.slots.baseInput,inputRef:m,fullWidth:!0,className:s.root,type:k?"datetime-local":"date",value:o.formatted,onChange:u},j,i?.root,{slotProps:{htmlInput:(0,ks.default)({max:k?"9999-12-31T23:59":"9999-12-31"},i?.root?.slotProps?.htmlInput)}}))}let ni=a=>(0,h.jsx)(nh,(0,ks.default)({},a)),nj="auto-generated-group-node-root",nk=Symbol("mui.id_autogenerated"),nl=(a,b,c)=>{let d=b?b(a):a.id;return!function(a,b,c="A row was provided without id in the rows prop:"){if(null==a)throw Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.\nAlternatively, you can use the `getRowId` prop to specify a custom id for each row.",c,JSON.stringify(b)].join("\n"))}(d,a,c),d},nm=({rows:a,getRowId:b,loading:c,rowCount:d})=>{let e={type:"full",rows:[]},f={};for(let c=0;c<a.length;c+=1){let d=a[c],g=nl(d,b);f[g]=d,e.rows.push(g)}return{rowsBeforePartialUpdates:a,loadingPropBeforePartialUpdates:c,rowCountPropBeforePartialUpdates:d,updates:e,dataRowIdToModelLookup:f}},nn=({tree:a,rowCountProp:b=0})=>{let c=a[nj];return Math.max(b,c.children.length+ +(null!=c.footerId))},no=({apiRef:a,rowCountProp:b=0,loadingProp:c,previousTree:d,previousTreeDepths:e,previousGroupsToFetch:f})=>{let g=a.current.caches.rows,{tree:h,treeDepths:i,dataRowIds:j,groupingName:k,groupsToFetch:l=[]}=a.current.applyStrategyProcessor("rowTreeCreation",{previousTree:d,previousTreeDepths:e,updates:g.updates,dataRowIdToModelLookup:g.dataRowIdToModelLookup,previousGroupsToFetch:f}),m=a.current.unstable_applyPipeProcessors("hydrateRows",{tree:h,treeDepths:i,dataRowIds:j,dataRowIdToModelLookup:g.dataRowIdToModelLookup});return a.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},(0,ks.default)({},m,{totalRowCount:Math.max(b,m.dataRowIds.length),totalTopLevelRowCount:nn({tree:m.tree,rowCountProp:b}),groupingName:k,loading:c,groupsToFetch:l})},np=a=>"skeletonRow"===a.type||"footer"===a.type||"group"===a.type&&a.isAutoGenerated||"pinnedRow"===a.type&&a.isAutoGenerated,nq=(a,b,c,d)=>{let e=a[b];if("group"!==e.type)return[];let f=[];for(let b=0;b<e.children.length;b+=1){let g=e.children[b];if(c&&np(a[g])||f.push(g),d)continue;let h=nq(a,g,c,d);for(let a=0;a<h.length;a+=1)f.push(h[a])}return c||null==e.footerId||f.push(e.footerId),f},nr=({previousCache:a,getRowId:b,updates:c,groupKeys:d})=>{if("full"===a.updates.type)throw Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");let e=new Map;c.forEach(a=>{let c=nl(a,b,"A row was provided without id when calling updateRows():");e.has(c)?e.set(c,(0,ks.default)({},e.get(c),a)):e.set(c,a)});let f={type:"partial",actions:{insert:[...a.updates.actions.insert??[]],modify:[...a.updates.actions.modify??[]],remove:[...a.updates.actions.remove??[]]},idToActionLookup:(0,ks.default)({},a.updates.idToActionLookup),groupKeys:d},g=(0,ks.default)({},a.dataRowIdToModelLookup),h={insert:{},modify:{},remove:{}};e.forEach((a,b)=>{let c=f.idToActionLookup[b];if("delete"===a._action){if("remove"===c||!g[b])return;null!=c&&(h[c][b]=!0),f.actions.remove.push(b),delete g[b];return}let d=g[b];if(d){"remove"===c?(h.remove[b]=!0,f.actions.modify.push(b)):null==c&&f.actions.modify.push(b),g[b]=(0,ks.default)({},d,a);return}"remove"===c?(h.remove[b]=!0,f.actions.insert.push(b)):null==c&&f.actions.insert.push(b),g[b]=a});let i=Object.keys(h);for(let a=0;a<i.length;a+=1){let b=i[a],c=h[b];Object.keys(c).length>0&&(f.actions[b]=f.actions[b].filter(a=>!c[a]))}return{dataRowIdToModelLookup:g,updates:f,rowsBeforePartialUpdates:a.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:a.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:a.rowCountPropBeforePartialUpdates}},ns="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function nt(a,b,c){let d=[];return b.forEach(b=>{let e=nl(b,c,"A row was provided without id when calling updateRows():"),f=ma(a,e);if(f?.type==="pinnedRow"){let c=a.current.caches.pinnedRows,d=c.idLookup[e];d&&(c.idLookup[e]=(0,ks.default)({},d,b))}else d.push(b)}),d}let nu=(a,b,c)=>"number"==typeof a&&a>0?a:b,nv="MUI X: The `rowHeight` prop should be a number greater than 0.\nThe default value will be used instead.",nw=li((a,b)=>nk in b?b[nk]:a.props.getRowId?a.props.getRowId(b):b.id);function nx({value:a,columnType:b,rowId:c,field:d}){if(!(a instanceof Date))throw Error(`MUI X: \`${b}\` column type only accepts \`Date\` objects as values.
Use \`valueGetter\` to transform the value into a \`Date\` object.
Row ID: ${c}, field: "${d}".`)}let ny=(0,ks.default)({},m7,{type:"date",sortComparator:mH,valueFormatter:(a,b,c,d)=>{if(!a)return"";let e=nw(d,b);return nk in b&&!(a instanceof Date)?a:(nx({value:a,columnType:"date",rowId:e,field:c.field}),a.toLocaleDateString())},filterOperators:ne(),renderEditCell:ni,pastedValueParser:a=>new Date(a)}),nz=(0,ks.default)({},m7,{type:"dateTime",sortComparator:mH,valueFormatter:(a,b,c,d)=>{if(!a)return"";let e=nw(d,b);return nk in b&&!(a instanceof Date)?a:(nx({value:a,columnType:"dateTime",rowId:e,field:c.field}),a.toLocaleString())},filterOperators:ne(!0),renderEditCell:ni,pastedValueParser:a=>new Date(a)}),nA="__row_group_by_columns_group__",nB="__detail_panel_toggle__",nC=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a[a.VIRTUAL=3]="VIRTUAL",a}({}),nD=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],nE=q.memo(function(a){let{value:b,rowNode:c}=a,d=(0,kw.default)(a,nD),e=lO(),f=k6(),g=(a=>{let{classes:b}=a;return kA({root:["booleanCell"]},kK,b)})({classes:f.classes}),i=kZ(e,me)>0&&"group"===c.type&&!1===f.treeData,j=q.useMemo(()=>b?f.slots.booleanCellTrueIcon:f.slots.booleanCellFalseIcon,[f.slots.booleanCellFalseIcon,f.slots.booleanCellTrueIcon,b]);return i&&void 0===b?null:(0,h.jsx)(j,(0,ks.default)({fontSize:"small",className:g.root,titleAccess:e.current.getLocaleText(b?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!b},d))}),nF=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function nG(a){let{id:b,value:c,field:d,className:e,hasFocus:f,onValueChange:g}=a,i=(0,kw.default)(a,nF),j=lO(),k=q.useRef(null),l=mK(),[m,n]=q.useState(c),o=k6(),p=(a=>{let{classes:b}=a;return kA({root:["editBooleanCell"]},kK,b)})({classes:o.classes}),r=q.useCallback(async a=>{let c=a.target.checked;g&&await g(a,c),n(c),await j.current.setEditCellValue({id:b,field:d,value:c},a)},[j,d,b,g]);return q.useEffect(()=>{n(c)},[c]),mj(()=>{f&&k.current.focus()},[f]),(0,h.jsx)("label",(0,ks.default)({htmlFor:l,className:(0,kx.default)(p.root,e)},i,{children:(0,h.jsx)(o.slots.baseCheckbox,(0,ks.default)({id:l,inputRef:k,checked:!!m,onChange:r,size:"small"},o.slotProps?.baseCheckbox))}))}let nH=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function nI(a){return"true"===String(a).toLowerCase()||"false"!==String(a).toLowerCase()&&void 0}let nJ=(0,ks.default)({},m7,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:a=>a.field!==nA&&np(a.rowNode)?"":(0,h.jsx)(nE,(0,ks.default)({},a)),renderEditCell:a=>(0,h.jsx)(nG,(0,ks.default)({},a)),sortComparator:mG,valueFormatter:(a,b,c,d)=>a?d.current.getLocaleText("booleanCellTrueLabel"):d.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:a=>{let b=nI(a.value);return void 0===b?null:a=>!!a===b},InputComponent:function(a){let{item:b,applyValue:c,apiRef:d,focusElementRef:e,headerFilterMenu:f,clearButton:g,tabIndex:i,slotProps:j}=a,k=(0,kw.default)(a,nH),[l,m]=q.useState(nI(b.value)),n=k6(),o=mK(),p=mK(),r=n.slotProps?.baseSelect||{},s=r.native??!1,t=n.slotProps?.baseSelectOption||{},u=q.useCallback(a=>{let d=nI(a.target.value);m(d),c((0,ks.default)({},b,{value:d}))},[c,b]);q.useEffect(()=>{m(nI(b.value))},[b.value]);let v=j?.root.label??d.current.getLocaleText("filterPanelInputLabel"),w=j?.root.slotProps;return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsxs)(n.slots.baseSelect,(0,ks.default)({fullWidth:!0,labelId:o,id:p,label:v,value:void 0===l?"":String(l),onChange:u,native:s,slotProps:{htmlInput:(0,ks.default)({ref:e,tabIndex:i},w?.htmlInput)}},r,k,j?.root,{children:[(0,h.jsx)(n.slots.baseSelectOption,(0,ks.default)({},t,{native:s,value:"",children:d.current.getLocaleText("filterValueAny")})),(0,h.jsx)(n.slots.baseSelectOption,(0,ks.default)({},t,{native:s,value:"true",children:d.current.getLocaleText("filterValueTrue")})),(0,h.jsx)(n.slots.baseSelectOption,(0,ks.default)({},t,{native:s,value:"false",children:d.current.getLocaleText("filterValueFalse")}))]})),f,g]})}}],getApplyQuickFilterFn:()=>null,aggregable:!1,chartable:!1,pastedValueParser:a=>(a=>{switch(a.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(a)});var nK=function(a){return a.enterKeyDown="enterKeyDown",a.cellDoubleClick="cellDoubleClick",a.printableKeyDown="printableKeyDown",a.deleteKeyDown="deleteKeyDown",a.pasteKeyDown="pasteKeyDown",a}(nK||{}),nL=function(a){return a.cellFocusOut="cellFocusOut",a.escapeKeyDown="escapeKeyDown",a.enterKeyDown="enterKeyDown",a.tabKeyDown="tabKeyDown",a.shiftTabKeyDown="shiftTabKeyDown",a}(nL||{}),nM=function(a){return a.Cell="cell",a.Row="row",a}(nM||{}),nN=function(a){return a.Edit="edit",a.View="view",a}(nN||{}),nO=function(a){return a.Edit="edit",a.View="view",a}(nO||{});function nP(a){return a?.type==="singleSelect"}function nQ(a,b){if(a)return"function"==typeof a.valueOptions?a.valueOptions((0,ks.default)({field:a.field},b)):a.valueOptions}function nR(a,b,c){if(void 0===b)return;let d=b.find(b=>String(c(b))===String(a));return c(d)}let nS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function nT(a){let b=k6(),{id:c,value:d,field:e,row:f,colDef:g,hasFocus:i,error:j,onValueChange:k,initialOpen:l=b.editMode===nM.Cell,slotProps:m}=a,n=(0,kw.default)(a,nS),o=lO(),p=q.useRef(null),r=q.useRef(null),[s,t]=q.useState(l),u=(b.slotProps?.baseSelect||{}).native??!1;if(mj(()=>{i&&r.current?.focus()},[i]),!nP(g))return null;let v=nQ(g,{id:c,row:f});if(!v)return null;let w=g.getOptionValue,x=g.getOptionLabel,y=async a=>{if(!nP(g)||!v)return;t(!1);let b=nR(a.target.value,v,w);k&&await k(a,b),await o.current.setEditCellValue({id:c,field:e,value:b},a)};return v&&g?(0,h.jsx)(b.slots.baseSelect,(0,ks.default)({ref:p,value:d,onChange:y,open:s,onOpen:a=>{"key"in a&&a.key&&"Enter"===a.key||t(!0)},onClose:(a,d)=>{if(b.editMode===nM.Row)return void t(!1);if("backdropClick"===d||"Escape"===a.key){let b=o.current.getCellParams(c,e);o.current.publishEvent("cellEditStop",(0,ks.default)({},b,{reason:"Escape"===a.key?nL.escapeKeyDown:nL.cellFocusOut}))}},error:j,native:u,fullWidth:!0,slotProps:{htmlInput:{ref:r}}},n,m?.root,b.slotProps?.baseSelect,{children:v.map(a=>{let c=w(a);return(0,q.createElement)(b.slots.baseSelectOption,(0,ks.default)({},b.slotProps?.baseSelectOption||{},{native:u,key:c,value:c}),x(a))})})):null}let nU=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"];function nV(a){let{item:b,applyValue:c,type:d,apiRef:e,focusElementRef:f,tabIndex:g,clearButton:i,headerFilterMenu:j,slotProps:k}=a,l=(0,kw.default)(a,nU),m=b.value??"",n=mK(),o=mK(),p=k6(),r=p.slotProps?.baseSelect?.native??!1,s=e.current.getColumn(b.field),t=s.getOptionValue,u=s.getOptionLabel,v=q.useMemo(()=>nQ(s),[s]),w=q.useCallback(a=>{let d=a.target.value;d=nR(d,v,t),c((0,ks.default)({},b,{value:d}))},[v,t,c,b]);if(!s||!nP(s))return null;let x=k?.root.label??e.current.getLocaleText("filterPanelInputLabel");return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(p.slots.baseSelect,(0,ks.default)({fullWidth:!0,id:n,label:x,labelId:o,value:m,onChange:w,slotProps:{htmlInput:(0,ks.default)({tabIndex:g,ref:f,type:d||"text",placeholder:k?.root.placeholder??e.current.getLocaleText("filterPanelInputPlaceholder")},k?.root.slotProps?.htmlInput)},native:r},p.slotProps?.baseSelect,l,k?.root,{children:(({column:a,OptionComponent:b,getOptionLabel:c,getOptionValue:d,isSelectNative:e,baseSelectOptionProps:f})=>["",...nQ(a)||[]].map(a=>{let g=d(a),h=c(a);return""===h&&(h=""),(0,q.createElement)(b,(0,ks.default)({},f,{native:e,key:g,value:g}),h)}))({column:s,OptionComponent:p.slots.baseSelectOption,getOptionLabel:u,getOptionValue:t,isSelectNative:r,baseSelectOptionProps:p.slotProps?.baseSelectOption})})),j,i]})}let nW=["item","applyValue","type","apiRef","focusElementRef","slotProps"],nX=a=>null!=a&&mO(a)?a.value:a,nY=(0,ks.default)({},m7,{type:"singleSelect",getOptionLabel:a=>mO(a)?a.label:String(a),getOptionValue:a=>mO(a)?a.value:a,valueFormatter(a,b,c,d){let e=nw(d,b);if(!nP(c))return"";let f=nQ(c,{id:e,row:b});if(null==a)return"";if(!f)return a;if("object"!=typeof f[0])return c.getOptionLabel(a);let g=f.find(b=>c.getOptionValue(b)===a);return g?c.getOptionLabel(g):""},renderEditCell:a=>(0,h.jsx)(nT,(0,ks.default)({},a)),filterOperators:[{value:"is",getApplyFilterFn:a=>null==a.value||""===a.value?null:b=>nX(b)===nX(a.value),InputComponent:nV},{value:"not",getApplyFilterFn:a=>null==a.value||""===a.value?null:b=>nX(b)!==nX(a.value),InputComponent:nV},{value:"isAnyOf",getApplyFilterFn:a=>{if(!Array.isArray(a.value)||0===a.value.length)return null;let b=a.value.map(nX);return a=>b.includes(nX(a))},InputComponent:function(a){let{item:b,applyValue:c,type:d,apiRef:e,focusElementRef:f,slotProps:g}=a,i=(0,kw.default)(a,nW),j=mK(),k=k6(),l=e.current.getColumn(b.field),m=l.getOptionValue,n=l.getOptionLabel,o=q.useCallback((a,b)=>m(a)===m(b),[m]),p=q.useMemo(()=>nQ(l)||[],[l]),r=q.useMemo(()=>Array.isArray(b.value)?b.value.reduce((a,b)=>{let c=p.find(a=>m(a)===b);return null!=c&&a.push(c),a},[]):[],[m,b.value,p]),s=q.useCallback((a,d)=>{c((0,ks.default)({},b,{value:d.map(m)}))},[c,b,m]);if(!l||!nP(l))return null;let t=k.slots.baseAutocomplete;return(0,h.jsx)(t,(0,ks.default)({multiple:!0,options:p,isOptionEqualToValue:o,id:j,value:r,onChange:s,getOptionLabel:n,label:e.current.getLocaleText("filterPanelInputLabel"),placeholder:e.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:d||"text",inputRef:f}}},i,g?.root))}}],pastedValueParser:(a,b,c)=>{let d=nQ(c)||[],e=c.getOptionValue;if(d.find(b=>e(b)===a))return a}});var nZ=a.i(964719);function n$(a){return 1===a.key.length&&!a.ctrlKey&&!a.metaKey}let n_=a=>0===a.indexOf("Arrow")||0===a.indexOf("Page")||" "===a||"Home"===a||"End"===a,n0=a=>"Tab"===a||"Escape"===a;function n1(a){return(a.ctrlKey||a.metaKey)&&"V"===String.fromCharCode(a.keyCode)&&!a.shiftKey&&!a.altKey}let n2=["open","target","onClose","children","position","className","onExited"],n3=(0,kE.styled)(mx,{name:"MuiDataGrid",slot:"Menu"})({zIndex:kP.zIndex.menu,[`& .${kL.menuList}`]:{outline:0}});function n4(a){let{open:b,target:c,onClose:d,children:e,position:f,className:g,onExited:i}=a,j=(0,kw.default)(a,n2),k=lO(),l=k6(),m=(a=>{let{classes:b}=a;return kA({root:["menu"]},kK,b)})(l),n=la(),o=q.useRef(null);return mj(()=>{b?o.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(o.current?.focus?.(),o.current=null)},[b]),q.useEffect(()=>{let a=b?"menuOpen":"menuClose";k.current.publishEvent(a,{target:c})},[k,b,c]),(0,h.jsx)(n3,(0,ks.default)({as:l.slots.basePopper,className:(0,kx.default)(m.root,g,n),ownerState:l,open:b,target:c,transition:!0,placement:f,onClickAway:a=>{a.target&&(c===a.target||c?.contains(a.target))||d(a)},onExited:i,clickAwayMouseEvent:"onMouseDown",onKeyDown:a=>{n0(a.key)&&d(a)}},j,l.slotProps?.basePopper,{children:e}))}let n5=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function n6(a){let{colDef:b,id:c,hasFocus:d,tabIndex:e,position:f="bottom-end",focusElementRef:g}=a,i=(0,kw.default)(a,n5),[j,k]=q.useState(-1),[l,m]=q.useState(!1),n=lO(),o=q.useRef(null),p=q.useRef(null),r=q.useRef(!1),s=q.useRef({}),t=(0,nZ.useRtl)(),u=mK(),v=mK(),w=k6();if("function"!=typeof b.getActions)throw Error("MUI X: Missing the `getActions` property in the `GridColDef`.");let x=b.getActions(n.current.getRowParams(c)),y=x.filter(a=>!a.props.showInMenu),z=x.filter(a=>a.props.showInMenu),A=y.length+ +!!z.length;q.useLayoutEffect(()=>{d||Object.entries(s.current).forEach(([a,b])=>{b?.stop({},()=>{delete s.current[a]})})},[d]),q.useEffect(()=>{j<0||!o.current||j>=o.current.children.length||o.current.children[j].focus({preventScroll:!0})},[j]),q.useEffect(()=>{d||(k(-1),r.current=!1)},[d]),q.useImperativeHandle(g,()=>({focus(){r.current||k(x.findIndex(a=>!a.props.disabled))}}),[x]),q.useEffect(()=>{j>=A&&k(A-1)},[j,A]);let B=()=>{m(!1)},C=a=>b=>{s.current[a]=b},D=A>0?{role:"menu",onKeyDown:a=>{if(A<=1)return;let b=(a,c)=>{if(a<0||a>x.length)return a;let d=("left"===c?-1:1)*(t?-1:1);return x[a+d]?.props.disabled?b(a+d,c):a+d},c=j;"ArrowRight"===a.key?c=b(j,"right"):"ArrowLeft"===a.key&&(c=b(j,"left")),c<0||c>=A||c!==j&&(a.preventDefault(),a.stopPropagation(),k(c))}}:void 0;return(0,h.jsxs)("div",(0,ks.default)({ref:o,tabIndex:-1,className:kL.actionsCell},D,i,{children:[y.map((a,b)=>{let c;return q.cloneElement(a,{key:b,touchRippleRef:C(b),onClick:(c=a.props.onClick,a=>{k(b),r.current=!0,c&&c(a)}),tabIndex:j===b?e:-1})}),z.length>0&&v&&(0,h.jsx)(w.slots.baseIconButton,(0,ks.default)({ref:p,id:v,"aria-label":n.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":l,"aria-controls":l?u:void 0,role:"menuitem",size:"small",onClick:a=>{a.stopPropagation(),a.preventDefault(),l?B():(m(!0),k(A-1),r.current=!0)},touchRippleRef:C(v),tabIndex:j===y.length?e:-1},w.slotProps?.baseIconButton,{children:(0,h.jsx)(w.slots.moreActionsIcon,{fontSize:"small"})})),z.length>0&&(0,h.jsx)(n4,{open:l,target:p.current,position:f,onClose:B,children:(0,h.jsx)(w.slots.baseMenuList,{id:u,className:kL.menuList,"aria-labelledby":v,autoFocusItem:!0,children:z.map((a,b)=>q.cloneElement(a,{key:b,closeMenu:B}))})})]}))}let n7="actions",n8=(0,ks.default)({},m7,{sortable:!1,filterable:!1,aggregable:!1,chartable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:a=>(0,h.jsx)(n6,(0,ks.default)({},a)),getApplyQuickFilterFn:()=>null}),n9=li(a=>a.headerFiltering),oa=lg(n9,a=>a?.enabled??!1),ob=lg(n9,a=>a.editing),oc=lg(n9,a=>a.menuOpen),od=li(a=>a.columnGrouping),oe=lh(od,a=>a?.unwrappedGroupingModel??{}),of=lh(od,a=>a?.lookup??{}),og=lh(od,a=>a?.headerStructure??[]),oh=lg(od,a=>a?.maxDepth??0),oi=["maxWidth","minWidth","width","flex"],oj={string:m7,number:m9,date:ny,dateTime:nz,boolean:nJ,singleSelect:nY,[n7]:n8,custom:m7},ok=(a,b)=>{let c={},d=0,e=0,f=[];a.orderedFields.forEach(b=>{let g=a.lookup[b],h=0,i=!1;!1!==a.columnVisibilityModel[b]&&(g.flex&&g.flex>0?(d+=g.flex,i=!0):h=mQ(g.width||m7.width,g.minWidth||m7.minWidth,g.maxWidth||m7.maxWidth),e+=h),g.computedWidth!==h&&(g=(0,ks.default)({},g,{computedWidth:h})),i&&f.push(g),c[b]=g});let g=void 0===b?0:b.viewportOuterSize.width-(b.hasScrollY?b.scrollbarSize:0),h=Math.max(g-e,0);if(d>0&&g>0){let a=function({initialFreeSpace:a,totalFlexUnits:b,flexColumns:c}){let d=new Set(c.map(a=>a.field)),e={all:{},frozenFields:[],freeze:a=>{let b=e.all[a];b&&!0!==b.frozen&&(e.all[a].frozen=!0,e.frozenFields.push(a))}};return!function f(){if(e.frozenFields.length===d.size)return;let g={},h={},i=a,j=b,k=0;e.frozenFields.forEach(a=>{i-=e.all[a].computedWidth,j-=e.all[a].flex});for(let a=0;a<c.length;a+=1){let b=c[a];if(e.all[b.field]&&!0===e.all[b.field].frozen)continue;let d=i/j*b.flex;d<b.minWidth?(k+=b.minWidth-d,d=b.minWidth,g[b.field]=!0):d>b.maxWidth&&(k+=b.maxWidth-d,d=b.maxWidth,h[b.field]=!0),e.all[b.field]={frozen:!1,computedWidth:d,flex:b.flex}}k<0?Object.keys(h).forEach(a=>{e.freeze(a)}):k>0?Object.keys(g).forEach(a=>{e.freeze(a)}):c.forEach(({field:a})=>{e.freeze(a)}),f()}(),e.all}({initialFreeSpace:h,totalFlexUnits:d,flexColumns:f});Object.keys(a).forEach(b=>{c[b]=(0,ks.default)({},c[b],{computedWidth:a[b].computedWidth})})}return(0,ks.default)({},a,{lookup:c})};function ol(a){let b=oj.string;return a&&oj[a]&&(b=oj[a]),b}let om=({apiRef:a,columnsToUpsert:b,initialState:c,columnVisibilityModel:d=lz(a),keepOnlyColumnsToUpsert:e=!1,updateInitialVisibilityModel:f=!1})=>{let g,h=!a.current.state.columns;if(h)g={orderedFields:[],lookup:{},columnVisibilityModel:d,initialColumnVisibilityModel:d};else{let b=lv(a);g={orderedFields:e?[]:[...b.orderedFields],lookup:(0,ks.default)({},b.lookup),columnVisibilityModel:d,initialColumnVisibilityModel:f?d:b.initialColumnVisibilityModel}}let i={};if(e&&!h)for(let a in g.lookup)Object.prototype.hasOwnProperty.call(g.lookup,a)&&(i[a]=!1);let j={};return b.forEach(a=>{let{field:b}=a;j[b]=!0,i[b]=!0;let c=g.lookup[b];null==c?(c=(0,ks.default)({},ol(a.type),{field:b,hasBeenResized:!1}),g.orderedFields.push(b)):e&&g.orderedFields.push(b),c&&c.type!==a.type&&(c=(0,ks.default)({},ol(a.type),{field:b}));let d=c.hasBeenResized;oi.forEach(b=>{void 0!==a[b]&&(d=!0,-1===a[b]&&(a[b]=1/0))}),g.lookup[b]=function a(b,c,d=!1){let e={...c};for(let f in b)if(Object.prototype.hasOwnProperty.call(b,f))if("components"===f||"slots"===f)e[f]={...b[f],...e[f]};else if("componentsProps"===f||"slotProps"===f){let g=b[f],h=c[f];if(h)if(g)for(let b in e[f]={...h},g)Object.prototype.hasOwnProperty.call(g,b)&&(e[f][b]=a(g[b],h[b],d));else e[f]=h;else e[f]=g||{}}else"className"===f&&d&&c.className?e.className=(0,kx.default)(b?.className,c?.className):"style"===f&&d&&c.style?e.style={...b?.style,...c?.style}:void 0===e[f]&&(e[f]=b[f]);return e}(c,(0,ks.default)({},ol(a.type),a,{hasBeenResized:d}))}),e&&!h&&Object.keys(g.lookup).forEach(a=>{i[a]||delete g.lookup[a]}),ok(((a,b)=>{if(!b)return a;let{orderedFields:c=[],dimensions:d={}}=b,e=Object.keys(d);if(0===e.length&&0===c.length)return a;let f={},g=[];for(let b=0;b<c.length;b+=1){let d=c[b];a.lookup[d]&&(f[d]=!0,g.push(d))}let h=0===g.length?a.orderedFields:[...g,...a.orderedFields.filter(a=>!f[a])],i=(0,ks.default)({},a.lookup);for(let a=0;a<e.length;a+=1){let b=e[a],c=(0,ks.default)({},i[b],{hasBeenResized:!0});Object.entries(d[b]).forEach(([a,b])=>{c[a]=-1===b?1/0:b}),i[b]=c}return(0,ks.default)({},a,{orderedFields:h,lookup:i})})(a.current.unstable_applyPipeProcessors("hydrateColumns",g),c),a.current.getRootDimensions?.()??void 0)};function on(a,b){if(b.listView)return 0;let c=lm(a),d=oh(a),e=oa(a),f=Math.floor(b.columnHeaderHeight*c);return f+Math.floor((b.columnGroupHeaderHeight??b.columnHeaderHeight)*c)*d+(e?Math.floor((b.headerFilterHeight??b.columnHeaderHeight)*c):0)}let oo=li(a=>a.rowsMeta),op=(0,lU.default)("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(a,b)=>[{[`&.${kL["scrollArea--left"]}`]:b["scrollArea--left"]},{[`&.${kL["scrollArea--right"]}`]:b["scrollArea--right"]},{[`&.${kL["scrollArea--up"]}`]:b["scrollArea--up"]},{[`&.${kL["scrollArea--down"]}`]:b["scrollArea--down"]},b.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${kL["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${kL["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${kL["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${kL["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),oq=lg(lV,(a,b)=>"left"===b?a.leftPinnedWidth:"right"===b?a.rightPinnedWidth+(a.hasScrollX?a.scrollbarSize:0):0);function or(a){let{scrollDirection:b,scrollPosition:c}=a,d=q.useRef(null),e=lO(),f=mw(),g=kZ(e,lm),i=kZ(e,lW),j=kZ(e,oq,b),k=k6(),l=on(e,k),m=Math.floor(k.columnHeaderHeight*g),n=(0,ks.default)({height:m,top:l-m},"left"===b?{left:j}:{},"right"===b?{right:j}:{}),o=mk(a=>{let g;if(a.preventDefault(),"left"===b)g=a.clientX-d.current.getBoundingClientRect().right;else if("right"===b)g=Math.max(1,a.clientX-d.current.getBoundingClientRect().left);else throw Error("MUI X: Wrong drag direction");g=(g-1)*1.5+1,f.start(0,()=>{e.current.scroll({left:c.current.left+g,top:c.current.top})})});return(0,h.jsx)(ou,(0,ks.default)({},a,{ref:d,getCanScrollMore:()=>{let a=lV(e);if("left"===b)return c.current.left>0;if("right"===b){let b=i-a.viewportInnerSize.width;return c.current.left<b}return!1},style:n,handleDragOver:o}))}function ot(a){let{scrollDirection:b,scrollPosition:c}=a,d=q.useRef(null),e=lO(),f=mw(),g=kZ(e,oo),i=on(e,k6()),j=mk(a=>{let g;if(a.preventDefault(),"up"===b)g=a.clientY-d.current.getBoundingClientRect().bottom;else if("down"===b)g=Math.max(1,a.clientY-d.current.getBoundingClientRect().top);else throw Error("MUI X: Wrong drag direction");g=(g-1)*1.5+1,f.start(0,()=>{e.current.scroll({left:c.current.left,top:c.current.top+g})})});return(0,h.jsx)(ou,(0,ks.default)({},a,{ref:d,getCanScrollMore:()=>{let a=lV(e);if("up"===b)return c.current.top>0;if("down"===b){let b=(g.currentPageTotalHeight||0)-a.viewportInnerSize.height-(a.hasScrollX?a.scrollbarSize:0);return c.current.top<b}return!1},style:{top:"up"===b?i:void 0,bottom:"down"===b?0:void 0},handleDragOver:j}))}let ou=kv(function(a,b){let{scrollDirection:c,getCanScrollMore:d,style:e,handleDragOver:f}=a,g=lO(),[i,j]=q.useState(d),k=k6(),l=(0,ks.default)({},k,{scrollDirection:c}),m=(a=>{let{scrollDirection:b,classes:c}=a;return kA({root:["scrollArea",`scrollArea--${b}`]},kK,c)})(l);return(mq(g,"scrollPositionChange",()=>{j(d)}),i)?(0,h.jsx)(op,{ref:b,className:m.root,ownerState:l,onDragOver:f,style:e}):null}),ov=kD(function(a){let b=lO(),[c,d]=q.useState("none");return(mq(b,"columnHeaderDragStart",()=>d("horizontal")),mq(b,"columnHeaderDragEnd",()=>d("none")),mq(b,"rowDragStart",()=>d("vertical")),mq(b,"rowDragEnd",()=>d("none")),"none"===c)?null:"horizontal"===c?(0,h.jsx)(or,(0,ks.default)({},a)):(0,h.jsx)(ot,(0,ks.default)({},a))});function ow(a){for(let b in a)return!1;return!0}let ox=li(a=>a.sorting),oy=lg(ox,a=>a.sortedRows),oz=lh(oy,l8,l9,(a,b,c)=>a.reduce((a,d)=>{let e=b[d];if(e)a.push({id:d,model:e});else{let b=c[d];b&&np(b)&&a.push({id:d,model:{[nk]:d}})}return a},[])),oA=lg(ox,a=>a.sortModel),oB=lh(oA,a=>a.reduce((b,c,d)=>(b[c.field]={sortDirection:c.sort,sortIndex:a.length>1?d+1:void 0},b),{}));lh(oy,a=>a.reduce((a,b,c)=>(a[b]=c,a),Object.create(null)));let oC=li(a=>a.filter),oD=lg(oC,a=>a.filterModel),oE=lg(oD,a=>a.quickFilterValues),oF=li(a=>a.visibleRowsLookup),oG=lg(oC,a=>a.filteredRowsLookup);lg(oC,a=>a.filteredChildrenCountLookup),lg(oC,a=>a.filteredDescendantCountLookup);let oH=lh(oF,oz,(a,b)=>ow(a)?b:b.filter(b=>!1!==a[b.id])),oI=lh(oH,a=>a.map(a=>a.id)),oJ=lh(oG,oz,(a,b)=>ow(a)?b:b.filter(b=>!1!==a[b.id])),oK=lh(oJ,a=>a.map(a=>a.id));lh(oI,l9,(a,b)=>{let c={},d=0;return a.reduce((a,e)=>{let f=b[e];return c[f.depth]||(c[f.depth]=0),f.depth>d&&(c[f.depth]=0),d=f.depth,c[f.depth]+=1,a[e]=c[f.depth],a},{})});let oL=lg(lh(oJ,l9,me,(a,b,c)=>c<2?[a]:a.reduce((a,c)=>{let d=b[c.id]?.depth;return void 0===d||(a[d]||(a[d]=[]),a[d].push(c)),a},[[]])),a=>a[0]??[]),oM=lg(oH,a=>a.length),oN=lg(oL,a=>a.length),oO=lg(oJ,a=>a.length);lg(oO,oN,(a,b)=>a-b);let oP=lh(oD,lx,(a,b)=>a.items?.filter(a=>{if(!a.field)return!1;let c=b[a.field];if(!c?.filterOperators||c?.filterOperators?.length===0)return!1;let d=c.filterOperators.find(b=>b.value===a.operator);return!!d&&(!d.InputComponent||null!=a.value&&a.value?.toString()!=="")})),oQ=lh(oP,a=>a.reduce((a,b)=>(a[b.field]?a[b.field].push(b):a[b.field]=[b],a),{}));lh(oI,a=>a.reduce((a,b,c)=>(a[b]=c,a),Object.create(null)));let oR=li(a=>a.pivoting),oS=lg(oR,a=>a?.active),oT=new Map,oU=lg(oR,a=>a?.initialColumns||oT),oV=(a,b)=>{let c=kZ(a,l5),d=kZ(a,oM),e=kZ(a,mi),f=kZ(a,lB),g=0===c&&0===e,h=kZ(a,l6),i=kZ(a,oS),j=!h&&g,k=!h&&0===f.length,l=null,m=null;return j&&(l="noRowsOverlay"),k&&(l="noColumnsOverlay"),j&&i&&(l="emptyPivotOverlay"),!h&&c>0&&0===d&&(l="noResultsOverlay"),h&&(l="loadingOverlay",m=b.slotProps?.loadingOverlay?.[g?"noRowsVariant":"variant"]??(g?"skeleton":"linear-progress")),{overlayType:l,loadingOverlayVariant:m}},oW=li(a=>a.focus),oX=lg(oW,a=>a.cell),oY=lg(oW,a=>a.columnHeader);lg(oW,a=>a.columnHeaderFilter);let oZ=lg(oW,a=>a.columnGroupHeader),o$=li(a=>a.tabIndex),o_=lg(o$,a=>a.cell),o0=lg(o$,a=>a.columnHeader);lg(o$,a=>a.columnHeaderFilter);let o1=lg(o$,a=>a.columnGroupHeader),o2=li(a=>a.columnMenu),o3=kD(function(){let a=k_(),b=k6(),c=kZ(a,lB),d=kZ(a,oQ),e=kZ(a,oB),f=kZ(a,o0),g=kZ(a,()=>null===o_(a)),i=kZ(a,o1),j=kZ(a,oY),k=kZ(a,oZ),l=kZ(a,oh),m=kZ(a,o2),n=kZ(a,lz),o=kZ(a,og),p=a.current.columnHeadersContainerRef;return(0,h.jsx)(b.slots.columnHeaders,(0,ks.default)({ref:p,visibleColumns:c,filterColumnLookup:d,sortColumnLookup:e,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:i,columnHeaderFocus:j,columnGroupHeaderFocus:k,headerGroupingMaxDepth:l,columnMenuState:m,columnVisibility:n,columnGroupsHeaderStructure:o,hasOtherElementInTabSequence:!(null===i&&null===f&&g)},b.slotProps?.columnHeaders))});var lU=lU;let o4=(0,lU.default)("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),o5=(0,lU.default)("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(a,b)=>{let{ownerState:c,loadingOverlayVariant:d,overlayType:e}=a;return[b.main,c.hasPinnedRight&&b["main--hasPinnedRight"],("skeleton"===d||"noColumnsOverlay"===e)&&b["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),o6=kv((a,b)=>{let{ownerState:c}=a,d=k6(),e=k8().hooks.useGridAriaAttributes();return(0,h.jsxs)(o5,(0,ks.default)({ownerState:c,className:a.className,tabIndex:-1},e,d.slotProps?.main,{ref:b,children:[(0,h.jsx)(o4,{role:"presentation","data-id":"gridPanelAnchor"}),a.children]}))});var lU=lU;let o7=(0,lU.default)("div")({position:"sticky",zIndex:40,top:0});function o8(a){let b=kA({root:["topContainer"]},kK,{});return(0,h.jsx)(o7,(0,ks.default)({},a,{className:(0,kx.default)(b.root,kL["container--top"]),role:"presentation"}))}var lU=lU;let o9=(0,lU.default)("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.virtualScrollerContent,c.overflowedContent&&b["virtualScrollerContent--overflowed"]]}})({}),pa=kv(function(a,b){let c=k6(),d=!c.autoHeight&&a.style?.minHeight==="auto",e=((a,b)=>{let{classes:c}=a;return kA({root:["virtualScrollerContent",b&&"virtualScrollerContent--overflowed"]},kK,c)})(c,d),f={classes:c.classes,overflowedContent:d};return(0,h.jsx)(o9,(0,ks.default)({},a,{ownerState:f,className:(0,kx.default)(e.root,a.className),ref:b}))});var lU=lU;let pb=(0,lU.default)("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),pc=(0,lU.default)("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:kP.cell.background.pinned}),pd=(0,lU.default)(pc)({left:0}),pe=(0,lU.default)(pc)({right:0}),pf=(0,lU.default)("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"}),pg=kD(function({rowsLength:a}){let{viewportOuterSize:b,minimumSize:c,hasScrollX:d,hasScrollY:e,scrollbarSize:f,leftPinnedWidth:g,rightPinnedWidth:i}=kZ(lO(),lV),j=d?f:0,k=b.height-c.height>0;return 0!==j||k?(0,h.jsxs)(pb,{className:kL.filler,role:"presentation",style:{height:j,"--rowBorderColor":0===a?"transparent":"var(--DataGrid-rowBorderColor)"},children:[g>0&&(0,h.jsx)(pd,{className:kL["filler--pinnedLeft"],style:{width:g}}),(0,h.jsx)(pf,{}),i>0&&(0,h.jsx)(pe,{className:kL["filler--pinnedRight"],style:{width:i+(e?f:0)}})]}):null});var lU=lU;let ph=["className"],pi=(0,lU.default)("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),pj=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,ph),e=k_(),f=k6(),g=(a=>{let{classes:b}=a;return kA({root:["virtualScrollerRenderZone"]},kK,b)})(f),i=e.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return(0,h.jsx)(pi,(0,ks.default)({className:(0,kx.default)(g.root,c),ownerState:f,style:{transform:`translate3d(0, ${i}px, 0)`}},d,{ref:b}))});var lU=lU;let pk=(0,lU.default)("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),pl=(0,lU.default)(pk)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-headersTotalHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-headersTotalHeight)",right:0}),pm=(0,lU.default)(pk)({width:"calc(var(--DataGrid-hasScrollX) * (100% - var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:0}),pn=(0,lU.default)(pk)({width:"var(--size)",height:"var(--size)",right:0,bottom:0,overflow:"scroll"}),po=kv(function(a,b){let c=k_(),d=k6(),e=q.useRef(!1),f=q.useRef(0),g=q.useRef(null),i=((a,b)=>{let{classes:c}=a;return kA({root:["scrollbar",`scrollbar--${b}`],content:["scrollbarContent"]},kK,c)})(d,a.position),j=kZ(c,lV),k="vertical"===a.position?"height":"width",l="vertical"===a.position?"scrollTop":"scrollLeft",m="vertical"===a.position?"top":"left",n="horizontal"===a.position?j.minimumSize.width:j.minimumSize.height-j.headersTotalHeight,o=mk(()=>{let b=g.current,c=a.scrollPosition.current;if(b&&c[m]!==f.current){if(f.current=c[m],e.current){e.current=!1;return}e.current=!0,b[l]=c[m]}}),p=mk(()=>{let a=c.current.virtualScrollerRef.current,b=g.current;if(b){if(e.current){e.current=!1;return}e.current=!0,a[l]=b[l]}});mu(()=>{let a=c.current.virtualScrollerRef.current,b=g.current,d={passive:!0};return a.addEventListener("scroll",o,d),b.addEventListener("scroll",p,d),()=>{a.removeEventListener("scroll",o,d),b.removeEventListener("scroll",p,d)}});let r="vertical"===a.position?pl:pm,s=q.useMemo(()=>({[k]:`${n}px`}),[k,n]);return(0,h.jsx)(r,{ref:ky(b,g),className:i.root,tabIndex:-1,"aria-hidden":"true",onFocus:a=>{a.target.blur()},children:(0,h.jsx)("div",{className:i.content,style:s})})});var lU=lU;let pp=(0,lU.default)("div")(({theme:a})=>({position:"absolute",inset:0,pointerEvents:"none",transition:kP.transition(["box-shadow"],{duration:kP.transitions.duration.short}),"--length":"dark"===a.palette.mode?"8px":"6px","--length-inverse":"calc(var(--length) * -1)","--opacity":"dark"===a.palette.mode?"0.7":"0.18","--blur":"var(--length)","--spread":"calc(var(--length) * -1)","--color-start":"rgba(0, 0, 0, calc(var(--hasScrollStart) * var(--opacity)))","--color-end":"rgba(0, 0, 0, calc(var(--hasScrollEnd) * var(--opacity)))",variants:[{props:{position:"vertical"},style:{top:"var(--DataGrid-topContainerHeight)",bottom:"calc(var(--DataGrid-bottomContainerHeight) + var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))",boxShadow:"inset 0 var(--length) var(--blur) var(--spread) var(--color-start), inset 0 var(--length-inverse) var(--blur) var(--spread) var(--color-end)"}},{props:{position:"horizontal"},style:{left:"var(--DataGrid-leftPinnedWidth)",right:"calc(var(--DataGrid-rightPinnedWidth) + var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",boxShadow:"inset var(--length) 0 var(--blur) var(--spread) var(--color-start), inset var(--length-inverse) 0 var(--blur) var(--spread) var(--color-end)"}}]}));function pq(a){let{position:b}=a,c={classes:k6().classes,position:b},d=q.useRef(null),e=k_(),f=kZ(e,lY),g=kZ(e,lZ),i=kZ(e,mh),j=kZ(e,lD),k="vertical"===b?g&&i?.bottom?.length>0:f&&j?.right?.length!==void 0&&j?.right?.length>0,l=(0,nZ.useRtl)(),m=q.useCallback(a=>{if(!d.current)return;let c=Math.abs(Math.round(a)),f=lV(e),g=Math.round(f.contentSize["vertical"===b?"height":"width"]-f.viewportInnerSize["vertical"===b?"height":"width"]),h="vertical"===b?i?.top?.length>0:j?.left?.length!==void 0&&j?.left?.length>0,k="vertical"===b?i?.bottom?.length>0:j?.right?.length!==void 0&&j?.right?.length>0,m=l?c<g:c>0,n=l?c>0:c<g;d.current.style.setProperty("--hasScrollStart",h&&m?"1":"0"),d.current.style.setProperty("--hasScrollEnd",k&&n?"1":"0")},[i,j,l,b,e]);return mq(e,"scrollPositionChange",a=>{m(a["vertical"===b?"top":"left"])}),mq(e,"columnResizeStop",()=>{"horizontal"===b&&m(e.current.virtualScrollerRef?.current?.scrollLeft||0)}),q.useEffect(()=>{m(("horizontal"===b?e.current.virtualScrollerRef?.current?.scrollLeft:e.current.virtualScrollerRef?.current?.scrollTop)??0)},[m,e,b]),(0,h.jsx)(pp,{ownerState:c,ref:d,style:{"--hasScrollStart":0,"--hasScrollEnd":k?"1":"0"}})}var lU=lU;let pr=(0,lU.default)("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:a=>"overlayType"!==a&&"loadingOverlayVariant"!==a&&"right"!==a})(({overlayType:a,loadingOverlayVariant:b,right:c})=>"skeleton"!==b?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${c}px`,width:0,height:0,zIndex:"loadingOverlay"===a?5:4}:{}),ps=(0,lU.default)("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:a=>"overlayType"!==a&&"loadingOverlayVariant"!==a})({});function pt(a){let b=lO(),c=k6(),d=kZ(b,lV),e=Math.max(d.viewportOuterSize.height-d.topContainerHeight-d.bottomContainerHeight-(d.hasScrollX?d.scrollbarSize:0),0);0===e&&(e=ns);let f=(a=>{let{classes:b}=a;return kA({root:["overlayWrapper"],inner:["overlayWrapperInner"]},kK,b)})((0,ks.default)({},a,{classes:c.classes}));return(0,h.jsx)(pr,(0,ks.default)({className:f.root},a,{right:d.columnsTotalWidth-d.viewportOuterSize.width,children:(0,h.jsx)(ps,(0,ks.default)({className:f.inner,style:{height:e,width:d.viewportOuterSize.width}},a))}))}let pu=(0,lU.default)("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.virtualScroller,c.hasScrollX&&b["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),pv=a=>a.current.state.dimensions.rightPinnedWidth>0;function pw(a){let b=k_(),c=k6(),d=kZ(b,lZ),e=kZ(b,lY),f=kZ(b,pv),g=kZ(b,l3),{overlayType:i,loadingOverlayVariant:j}=oV(b,c),k=c.slots?.[i],l={classes:c.classes,hasScrollX:e,hasPinnedRight:f,overlayType:i,loadingOverlayVariant:j},m=(a=>{let{classes:b,hasScrollX:c,hasPinnedRight:d,loadingOverlayVariant:e,overlayType:f}=a;return kA({root:["main",d&&"main--hasPinnedRight",("skeleton"===e||"noColumnsOverlay"===f)&&"main--hiddenContent"],scroller:["virtualScroller",c&&"virtualScroller--hasScrollX"]},kK,b)})(l),n=b.current.virtualizer.api.useVirtualization().getters,{getContainerProps:o,getScrollerProps:p,getContentProps:r,getScrollbarVerticalProps:s,getScrollbarHorizontalProps:t,getRows:u,getScrollAreaProps:v}=n,w=u(void 0,l9(b));return(0,h.jsxs)(o6,(0,ks.default)({className:m.root},o(),{ownerState:l,children:[(0,h.jsx)(ov,(0,ks.default)({scrollDirection:"left"},v())),(0,h.jsx)(ov,(0,ks.default)({scrollDirection:"right"},v())),(0,h.jsx)(ov,(0,ks.default)({scrollDirection:"up"},v())),(0,h.jsx)(ov,(0,ks.default)({scrollDirection:"down"},v())),(0,h.jsxs)(pu,(0,ks.default)({className:m.scroller},p(),{ownerState:l,children:[(0,h.jsxs)(o8,{children:[!c.listView&&(0,h.jsx)(o3,{}),(0,h.jsx)(c.slots.pinnedRows,{position:"top",virtualScroller:n})]}),i&&(0,h.jsx)(pt,{overlayType:i,loadingOverlayVariant:j,children:(0,h.jsx)(k,(0,ks.default)({},c.slotProps?.[i]))}),(0,h.jsx)(pa,(0,ks.default)({},r(),{children:(0,h.jsxs)(pj,{role:"rowgroup",children:[w,(0,h.jsx)(c.slots.detailPanels,{virtualScroller:n})]})})),g&&(0,h.jsx)(pg,{rowsLength:w.length}),(0,h.jsx)(c.slots.bottomContainer,{children:(0,h.jsx)(c.slots.pinnedRows,{position:"bottom",virtualScroller:n})})]})),e&&(0,h.jsxs)(q.Fragment,{children:[c.pinnedColumnsSectionSeparator?.endsWith("shadow")&&(0,h.jsx)(pq,{position:"horizontal"}),(0,h.jsx)(po,(0,ks.default)({position:"horizontal"},t()))]}),d&&(0,h.jsxs)(q.Fragment,{children:[c.pinnedRowsSectionSeparator?.endsWith("shadow")&&(0,h.jsx)(pq,{position:"vertical"}),(0,h.jsx)(po,(0,ks.default)({position:"vertical"},s()))]}),e&&d&&(0,h.jsx)(pn,{"aria-hidden":"true"}),a.children]}))}function px(){let a=k6();return a.hideFooter?null:(0,h.jsx)(a.slots.footer,(0,ks.default)({},a.slotProps?.footer))}let py=["className","children","sidePanel"],pz=kD(kv(function(a,b){let c=k6(),{className:d,children:e,sidePanel:f}=a,g=(0,kw.default)(a,py),i=k_(),j=kZ(i,ll),k=ky(i.current.rootElementRef,b,q.useCallback(a=>{null!==a&&i.current.publishEvent("rootMount",a)},[i])),l=((a,b)=>{let{autoHeight:c,classes:d,showCellVerticalBorder:e}=a;return kA({root:["root",c&&"autoHeight",`root--density${kz(b)}`,null===a.slots.toolbar&&"root--noToolbar","withBorderColor",e&&"withVerticalBorder"]},kK,d)})(c,j),m=q.useContext(k9);return(0,kR.useSyncExternalStore)(ln,lo,lp)?null:(0,h.jsxs)(k2,(0,ks.default)({className:(0,kx.default)(l.root,d,m.className,f&&kL.withSidePanel),ownerState:c},g,{ref:k,children:[(0,h.jsxs)("div",{className:kL.mainContent,role:"presentation",children:[(0,h.jsx)(lT,{}),(0,h.jsx)(pw,{children:e}),(0,h.jsx)(px,{})]}),f,m.tag]}))})),pA=function(a){return a.DataGrid="DataGrid",a.DataGridPro="DataGridPro",a.DataGridPremium="DataGridPremium",a}({});class pB{constructor(a){this.data=a.ids}has(a){return this.data.has(a)}select(a){this.data.add(a)}unselect(a){this.data.delete(a)}}class pC{constructor(a){this.data=a.ids}has(a){return!this.data.has(a)}select(a){this.data.delete(a)}unselect(a){this.data.add(a)}}let pD=a=>"include"===a.type?new pB(a):new pC(a),pE=li(a=>a.rowSelection),pF=lh(pE,pD),pG=lg(pE,oO,(a,b)=>"include"===a.type?a.ids.size:b-a.ids.size),pH=lh(pE,l8,mf,(a,b,c)=>{let d=new Map;if("include"===a.type)for(let c of a.ids)d.set(c,b[c]);else for(let e=0;e<c.length;e+=1){let f=c[e];a.ids.has(f)||d.set(f,b[f])}return d});function pI(a,b){let c=l9(a),d=oy(a),e=oG(a),f=c[b];if(!f||"group"!==f.type)return[];let g=[],h=d.findIndex(a=>a===b)+1;for(let b=h;b<d.length&&c[d[b]]?.depth>f.depth;b+=1){let c=d[b];!1!==e[c]&&a.current.isRowSelectable(c)&&g.push(c)}return g}let pJ=lg(l9,oG,pF,(a,b,c,{groupId:d,autoSelectParents:e})=>{let f=a[d];if(!f||"group"!==f.type||c.has(d))return{isIndeterminate:!1,isChecked:c.has(d)};let g=!1,h=!1,i=d=>{if(!1===b[d]||g&&h)return;let e=a[d];e?.type==="group"&&e.children.forEach(i),c.has(d)?g=!0:h=!0};return i(d),{isIndeterminate:g&&h,isChecked:!!e&&g&&!h}});function pK(a){return a.signature===pA.DataGrid?a.checkboxSelection&&!0!==a.disableMultipleRowSelection:!a.disableMultipleRowSelection}let pL=(a,b,c,d,e,f,g=pF(a))=>{let h=oG(a),i=new Set([]);if((d||e)&&!1!==h[c]){if(d){let d=b[c];d?.type==="group"&&pI(a,c).forEach(a=>{f(a),i.add(a)})}if(e){let d=a=>{if(!g.has(a)&&!i.has(a))return!1;let c=b[a];return!!c&&("group"!==c.type||c.children.every(d))},e=c=>{let g=((a,b,c)=>{let d=a[c];if(!d)return[];let e=d.parent;return null==e?[]:a[e].children.filter(a=>a!==c&&!1!==b[a])})(b,h,c);if(0===g.length||g.every(d)){let d=b[c],g=d?.parent;null!=g&&g!==nj&&a.current.isRowSelectable(g)&&(f(g),i.add(g),e(g))}},j=b[c];if(!j||j.parent===nj)return;e(c)}}},pM=(a,b,c,d,e,f)=>{let g=pF(a);if((e||d)&&(e&&((a,b)=>{let c=[],d=b;for(;null!=d&&d!==nj;){let b=a[d];if(!b)break;c.push(d),d=b.parent}return c})(b,c).forEach(a=>{g.has(a)&&f(a)}),d)){let d=b[c];d?.type==="group"&&pI(a,c).forEach(a=>{f(a)})}};function pN({privateApiRef:a,configuration:b,props:c,children:d}){let e=q.useRef(a.current.getPublicApi());return(0,h.jsx)(k7.Provider,{value:b,children:(0,h.jsx)(k5.Provider,{value:c,children:(0,h.jsx)(k$.Provider,{value:a,children:(0,h.jsx)(lN.Provider,{value:e,children:(0,h.jsx)(lR,{children:(0,h.jsx)(lb,{children:d})})})})})})}function pO(a,b,c){let d=q.useRef(!0);mj(()=>{d.current=!1,a.current.register(c,b)},[a,c,b]),d.current&&a.current.register(c,b)}let pP=function(){try{let a="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(a,a),window.localStorage.removeItem(a),!0}catch(a){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),pQ=()=>{},pR={debug:pQ,info:pQ,warn:pQ,error:pQ},pS=["debug","info","warn","error"];function pT(a,b,c=console){let d=pS.indexOf(b);if(-1===d)throw Error(`MUI X: Log level ${b} not recognized.`);return pS.reduce((b,e,f)=>(f>=d?b[e]=(...b)=>{let[d,...f]=b;c[e](`MUI X: ${a} - ${d}`,...f)}:b[e]=pQ,b),{})}function pU(a){return(pU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function pV(a){var b=function(a,b){if("object"!=pU(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=pU(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==pU(b)?b:b+""}let pW=function(a){return a.DataSource="dataSource",a.RowTree="rowTree",a}({}),pX="none",pY={dataSourceRowsUpdate:pW.DataSource,rowTreeCreation:pW.RowTree,filtering:pW.RowTree,sorting:pW.RowTree,visibleRowsLookupCreation:pW.RowTree},pZ=(a,b)=>(0,ks.default)({},a,{props:{listView:b.listView,getRowId:b.getRowId,isCellEditable:b.isCellEditable}});function p$(a,b){return Math.round(a*10**b)/10**b}let p_={},p0=[],p1=()=>{};function p2(a,b,c){var d;let e=function(a,b){let c=q.useRef(p_);return c.current===p_&&(c.current=a(b)),c}(p3,{store:a,selector:b}).current;e.effect=c,d=e.onMount,q.useEffect(d,p0)}function p3(a){let{store:b,selector:c}=a,d=c(b.state),e={effect:p1,dispose:null,subscribe:()=>{e.dispose??=b.subscribe(a=>{let b=c(a);e.effect(d,b),d=b})},onMount:()=>(e.subscribe(),()=>{e.dispose?.(),e.dispose=null})};return e.subscribe(),e}let p4={};function p5(a,b){let c=q.useRef(p4);return c.current===p4&&(c.current=a(b)),c}class p6{static create(a){return new p6(a)}constructor(a){this.state=a,this.listeners=new Set,this.updateTick=0}subscribe=a=>(this.listeners.add(a),()=>{this.listeners.delete(a)});getSnapshot=()=>this.state;setState(a){let b;this.state=a,this.updateTick+=1;let c=this.updateTick,d=this.listeners.values();for(;!(b=d.next()).done;){if(c!==this.updateTick)return;(0,b.value)(a)}}update(a){for(let b in a)if(!Object.is(this.state[b],a[b]))return void this.setState((0,ks.default)({},this.state,a))}set(a,b){Object.is(this.state[a],b)||this.setState((0,ks.default)({},this.state,{[a]:b}))}}let p7=q.useEffect,p8=function(a){let b=q.useRef(a);return p7(()=>{b.current=a}),q.useRef((...a)=>(0,b.current)(...a)).current};function p9(a,b,c,d){let e=a.get(b);e||(e={},a.set(b,e)),e[c]=d}function qa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;if(Array.isArray(a)){let c=a.length;if(c!==b.length)return!1;for(let d=0;d<c;d+=1)if(!qa(a[d],b[d]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;let c=Array.from(a.entries());for(let a=0;a<c.length;a+=1)if(!b.has(c[a][0]))return!1;for(let a=0;a<c.length;a+=1){let d=c[a];if(!qa(d[1],b.get(d[0])))return!1}return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;let c=Array.from(a.entries());for(let a=0;a<c.length;a+=1)if(!b.has(c[a][0]))return!1;return!0}if(ArrayBuffer.isView(a)&&ArrayBuffer.isView(b)){let c=a.length;if(c!==b.length)return!1;for(let d=0;d<c;d+=1)if(a[d]!==b[d])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();let c=Object.keys(a),d=c.length;if(d!==Object.keys(b).length)return!1;for(let a=0;a<d;a+=1)if(!Object.prototype.hasOwnProperty.call(b,c[a]))return!1;for(let e=0;e<d;e+=1){let d=c[e];if(!qa(a[d],b[d]))return!1}return!0}return a!=a&&b!=b}var qb=a.i(690573);function qc(a,b,c,d,e){return(0,qb.useSyncExternalStoreWithSelector)(a.subscribe,a.getSnapshot,a.getSnapshot,a=>b(a,c,d,e))}let qd={EMPTY:{width:0,height:0},equals:(a,b)=>a.width===b.width&&a.height===b.height},qe={EMPTY:{top:[],bottom:[]}},qf={EMPTY:{left:[],right:[]}},qg=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a[a.LEFT=3]="LEFT",a[a.RIGHT=4]="RIGHT",a}({});(qg||(qg={})).forDelta=function(a,b){if(0===a&&0===b)return qg.NONE;if(Math.abs(b)>=Math.abs(a))if(b>0)return qg.DOWN;else return qg.UP;return a>0?qg.RIGHT:qg.LEFT};let qh={isReady:!1,root:qd.EMPTY,viewportOuterSize:qd.EMPTY,viewportInnerSize:qd.EMPTY,contentSize:qd.EMPTY,minimumSize:qd.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},qi={rootSize:a=>a.rootSize,dimensions:a=>a.dimensions,rowHeight:a=>a.dimensions.rowHeight,contentHeight:a=>a.dimensions.contentSize.height,rowsMeta:a=>a.rowsMeta,columnPositions:lf((a,b)=>{let c=[],d=0;for(let a=0;a<b.length;a+=1)c.push(d),d+=b[a].computedWidth;return c}),needsHorizontalScrollbar:a=>a.dimensions.viewportOuterSize.width>0&&a.dimensions.columnsTotalWidth>a.dimensions.viewportOuterSize.width},qj={initialize:function(a){let b=(0,ks.default)({},qh,a.dimensions),{rowCount:c}=a,{rowHeight:d}=b,e={currentPageTotalHeight:c*d,positions:Array.from({length:c},(a,b)=>b*d),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},f=new Map;return{rootSize:qd.EMPTY,dimensions:b,rowsMeta:e,rowHeights:f}},use:function(a,b,c){let d=q.useRef(!0),{refs:e,dimensions:{rowHeight:f,columnsTotalWidth:g,leftPinnedWidth:h,rightPinnedWidth:i,topPinnedHeight:j,bottomPinnedHeight:k},onResize:l}=b,m=e.container.current,n=q.useCallback(()=>{let c,e;if(d.current)return;let n=qi.rootSize(a.state),o=qi.rowsMeta(a.state),p=function(a,b){if(void 0!==b)return b;if(null===a)return 0;let c=qk.get(a);if(void 0!==c)return c;let d=(a&&a.ownerDocument||document).createElement("div");d.style.width="99px",d.style.height="99px",d.style.position="absolute",d.style.overflow="scroll",d.className="scrollDiv",a.appendChild(d);let e=d.offsetWidth-d.clientWidth;return a.removeChild(d),qk.set(a,e),e}(m,b.dimensions.scrollbarSize),q=j+o.pinnedTopRowsTotalHeight,r=k+o.pinnedBottomRowsTotalHeight,s={width:g,height:p$(o.currentPageTotalHeight,1)},t=!1,u=!1;if(b.autoHeight)u=!1,t=Math.round(g)>Math.round(n.width),e={width:Math.max(0,(c={width:n.width,height:q+r+s.height}).width-(u?p:0)),height:Math.max(0,c.height-(t?p:0))};else{let a=e={width:Math.max(0,(c={width:n.width,height:n.height}).width),height:Math.max(0,c.height-q-r)},b=s.width>a.width,d=s.height>a.height;(b||d)&&(u=d,(t=s.width+(u?p:0)>a.width)&&(u=s.height+p>a.height)),u&&(e.width-=p),t&&(e.height-=p)}b.disableHorizontalScroll&&(t=!1),b.disableVerticalScroll&&(u=!1);let v=Math.max(c.width,g+(u?p:0)),w={width:g,height:q+s.height+r},x={isReady:!0,root:n,viewportOuterSize:c,viewportInnerSize:e,contentSize:s,minimumSize:w,hasScrollX:t,hasScrollY:u,scrollbarSize:p,rowWidth:v,rowHeight:f,columnsTotalWidth:g,leftPinnedWidth:h,rightPinnedWidth:i,topContainerHeight:q,bottomContainerHeight:r};qa(a.state.dimensions,x)||(a.update({dimensions:x}),l?.(x.root))},[a,m,b.dimensions.scrollbarSize,b.autoHeight,b.disableHorizontalScroll,b.disableVerticalScroll,l,f,g,h,i,j,k]),{resizeThrottleMs:o}=b,p=p8(n),r=q.useMemo(()=>o>0?function(a,b=166){let c,d,e=()=>{c=void 0,a(...d)};function f(...a){d=a,void 0===c&&(c=setTimeout(e,b))}return f.clear=()=>{clearTimeout(c),c=void 0},f}(p,o):void 0,[o,p]);q.useEffect(()=>r?.clear,[r]);let s=p8(b=>{a.state.rootSize=b,d.current||!r?(d.current=!1,n()):r()});p7(()=>(function(a,b,c){if(!a)return;let d=a.getBoundingClientRect(),e={width:p$(d.width,1),height:p$(d.height,1)};if(b.state.rootSize!==qd.EMPTY&&qd.equals(e,b.state.rootSize)||c(e),"undefined"==typeof ResizeObserver)return;let f=new ResizeObserver(([a])=>{if(!a)return;let d={width:p$(a.contentRect.width,1),height:p$(a.contentRect.height,1)};qd.equals(d,b.state.rootSize)||c(d)});return f.observe(a),()=>{f.disconnect()}})(m,a,s),[m,a,s]),p7(n,[n]);let t=function(a,b,c){let d=a.state.rowHeights,{rows:e,getRowHeight:f,getRowSpacing:g,getEstimatedRowHeight:h}=b,i=q.useRef(-1),j=q.useRef(!1),k=q.useRef(!1),l=b.pinnedRows,m=qc(a,qi.rowHeight),n=p8(b=>{let c=d.get(b);return void 0===c&&(c={content:a.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},d.set(b,c)),c}),{applyRowHeight:o}=b,p=q.useCallback(b=>{let c=qi.dimensions(a.state),d=c.rowHeight,e=n(b.id);if(f){let a=f(b);"auto"===a?(e.needsFirstMeasurement&&(e.content=(h?h(b):d)??d),j.current=!0,e.autoHeight=!0):(e.content=a??c.rowHeight,e.needsFirstMeasurement=!1,e.autoHeight=!1)}else e.content=d,e.needsFirstMeasurement=!1;if(g){let a=g(b);e.spacingTop=a.top??0,e.spacingBottom=a.bottom??0}else e.spacingTop=0,e.spacingBottom=0;return o?.(e,b),e},[a,f,n,h,m,g,o]),r=q.useCallback(()=>{j.current=!1;let b=l?.top.reduce((a,b)=>{let c=p(b);return a+c.content+c.spacingTop+c.spacingBottom+c.detail},0)??0,d=l?.bottom.reduce((a,b)=>{let c=p(b);return a+c.content+c.spacingTop+c.spacingBottom+c.detail},0)??0,f=[],g=e.reduce((a,b)=>{f.push(a);let c=p(b);return a+(c.content+c.spacingTop+c.spacingBottom+c.detail)},0);j.current||(i.current=1/0);let h=b!==a.state.rowsMeta.pinnedTopRowsTotalHeight||d!==a.state.rowsMeta.pinnedBottomRowsTotalHeight||g!==a.state.rowsMeta.currentPageTotalHeight;a.set("rowsMeta",{currentPageTotalHeight:g,positions:f,pinnedTopRowsTotalHeight:b,pinnedBottomRowsTotalHeight:d}),h&&c(),k.current=!0},[a,l,e,p,c]),s=p8(r),t=(a,b)=>{let c=n(a),d=c.content!==b;c.needsFirstMeasurement=!1,c.content=b,k.current&&=!d},u=p5(()=>"undefined"==typeof ResizeObserver?void 0:new ResizeObserver(a=>{for(let c=0;c<a.length;c+=1){let d=a[c],e=d.borderBoxSize&&d.borderBoxSize.length>0?d.borderBoxSize[0].blockSize:d.contentRect.height,f=d.target.__mui_id;if(b.focusedVirtualCell?.()?.id===f&&0===e)return;t(f,e)}k.current||requestAnimationFrame(()=>{s()})})).current;return p7(()=>{r()},[r]),{getRowHeight:b=>d.get(b)?.content??qi.rowHeight(a.state),setLastMeasuredRowIndex:a=>{j.current&&a>i.current&&(i.current=a)},storeRowHeightMeasurement:t,hydrateRowsMeta:r,observeRowHeight:(a,b)=>(a.__mui_id=b,u?.observe(a),()=>u?.unobserve(a)),rowHasAutoHeight:a=>d.get(a)?.autoHeight??!1,getRowHeightEntry:n,getLastMeasuredRowIndex:()=>i.current,resetRowHeights:()=>{d.clear(),r()}}}(a,b,n);return{updateDimensions:n,debouncedUpdateDimensions:r,rowsMeta:t}},selectors:qi},qk=new WeakMap,ql=[];class qm{static create(){return new qm}currentId=null;start(a,b){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,b()},a)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}let qn=("undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"empty").includes("firefox"),qo=q.useEffect,qp=()=>{};function qq(a){let b=q.useRef(!0);b.current&&(b.current=!1,a())}let qr=(a,b,c)=>Math.max(b,Math.min(c,a)),qs={top:0,left:0},qt=Object.freeze(new Map),qu={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},qv={renderContext:le(a=>a.virtualization.renderContext),enabledForRows:le(a=>a.virtualization.enabledForRows),enabledForColumns:le(a=>a.virtualization.enabledForColumns)},qw={initialize:function(a){return{virtualization:(0,ks.default)({enabled:!0,enabledForRows:!0,enabledForColumns:!0,renderContext:qu},a.initialState?.virtualization),getters:null}},use:function(a,b,c){let{refs:d,dimensions:{rowHeight:e,columnsTotalWidth:f},virtualization:{isRtl:g=!1,rowBufferPx:h=150,columnBufferPx:i=150},colspan:j,initialState:k,rows:l,range:m,columns:n,pinnedRows:o=qe.EMPTY,pinnedColumns:p=qf.EMPTY,minimalContentHeight:s,autoHeight:t,onWheel:u,onTouchMove:v,onRenderContextChange:w,onScrollChange:x,scrollReset:y,renderRow:z,renderInfiniteLoadingTrigger:A}=b,B=qc(a,qj.selectors.needsHorizontalScrollbar),C=o.bottom.length>0,[D,E]=q.useState(qt),[,F]=q.useState(0),G=q.useRef(!1),H=qc(a,qv.renderContext),I=qc(a,qv.enabledForRows),J=qc(a,qv.enabledForColumns),K=qc(a,qj.selectors.rowsMeta),L=qc(a,qj.selectors.contentHeight),M=q.useRef(k?.scroll??qs),N=q.useRef(!1),O=q.useRef(qs),P=q.useRef(qu),Q=function(){var a;let b=p5(qm.create).current;return a=b.disposeEffect,q.useEffect(a,ql),b}(),R=q.useRef(void 0),S=p5(()=>{var a,b,c,d,f;return a=g,b=h,c=i,d=15*e,f=300,{direction:qg.NONE,buffer:qE(a,qg.NONE,b,c,d,300)}}).current,T=q.useCallback(b=>{qC(b,a.state.virtualization.renderContext)||a.set("virtualization",(0,ks.default)({},a.state.virtualization,{renderContext:b}));let c=qj.selectors.dimensions(a.state).isReady,d=b.firstRowIndex!==P.current.firstRowIndex||b.lastRowIndex!==P.current.lastRowIndex;c&&d&&(P.current=b,w?.(b)),O.current=M.current},[a,w]),U=p8(()=>{let f=d.scroller.current;if(!f)return;let j=qj.selectors.dimensions(a.state),k=Math.ceil(j.contentSize.height-j.viewportInnerSize.height),l=Math.ceil(j.contentSize.width-j.viewportInnerSize.width),m={top:qr(f.scrollTop,0,k),left:g?qr(f.scrollLeft,-l,0):qr(f.scrollLeft,0,l)},n=m.left-M.current.left,o=m.top-M.current.top,p=0!==n||0!==o;M.current=m;let q=p?qg.forDelta(n,o):qg.NONE,s=Math.abs(M.current.top-O.current.top),t=Math.abs(M.current.left-O.current.left),u=S.direction!==q;if(!(s>=e||t>=50||u))return H;if(u)switch(q){case qg.NONE:case qg.LEFT:case qg.RIGHT:R.current=void 0;break;default:R.current=H}S.direction=q,S.buffer=qE(g,q,h,i,15*e,300);let v=qy(qx(a,b,c,I,J),M.current,S);return qC(v,H)||(r.flushSync(()=>{T(v)}),Q.start(1e3,U)),v}),V=p8(()=>{if(!qj.selectors.dimensions(a.state).isReady&&(I||J))return;let d=qy(qx(a,b,c,I,J),M.current,S);R.current=void 0,T(d)}),W=p8(()=>{if(N.current){N.current=!1;return}let a=U();a&&x?.(M.current,a)}),X=q.useMemo(()=>({overflowX:B?void 0:"hidden",overflowY:t?"hidden":void 0}),[B,t]),Y=q.useMemo(()=>{let a={width:B?f:"auto",flexBasis:L,flexShrink:0};return 0===a.flexBasis&&(a.flexBasis=s),a},[f,L,B,s]),Z=q.useRef(null),$=q.useCallback(a=>{a&&Z.current?.(f,L)},[f,L]);p7(()=>{G.current&&V()},[J,I,V]),p7(()=>{d.scroller.current&&(d.scroller.current.scrollLeft=0)},[d.scroller,y]),((a,b)=>{let c=q.useRef(!1);qo(()=>c.current||!a?qp:(c.current=!0,b()),[c.current||a])})(H!==qu,()=>{if(x?.(M.current,H),G.current=!0,k?.scroll&&d.scroller.current){let a=d.scroller.current,{top:b,left:c}=k.scroll,e={top:!(b>0),left:!(c>0)};!e.left&&f&&(a.scrollLeft=c,e.left=!0,N.current=!0),!e.top&&L&&(a.scrollTop=b,N.current=!0),e.top&&e.left||(Z.current=(d,f)=>{!e.left&&d&&(a.scrollLeft=c,e.left=!0,N.current=!0),!e.top&&f&&(a.scrollTop=b,e.top=!0,N.current=!0),e.left&&e.top&&(Z.current=null)})}}),p2(a,qj.selectors.dimensions,V);let _=a=>b=>{b&&d[a].current!==b&&(d[a].current=b,F(a=>a+1))},aa={setPanels:E,getOffsetTop:()=>K.positions[H.firstRowIndex]??0,getRows:(d={},e)=>{let g;if(!d.rows&&!m)return[];let h=H;d.renderContext&&((h=d.renderContext).firstColumnIndex=H.firstColumnIndex,h.lastColumnIndex=H.lastColumnIndex);let i=!C&&void 0===d.position||C&&"bottom"===d.position,k=void 0!==d.position;switch(d.position){case"top":g=0;break;case"bottom":g=o.top.length+l.length;break;default:g=o.top.length}let q=d.rows??l,r=h.firstRowIndex,s=Math.min(h.lastRowIndex,q.length),t=d.rows?qF(0,d.rows.length):qF(r,s),u=-1,v=b.focusedVirtualCell?.();!k&&v&&(v.rowIndex<r&&(t.unshift(v.rowIndex),u=v.rowIndex),v.rowIndex>s&&(t.push(v.rowIndex),u=v.rowIndex));let w=[],x=qj.selectors.columnPositions(a.state,n);return t.forEach(a=>{let{id:b,model:o}=q[a];if(e&&!e[b])return;let r=(m?.firstRowIndex||0)+g+a;if(j?.enabled){let a=p.left.length,d=n.length-p.right.length;c.calculateColSpan(b,a,d,n),p.left.length>0&&c.calculateColSpan(b,0,p.left.length,n),p.right.length>0&&c.calculateColSpan(b,n.length-p.right.length,n.length,n)}let s=c.rowsMeta.rowHasAutoHeight(b)?"auto":c.rowsMeta.getRowHeight(b),t=!1;void 0===d.position&&(t=0===a);let y=!1,B=a===q.length-1;i&&(k?y=B:a===l.length-1&&(y=!0));let C=h;R.current&&a>=R.current.firstRowIndex&&a<R.current.lastRowIndex&&(C=R.current);let E=a===u,F=v?.rowIndex===r,G=qD(x,C,p.left.length),H=B&&"top"===d.position,I=C.firstColumnIndex,J=C.lastColumnIndex;if(w.push(z({id:b,model:o,rowIndex:r,offsetLeft:G,columnsTotalWidth:f,baseRowHeight:s,firstColumnIndex:I,lastColumnIndex:J,focusedColumnIndex:F?v.columnIndex:void 0,isFirstVisible:t,isLastVisible:y,isVirtualFocusRow:E,showBottomBorder:H})),E)return;let K=D.get(b);K&&w.push(K),void 0===d.position&&B&&w.push(A(b))}),w},getContainerProps:()=>({ref:_("container")}),getScrollerProps:()=>({ref:_("scroller"),onScroll:W,onWheel:u,onTouchMove:v,style:X,role:"presentation",tabIndex:qn?-1:void 0}),getContentProps:()=>({ref:$,style:Y,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:_("scrollbarVertical"),scrollPosition:M}),getScrollbarHorizontalProps:()=>({ref:_("scrollbarHorizontal"),scrollPosition:M}),getScrollAreaProps:()=>({scrollPosition:M})};return qq(()=>{a.state=(0,ks.default)({},a.state,{getters:aa})}),q.useEffect(()=>{a.update({getters:aa})},Object.values(aa)),{getters:aa,useVirtualization:()=>qc(a,a=>a),setPanels:E,forceUpdateRenderContext:V,getCellColSpanInfo:()=>{throw Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw Error("Unimplemented: rowspan feature is required")}}},selectors:qv};function qx(a,b,c,d,e){let f=qj.selectors.dimensions(a.state),g=b.rows,h=b.range,i=b.columns,j=c.getHiddenCellsOrigin(),k=b.rows.at(-1)?.id,l=i.at(-1);return{api:c,enabledForRows:d,enabledForColumns:e,autoHeight:b.autoHeight,rowBufferPx:b.virtualization.rowBufferPx,columnBufferPx:b.virtualization.columnBufferPx,leftPinnedWidth:f.leftPinnedWidth,columnsTotalWidth:f.columnsTotalWidth,viewportInnerWidth:f.viewportInnerSize.width,viewportInnerHeight:f.viewportInnerSize.height,lastRowHeight:void 0!==k?c.rowsMeta.getRowHeight(k):0,lastColumnWidth:l?.computedWidth??0,rowsMeta:qj.selectors.rowsMeta(a.state),columnPositions:qj.selectors.columnPositions(a.state,b.columns),rows:g,range:h,pinnedColumns:b.pinnedColumns,columns:i,hiddenCellsOriginMap:j,virtualizeColumnsWithAutoRowHeight:b.virtualizeColumnsWithAutoRowHeight}}function qy(a,b,c){let d={firstRowIndex:0,lastRowIndex:a.rows.length,firstColumnIndex:0,lastColumnIndex:a.columns.length},{top:e,left:f}=b,g=Math.abs(f)+a.leftPinnedWidth;if(a.enabledForRows){let b=Math.min(qz(a,e,{atStart:!0,lastPosition:a.rowsMeta.positions[a.rowsMeta.positions.length-1]+a.lastRowHeight}),a.rowsMeta.positions.length-1),c=a.hiddenCellsOriginMap[b];c&&(b=Math.min(b,Math.min(...Object.values(c))));let f=a.autoHeight?b+a.rows.length:qz(a,e+a.viewportInnerHeight);d.firstRowIndex=b,d.lastRowIndex=f}if(a.enabledForColumns){let b=0,e=a.columnPositions.length,f=!1,[h,i]=qB({firstIndex:d.firstRowIndex,lastIndex:d.lastRowIndex,minFirstIndex:0,maxLastIndex:a.rows.length,bufferBefore:c.buffer.rowBefore,bufferAfter:c.buffer.rowAfter,positions:a.rowsMeta.positions,lastSize:a.lastRowHeight});if(!a.virtualizeColumnsWithAutoRowHeight)for(let b=h;b<i&&!f;b+=1){let c=a.rows[b];f=a.api.rowsMeta.rowHasAutoHeight(c.id)}(!f||a.virtualizeColumnsWithAutoRowHeight)&&(b=qA(g,a.columnPositions,{atStart:!0,lastPosition:a.columnsTotalWidth}),e=qA(g+a.viewportInnerWidth,a.columnPositions)),d.firstColumnIndex=b,d.lastColumnIndex=e}var h=a,i=d,j=c;let[k,l]=qB({firstIndex:i.firstRowIndex,lastIndex:i.lastRowIndex,minFirstIndex:0,maxLastIndex:h.rows.length,bufferBefore:j.buffer.rowBefore,bufferAfter:j.buffer.rowAfter,positions:h.rowsMeta.positions,lastSize:h.lastRowHeight}),[m,n]=qB({firstIndex:i.firstColumnIndex,lastIndex:i.lastColumnIndex,minFirstIndex:h.pinnedColumns?.left.length??0,maxLastIndex:h.columns.length-(h.pinnedColumns?.right.length??0),bufferBefore:j.buffer.columnBefore,bufferAfter:j.buffer.columnAfter,positions:h.columnPositions,lastSize:h.lastColumnWidth}),o=function({api:a,firstColumnToRender:b,firstRowToRender:c,lastRowToRender:d,visibleRows:e}){let f=b,g=!1;for(;!g&&f>=0;){g=!0;for(let b=c;b<d;b+=1)if(e[b]){let c=e[b].id,d=a.getCellColSpanInfo(c,f);if(d&&d.spannedByColSpan&&d.leftVisibleCellIndex<f){f=d.leftVisibleCellIndex,g=!1;break}}}return f}({api:h.api,firstColumnToRender:m,firstRowToRender:k,lastRowToRender:l,visibleRows:h.rows});return{firstRowIndex:k,lastRowIndex:l,firstColumnIndex:o,lastColumnIndex:n}}function qz(a,b,c){let d=a.api.rowsMeta.getLastMeasuredRowIndex(),e=d===1/0;a.range?.lastRowIndex&&!e&&(e=d>=a.range.lastRowIndex);let f=qr(d-(a.range?.firstRowIndex||0),0,a.rowsMeta.positions.length);return e||a.rowsMeta.positions[f]>=b?qA(b,a.rowsMeta.positions,c):function(a,b,c,d){let e=1;for(;c<b.length&&Math.abs(b[c])<a;)c+=e,e*=2;return qA(a,b,d,Math.floor(c/2),Math.min(c,b.length))}(b,a.rowsMeta.positions,f,c)}function qA(a,b,c,d=0,e=b.length){if(b.length<=0)return -1;if(d>=e)return d;let f=d+Math.floor((e-d)/2),g=b[f];return(c?.atStart?a-((f===b.length-1?c.lastPosition:b[f+1])-g)<g:a<=g)?qA(a,b,c,d,f):qA(a,b,c,f+1,e)}function qB({firstIndex:a,lastIndex:b,bufferBefore:c,bufferAfter:d,minFirstIndex:e,maxLastIndex:f,positions:g,lastSize:h}){let i=g[a]-c,j=g[b]+d,k=qA(i,g,{atStart:!0,lastPosition:g[g.length-1]+h}),l=qA(j,g);return[qr(k,e,f),qr(l,e,f)]}function qC(a,b){return a===b||a.firstRowIndex===b.firstRowIndex&&a.lastRowIndex===b.lastRowIndex&&a.firstColumnIndex===b.firstColumnIndex&&a.lastColumnIndex===b.lastColumnIndex}function qD(a,b,c){return Math.abs((a[b.firstColumnIndex]??0)-(a[c]??0))}function qE(a,b,c,d,e,f){if(a)switch(b){case qg.LEFT:b=qg.RIGHT;break;case qg.RIGHT:b=qg.LEFT}switch(b){case qg.NONE:return{rowAfter:c,rowBefore:c,columnAfter:d,columnBefore:d};case qg.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:f};case qg.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:f,columnBefore:0};case qg.UP:return{rowAfter:0,rowBefore:e,columnAfter:0,columnBefore:0};case qg.DOWN:return{rowAfter:e,rowBefore:0,columnAfter:0,columnBefore:0};default:throw Error("unreachable")}}function qF(a,b){return Array.from({length:b-a}).map((b,c)=>a+c)}let qG={firstRowIndex:0,lastRowIndex:0},qH={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},qI={state:a=>a.rowSpanning,hiddenCells:a=>a.rowSpanning.caches.hiddenCells,spannedCells:a=>a.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:a=>a.rowSpanning.caches.hiddenCellOriginMap},qJ={initialize:function(a){return{rowSpanning:a.initialState?.rowSpanning??{caches:qH,processedRange:qG}}},use:function(a,b,c){return{getHiddenCellsOrigin:()=>qI.hiddenCellsOriginMap(a.state)}},selectors:qI},qK=[qj,qw,{initialize:function(a){return{colspanMap:new Map}},use:function(a,b,c){let d=b.colspan?.getColspan,e=p8(d?(b,c,e,f)=>{for(let g=c;g<e;g+=1){let h=function(a,b,c,d,e,f,g){let h=f.length,i=f[b],j=g(c,i,b);if(!j||1===j)return p9(a,c,b,{spannedByColSpan:!1,cellProps:{colSpan:1,width:i.computedWidth}}),{colSpan:1};let k=i.computedWidth;for(let g=1;g<j;g+=1){let i=b+g;i>=d&&i<e&&(k+=f[i].computedWidth,p9(a,c,b+g,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(b+j,h-1),leftVisibleCellIndex:b})),p9(a,c,b,{spannedByColSpan:!1,cellProps:{colSpan:j,width:k}})}return{colSpan:j}}(a.state.colspanMap,g,b,c,e,f,d);h.colSpan>1&&(g+=h.colSpan-1)}}:()=>{});return c.calculateColSpan=e,{resetColSpan:()=>{a.state.colspanMap=new Map},getCellColSpanInfo:(b,c)=>a.state.colspanMap.get(b)?.[c],calculateColSpan:e}},selectors:{}},qJ,{initialize:function(a){return{}},use:function(a,b,c){return{getViewportPageSize:()=>{let c=qj.selectors.dimensions(a.state);if(!c.isReady)return 0;if(b.getRowHeight){let c=qw.selectors.renderContext(a.state);return Math.min(c.lastRowIndex-c.firstRowIndex-1,b.rows.length)}return Math.min(Math.floor(c.viewportInnerSize.height/c.rowHeight),b.rows.length)}}},selectors:{}}],qL=(a,b,c)=>b>0&&a>0?Math.ceil(a/b):-1===a?c+2:0,qM=a=>({page:0,pageSize:100*!a}),qN=(a,b)=>{if(b===pA.DataGrid&&a>100)throw Error("MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.")},qO=li(a=>a.pagination),qP=lg(qO,a=>a.enabled&&"client"===a.paginationMode),qQ=lg(qO,a=>a.paginationModel),qR=lg(qO,a=>a.rowCount),qS=lg(qO,a=>a.meta),qT=lg(qQ,a=>a.page),qU=lg(qQ,a=>a.pageSize),qV=lg(qQ,qR,(a,b)=>qL(b,a.pageSize,a.page)),qW=lh(qP,qQ,l9,me,oH,oL,(a,b,c,d,e,f)=>{if(!a)return null;let g=f.length,h=Math.min(b.pageSize*b.page,g-1),i=-1===b.pageSize?g-1:Math.min(h+b.pageSize-1,g-1);if(-1===h||-1===i)return null;if(d<2)return{firstRowIndex:h,lastRowIndex:i};let j=f[h],k=i-h+1,l=e.findIndex(a=>a.id===j.id),m=l,n=0;for(;m<e.length&&n<=k;){let a=e[m],b=c[a.id]?.depth;void 0===b?m+=1:((n<k||b>0)&&(m+=1),0===b&&(n+=1))}return{firstRowIndex:l,lastRowIndex:m-1}}),qX=lh(oH,qW,(a,b)=>b?a.slice(b.firstRowIndex,b.lastRowIndex+1):[]),qY=lh(oI,qW,(a,b)=>b?a.slice(b.firstRowIndex,b.lastRowIndex+1):[]),qZ=lh(qP,qW,qX,oH,(a,b,c,d)=>a?{rows:c,range:b,rowIdToIndexMap:c.reduce((a,b,c)=>(a.set(b.id,c),a),new Map)}:{rows:d,range:0===d.length?null:{firstRowIndex:0,lastRowIndex:d.length-1},rowIdToIndexMap:d.reduce((a,b,c)=>(a.set(b.id,c),a),new Map)}),q$=(a,b)=>qZ(a),q_=(a,b)=>kZ(a,qZ),q0=li(a=>a.virtualization);lg(q0,a=>a.enabled);let q1=lg(q0,a=>a.enabledForColumns);lg(q0,a=>a.enabledForRows);let q2=lg(q0,a=>a.renderContext),q3=lh(li(a=>a.virtualization.renderContext.firstColumnIndex),li(a=>a.virtualization.renderContext.lastColumnIndex),(a,b)=>({firstColumnIndex:a,lastColumnIndex:b})),q4=lh(lg(oX,q2,qZ,lB,(a,b,c,d)=>{if(!a)return!1;let e=c.rowIdToIndexMap.get(a.id),f=d.slice(b.firstColumnIndex,b.lastColumnIndex).findIndex(b=>b.field===a.field);return!(void 0!==e&&-1!==f&&e>=b.firstRowIndex&&e<=b.lastRowIndex)}),lB,qZ,oX,(a,b,c,d)=>{if(!a)return null;let e=c.rowIdToIndexMap.get(d.id);if(void 0===e)return null;let f=b.findIndex(a=>a.field===d.field);return -1===f?null:(0,ks.default)({},d,{rowIndex:e,columnIndex:f})}),q5={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:nM.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function q6(a){return a}let q7=lg(lB,lG,(a,b)=>{let c=a.length;return 0===c?0:p$(b[c-1]+a[c-1].computedWidth,1)}),q8=()=>(0,lc.lruMemoize)((a,b,c,d,e)=>(0,ks.default)({},a,{headerHeight:b,groupHeaderHeight:c,headerFilterHeight:d,headersTotalHeight:e}),{maxSize:1}),q9=(a,b,c,d)=>{let e=q.useRef(d),f=q.useRef(!1);d!==e.current&&(f.current=!1,e.current=d),f.current||(b.current.state=a(b.current.state,c,b),f.current=!0)};function ra(a,b){let c=q.useRef(null);if(c.current)return c.current;let d=a.current.getLogger(b);return c.current=d,d}let rb=(a,b,c,d,e)=>{let f=ra(a,"useNativeEventListener");ms(a,"rootMount",()=>{let a=b();if(a&&c)return f.debug(`Binding native ${c} event`),a.addEventListener(c,d,e),()=>{f.debug(`Clearing native ${c} event`),a.removeEventListener(c,d,e)}})},rc=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],rd=kv(function(a,b){let{field:c,id:d,rowNode:e,tabIndex:f}=a,g=(0,kw.default)(a,rc),i=lO(),j=k6(),k=(a=>{let{classes:b}=a;return kA({root:["checkboxInput"]},kK,b)})({classes:j.classes});q.useLayoutEffect(()=>{if(0===f){let a=i.current.getCellElement(d,c);a&&(a.tabIndex=-1)}},[i,f,d,c]);let l=q.useCallback(a=>{" "===a.key&&a.stopPropagation()},[]),m=i.current.isRowSelectable(d),{isIndeterminate:n,isChecked:o}=kZ(i,pJ,{groupId:d,autoSelectParents:j.rowSelectionPropagation?.parents??!1});if("footer"===e.type||"pinnedRow"===e.type)return null;let p=i.current.getLocaleText(o&&!n?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,h.jsx)(j.slots.baseCheckbox,(0,ks.default)({tabIndex:f,checked:o&&!n,onChange:a=>{let b={value:a.target.checked,id:d};i.current.publishEvent("rowSelectionCheckboxChange",b,a)},className:k.root,slotProps:{htmlInput:{"aria-label":p,name:"select_row"}},onKeyDown:l,indeterminate:n,disabled:!m},j.slotProps?.baseCheckbox,g,{ref:b}))}),re=["field","colDef"],rf=kv(function(a,b){let c=(0,kw.default)(a,re),[,d]=q.useState(!1),e=lO(),f=k6(),g=(a=>{let{classes:b}=a;return kA({root:["checkboxInput"]},kK,b)})({classes:f.classes}),i=kZ(e,o0),j=kZ(e,pE),k=kZ(e,oI),l=kZ(e,qY),m=q.useMemo(()=>{let a=f.isRowSelectable;if("function"!=typeof a||"exclude"===j.type)return j;let b={type:"include",ids:new Set};for(let c of j.ids)f.keepNonExistentRowsSelected&&b.ids.add(c),e.current.getRow(c)&&a(e.current.getRowParams(c))&&b.ids.add(c);return b},[e,f.isRowSelectable,f.keepNonExistentRowsSelected,j]),n=q.useMemo(()=>{let a=f.pagination&&f.checkboxSelectionVisibleOnly&&"server"!==f.paginationMode?l:k,b=new Set;for(let c=0;c<a.length;c+=1){let d=a[c];e.current.getRow(d)&&e.current.isRowSelectable(d)&&b.add(d)}return b},[e,f.pagination,f.paginationMode,f.checkboxSelectionVisibleOnly,l,k]),o=q.useMemo(()=>{let a=pD(m),b=0;for(let c of n)a.has(c)&&(b+=1);return b},[m,n]),p=q.useMemo(()=>{if(0===o)return!1;let a=pD(m);for(let b of n)if(!a.has(b))return!0;return!1},[o,m,n]),r=o>0,s=null!==i&&i.field===a.field?0:-1;q.useLayoutEffect(()=>{let b=e.current.getColumnHeaderElement(a.field);0===s&&b&&(b.tabIndex=-1)},[s,e,a.field]);let t=q.useCallback(a=>{" "===a.key&&e.current.publishEvent("headerSelectionCheckboxChange",{value:!r})},[e,r]),u=q.useCallback(()=>{d(a=>!a)},[]);q.useEffect(()=>e.current.subscribeEvent("rowSelectionChange",u),[e,u]);let v=e.current.getLocaleText(r&&!p?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,h.jsx)(f.slots.baseCheckbox,(0,ks.default)({indeterminate:p,checked:r&&!p,onChange:a=>{let b={value:a.target.checked};e.current.publishEvent("headerSelectionCheckboxChange",b)},className:g.root,slotProps:{htmlInput:{"aria-label":v,name:"select_all_rows"}},tabIndex:s,onKeyDown:t,disabled:!pK(f)},f.slotProps?.baseCheckbox,c,{ref:b}))}),rg="__check__",rh=(0,ks.default)({},nJ,{type:"custom",field:rg,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,chartable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(a,b,c,d)=>{let e=nw(d,b);return d.current.isRowSelected(e)},rowSpanValueGetter:(a,b,c,d)=>nw(d,b),renderHeader:a=>(0,h.jsx)(rf,(0,ks.default)({},a)),renderCell:a=>(0,h.jsx)(rd,(0,ks.default)({},a))});function ri(a,b){if(null==a)return"";let c="string"==typeof a?a:`${a}`;if(b.shouldAppendQuotes||b.escapeFormulas){let a=c.replace(/"/g,'""');return b.escapeFormulas&&["=","+","-","@","	","\r"].includes(a[0])?`"'${a}"`:[b.delimiter,"\n","\r",'"'].some(a=>c.includes(a))?`"${a}"`:a}return c}let rj=(a,b)=>{let c,{csvOptions:d,ignoreValueFormatter:e}=b;if(e){let b=a.colDef.type;c="number"===b?String(a.value):"date"===b||"dateTime"===b?a.value?.toISOString():"function"==typeof a.value?.toString?a.value.toString():a.value}else c=a.formattedValue;return ri(c,d)};class rk{rowString="";isEmpty=!0;constructor(a){this.options=a}addValue(a){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),"function"==typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(a,this.options.csvOptions):this.rowString+=a,this.isEmpty=!1}getRowString(){return this.rowString}}function rl(a){let b=document.createElement("span");b.style.whiteSpace="pre",b.style.userSelect="all",b.style.opacity="0px",b.textContent=a,document.body.appendChild(b);let c=document.createRange();c.selectNode(b);let d=window.getSelection();d.removeAllRanges(),d.addRange(c);try{document.execCommand("copy")}finally{document.body.removeChild(b)}}let rm=a=>(0,ks.default)({},a,{columnMenu:{open:!1}}),rn=(a,b,c,d=!0)=>{let e=q.useRef(null),f=q.useRef(`mui-${Math.round(1e9*Math.random())}`),g=q.useCallback(()=>{e.current=a.current.registerPipeProcessor(b,f.current,c)},[a,c,b]);qq(()=>{d&&g()});let h=q.useRef(!0);q.useEffect(()=>(h.current?h.current=!1:d&&g(),()=>{e.current&&(e.current(),e.current=null)}),[g,d])},ro=(a,b,c)=>{let d=q.useRef(null),e=q.useRef(`mui-${Math.round(1e9*Math.random())}`),f=q.useCallback(()=>{d.current=a.current.registerPipeApplier(b,e.current,c)},[a,c,b]);qq(()=>{f()});let g=q.useRef(!0);q.useEffect(()=>(g.current?g.current=!1:f(),()=>{d.current&&(d.current(),d.current=null)}),[f])},rp=(a,b,c)=>{c.current.caches.columns={lastColumnsProp:b.columns};let d=om({apiRef:c,columnsToUpsert:b.columns,initialState:b.initialState?.columns,columnVisibilityModel:b.columnVisibilityModel??b.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return(0,ks.default)({},a,{columns:d,pinnedColumns:a.pinnedColumns??lr})},rq=(a,b)=>(0,ks.default)({},a,{density:b.initialState?.density??b.density??"standard"}),rr=({apiRef:a,options:b})=>{let c=ly(a);return b.fields?b.fields.reduce((a,b)=>{let d=c.find(a=>a.field===b);return d&&a.push(d),a},[]):(b.allColumns?c:lB(a)).filter(a=>!0!==a.disableExport)},rs=({apiRef:a})=>{let b=oK(a),c=l9(a),d=pG(a),e=b.filter(a=>"footer"!==c[a].type),f=mh(a),g=f?.top?.map(a=>a.id)||[],h=f?.bottom?.map(a=>a.id)||[];if(e.unshift(...g),e.push(...h),d>0){let b=pH(a);return e.filter(a=>b.has(a))}return e},rt=kv(function(a,b){let{children:c,slotProps:d={}}=a,e=d.button||{},f=d.tooltip||{},g=lO(),i=k6(),j=mK(),k=mK(),[l,m]=q.useState(!1),n=q.useRef(null),o=ky(b,n),p=()=>m(!1);return null==c?null:(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(i.slots.baseTooltip,(0,ks.default)({title:g.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},i.slotProps?.baseTooltip,f,{children:(0,h.jsx)(i.slots.baseButton,(0,ks.default)({size:"small",startIcon:(0,h.jsx)(i.slots.exportIcon,{}),"aria-expanded":l,"aria-label":g.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":l?k:void 0,id:j},i.slotProps?.baseButton,e,{onClick:a=>{m(a=>!a),e.onClick?.(a)},ref:o,children:g.current.getLocaleText("toolbarExport")}))})),(0,h.jsx)(n4,{open:l,target:n.current,onClose:p,position:"bottom-end",children:(0,h.jsx)(i.slots.baseMenuList,{id:k,className:kL.menuList,"aria-labelledby":j,autoFocusItem:l,children:q.Children.map(c,a=>q.isValidElement(a)?q.cloneElement(a,{hideMenu:p}):a)})})]})}),ru=["hideMenu","options"],rv=["hideMenu","options"],rw=["csvOptions","printOptions","excelOptions"];function rx(a){let b=lO(),c=k6(),{hideMenu:d,options:e}=a,f=(0,kw.default)(a,ru);return(0,h.jsx)(c.slots.baseMenuItem,(0,ks.default)({onClick:()=>{b.current.exportDataAsCsv(e),d?.()}},f,{children:b.current.getLocaleText("toolbarExportCSV")}))}function ry(a){let b=lO(),c=k6(),{hideMenu:d,options:e}=a,f=(0,kw.default)(a,rv);return(0,h.jsx)(c.slots.baseMenuItem,(0,ks.default)({onClick:()=>{b.current.exportDataAsPrint(e),d?.()}},f,{children:b.current.getLocaleText("toolbarExportPrint")}))}function rz(a){return a&&a.ownerDocument||document}kv(function(a,b){let{csvOptions:c={},printOptions:d={},excelOptions:e}=a,f=(0,kw.default)(a,rw),g=lO().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:e,csvOptions:c,printOptions:d}).sort((a,b)=>a.componentName>b.componentName?1:-1);return 0===g.length?null:(0,h.jsx)(rt,(0,ks.default)({},f,{ref:b,children:g.map((a,b)=>q.cloneElement(a.component,{key:b}))}))});let rA=(a,b,c)=>{let d=a.paginationModel,e=a.rowCount,f=c?.pageSize??d.pageSize,g=qL(e,f,c?.page??d.page);c&&(c?.page!==d.page||c?.pageSize!==d.pageSize)&&(d=c);let h=-1===f?0:((a,b=0)=>0===b?a:Math.max(Math.min(a,b-1),0))(d.page,g);return h!==d.page&&(d=(0,ks.default)({},d,{page:h})),qN(d.pageSize,b),d},rB=(a,b,c,d)=>{let e=q.useCallback(()=>{a.current.registerStrategyProcessor(b,c,d)},[a,d,c,b]);qq(()=>{e()});let f=q.useRef(!0);q.useEffect(()=>{f.current?f.current=!1:e()},[e])},rC=(a,b,c)=>{let d=b.filterModel??b.initialState?.filter?.filterModel??mW();return(0,ks.default)({},a,{filter:(0,ks.default)({filterModel:mZ(d,b.disableMultipleColumnsFiltering,c)},mV),visibleRowsLookup:{}})},rD=a=>a.filteredRowsLookup;function rE(a,b){return a.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:b.rows.tree,filteredRowsLookup:b.filter.filteredRowsLookup})}function rF(){return(0,lc.lruMemoize)(Object.values)}let rG=a=>(0,ks.default)({},a,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}});function rH(a,b){return a.closest(`.${b}`)}function rI(a){return a.replace(/["\\]/g,"\\$&")}function rJ(a){return`.${kL.row}[data-id="${rI(String(a))}"]`}function rK(a){return!(1!==a.target.nodeType||a.currentTarget.contains(a.target))}function rL(a,b){return a.rootElementRef.current.querySelector(`.${kL[b]}`)}let rM=({api:a,colIndex:b,position:c,filterFn:d})=>{if(null===b)return[];let e=[];return rO(a).forEach(a=>{a.getAttribute("data-id")&&a.querySelectorAll(`.${kL["left"===c?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{let b=rP(a);null!==b&&d(b)&&e.push(a)})}),e},rN=({api:a,colIndex:b,position:c,filterFn:d})=>{if(!a.columnHeadersContainerRef?.current||null===b)return[];let e=[];return a.columnHeadersContainerRef.current.querySelectorAll(`.${kL["left"===c?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(a=>{let b=rP(a);null!==b&&d(b,a)&&e.push(a)}),e};function rO(a){return a.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${kL.row}`)}function rP(a){let b=a.getAttribute("aria-colindex");return b?Number(b)-1:null}let rQ=({currentColIndex:a,firstColIndex:b,lastColIndex:c,isRtl:d})=>{if(d){if(a<c)return a+1}else if(!d&&a>b)return a-1;return null},rR=({currentColIndex:a,firstColIndex:b,lastColIndex:c,isRtl:d})=>{if(d){if(a>b)return a-1}else if(!d&&a<c)return a+1;return null},rS=lh(qZ,mh,(a,b)=>(b.top||[]).concat(a.rows,b.bottom||[])),rT=(a,b)=>{let c=(0,ks.default)({},qM(b.autoPageSize),b.paginationModel??b.initialState?.pagination?.paginationModel);qN(c.pageSize,b.signature);let d=b.rowCount??b.initialState?.pagination?.rowCount??("client"===b.paginationMode?a.rows?.totalRowCount:void 0),e=b.paginationMeta??b.initialState?.pagination?.meta??{};return(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationModel:c,rowCount:d,meta:e,enabled:!0===b.pagination,paginationMode:b.paginationMode})})},rU=(a,b)=>(0,ks.default)({},a,{preferencePanel:b.initialState?.preferencePanel??{open:!1}}),rV=li(a=>a.editRows),rW=lg(rV,(a,{rowId:b,editMode:c})=>c===nM.Row&&!!a[b]),rX=lg(rV,(a,{rowId:b,field:c})=>a[b]?.[c]??null),rY=a=>{switch(a.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},rZ=["id","field"],r$=["id","field"];var r_=function(a){return a.enterKeyDown="enterKeyDown",a.cellDoubleClick="cellDoubleClick",a.printableKeyDown="printableKeyDown",a.deleteKeyDown="deleteKeyDown",a}(r_||{}),r0=function(a){return a.rowFocusOut="rowFocusOut",a.escapeKeyDown="escapeKeyDown",a.enterKeyDown="enterKeyDown",a.tabKeyDown="tabKeyDown",a.shiftTabKeyDown="shiftTabKeyDown",a}(r0||{});let r1=["id"],r2=["id"],r3=a=>(0,ks.default)({},a,{editRows:{}}),r4=(a,b,c)=>{let d=!!b.dataSource;return c.current.caches.rows=nm({rows:d?[]:b.rows,getRowId:b.getRowId,loading:b.loading,rowCount:b.rowCount}),(0,ks.default)({},a,{rows:no({apiRef:c,rowCountProp:b.rowCount,loadingProp:!!d||b.loading,previousTree:null,previousTreeDepths:null})})},r5=a=>"full"===a.updates.type?(a=>{let b={[nj]:(0,ks.default)({},{type:"group",id:nj,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:a})};for(let c=0;c<a.length;c+=1){let d=a[c];b[d]={id:d,depth:0,parent:nj,type:"leaf",groupingKey:null}}return{groupingName:pX,tree:b,treeDepths:{0:a.length},dataRowIds:a}})(a.updates.rows):(({previousTree:a,actions:b})=>{let c=(0,ks.default)({},a),d={};for(let a=0;a<b.remove.length;a+=1){let e=b.remove[a];d[e]=!0,delete c[e]}for(let a=0;a<b.insert.length;a+=1){let d=b.insert[a];c[d]={id:d,depth:0,parent:nj,type:"leaf",groupingKey:null}}let e=c[nj],f=[...e.children,...b.insert];return Object.values(d).length&&(f=f.filter(a=>!d[a])),c[nj]=(0,ks.default)({},e,{children:f}),{groupingName:pX,tree:c,treeDepths:{0:f.length},dataRowIds:f}})({previousTree:a.previousTree,actions:a.updates.actions});class r6 extends Error{}let r7={type:"include",ids:new Set},r8=(a,b)=>(0,ks.default)({},a,{rowSelection:b.rowSelection?b.rowSelectionModel??r7:r7}),r9=(a,b)=>{let c=b.sortModel??b.initialState?.sorting?.sortModel??[];return(0,ks.default)({},a,{sorting:{sortModel:mB(c,b.disableMultipleColumnsSorting),sortedRows:[]}})};function sa(a){let{containerSize:b,scrollPosition:c,elementSize:d,elementOffset:e}=a,f=e+d;return d>b?e:f-b>c?f-b:e<c?e:void 0}let sb={width:0,height:0},sc={isReady:!1,root:sb,viewportOuterSize:sb,viewportInnerSize:sb,contentSize:sb,minimumSize:sb,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},sd=(a,b,c)=>{let d=lm(c);return(0,ks.default)({},a,{dimensions:(0,ks.default)({},sc,function(a,b,c,d){return{rowHeight:Math.floor(nu(a.rowHeight,q5.rowHeight,nv)*c),headerHeight:Math.floor(a.columnHeaderHeight*c),groupHeaderHeight:Math.floor((a.columnGroupHeaderHeight??a.columnHeaderHeight)*c),headerFilterHeight:Math.floor((a.headerFilterHeight??a.columnHeaderHeight)*c),columnsTotalWidth:se(b),headersTotalHeight:on(b,a),leftPinnedWidth:d.left.reduce((a,b)=>a+b.computedWidth,0),rightPinnedWidth:d.right.reduce((a,b)=>a+b.computedWidth,0)}}(b,c,d,lE(c)))})},se=lg(lB,lG,(a,b)=>{let c=a.length;return 0===c?0:p$(b[c-1]+a[c-1].computedWidth,1)});function sf(a,b){let c=(b,c)=>a.style.setProperty(b,c);c("--DataGrid-hasScrollX",`${Number(b.hasScrollX)}`),c("--DataGrid-hasScrollY",`${Number(b.hasScrollY)}`),c("--DataGrid-scrollbarSize",`${b.scrollbarSize}px`),c("--DataGrid-rowWidth",`${b.rowWidth}px`),c("--DataGrid-columnsTotalWidth",`${b.columnsTotalWidth}px`),c("--DataGrid-leftPinnedWidth",`${b.leftPinnedWidth}px`),c("--DataGrid-rightPinnedWidth",`${b.rightPinnedWidth}px`),c("--DataGrid-headerHeight",`${b.headerHeight}px`),c("--DataGrid-headersTotalHeight",`${b.headersTotalHeight}px`),c("--DataGrid-topContainerHeight",`${b.topContainerHeight}px`),c("--DataGrid-bottomContainerHeight",`${b.bottomContainerHeight}px`),c("--height",`${b.rowHeight}px`)}let sg=(a,b,c)=>{let d=lX(c),e=l5(c),f=qO(c),g=Math.min(f.enabled?f.paginationModel.pageSize:e,e);return(0,ks.default)({},a,{rowsMeta:{currentPageTotalHeight:g*d,positions:Array.from({length:g},(a,b)=>b*d),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})};function sh(a){return void 0!==a.field}let si=["groupId","children"],sj=a=>{let b={};for(let c=0;c<a.length;c+=1){let d=a[c];if(sh(d))continue;let{groupId:e,children:f}=d,g=(0,kw.default)(d,si);if(!e)throw Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");let h=(0,ks.default)({},g,{groupId:e}),i=sj(f);if(void 0!==i[e]||void 0!==b[e])throw Error(`MUI X: The groupId ${e} is used multiple times in the columnGroupingModel.`);Object.assign(b,i),b[e]=h}return b},sk=(a,b,c)=>{if(sh(a)){if(void 0!==c[a.field])throw Error(`MUI X: columnGroupingModel contains duplicated field
column field ${a.field} occurs two times in the grouping model:
- ${c[a.field].join(" > ")}
- ${b.join(" > ")}`);c[a.field]=b;return}let{groupId:d,children:e}=a;e.forEach(a=>{sk(a,[...b,d],c)})},sl=a=>{if(!a)return{};let b={};return a.forEach(a=>{sk(a,[],b)}),b},sm=(a,b,c)=>{let d=a=>b[a]??[],e=[],f=Math.max(0,...a.map(a=>d(a).length)),g=(a,b,c)=>{let e=d(a),f=d(b);for(let a=0;a<=c;a+=1)if(e[a]!==f[a])return!1;return!0},h=(a,b)=>{let d=c?.left,e=c?.right,f=!!d?.includes(a),g=!!d?.includes(b),h=!!e?.includes(a),i=!!e?.includes(b);return f!==g||h!==i};for(let b=0;b<f;b+=1){let c=[];for(let e=0;e<a.length;e+=1){let f=a[e],i=d(f)[b]??null;if(0===c.length){c.push({columnFields:[f],groupId:i});continue}let j=c[c.length-1],k=j.columnFields[j.columnFields.length-1];j.groupId!==i||!g(k,f,b)||h(k,f)?c.push({columnFields:[f],groupId:i}):j.columnFields.push(f)}e.push(c)}return e},sn=(a,b,c)=>{if(c.current.caches.columnGrouping={lastColumnGroupingModel:b.columnGroupingModel},!b.columnGroupingModel)return a;let d=lw(c),e=lC(c),f=sj(b.columnGroupingModel??[]),g=sl(b.columnGroupingModel??[]),h=sm(d,g,c.current.state.pinnedColumns??{}),i=0===e.length?0:Math.max(...e.map(a=>g[a]?.length??0));return(0,ks.default)({},a,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:h,maxDepth:i}})},so=(a,b)=>{let{disableVirtualization:c,autoHeight:d}=b;return(0,ks.default)({},a,{virtualization:{enabled:!c,enabledForColumns:!c,enabledForRows:!c&&!d,renderContext:qu}})},sp={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0};function sq(a,b){if(void 0!==b&&a.changedTouches){for(let c=0;c<a.changedTouches.length;c+=1){let d=a.changedTouches[c];if(d.identifier===b)return{x:d.clientX,y:d.clientY}}return!1}return{x:a.clientX,y:a.clientY}}function sr(a,b,c,d){let e=a;return"Right"===d?e+=b-c.left:e+=c.right-b,Math.round(e)}function ss(a,b){return b===lq.LEFT?a?"--DataGrid-rightPinnedWidth":"--DataGrid-leftPinnedWidth":a?"--DataGrid-leftPinnedWidth":"--DataGrid-rightPinnedWidth"}function st(a,b,c){return c===lq.LEFT?b?a.rightPinnedWidth:a.leftPinnedWidth:b?a.leftPinnedWidth:a.rightPinnedWidth}function su(a){a.preventDefault(),a.stopImmediatePropagation()}let sv=a=>(0,ks.default)({},a,{columnResize:{resizingColumnField:""}});function sw(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}function sx(a,b,c){a&&(a.style[b]=`${Math.round(parseFloat(a.style[b]))+c}px`)}function sy(a){return 0!==a.firstRowIndex||0!==a.lastRowIndex}let sz=(a,b,c)=>{if(!a)return null;let d=a[b.field],e=b.rowSpanValueGetter??b.valueGetter;return e&&(d=e(d,a,b,c)),d},sA={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},sB={caches:sA,processedRange:{firstRowIndex:0,lastRowIndex:0}},sC=(a,b,c,d,e,f)=>{let g=a.current.virtualizer,h=f?sB:qJ.selectors.state(g.store.state),i=(0,ks.default)({},h.caches.spannedCells),j=(0,ks.default)({},h.caches.hiddenCells),k=(0,ks.default)({},h.caches.hiddenCellOriginMap),l={firstRowIndex:Math.min(h.processedRange.firstRowIndex,e.firstRowIndex),lastRowIndex:Math.max(h.processedRange.lastRowIndex,e.lastRowIndex)};return b.forEach((b,f)=>{for(let g=e.firstRowIndex;g<e.lastRowIndex;g+=1){let h=c[g];if(j[h.id]?.[f])continue;let l=sz(h.model,b,a);if(null==l)continue;let m=h.id,n=g,o=0,p=[];if(g===e.firstRowIndex){let e=g-1,h=c[e];for(;e>=d.firstRowIndex&&h&&sz(h.model,b,a)===l;){let a=c[e+1];j[a.id]?j[a.id][f]=!0:j[a.id]={[f]:!0},p.push(g),o+=1,m=h.id,n=e,e-=1,h=c[e]}}p.forEach(a=>{k[a]?k[a][f]=n:k[a]={[f]:n}});let q=g+1;for(;q<=d.lastRowIndex&&c[q]&&sz(c[q].model,b,a)===l;){let a=c[q];j[a.id]?j[a.id][f]=!0:j[a.id]={[f]:!0},k[q]?k[q][f]=n:k[q]={[f]:n},q+=1,o+=1}o>0&&(i[m]?i[m][f]=o+1:i[m]={[f]:o+1})}}),{caches:{spannedCells:i,hiddenCells:j,hiddenCellOriginMap:k},processedRange:l}},sD=(a,b,c)=>{if(!b.rowSpanning)return(0,ks.default)({},a,{rowSpanning:sB});let d=a.rows.dataRowIds||[],e=a.columns.orderedFields||[],f=a.rows.dataRowIdToModelLookup,g=a.columns.lookup,h=!!a.filter.filterModel.items.length||!!a.filter.filterModel.quickFilterValues?.length;if(!d.length||!e.length||!f||!g||h)return(0,ks.default)({},a,{rowSpanning:sB});let i=((a,b)=>{let c=mf(b).length;if(a.pagination){let a=qU(b),d=20;return a>0&&(d=a-1),{firstRowIndex:0,lastRowIndex:Math.min(d,c)}}return{firstRowIndex:0,lastRowIndex:Math.min(20,c)}})(b,c),j=d.map(a=>({id:a,model:f[a]})),k=sC(c,e.map(a=>g[a]),j,i,i,!0);return(0,ks.default)({},a,{rowSpanning:k})},sE=(a,b,c)=>(0,ks.default)({},a,{listViewColumn:b.listViewColumn?(0,ks.default)({},b.listViewColumn,{computedWidth:sF(c)}):void 0});function sF(a){return lV(a).viewportInnerSize.width}function sG(a,b=166){let c;function d(...e){let f=()=>{a.apply(this,e)};clearTimeout(c),c=setTimeout(f,b)}return d.clear=()=>{clearTimeout(c)},d}let sH=lg(oD,oA,qQ,(a,b,c)=>({groupKeys:[],paginationModel:c,sortModel:b,filterModel:a,start:c.page*c.pageSize,end:c.page*c.pageSize+c.pageSize-1})),sI=function(a){return a.Default="set-new-rows",a.LazyLoading="replace-row-range",a}({});class sJ{constructor(a){this.chunkSize=a}getCacheKeys=a=>{if(this.chunkSize<1||"number"!=typeof a.start)return[a];let b=[];for(let c=a.start;c<=a.end;c+=this.chunkSize){let d=Math.min(c+this.chunkSize-1,a.end);b.push((0,ks.default)({},a,{start:c,end:d}))}return b};splitResponse=(a,b)=>{let c=this.getCacheKeys(a);if(1===c.length)return new Map([[a,b]]);let d=new Map;return c.forEach(c=>{let e=c.end===a.end,f=(0,ks.default)({},b,{pageInfo:(0,ks.default)({},b.pageInfo,{hasNextPage:b.pageInfo?.hasNextPage!==void 0&&!e||b.pageInfo?.hasNextPage,nextCursor:b.pageInfo?.nextCursor===void 0||e?b.pageInfo?.nextCursor:b.rows[c.end+1].id}),rows:"number"!=typeof c.start||"number"!=typeof a.start?b.rows:b.rows.slice(c.start-a.start,c.end-a.start+1)});d.set(c,f)}),d};static mergeResponses=a=>1===a.length?a[0]:a.reduce((a,b)=>(0,ks.default)({},b,{rows:[...a.rows,...b.rows]}),{rows:[],rowCount:0,pageInfo:{}})}function sK(a){return JSON.stringify([a.filterModel,a.sortModel,a.start,a.end])}class sL{constructor({ttl:a=3e5,getKey:b=sK}){this.cache={},this.ttl=a,this.getKey=b}set(a,b){let c=this.getKey(a),d=Date.now()+this.ttl;this.cache[c]={value:b,expiry:d}}get(a){let b=this.getKey(a),c=this.cache[b];if(c)return Date.now()>c.expiry?void delete this.cache[b]:c.value}clear(){this.cache={}}}class sM extends Error{constructor(a){super(a.message),this.name="GridGetRowsError",this.params=a.params,this.cause=a.cause}}class sN extends Error{constructor(a){super(a.message),this.name="GridUpdateRowError",this.params=a.params,this.cause=a.cause}}let sO=["skipCache"],sP={clear:()=>{},get:()=>void 0,set:()=>{}};function sQ(a,b={}){return null===a?sP:a??new sL(b)}var sR=a.i(835926),sS=a.i(249805),sS=sS;let sT={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:a=>1!==a?`${a} active filters`:`${a} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarCharts:"Charts",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:a=>`${a} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnMenuManageCharts:"Manage charts",columnHeaderFiltersTooltipActive:a=>1!==a?`${a} active filters`:`${a} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:a=>1!==a?`${a.toLocaleString()} rows selected`:`${a.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(a,b)=>`${a.toLocaleString()} of ${b.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:a=>`Group by ${a}`,unGroupColumn:a=>`Stop grouping by ${a}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:a,to:b,count:c,estimated:d})=>{if(!d)return`${a}${b} of ${-1!==c?c:`more than ${b}`}`;let e=d&&d>b?`around ${d}`:`more than ${b}`;return`${a}${b} of ${-1!==c?c:e}`},paginationItemAriaLabel:a=>"first"===a?"Go to first page":"last"===a?"Go to last page":"next"===a?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelNone:"none",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",chartsNoCharts:"There are no charts available",chartsChartNotSelected:"Select a chart type to configure its options",chartsTabChart:"Chart",chartsTabFields:"Fields",chartsTabCustomize:"Customize",chartsCloseButton:"Close charts configuration",chartsSyncButtonLabel:"Sync chart",chartsSearchPlaceholder:"Search fields",chartsSearchLabel:"Search fields",chartsSearchClear:"Clear search",chartsNoFields:"No fields",chartsFieldBlocked:"This field cannot be added to any section",chartsCategories:"Categories",chartsSeries:"Series",chartsMenuAddToDimensions:a=>`Add to ${a}`,chartsMenuAddToValues:a=>`Add to ${a}`,chartsMenuMoveUp:"Move up",chartsMenuMoveDown:"Move down",chartsMenuMoveToTop:"Move to top",chartsMenuMoveToBottom:"Move to bottom",chartsMenuOptions:"Field options",chartsMenuRemove:"Remove",chartsDragToDimensions:a=>`Drag here to use column as ${a}`,chartsDragToValues:a=>`Drag here to use column as ${a}`,aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt",promptFieldPlaceholderWithRecording:"Type or record a prompt",promptFieldPlaceholderListening:"Listening for prompt",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:a=>`Group by ${a}`,promptChangeAggregationLabel:(a,b)=>`${a} (${b})`,promptChangeAggregationDescription:(a,b)=>`Aggregate ${a} (${b})`,promptChangeFilterLabel:(a,b,c)=>"is any of"===b?`${a} is any of: ${c}`:`${a} ${b} ${c}`,promptChangeFilterDescription:(a,b,c)=>"is any of"===b?`Filter where ${a} is any of: ${c}`:`Filter where ${a} ${b} ${c}`,promptChangeSortDescription:(a,b)=>`Sort by ${a} (${b})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:a=>`Columns (${a})`,promptChangePivotColumnsDescription:(a,b)=>`${a}${b?` (${b})`:""}`,promptChangePivotRowsLabel:a=>`Rows (${a})`,promptChangePivotValuesLabel:a=>`Values (${a})`,promptChangePivotValuesDescription:(a,b)=>`${a} (${b})`},sU=["field","type","align","width","height","empty","style","className"],sV="1.3em",sW=[40,80],sX={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},sY=function(a){var b;let c=(b=12345,()=>{let a=b+=0x6d2b79f5;return a=Math.imul(a^a>>>15,1|a),(((a^=a+Math.imul(a^a>>>7,61|a))^a>>>14)>>>0)/0x100000000});return(a,b)=>a+(b-a)*c()}(0),sZ=kD(function(a){let{field:b,type:c,align:d,width:e,height:f,empty:g=!1,style:i,className:j}=a,k=(0,kw.default)(a,sU),l=k6(),m=(a=>{let{align:b,classes:c,empty:d}=a;return kA({root:["cell","cellSkeleton",`cell--text${b?kz(b):"Left"}`,d&&"cellEmpty"]},kK,c)})({classes:l.classes,align:d,empty:g}),n=q.useMemo(()=>{if("boolean"===c||"actions"===c)return{variant:"circular",width:sV,height:sV};let[a,b]=c?sX[c]??sW:sW;return{variant:"text",width:`${Math.round(sY(a,b))}%`,height:"1.2em"}},[c]);return(0,h.jsx)("div",(0,ks.default)({"data-field":b,className:(0,kx.default)(m.root,j),style:(0,ks.default)({height:f,maxWidth:e,minWidth:e},i)},k,{children:!g&&(0,h.jsx)(l.slots.baseSkeleton,(0,ks.default)({},n))}))}),s$=["className"],s_=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),s0=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,s$),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["panelWrapper"]},kK,b)})(e);return(0,h.jsx)(s_,(0,ks.default)({tabIndex:-1,className:(0,kx.default)(f.root,c),ownerState:e},d,{ref:b}))});var lU=lU;let s1=["className"],s2=(0,lU.default)("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:kP.spacing(2.5,1.5,2,1),gap:kP.spacing(2.5)});function s3(a){let{className:b}=a,c=(0,kw.default)(a,s1),d=k6(),e=(a=>{let{classes:b}=a;return kA({root:["panelContent"]},kK,b)})(d);return(0,h.jsx)(s2,(0,ks.default)({className:(0,kx.default)(e.root,b),ownerState:d},c))}let s4=["className"],s5=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:kP.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${kP.colors.border.base}`});function s6(a){let{className:b}=a,c=(0,kw.default)(a,s4),d=k6(),e=(a=>{let{classes:b}=a;return kA({root:["panelFooter"]},kK,b)})(d);return(0,h.jsx)(s5,(0,ks.default)({className:(0,kx.default)(e.root,b),ownerState:d},c))}let s7=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],s8=["InputComponentProps"],s9=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:kP.spacing(1.5)}),ta=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),tb=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),tc=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),td=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),te=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),tf=new Intl.Collator,tg=kv(function(a,b){let{item:c,hasMultipleFilters:d,deleteFilter:e,applyFilterChanges:f,showMultiFilterOperators:g,disableMultiFilterOperator:i,applyMultiFilterOperatorChanges:j,focusElementRef:k,logicOperators:l=[mU.And,mU.Or],columnsSort:m,filterColumns:n,deleteIconProps:o={},logicOperatorInputProps:p={},operatorInputProps:r={},columnInputProps:s={},valueInputProps:t={},readOnly:u}=a,v=(0,kw.default)(a,s7),w=lO(),x=kZ(w,lx),y=kZ(w,lH),z=kZ(w,oD),A=mK(),B=mK(),C=mK(),D=mK(),E=k6(),F=(a=>{let{classes:b}=a;return kA({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},kK,b)})(E),G=q.useRef(null),H=q.useRef(null),I=z.logicOperator??mU.And,J=d&&l.length>0,K=(E.slotProps?.baseSelect||{}).native??!1,L=E.slotProps?.baseSelectOption||{},{InputComponentProps:M}=t,N=(0,kw.default)(t,s8),O=kZ(w,oS),P=kZ(w,oU),{filteredColumns:Q,selectedField:R}=q.useMemo(()=>{let a=c.field,b=!1===x[c.field].filterable?x[c.field]:null;if(b)return{filteredColumns:[b],selectedField:a};if(O)return{filteredColumns:y.filter(a=>void 0!==P.get(a.field)),selectedField:a};if(void 0===n||"function"!=typeof n)return{filteredColumns:y,selectedField:a};let d=n({field:c.field,columns:y,currentFilters:z?.items||[]});return{filteredColumns:y.filter(b=>{let e=d.includes(b.field);return b.field!==c.field||e||(a=void 0),e}),selectedField:a}},[c.field,x,O,n,y,z?.items,P]),S=q.useMemo(()=>{switch(m){case"asc":return Q.sort((a,b)=>tf.compare(a.headerName||a.field,b.headerName||b.field));case"desc":return Q.sort((a,b)=>-tf.compare(a.headerName||a.field,b.headerName||b.field));default:return Q}},[Q,m]),T=c.field?w.current.getColumn(c.field):null,U=q.useMemo(()=>c.operator&&T?T.filterOperators?.find(a=>a.value===c.operator):null,[c,T]),V=q.useCallback(a=>{let b=a.target.value,d=w.current.getColumn(b);if(d.field===T.field)return;let e=d.filterOperators.find(a=>a.value===c.operator)||d.filterOperators[0],g=e.InputComponent&&e.InputComponent===U?.InputComponent&&d.type===T.type?c.value:void 0;if("singleSelect"===d.type&&void 0!==g){let a=nQ(d);Array.isArray(g)?g=g.filter(b=>void 0!==nR(b,a,d?.getOptionValue)):void 0===nR(c.value,a,d?.getOptionValue)&&(g=void 0)}f((0,ks.default)({},c,{field:b,operator:e.value,value:g}))},[w,f,c,T,U]),W=q.useCallback(a=>{let b=a.target.value,d=T?.filterOperators.find(a=>a.value===b),e=!d?.InputComponent||d?.InputComponent!==U?.InputComponent;f((0,ks.default)({},c,{operator:b,value:e?void 0:c.value}))},[f,c,T,U]),X=q.useCallback(a=>{j(a.target.value===mU.And.toString()?mU.And:mU.Or)},[j]);return q.useImperativeHandle(k,()=>({focus:()=>{U?.InputComponent?G?.current?.focus():H.current.focus()}}),[U]),(0,h.jsxs)(s9,(0,ks.default)({className:F.root,"data-id":c.id,ownerState:E},v,{ref:b,children:[(0,h.jsx)(ta,(0,ks.default)({},o,{className:(0,kx.default)(F.deleteIcon,o.className),ownerState:E,children:(0,h.jsx)(E.slots.baseIconButton,(0,ks.default)({"aria-label":w.current.getLocaleText("filterPanelDeleteIconLabel"),title:w.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{e(c)},size:"small",disabled:u},E.slotProps?.baseIconButton,{children:(0,h.jsx)(E.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,h.jsx)(tb,(0,ks.default)({as:E.slots.baseSelect,sx:[J?{display:"flex"}:{display:"none"},g?{visibility:"visible"}:{visibility:"hidden"},p.sx],className:(0,kx.default)(F.logicOperatorInput,p.className),ownerState:E},p,{size:"small",slotProps:{htmlInput:{"aria-label":w.current.getLocaleText("filterPanelLogicOperator")}},value:I??"",onChange:X,disabled:!!i||1===l.length,native:K},E.slotProps?.baseSelect,{children:l.map(a=>(0,q.createElement)(E.slots.baseSelectOption,(0,ks.default)({},L,{native:K,key:a.toString(),value:a.toString()}),w.current.getLocaleText((a=>{switch(a){case mU.And:return"filterPanelOperatorAnd";case mU.Or:return"filterPanelOperatorOr";default:throw Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(a))))})),(0,h.jsx)(tc,(0,ks.default)({as:E.slots.baseSelect},s,{className:(0,kx.default)(F.columnInput,s.className),ownerState:E,size:"small",labelId:B,id:A,label:w.current.getLocaleText("filterPanelColumns"),value:R??"",onChange:V,native:K,disabled:u},E.slotProps?.baseSelect,{children:S.map(a=>(0,q.createElement)(E.slots.baseSelectOption,(0,ks.default)({},L,{native:K,key:a.field,value:a.field}),a.headerName||a.field))})),(0,h.jsx)(td,(0,ks.default)({as:E.slots.baseSelect,size:"small"},r,{className:(0,kx.default)(F.operatorInput,r.className),ownerState:E,labelId:D,label:w.current.getLocaleText("filterPanelOperator"),id:C,value:c.operator,onChange:W,native:K,inputRef:H,disabled:u},E.slotProps?.baseSelect,{children:T?.filterOperators?.map(a=>(0,q.createElement)(E.slots.baseSelectOption,(0,ks.default)({},L,{native:K,key:a.value,value:a.value}),a.label||w.current.getLocaleText(`filterOperator${kz(a.value)}`)))})),(0,h.jsx)(te,(0,ks.default)({},N,{className:(0,kx.default)(F.valueInput,N.className),ownerState:E,children:U?.InputComponent?(0,h.jsx)(U.InputComponent,(0,ks.default)({apiRef:w,item:c,applyValue:f,focusElementRef:G,disabled:u,slotProps:{root:{size:"small"}}},U.InputComponentProps,M),c.field):null}))]}))}),th=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],ti=a=>({field:a.field,operator:a.filterOperators[0].value,id:Math.round(1e5*Math.random())}),tj=kv(function(a,b){let c=lO(),d=k6(),e=kZ(c,oD),f=kZ(c,lH),g=kZ(c,lI),i=q.useRef(null),j=q.useRef(null),{logicOperators:k=[mU.And,mU.Or],columnsSort:l,filterFormProps:m,getColumnForNewFilter:n,disableAddFilterButton:o=!1,disableRemoveAllButton:p=!1}=a,r=(0,kw.default)(a,th),s=c.current.upsertFilterItem,t=q.useCallback(a=>{c.current.setFilterLogicOperator(a)},[c]),u=q.useCallback(()=>{let a;if(n&&"function"==typeof n){let b=n({currentFilters:e?.items||[],columns:f});if(null===b)return null;a=f.find(({field:a})=>a===b)}else a=f.find(a=>a.filterOperators?.length);return a?ti(a):null},[e?.items,f,n]),v=q.useCallback(()=>{if(void 0===n||"function"!=typeof n)return u();let a=n({currentFilters:e.items.length?e.items:[u()].filter(Boolean),columns:f});if(null===a)return null;let b=f.find(({field:b})=>b===a);return b?ti(b):null},[e.items,f,n,u]),w=q.useMemo(()=>e.items.length?e.items:(j.current||(j.current=u()),j.current?[j.current]:[]),[e.items,u]),x=w.length>1,{readOnlyFilters:y,validFilters:z}=q.useMemo(()=>w.reduce((a,b)=>(g[b.field]?a.validFilters.push(b):a.readOnlyFilters.push(b),a),{readOnlyFilters:[],validFilters:[]}),[w,g]),A=q.useCallback(()=>{let a=v();a&&c.current.upsertFilterItems([...w,a])},[c,v,w]),B=q.useCallback(a=>{let b=1===z.length;c.current.deleteFilterItem(a),b&&c.current.hideFilterPanel()},[c,z.length]),C=q.useCallback(()=>1===z.length&&void 0===z[0].value?(c.current.deleteFilterItem(z[0]),c.current.hideFilterPanel()):c.current.setFilterModel((0,ks.default)({},e,{items:y}),"removeAllFilterItems"),[c,y,e,z]);return q.useEffect(()=>{k.length>0&&e.logicOperator&&!k.includes(e.logicOperator)&&t(k[0])},[k,t,e.logicOperator]),q.useEffect(()=>{z.length>0&&i.current.focus()},[z.length]),(0,h.jsxs)(s0,(0,ks.default)({},r,{ref:b,children:[(0,h.jsxs)(s3,{children:[y.map((a,b)=>(0,h.jsx)(tg,(0,ks.default)({item:a,applyFilterChanges:s,deleteFilter:B,hasMultipleFilters:x,showMultiFilterOperators:b>0,disableMultiFilterOperator:1!==b,applyMultiFilterOperatorChanges:t,focusElementRef:null,readOnly:!0,logicOperators:k,columnsSort:l},m),null==a.id?b:a.id)),z.map((a,b)=>(0,h.jsx)(tg,(0,ks.default)({item:a,applyFilterChanges:s,deleteFilter:B,hasMultipleFilters:x,showMultiFilterOperators:y.length+b>0,disableMultiFilterOperator:y.length+b!==1,applyMultiFilterOperatorChanges:t,focusElementRef:b===z.length-1?i:null,logicOperators:k,columnsSort:l},m),null==a.id?b+y.length:a.id))]}),d.disableMultipleColumnsFiltering||o&&p?null:(0,h.jsxs)(s6,{children:[o?(0,h.jsx)("span",{}):(0,h.jsx)(d.slots.baseButton,(0,ks.default)({onClick:A,startIcon:(0,h.jsx)(d.slots.filterPanelAddIcon,{})},d.slotProps?.baseButton,{children:c.current.getLocaleText("filterPanelAddFilter")})),!p&&z.length>0?(0,h.jsx)(d.slots.baseButton,(0,ks.default)({onClick:C,startIcon:(0,h.jsx)(d.slots.filterPanelRemoveAllIcon,{})},d.slotProps?.baseButton,{children:c.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))});var lU=lU;let tk=["className","selectedRowCount"],tl=(0,lU.default)("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:kP.spacing(0,2),visibility:"hidden",width:0,height:0,[kP.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),tm=kv(function(a,b){let{className:c,selectedRowCount:d}=a,e=(0,kw.default)(a,tk),f=lO(),g=k6(),i=(a=>{let{classes:b}=a;return kA({root:["selectedRowCount"]},kK,b)})(g),j=f.current.getLocaleText("footerRowSelected")(d);return(0,h.jsx)(tl,(0,ks.default)({className:(0,kx.default)(i.root,c),ownerState:g},e,{ref:b,children:j}))});var lU=lU;let tn=["className"],to=(0,lU.default)("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),tp=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,tn),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["footerContainer","withBorderColor"]},kK,b)})(e);return(0,h.jsx)(to,(0,ks.default)({className:(0,kx.default)(f.root,c),ownerState:e},d,{ref:b}))}),tq=kv(function(a,b){let c=lO(),d=k6(),e=kZ(c,l7),f=kZ(c,pG),g=kZ(c,oN),i=!d.hideFooterSelectedRowCount&&f>0?(0,h.jsx)(tm,{selectedRowCount:f}):(0,h.jsx)("div",{}),j=d.hideFooterRowCount||d.pagination?null:(0,h.jsx)(d.slots.footerRowCount,(0,ks.default)({},d.slotProps?.footerRowCount,{rowCount:e,visibleRowCount:g})),k=d.pagination&&!d.hideFooterPagination&&d.slots.pagination&&(0,h.jsx)(d.slots.pagination,(0,ks.default)({},d.slotProps?.pagination));return(0,h.jsxs)(tp,(0,ks.default)({},a,{ref:b,children:[i,j,k]}))});var lU=lU;let tr=["className"],ts=(0,lU.default)("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:kP.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:kP.colors.background.backdrop}),tt=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,tr),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["overlay"]},kK,b)})(e);return(0,h.jsx)(ts,(0,ks.default)({className:(0,kx.default)(f.root,c),ownerState:e},d,{ref:b}))});var lU=lU;let tu=(a,b,c,d,e,f)=>{let g;switch(a){case nC.LEFT:g=d[c];break;case nC.RIGHT:g=e-d[c]-b+f;break;default:g=void 0}return Number.isNaN(g)&&(g=void 0),g},tv=(a,b,c,d,e,f)=>{let g=b===c-1;return!!f?.startsWith("border")&&a===nC.LEFT&&!!g||!!d&&(a===nC.LEFT||(a===nC.RIGHT?!g:!g||e))},tw=(a,b,c,d)=>d?.startsWith("border")?a===nC.RIGHT&&0===b:c&&a===nC.RIGHT&&0===b,tx=(a,b)=>{if(a)if(b){if(a===nC.LEFT)return"right";if(a===nC.RIGHT)return"left"}else{if(a===nC.LEFT)return"left";if(a===nC.RIGHT)return"right"}};function ty(a,b,c,d){let e=tx(c,b);return e&&void 0!==d&&(a[e]=d),a}let tz=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],tA=(0,lU.default)("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),tB=a=>parseInt(a.getAttribute("data-colindex"),10),tC=kv(function(a,b){let c=k6(),{slots:d}=c,e=(0,nZ.useRtl)(),f=(a=>{let{classes:b}=a;return kA({root:["skeletonLoadingOverlay"]},kK,b)})({classes:c.classes}),g=q.useRef(null),i=ky(g,b),j=lO(),k=kZ(j,lV),l=kZ(j,lW),m=kZ(j,lG),n=q.useMemo(()=>m.filter(a=>a<=l).length,[l,m]),{skeletonRowsCount:o,visibleColumns:p,showFirstRowBorder:r}=a,s=(0,kw.default)(a,tz),t=kZ(j,lB),u=q.useMemo(()=>t.slice(0,n),[t,n]),v=kZ(j,lE),w=q.useCallback(a=>-1!==v.left.findIndex(b=>b.field===a)?nC.LEFT:-1!==v.right.findIndex(b=>b.field===a)?nC.RIGHT:void 0,[v.left,v.right]),x=q.useMemo(()=>{let a=[];for(let b=0;b<o;b+=1){let f=[];for(let a=0;a<u.length;a+=1){let g=u[a],i=w(g.field),j=i===nC.LEFT,l=i===nC.RIGHT,n=tx(i,e),o=n?v[n].length:u.length-v.left.length-v.right.length,q=n?v[n].findIndex(a=>a.field===g.field):a-v.left.length,r=k.hasScrollY?k.scrollbarSize:0,s=ty({},e,i,tu(i,g.computedWidth,a,m,k.columnsTotalWidth,r)),t=k.columnsTotalWidth<k.viewportOuterSize.width,x=tv(i,q,o,c.showCellVerticalBorder,t,c.pinnedColumnsSectionSeparator),y=tw(i,q,c.showCellVerticalBorder,c.pinnedColumnsSectionSeparator),z=a===u.length-1,A=l&&0===q,B=A&&t,C=z&&!A&&t,D=Math.max(0,k.viewportOuterSize.width-k.columnsTotalWidth),E=(0,h.jsx)(d.skeletonCell,{width:D,empty:!0},`skeleton-filler-column-${b}`);B&&f.push(E),f.push((0,h.jsx)(d.skeletonCell,{field:g.field,type:g.type,align:g.align,width:"var(--width)",height:k.rowHeight,"data-colindex":a,empty:p&&!p.has(g.field),className:(0,kx.default)(j&&kL["cell--pinnedLeft"],l&&kL["cell--pinnedRight"],x&&kL["cell--withRightBorder"],y&&kL["cell--withLeftBorder"]),style:(0,ks.default)({"--width":`${g.computedWidth}px`},s)},`skeleton-column-${b}-${g.field}`)),C&&f.push(E)}a.push((0,h.jsx)("div",{className:(0,kx.default)(kL.row,kL.rowSkeleton,0===b&&!r&&kL["row--firstVisible"]),children:f},`skeleton-row-${b}`))}return a},[o,u,w,e,v,k.hasScrollY,k.scrollbarSize,k.columnsTotalWidth,k.viewportOuterSize.width,k.rowHeight,m,c.showCellVerticalBorder,c.pinnedColumnsSectionSeparator,d,p,r]);return mq(j,"columnResize",a=>{let{colDef:b,width:c}=a,d=g.current?.querySelectorAll(`[data-field="${rI(b.field)}"]`);if(!d)throw Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");let e=u.findIndex(a=>a.field===b.field),f=w(b.field),h=f===nC.LEFT,i=f===nC.RIGHT,j=parseInt(getComputedStyle(d[0]).getPropertyValue("--width"),10)-c;if(d&&d.forEach(a=>{a.style.setProperty("--width",`${c}px`)}),h){let a=g.current?.querySelectorAll(`.${kL["cell--pinnedLeft"]}`);a?.forEach(a=>{tB(a)>e&&(a.style.left=`${parseInt(getComputedStyle(a).left,10)-j}px`)})}if(i){let a=g.current?.querySelectorAll(`.${kL["cell--pinnedRight"]}`);a?.forEach(a=>{tB(a)<e&&(a.style.right=`${parseInt(getComputedStyle(a).right,10)+j}px`)})}}),(0,h.jsx)(tA,(0,ks.default)({className:f.root},s,{ref:i,children:x}))}),tD=kv(function(a,b){let c=kZ(lO(),lV),d=Math.ceil((c?.viewportInnerSize.height??0)/c.rowHeight);return(0,h.jsx)(tC,(0,ks.default)({},a,{skeletonRowsCount:d,ref:b}))}),tE=["variant","noRowsVariant","style"],tF={"circular-progress":{component:a=>a.slots.baseCircularProgress,style:{}},"linear-progress":{component:a=>a.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>tD,style:{display:"block"}}},tG=kv(function(a,b){let{variant:c="linear-progress",noRowsVariant:d="skeleton",style:e}=a,f=(0,kw.default)(a,tE),g=lO(),i=k6(),j=tF[0===kZ(g,l5)?d:c],k=j.component(i);return(0,h.jsx)(tt,(0,ks.default)({style:(0,ks.default)({},j.style,e)},f,{ref:b,children:(0,h.jsx)(k,{})}))}),tH=kv(function(a,b){let c=lO().current.getLocaleText("noRowsLabel");return(0,h.jsx)(tt,(0,ks.default)({},a,{ref:b,children:c}))}),tI=(0,kE.styled)(mx)({maxHeight:"calc(100% + 1px)",flexGrow:1}),tJ=["children","className","classes","onClose"],tK=kJ("MuiDataGrid",["panel","paper"]),tL=(0,kE.styled)(mx,{name:"MuiDataGrid",slot:"panel"})({zIndex:kP.zIndex.panel}),tM=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:kP.colors.background.overlay,borderRadius:kP.radius.base,boxShadow:kP.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${kP.spacing(2)})`,overflow:"auto"}),tN=kv((a,b)=>{let{children:c,className:d,onClose:e}=a,f=(0,kw.default)(a,tJ),g=lO(),i=k6(),[j,k]=q.useState(!1),l=la(),m=mk(()=>k(!0)),n=mk(()=>k(!1)),o=mk(()=>{e?.()}),p=mk(a=>{"Escape"===a.key&&e?.()}),[r,s]=q.useState(null);return(q.useEffect(()=>{let a=g.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');a&&s(a)},[g]),r)?(0,h.jsx)(tL,(0,ks.default)({as:i.slots.basePopper,ownerState:i,placement:"bottom-end",className:(0,kx.default)(tK.panel,d,l),flip:!0,onDidShow:m,onDidHide:n,onClickAway:o,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},f,i.slotProps?.basePopper,{target:a.target??r,ref:b,children:(0,h.jsx)(tM,{className:tK.paper,ownerState:i,onKeyDown:p,children:j&&c})})):null}),tO=lg(li(a=>a.rowReorder),a=>a?.isActive??!1),tP=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],tQ=lg(rV,(a,{rowReordering:b,treeData:c})=>!!b&&!c&&!!ow(a)),tR=kD(kv(function(a,b){let{selected:c,rowId:d,row:e,index:f,style:g,rowHeight:i,className:j,visibleColumns:k,pinnedColumns:l,offsetLeft:m,columnsTotalWidth:n,firstColumnIndex:o,lastColumnIndex:p,focusedColumnIndex:r,isFirstVisible:s,isLastVisible:t,isNotVisible:u,showBottomBorder:v,scrollbarWidth:w,gridHasFiller:x,onClick:y,onDoubleClick:z,onMouseEnter:A,onMouseLeave:B,onMouseOut:C,onMouseOver:D}=a,E=(0,kw.default)(a,tP),F=k_(),G=k8(),H=q.useRef(null),I=k6(),J=q_(F,I),K=kZ(F,oA),L=kZ(F,lG),M=kZ(F,tQ,{rowReordering:I.rowReordering,treeData:I.treeData}),N=kZ(F,tO),O=ky(H,b),P=ma(F,d),Q=kZ(F,rW,{rowId:d,editMode:I.editMode}),R=I.editMode===nM.Row,S=void 0!==r,T=S&&r>=l.left.length&&r<o,U=S&&r<k.length-l.right.length&&r>=p,V=kA({root:["row",c&&"selected",R&&"row--editable",Q&&"row--editing",s&&"row--firstVisible",t&&"row--lastVisible",v&&"row--borderBottom","auto"===i&&"row--dynamicHeight"]},kK,I.classes),W=G.hooks.useGridRowAriaAttributes();q.useLayoutEffect(()=>{if(J.range){let a=F.current.getRowIndexRelativeToVisibleRows(d);void 0!==a&&F.current.unstable_setLastMeasuredRowIndex(a)}if(H.current&&"auto"===i)return F.current.observeRowHeight(H.current,d)},[F,J.range,i,d]);let X=q.useCallback((a,b)=>c=>{!rK(c)&&F.current.getRow(d)&&(F.current.publishEvent(a,F.current.getRowParams(d),c),b&&b(c))},[F,d]),Y=q.useCallback(a=>{let b=rH(a.target,kL.cell),c=b?.getAttribute("data-field");if(c){if(c===rh.field||c===nB||"__reorder__"===c||F.current.getCellMode(d,c)===nN.Edit)return;let a=F.current.getColumn(c);if(a?.type===n7)return}X("rowClick",y)(a)},[F,y,X,d]),{slots:Z,slotProps:$,disableColumnReorder:_}=I,aa=kZ(F,()=>(0,ks.default)({},F.current.getRowHeightEntry(d)),void 0,kC),ab=q.useMemo(()=>{if(u)return{opacity:0,width:0,height:0};let a=(0,ks.default)({},g,{maxHeight:"auto"===i?"none":i,minHeight:i,"--height":"number"==typeof i?`${i}px`:i});if(aa.spacingTop&&(a["border"===I.rowSpacingType?"borderTopWidth":"marginTop"]=aa.spacingTop),aa.spacingBottom){let b="border"===I.rowSpacingType?"borderBottomWidth":"marginBottom",c=a[b];"number"!=typeof c&&(c=parseInt(c||"0",10)),c+=aa.spacingBottom,a[b]=c}return a},[u,i,g,aa,I.rowSpacingType]);if(!P)return null;let ac=F.current.unstable_applyPipeProcessors("rowClassName",[],d),ad=W(P,f);if("function"==typeof I.getRowClassName){let a=f-(J.range?.firstRowIndex||0),b=(0,ks.default)({},F.current.getRowParams(d),{isFirstVisible:0===a,isLastVisible:a===J.rows.length-1,indexRelativeToCurrentPage:a});ac.push(I.getRowClassName(b))}let ae=(a,b,c,f,g=nC.NONE)=>{let j=F.current.unstable_getCellColSpanInfo(d,c);if(j?.spannedByColSpan)return null;let k=j?.cellProps.width??a.computedWidth,l=j?.cellProps.colSpan??1,m=tu(g,a.computedWidth,c,L,n,w);if("skeletonRow"===P.type)return(0,h.jsx)(Z.skeletonCell,{type:a.type,width:k,height:i,field:a.field,align:a.align},a.field);let o="__reorder__"===a.field,p=!(_||a.disableReorder),q=M&&!K.length,r=g===nC.VIRTUAL,s=tw(g,b,I.showCellVerticalBorder,I.pinnedColumnsSectionSeparator),t=tv(g,b,f,I.showCellVerticalBorder,x,I.pinnedColumnsSectionSeparator);return(0,h.jsx)(Z.cell,(0,ks.default)({column:a,width:k,rowId:d,align:a.align||"left",colIndex:c,colSpan:l,disableDragEvents:!(p||o&&q||N),isNotVisible:r,pinnedOffset:m,pinnedPosition:g,showLeftBorder:s,showRightBorder:t,row:e,rowNode:P},$?.cell),a.field)},af=l.left.map((a,b)=>ae(a,b,b,l.left.length,nC.LEFT)),ag=l.right.map((a,b)=>{let c=k.length-l.right.length+b;return ae(a,b,c,l.right.length,nC.RIGHT)}),ah=k.length-l.left.length-l.right.length,ai=[];T&&ai.push(ae(k[r],r-l.left.length,r,ah,nC.VIRTUAL));for(let a=o;a<p;a+=1){let b=k[a],c=a-l.left.length;b&&ai.push(ae(b,c,a,ah))}U&&ai.push(ae(k[r],r-l.left.length,r,ah,nC.VIRTUAL));let aj=e?{onClick:Y,onDoubleClick:X("rowDoubleClick",z),onMouseEnter:X("rowMouseEnter",A),onMouseLeave:X("rowMouseLeave",B),onMouseOut:X("rowMouseOut",C),onMouseOver:X("rowMouseOver",D)}:null;return(0,h.jsxs)("div",(0,ks.default)({"data-id":d,"data-rowindex":f,role:"row",className:(0,kx.default)(...ac,V.root,j),style:ab},ad,aj,E,{ref:O,children:[af,(0,h.jsx)("div",{role:"presentation",className:kL.cellOffsetLeft,style:{width:m}}),ai,(0,h.jsx)("div",{role:"presentation",className:(0,kx.default)(kL.cell,kL.cellEmpty)}),ag]}))}));var lU=lU;let tS=["className"],tT=(0,lU.default)("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),tU=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,tS),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["iconButtonContainer"]},kK,b)})(e);return(0,h.jsx)(tT,(0,ks.default)({className:(0,kx.default)(f.root,c),ownerState:e},d,{ref:b}))});function tV(a){let{counter:b,field:c,onClick:d}=a,e=lO(),f=k6(),g=(a=>{let{classes:b}=a;return kA({icon:["filterIcon"]},kK,b)})((0,ks.default)({},a,{classes:f.classes})),i=mK(),j=kZ(e,lL,i),k=mK(),l=q.useCallback(a=>{a.preventDefault(),a.stopPropagation();let{open:b,openedPanelValue:f}=lK(e);b&&f===lM.filters?e.current.hideFilterPanel():e.current.showFilterPanel(void 0,k,i),d&&d(e.current.getColumnHeaderParams(c),a)},[e,c,d,k,i]);if(!b)return null;let m=(0,h.jsx)(f.slots.baseIconButton,(0,ks.default)({id:i,onClick:l,"aria-label":e.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":j,"aria-controls":j?k:void 0},f.slotProps?.baseIconButton,{children:(0,h.jsx)(f.slots.columnFilteredIcon,{className:g.icon,fontSize:"small"})}));return(0,h.jsx)(f.slots.baseTooltip,(0,ks.default)({title:e.current.getLocaleText("columnHeaderFiltersTooltipActive")(b),enterDelay:1e3},f.slotProps?.baseTooltip,{children:(0,h.jsxs)(tU,{children:[b>1&&(0,h.jsx)(f.slots.baseBadge,{badgeContent:b,color:"default",children:m}),1===b&&m]})}))}var lU=lU;let tW=["className","rowCount","visibleRowCount"],tX=(0,lU.default)("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:kP.spacing(0,2)}),tY=kv(function(a,b){let{className:c,rowCount:d,visibleRowCount:e}=a,f=(0,kw.default)(a,tW),g=lO(),i=k6(),j=(a=>{let{classes:b}=a;return kA({root:["rowCount"]},kK,b)})(i);if(0===d)return null;let k=e<d?g.current.getLocaleText("footerTotalVisibleRows")(e,d):d.toLocaleString();return(0,h.jsxs)(tX,(0,ks.default)({className:(0,kx.default)(j.root,c),ownerState:i},f,{ref:b,children:[g.current.getLocaleText("footerTotalRows")," ",k]}))});var tZ=a.i(723505);let t$=(a,b)=>(a.headerName||a.field).toLowerCase().indexOf(b)>-1;var lU=lU,t_=a.i(61156);let t0=["children"],t1=(0,t_.keyframes)({from:{opacity:0},to:{opacity:1}}),t2=(0,t_.keyframes)({"from, to":{"--scrollable":'" "'}}),t3=(0,lU.default)("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${t2};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${t1} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,t4=kv(function(a,b){let{children:c}=a,d=(0,kw.default)(a,t0);return(0,h.jsx)(t3,(0,ks.default)({},d,{ref:b,children:c}))}),t5=new Intl.Collator,t6=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:kP.spacing(.5,1.5)}),t7=(0,kE.styled)(t4,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),t8=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:kP.spacing(1.5,2),borderBottom:`1px solid ${kP.colors.border.base}`}),t9=(0,kE.styled)(mx,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${tZ.inputBaseClasses.input}::-webkit-search-decoration,
      & .${tZ.inputBaseClasses.input}::-webkit-search-cancel-button,
      & .${tZ.inputBaseClasses.input}::-webkit-search-results-button,
      & .${tZ.inputBaseClasses.input}::-webkit-search-results-decoration`]:{display:"none"}}),ua=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:kP.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${kP.colors.border.base}`}),ub=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:kP.spacing(1,0),alignSelf:"center",font:kP.typography.font.body}),uc=(0,kE.styled)(mx,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({});var lU=lU;let ud=["direction","index","sortingOrder","disabled","className"],ue=(0,lU.default)(mx,{name:"MuiDataGrid",slot:"SortButton"})({transition:kP.transition(["opacity"],{duration:kP.transitions.duration.short,easing:kP.transitions.easing.easeInOut})});function uf(a){let{direction:b,index:c,sortingOrder:d,disabled:e,className:f}=a,g=(0,kw.default)(a,ud),i=lO(),j=k6(),k=(0,ks.default)({},a,{classes:j.classes}),l=(a=>{let{classes:b}=a;return kA({root:["sortButton"],icon:["sortIcon"]},kK,b)})(k),m=function(a,b,c,d){let e,f={};return"asc"===b?e=a.columnSortedAscendingIcon:"desc"===b?e=a.columnSortedDescendingIcon:(e=a.columnUnsortedIcon,f.sortingOrder=d),e?(0,h.jsx)(e,(0,ks.default)({fontSize:"small",className:c},f)):null}(j.slots,b,l.icon,d);if(!m)return null;let n=(0,h.jsx)(ue,(0,ks.default)({as:j.slots.baseIconButton,ownerState:k,"aria-label":i.current.getLocaleText("columnHeaderSortIconLabel"),title:i.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:e,className:(0,kx.default)(l.root,f)},j.slotProps?.baseIconButton,g,{children:m}));return(0,h.jsxs)(q.Fragment,{children:[null!=c&&(0,h.jsx)(j.slots.baseBadge,{badgeContent:c,color:"default",overlap:"circular",children:n}),null==c&&n]})}let ug=q.memo(function(a){return(0,h.jsx)(tU,{children:(0,h.jsx)(uf,(0,ks.default)({},a,{tabIndex:-1}))})}),uh=kv(function(a,b){let c=k6(),d=lO(),e=kZ(d,lw),f=!c.disableColumnSelector&&e.length>0;return(0,h.jsxs)(tt,(0,ks.default)({},a,{ref:b,children:[d.current.getLocaleText("noColumnsOverlayLabel"),f&&(0,h.jsx)(c.slots.baseButton,(0,ks.default)({size:"small"},c.slotProps?.baseButton,{onClick:()=>{d.current.showPreferences(lM.columns)},children:d.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))});function ui(){return void 0===c&&document.createElement("div").focus({get preventScroll(){return c=!0,!1}}),c}let uj=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],uk=["changeReason","unstable_updateValueOnRender"];nC.LEFT,lq.LEFT,nC.RIGHT,lq.RIGHT,nC.NONE,nC.VIRTUAL;let ul=kD(kv(function(a,b){let c,d,{column:e,row:f,rowId:g,rowNode:i,align:j,colIndex:k,width:l,className:m,style:n,colSpan:o,disableDragEvents:p,isNotVisible:r,pinnedOffset:s,pinnedPosition:t,showRightBorder:u,showLeftBorder:v,onClick:w,onDoubleClick:x,onMouseDown:y,onMouseUp:z,onMouseOver:A,onKeyDown:B,onKeyUp:C,onDragEnter:D,onDragOver:E}=a,F=(0,kw.default)(a,uj),G=k_(),H=k6(),I=(0,nZ.useRtl)(),J=e.field,K=kZ(G,rX,{rowId:g,field:J}),L=k8().hooks.useCellAggregationResult(g,J),M=K?nN.Edit:nN.View,{value:N,formattedValue:O}=L||{},P=G.current.getCellParamsForRow(g,J,f,{colDef:e,cellMode:M,rowNode:i,tabIndex:kZ(G,()=>{let a=o_(G);return a&&a.field===J&&a.id===g?0:-1}),hasFocus:kZ(G,()=>{let a=oX(G);return a?.id===g&&a.field===J}),value:N,formattedValue:O});P.api=G.current,P.isEditable=kZ(G,()=>G.current.isCellEditable(P));let Q=kZ(G,()=>G.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:g,field:J})),R=G.current.virtualizer.store,S=qc(R,qJ.selectors.hiddenCells),T=qc(R,qJ.selectors.spannedCells),{hasFocus:U,isEditable:V=!1,value:W}=P,X="actions"===e.type&&"getActions"in e&&"function"==typeof e.getActions&&e.getActions(G.current.getRowParams(g)).some(a=>!a.props.disabled),Y="view"!==M&&V||X?-1:P.tabIndex,{classes:Z,getCellClassName:$}=H,_=[kZ(G,()=>G.current.unstable_applyPipeProcessors("cellClassName",[],{id:g,field:J}).filter(Boolean).join(" "))];e.cellClassName&&_.push("function"==typeof e.cellClassName?e.cellClassName(P):e.cellClassName),"flex"===e.display&&_.push(kL["cell--flex"]),$&&_.push($(P));let aa=P.formattedValue??W,ab=q.useRef(null),ac=ky(b,ab),ad=q.useRef(null),ae=H.cellSelection??!1,af=(a=>{let{align:b,showLeftBorder:c,showRightBorder:d,pinnedPosition:e,isEditable:f,isSelected:g,isSelectionMode:h,classes:i}=a;return kA({root:["cell",`cell--text${kz(b)}`,g&&"selected",f&&"cell--editable",c&&"cell--withLeftBorder",d&&"cell--withRightBorder",e===nC.LEFT&&"cell--pinnedLeft",e===nC.RIGHT&&"cell--pinnedRight",h&&!f&&"cell--selectionMode"]},kK,i)})({align:j,showLeftBorder:v,showRightBorder:u,isEditable:V,classes:H.classes,pinnedPosition:t,isSelected:Q,isSelectionMode:ae}),ag=q.useCallback(a=>b=>{let c=G.current.getCellParams(g,J||"");G.current.publishEvent(a,c,b),z&&z(b)},[G,J,z,g]),ah=q.useCallback(a=>b=>{let c=G.current.getCellParams(g,J||"");G.current.publishEvent(a,c,b),y&&y(b)},[G,J,y,g]),ai=q.useCallback((a,b)=>c=>{if(!G.current.getRow(g))return;let d=G.current.getCellParams(g,J||"");G.current.publishEvent(a,d,c),b&&b(c)},[G,J,g]),aj=S[g]?.[k]??!1,ak=T[g]?.[k]??1,al=q.useMemo(()=>{if(r)return{padding:0,opacity:0,width:0,height:0,border:0};let a=ty((0,ks.default)({"--width":`${l}px`},n),I,t,s),b=t===nC.LEFT,c=t===nC.RIGHT;return ak>1&&(a.height=`calc(var(--height) * ${ak})`,a.zIndex=10,(b||c)&&(a.zIndex=40)),a},[l,r,n,s,t,I,ak]);if(q.useEffect(()=>{if(!U||M===nN.Edit)return;let a=rz(G.current.rootElementRef.current);if(ab.current&&!ab.current.contains(a.activeElement)){let a=ab.current.querySelector('[tabindex="0"]'),b=ad.current||a||ab.current;if(ui())b.focus({preventScroll:!0});else{let a=G.current.getScrollPosition();b.focus(),G.current.scroll(a)}}},[U,M,G]),aj)return(0,h.jsx)("div",{"data-colindex":k,role:"presentation",style:(0,ks.default)({width:"var(--width)"},al)});let am=F.onFocus;if(null===K&&e.renderCell&&(c=e.renderCell(P)),null!==K&&e.renderEditCell){let a=G.current.getRowWithUpdatedValues(g,e.field),b=(0,kw.default)(K,uk),d=e.valueFormatter?e.valueFormatter(K.value,a,e,G):P.formattedValue,f=(0,ks.default)({},P,{row:a,formattedValue:d},b);c=e.renderEditCell(f),_.push(kL["cell--editing"]),_.push(Z?.["cell--editing"])}if(void 0===c){let a=aa?.toString();c=a,d=a}q.isValidElement(c)&&X&&(c=q.cloneElement(c,{focusElementRef:ad}));let an=p?null:{onDragEnter:ai("cellDragEnter",D),onDragOver:ai("cellDragOver",E)};return(0,h.jsx)("div",(0,ks.default)({className:(0,kx.default)(af.root,_,m),role:"gridcell","data-field":J,"data-colindex":k,"aria-colindex":k+1,"aria-colspan":o,"aria-rowspan":ak,style:al,title:d,tabIndex:Y,onClick:ai("cellClick",w),onDoubleClick:ai("cellDoubleClick",x),onMouseOver:ai("cellMouseOver",A),onMouseDown:ah("cellMouseDown"),onMouseUp:ag("cellMouseUp"),onKeyDown:ai("cellKeyDown",B),onKeyUp:ai("cellKeyUp",C)},an,F,{onFocus:am,ref:ac,children:c}))})),um=q.memo(a=>{let{colDef:b,open:c,columnMenuId:d,columnMenuButtonId:e,iconButtonRef:f}=a,g=lO(),i=k6(),j=(a=>{let{classes:b,open:c}=a;return kA({root:["menuIcon",c&&"menuOpen"],button:["menuIconButton"]},kK,b)})((0,ks.default)({},a,{classes:i.classes})),k=q.useCallback(a=>{a.preventDefault(),a.stopPropagation(),g.current.toggleColumnMenu(b.field)},[g,b.field]),l=b.headerName??b.field;return(0,h.jsx)("div",{className:j.root,children:(0,h.jsx)(i.slots.baseTooltip,(0,ks.default)({title:g.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},i.slotProps?.baseTooltip,{children:(0,h.jsx)(i.slots.baseIconButton,(0,ks.default)({ref:f,tabIndex:-1,className:j.button,"aria-label":g.current.getLocaleText("columnMenuAriaLabel")(l),size:"small",onClick:k,"aria-haspopup":"menu","aria-expanded":c,"aria-controls":c?d:void 0,id:e},i.slotProps?.baseIconButton,{children:(0,h.jsx)(i.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function un({columnMenuId:a,columnMenuButtonId:b,ContentComponent:c,contentComponentProps:d,field:e,open:f,target:g,onExited:i}){let j=lO(),k=j.current.getColumn(e),l=mk(a=>{a&&(a.stopPropagation(),g?.contains(a.target))||j.current.hideColumnMenu()});return g&&k?(0,h.jsx)(n4,{position:`bottom-${"right"===k.align?"start":"end"}`,open:f,target:g,onClose:l,onExited:i,children:(0,h.jsx)(c,(0,ks.default)({colDef:k,hideMenu:l,open:f,id:a,labelledby:b},d))}):null}var lU=lU;let uo=["className","aria-label"],up=(0,lU.default)("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),uq=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,uo),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["columnHeaderTitle"]},kK,b)})(e);return(0,h.jsx)(up,(0,ks.default)({className:(0,kx.default)(f.root,c),ownerState:e},d,{ref:b}))});function ur(a){let{label:b,description:c}=a,d=k6(),e=q.useRef(null),[f,g]=q.useState(""),i=q.useCallback(()=>{if(!c&&e?.current){var a;(a=e.current).scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth?g(b):g("")}},[c,b]);return(0,h.jsx)(d.slots.baseTooltip,(0,ks.default)({title:c||f},d.slotProps?.baseTooltip,{children:(0,h.jsx)(uq,{onMouseOver:i,ref:e,children:b})}))}let us=["resizable","resizing","height","side"];var ut=function(a){return a.Left="left",a.Right="right",a}(ut||{});let uu=q.memo(function(a){let{height:b,side:c=ut.Right}=a,d=(0,kw.default)(a,us),e=k6(),f=(a=>{let{resizable:b,resizing:c,classes:d,side:e}=a;return kA({root:["columnSeparator",b&&"columnSeparator--resizable",c&&"columnSeparator--resizing",e&&`columnSeparator--side${kz(e)}`],icon:["iconSeparator"]},kK,d)})((0,ks.default)({},a,{side:c,classes:e.classes})),g=q.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]);return(0,h.jsx)("div",(0,ks.default)({className:f.root,style:{minHeight:b}},d,{onClick:g,children:(0,h.jsx)(e.slots.columnResizeIcon,{className:f.icon})}))}),uv=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],uw=kv(function(a,b){let{classes:c,colIndex:d,height:e,isResizing:f,sortDirection:g,tabIndex:i,separatorSide:j,isDraggable:k,headerComponent:l,description:m,width:n,columnMenuIconButton:o=null,columnMenu:p=null,columnTitleIconButtons:r=null,headerClassName:s,label:t,resizable:u,draggableContainerProps:v,columnHeaderSeparatorProps:w,style:x}=a,y=(0,kw.default)(a,uv),z=k6(),A=ky(q.useRef(null),b),B="none";return null!=g&&(B="asc"===g?"ascending":"descending"),(0,h.jsxs)("div",(0,ks.default)({className:(0,kx.default)(c.root,s),style:(0,ks.default)({},x,{width:n}),role:"columnheader",tabIndex:i,"aria-colindex":d+1,"aria-sort":B},y,{ref:A,children:[(0,h.jsxs)("div",(0,ks.default)({className:c.draggableContainer,draggable:k,role:"presentation"},v,{children:[(0,h.jsxs)("div",{className:c.titleContainer,role:"presentation",children:[(0,h.jsx)("div",{className:c.titleContainerContent,children:void 0!==l?l:(0,h.jsx)(ur,{label:t,description:m,columnWidth:n})}),r]}),o]})),(0,h.jsx)(uu,(0,ks.default)({resizable:!z.disableColumnResize&&!!u,resizing:f,height:e,side:j},w)),p]}))}),ux=kD(function(a){let b,{colDef:c,columnMenuOpen:d,colIndex:e,headerHeight:f,isResizing:g,isLast:i,sortDirection:j,sortIndex:k,filterItemsCounter:l,hasFocus:m,tabIndex:n,disableReorder:o,separatorSide:p,showLeftBorder:r,showRightBorder:s,pinnedPosition:t,pinnedOffset:u}=a,v=k_(),w=k6(),x=(0,nZ.useRtl)(),y=q.useRef(null),z=mK(),A=mK(),B=q.useRef(null),[C,D]=q.useState(d),E=q.useMemo(()=>!w.disableColumnReorder&&!o&&!c.disableReorder,[w.disableColumnReorder,o,c.disableReorder]);c.renderHeader&&(b=c.renderHeader(v.current.getColumnHeaderParams(c.field)));let F=(a=>{let{disableColumnSorting:b}=k6(),{colDef:c,classes:d,isDragging:e,sortDirection:f,showRightBorder:g,showLeftBorder:h,filterItemsCounter:i,pinnedPosition:j,isSiblingFocused:k}=a,l=c.sortable&&!b,m="number"===c.type;return kA({root:["columnHeader","left"===c.headerAlign&&"columnHeader--alignLeft","center"===c.headerAlign&&"columnHeader--alignCenter","right"===c.headerAlign&&"columnHeader--alignRight",l&&"columnHeader--sortable",e&&"columnHeader--moving",null!=f&&"columnHeader--sorted",null!=i&&i>0&&"columnHeader--filtered",m&&"columnHeader--numeric","withBorderColor",g&&"columnHeader--withRightBorder",h&&"columnHeader--withLeftBorder",j===nC.LEFT&&"columnHeader--pinnedLeft",j===nC.RIGHT&&"columnHeader--pinnedRight",k&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},kK,d)})((0,ks.default)({},a,{classes:w.classes,showRightBorder:s,showLeftBorder:r})),G=q.useCallback(a=>b=>{rK(b)||v.current.publishEvent(a,v.current.getColumnHeaderParams(c.field),b)},[v,c.field]),H=q.useMemo(()=>({onClick:G("columnHeaderClick"),onContextMenu:G("columnHeaderContextMenu"),onDoubleClick:G("columnHeaderDoubleClick"),onMouseOver:G("columnHeaderOver"),onMouseOut:G("columnHeaderOut"),onMouseEnter:G("columnHeaderEnter"),onMouseLeave:G("columnHeaderLeave"),onKeyDown:G("columnHeaderKeyDown"),onFocus:G("columnHeaderFocus"),onBlur:G("columnHeaderBlur")}),[G]),I=q.useMemo(()=>E?{onDragStart:G("columnHeaderDragStart"),onDragEnter:G("columnHeaderDragEnter"),onDragOver:G("columnHeaderDragOver"),onDragEndCapture:G("columnHeaderDragEnd")}:{},[E,G]),J=q.useMemo(()=>({onMouseDown:G("columnSeparatorMouseDown"),onDoubleClick:G("columnSeparatorDoubleClick")}),[G]);q.useEffect(()=>{C||D(d)},[C,d]);let K=q.useCallback(()=>{D(!1)},[]),L=!w.disableColumnMenu&&!c.disableColumnMenu&&(0,h.jsx)(um,{colDef:c,columnMenuId:z,columnMenuButtonId:A,open:C,iconButtonRef:B}),M=(0,h.jsx)(un,{columnMenuId:z,columnMenuButtonId:A,field:c.field,open:d,target:B.current,ContentComponent:w.slots.columnMenu,contentComponentProps:w.slotProps?.columnMenu,onExited:K}),N=c.sortingOrder??w.sortingOrder,O=(c.sortable||null!=j)&&!c.hideSortIcons&&!w.disableColumnSorting,P=(0,h.jsxs)(q.Fragment,{children:[!w.disableColumnFilter&&(0,h.jsx)(w.slots.columnHeaderFilterIconButton,(0,ks.default)({field:c.field,counter:l},w.slotProps?.columnHeaderFilterIconButton)),O&&(0,h.jsx)(w.slots.columnHeaderSortIcon,(0,ks.default)({field:c.field,direction:j,index:k,sortingOrder:N,disabled:!c.sortable},w.slotProps?.columnHeaderSortIcon))]});q.useLayoutEffect(()=>{let a=v.current.state.columnMenu;if(m&&!a.open){let a=y.current.querySelector('[tabindex="0"]')||y.current;if(!a)return;if(ui())a.focus({preventScroll:!0});else{let b=v.current.getScrollPosition();a.focus(),v.current.scroll(b)}}},[v,m]);let Q="function"==typeof c.headerClassName?c.headerClassName({field:c.field,colDef:c}):c.headerClassName,R=c.headerName??c.field,S=q.useMemo(()=>ty((0,ks.default)({},a.style),x,t,u),[t,u,a.style,x]);return(0,h.jsx)(uw,(0,ks.default)({ref:y,classes:F,columnMenuOpen:d,colIndex:e,height:f,isResizing:g,sortDirection:j,hasFocus:m,tabIndex:n,separatorSide:p,isDraggable:E,headerComponent:b,description:c.description,elementId:c.field,width:c.computedWidth,columnMenuIconButton:L,columnTitleIconButtons:P,headerClassName:(0,kx.default)(Q,i&&kL["columnHeader--last"]),label:R,resizable:!w.disableColumnResize&&!!c.resizable,"data-field":c.field,columnMenu:M,draggableContainerProps:I,columnHeaderSeparatorProps:J,style:S},H))});function uy(a){let b,{groupId:c,width:d,depth:e,maxDepth:f,fields:g,height:i,colIndex:j,hasFocus:k,tabIndex:l,isLastColumn:m,pinnedPosition:n,pinnedOffset:o}=a,p=k6(),r=(0,nZ.useRtl)(),s=q.useRef(null),t=lO(),u=kZ(t,of),v=c?u[c]:{},{headerName:w=c??"",description:x="",headerAlign:y}=v,z=c&&u[c]?.renderHeaderGroup,A=q.useMemo(()=>({groupId:c,headerName:w,description:x,depth:e,maxDepth:f,fields:g,colIndex:j,isLastColumn:m}),[c,w,x,e,f,g,j,m]);c&&z&&(b=z(A));let B=(0,ks.default)({},a,{classes:p.classes,headerAlign:y,depth:e,isDragging:!1}),C=w??c,D=mK(),E=null===c?`empty-group-cell-${D}`:c,F=(a=>{let{classes:b,headerAlign:c,isDragging:d,isLastColumn:e,showLeftBorder:f,showRightBorder:g,groupId:h,pinnedPosition:i}=a;return kA({root:["columnHeader","left"===c&&"columnHeader--alignLeft","center"===c&&"columnHeader--alignCenter","right"===c&&"columnHeader--alignRight",d&&"columnHeader--moving",g&&"columnHeader--withRightBorder",f&&"columnHeader--withLeftBorder","withBorderColor",null===h?"columnHeader--emptyGroup":"columnHeader--filledGroup",i===nC.LEFT&&"columnHeader--pinnedLeft",i===nC.RIGHT&&"columnHeader--pinnedRight",e&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},kK,b)})(B);q.useLayoutEffect(()=>{if(k){let a=s.current.querySelector('[tabindex="0"]')||s.current;if(a)if(ui())a.focus({preventScroll:!0});else{let b=t.current.getScrollPosition();a.focus(),t.current.scroll(b)}}},[t,k]);let G=q.useCallback(a=>b=>{rK(b)||t.current.publishEvent(a,A,b)},[t,A]),H=q.useMemo(()=>({onKeyDown:G("columnGroupHeaderKeyDown"),onFocus:G("columnGroupHeaderFocus"),onBlur:G("columnGroupHeaderBlur")}),[G]),I="function"==typeof v.headerClassName?v.headerClassName(A):v.headerClassName,J=q.useMemo(()=>ty((0,ks.default)({},a.style),r,n,o),[n,o,a.style,r]);return(0,h.jsx)(uw,(0,ks.default)({ref:s,classes:F,columnMenuOpen:!1,colIndex:j,height:i,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:l,isDraggable:!1,headerComponent:b,headerClassName:I,description:x,elementId:E,width:d,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:C,"aria-colspan":g.length,"data-fields":`|-${g.join("-|-")}-|`,style:J},H))}let uz={root:kL.scrollbarFiller,pinnedRight:kL["scrollbarFiller--pinnedRight"]};function uA({pinnedRight:a}){return(0,h.jsx)("div",{role:"presentation",className:(0,kx.default)(uz.root,a&&uz.pinnedRight)})}let uB=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"});var lU=lU;let uC=["className"],uD=(0,lU.default)("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),uE=kv(function(a,b){let{className:c}=a,d=(0,kw.default)(a,uC),e=k6(),f=(a=>{let{classes:b}=a;return kA({root:["columnHeaders"]},kK,b)})(e);return(0,h.jsx)(uD,(0,ks.default)({className:(0,kx.default)(f.root,c),ownerState:e},d,{role:"presentation",ref:b}))}),uF=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],uG=kD(kv(function(a,b){let{visibleColumns:c,sortColumnLookup:d,filterColumnLookup:e,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:g,columnHeaderFocus:i,columnGroupHeaderFocus:j,headerGroupingMaxDepth:k,columnMenuState:l,columnVisibility:m,columnGroupsHeaderStructure:n,hasOtherElementInTabSequence:o}=a,p=(0,kw.default)(a,uF),{getInnerProps:r,getColumnHeadersRow:s,getColumnGroupHeadersRows:t}=(a=>{let{visibleColumns:b,sortColumnLookup:c,filterColumnLookup:d,columnHeaderTabIndexState:e,columnGroupHeaderTabIndexState:f,columnHeaderFocus:g,columnGroupHeaderFocus:i,headerGroupingMaxDepth:j,columnMenuState:k,columnVisibility:l,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:n}=a,[o,p]=q.useState(""),[r,s]=q.useState(""),t=k_(),u=k6(),v=kZ(t,oe),w=kZ(t,lG),x=kZ(t,q3),y=kZ(t,lE),z=kZ(t,lx),A=qD(w,x,y.left.length),B=kZ(t,lW),C=kZ(t,l$),D=kZ(t,l_),E=kZ(t,l0),F=kZ(t,l2),G=q.useCallback(a=>s(a.field),[]),H=q.useCallback(()=>s(""),[]),I=q.useCallback(a=>p(a.field),[]),J=q.useCallback(()=>p(""),[]),K=q.useMemo(()=>y.left.length?{firstColumnIndex:0,lastColumnIndex:y.left.length}:null,[y.left.length]),L=q.useMemo(()=>y.right.length?{firstColumnIndex:b.length-y.right.length,lastColumnIndex:b.length}:null,[y.right.length,b.length]);mq(t,"columnResizeStart",G),mq(t,"columnResizeStop",H),mq(t,"columnHeaderDragStart",I),mq(t,"columnHeaderDragEndNative",J);let M=a=>{let{renderContext:c=x}=a||{},d=c.firstColumnIndex,e=Math.min(c.lastColumnIndex,b.length);return{renderedColumns:b.slice(d,e),firstColumnToRender:d,lastColumnToRender:e}},N=(a,b,c,d=!1)=>{let e=a?.position===nC.RIGHT,f=a?.position===void 0,g=y.right.length>0&&e||0===y.right.length&&f;return(0,h.jsxs)(q.Fragment,{children:[f&&(0,h.jsx)("div",{role:"presentation",style:{width:A-c}}),b,f&&(0,h.jsx)("div",{role:"presentation",className:(0,kx.default)(kL.filler,d&&kL["filler--borderBottom"])}),g&&(0,h.jsx)(uA,{pinnedRight:e})]})},O=(a,b={})=>{let{renderedColumns:f,firstColumnToRender:i}=M(a),j=[];for(let l=0;l<f.length;l+=1){let m=f[l],p=i+l,q=0===p,s=null!==e&&e.field===m.field||q&&!n?0:-1,t=null!==g&&g.field===m.field,v=k.open&&k.field===m.field,x=a?.position,y=tu(x,m.computedWidth,p,w,B,F),z=x===nC.RIGHT?f[l-1]:f[l+1],A=!!z&&null!==g&&g.field===z.field,E=l,G=f.length,H=tw(x,E,u.showColumnVerticalBorder,u.pinnedColumnsSectionSeparator),I=tv(x,E,G,u.showColumnVerticalBorder,C,u.pinnedColumnsSectionSeparator);j.push((0,h.jsx)(ux,(0,ks.default)({},c[m.field],{columnMenuOpen:v,filterItemsCounter:d[m.field]&&d[m.field].length,headerHeight:D,isDragging:m.field===o,colDef:m,colIndex:p,isResizing:r===m.field,isLast:p===w.length-1,hasFocus:t,tabIndex:s,pinnedPosition:x,pinnedOffset:y,isSiblingFocused:A,showLeftBorder:H,showRightBorder:I},b),m.field))}return N(a,j,0)},P=({depth:a,params:c})=>{let d=M(c);if(0===d.renderedColumns.length)return null;let{firstColumnToRender:e,lastColumnToRender:g}=d,k=m[a],n=b[e].field,o=v[n]?.[a]??null,p=k.findIndex(({groupId:a,columnFields:b})=>a===o&&b.includes(n)),q=b[g-1].field,r=v[q]?.[a]??null,s=k.findIndex(({groupId:a,columnFields:b})=>a===r&&b.includes(q)),t=k.slice(p,s+1).map(a=>(0,ks.default)({},a,{columnFields:a.columnFields.filter(a=>!1!==l[a])})).filter(a=>a.columnFields.length>0),x=t[0].columnFields.indexOf(n),y=t[0].columnFields.slice(0,x).reduce((a,b)=>a+(z[b].computedWidth??0),0),A=e,D=t.map(({groupId:b,columnFields:d},e)=>{let g=null!==i&&i.depth===a&&d.includes(i.field),k=null!==f&&f.depth===a&&d.includes(f.field)?0:-1,l={groupId:b,width:d.reduce((a,b)=>a+z[b].computedWidth,0),fields:d,colIndex:A,hasFocus:g,tabIndex:k},m=c.position,n=tu(m,l.width,A,w,B,F);A+=d.length;let o=e;return m===nC.LEFT&&(o=A-1),(0,h.jsx)(uy,{groupId:b,width:l.width,fields:l.fields,colIndex:l.colIndex,depth:a,isLastColumn:e===t.length-1,maxDepth:j,height:E,hasFocus:g,tabIndex:k,pinnedPosition:m,pinnedOffset:n,showLeftBorder:tw(m,o,u.showColumnVerticalBorder,u.pinnedColumnsSectionSeparator),showRightBorder:tv(m,o,t.length,u.showColumnVerticalBorder,C,u.pinnedColumnsSectionSeparator)},e)});return N(c,D,y)};return{renderContext:x,leftRenderContext:K,rightRenderContext:L,pinnedColumns:y,visibleColumns:b,columnPositions:w,getFillers:N,getColumnHeadersRow:()=>(0,h.jsxs)(uB,{role:"row","aria-rowindex":j+1,ownerState:u,className:kL["row--borderBottom"],style:{height:D},children:[K&&O({position:nC.LEFT,renderContext:K},{disableReorder:!0}),O({renderContext:x}),L&&O({position:nC.RIGHT,renderContext:L},{disableReorder:!0,separatorSide:ut.Left})]}),getColumnsToRender:M,getColumnGroupHeadersRows:()=>{if(0===j)return null;let a=[];for(let b=0;b<j;b+=1)a.push((0,h.jsxs)(uB,{role:"row","aria-rowindex":b+1,ownerState:u,style:{height:E},children:[K&&P({depth:b,params:{position:nC.LEFT,renderContext:K,maxLastColumn:K.lastColumnIndex}}),P({depth:b,params:{renderContext:x}}),L&&P({depth:b,params:{position:nC.RIGHT,renderContext:L,maxLastColumn:L.lastColumnIndex}})]},b));return a},getPinnedCellOffset:tu,isDragging:!!o,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:c,sortColumnLookup:d,filterColumnLookup:e,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:g,columnHeaderFocus:i,columnGroupHeaderFocus:j,headerGroupingMaxDepth:k,columnMenuState:l,columnVisibility:m,columnGroupsHeaderStructure:n,hasOtherElementInTabSequence:o});return(0,h.jsxs)(uE,(0,ks.default)({},p,r(),{ref:b,children:[t(),s()]}))})),uH=["displayOrder"],uI=["hideMenu","colDef","id","labelledby","className","children","open"],uJ=(0,kE.styled)(mx)(()=>({minWidth:248}));function uK(a){a.currentTarget.contains(a.target)&&a.stopPropagation()}let uL=kv(function(a,b){let{hideMenu:c,id:d,labelledby:e,className:f,children:g,open:i}=a,j=(0,kw.default)(a,uI),k=k6(),l=q.useCallback(a=>{"Tab"===a.key&&a.preventDefault(),n0(a.key)&&c(a)},[c]);return(0,h.jsx)(uJ,(0,ks.default)({as:k.slots.baseMenuList,id:d,className:(0,kx.default)(kL.menuList,f),"aria-labelledby":e,onKeyDown:l,onWheel:uK,onTouchMove:uK,autoFocus:i},j,{ref:b,children:g}))});function uM(a){let{colDef:b,onClick:c}=a,d=lO(),e=k6(),f=1===lB(d).filter(a=>!0!==a.disableColumnMenu).length,g=q.useCallback(a=>{f||(d.current.setColumnVisibility(b.field,!1),c(a))},[d,b.field,c,f]);return e.disableColumnSelector||!1===b.hideable?null:(0,h.jsx)(e.slots.baseMenuItem,{onClick:g,disabled:f,iconStart:(0,h.jsx)(e.slots.columnMenuHideIcon,{fontSize:"small"}),children:d.current.getLocaleText("columnMenuHideColumn")})}function uN(a){let{onClick:b}=a,c=lO(),d=k6(),e=q.useCallback(a=>{b(a),c.current.showPreferences(lM.columns)},[c,b]);return d.disableColumnSelector?null:(0,h.jsx)(d.slots.baseMenuItem,{onClick:e,iconStart:(0,h.jsx)(d.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:c.current.getLocaleText("columnMenuManageColumns")})}let uO=["defaultSlots","defaultSlotProps","slots","slotProps"],uP={columnMenuSortItem:function(a){let{colDef:b,onClick:c}=a,d=lO(),e=kZ(d,oA),f=k6(),g=q.useMemo(()=>{if(!b)return null;let a=e.find(a=>a.field===b.field);return a?.sort},[b,e]),i=b.sortingOrder??f.sortingOrder,j=q.useCallback(a=>{c(a);let e=a.currentTarget.getAttribute("data-value")||null,h="always"===f.multipleColumnsSortingMode;d.current.sortColumn(b.field,e===g?null:e,h)},[d,b,c,g,f.multipleColumnsSortingMode]);if(f.disableColumnSorting||!b||!b.sortable||!i.some(a=>!!a))return null;let k=a=>{let c=d.current.getLocaleText(a);return"function"==typeof c?c(b):c};return(0,h.jsxs)(q.Fragment,{children:[i.includes("asc")&&"asc"!==g?(0,h.jsx)(f.slots.baseMenuItem,{onClick:j,"data-value":"asc",iconStart:(0,h.jsx)(f.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:k("columnMenuSortAsc")}):null,i.includes("desc")&&"desc"!==g?(0,h.jsx)(f.slots.baseMenuItem,{onClick:j,"data-value":"desc",iconStart:(0,h.jsx)(f.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:k("columnMenuSortDesc")}):null,i.includes(null)&&null!=g?(0,h.jsx)(f.slots.baseMenuItem,{onClick:j,iconStart:f.slots.columnMenuUnsortIcon?(0,h.jsx)(f.slots.columnMenuUnsortIcon,{fontSize:"small"}):(0,h.jsx)("span",{}),children:d.current.getLocaleText("columnMenuUnsort")}):null]})},columnMenuFilterItem:function(a){let{colDef:b,onClick:c}=a,d=lO(),e=k6(),f=q.useCallback(a=>{c(a),d.current.showFilterPanel(b.field)},[d,b.field,c]);return e.disableColumnFilter||!b.filterable?null:(0,h.jsx)(e.slots.baseMenuItem,{onClick:f,iconStart:(0,h.jsx)(e.slots.columnMenuFilterIcon,{fontSize:"small"}),children:d.current.getLocaleText("columnMenuFilter")})},columnMenuColumnsItem:function(a){return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(uM,(0,ks.default)({},a)),(0,h.jsx)(uN,(0,ks.default)({},a))]})}},uQ={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},uR=kv(function(a,b){let{defaultSlots:c,defaultSlotProps:d,slots:e,slotProps:f}=a,g=(0,kw.default)(a,uO),i=(a=>{let b=k_(),c=k6(),{defaultSlots:d,defaultSlotProps:e,slots:f={},slotProps:g={},hideMenu:h,colDef:i,addDividers:j=!0}=a,k=q.useMemo(()=>(0,ks.default)({},d,f),[d,f]),l=q.useMemo(()=>{if(!g||0===Object.keys(g).length)return e;let a=(0,ks.default)({},g);return Object.entries(e).forEach(([b,c])=>{a[b]=(0,ks.default)({},c,g[b]||{})}),a},[e,g]),m=b.current.unstable_applyPipeProcessors("columnMenu",[],a.colDef),n=q.useMemo(()=>{let a=Object.keys(d);return Object.keys(f).filter(b=>!a.includes(b))},[f,d]);return q.useMemo(()=>{let a=Array.from(new Set([...m,...n])).filter(a=>null!=k[a]).sort((a,b)=>{let c=l[a],d=l[b];return(Number.isFinite(c?.displayOrder)?c.displayOrder:100)-(Number.isFinite(d?.displayOrder)?d.displayOrder:100)});return a.reduce((b,d,e)=>{let f={colDef:i,onClick:h},g=l[d];if(g){let a=(0,kw.default)(g,uH);f=(0,ks.default)({},f,a)}return j&&e!==a.length-1?[...b,[k[d],f],[c.slots.baseDivider,{}]]:[...b,[k[d],f]]},[])},[j,i,m,h,k,l,n,c.slots.baseDivider])})((0,ks.default)({},g,{defaultSlots:c,defaultSlotProps:d,slots:e,slotProps:f}));return(0,h.jsx)(uL,(0,ks.default)({},g,{ref:b,children:i.map(([a,b],c)=>(0,h.jsx)(a,(0,ks.default)({},b),c))}))}),uS=kv(function(a,b){return(0,h.jsx)(uR,(0,ks.default)({},a,{ref:b,defaultSlots:uP,defaultSlotProps:uQ}))}),uT=kv(function(a,b){let c=lO().current.getLocaleText("noResultsOverlayLabel");return(0,h.jsx)(tt,(0,ks.default)({},a,{ref:b,children:c}))});var uU=a.i(836472),uV=a.i(318103),uW=a.i(449081),uX=a.i(798657),uY=a.i(424257);let uZ=a=>{let b=q.useRef({});return q.useEffect(()=>{b.current=a}),b.current};function u$({array1:a,array2:b,parser:c=a=>a}){return a&&b&&a.length===b.length&&a.every((a,d)=>c(a)===c(b[d]))}function u_(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}let u0=function(a={}){let{ignoreAccents:b=!0,ignoreCase:c=!0,limit:d,matchFrom:e="any",stringify:f,trim:g=!1}=a;return(a,{inputValue:h,getOptionLabel:i})=>{let j=g?h.trim():h;c&&(j=j.toLowerCase()),b&&(j=u_(j));let k=j?a.filter(a=>{let d=(f||i)(a);return c&&(d=d.toLowerCase()),b&&(d=u_(d)),"start"===e?d.startsWith(j):d.includes(j)}):a;return"number"==typeof d?k.slice(0,d):k}}(),u1=a=>null!==a.current&&a.current.parentElement?.contains(document.activeElement),u2=[];function u3(a,b,c,d){if(b||null==a||d)return"";let e=c(a);return"string"==typeof e?e:""}let u4=function(a){let{unstable_isActiveElementInListbox:b=u1,unstable_classNamePrefix:c="Mui",autoComplete:d=!1,autoHighlight:e=!1,autoSelect:f=!1,blurOnSelect:g=!1,clearOnBlur:h=!a.freeSolo,clearOnEscape:i=!1,componentName:j="useAutocomplete",defaultValue:k=a.multiple?u2:null,disableClearable:l=!1,disableCloseOnSelect:m=!1,disabled:n,disabledItemsFocusable:o=!1,disableListWrap:p=!1,filterOptions:r=u0,filterSelectedOptions:s=!1,freeSolo:t=!1,getOptionDisabled:u,getOptionKey:v,getOptionLabel:w=a=>a.label??a,groupBy:x,handleHomeEndKeys:y=!a.freeSolo,id:z,includeInputInList:A=!1,inputValue:B,isOptionEqualToValue:C=(a,b)=>a===b,multiple:D=!1,onChange:E,onClose:F,onHighlightChange:G,onInputChange:H,onOpen:I,open:J,openOnFocus:K=!1,options:L,readOnly:M=!1,renderValue:N,selectOnFocus:O=!a.freeSolo,value:P}=a,Q=(0,uY.default)(z),R=w;R=a=>{let b=w(a);return"string"!=typeof b?String(b):b};let S=q.useRef(!1),T=q.useRef(!0),U=q.useRef(null),V=q.useRef(null),[W,X]=q.useState(null),[Y,Z]=q.useState(-1),$=e?0:-1,_=q.useRef($),aa=q.useRef(u3(k??P,D,R)).current,[ab,ac]=(0,uX.default)({controlled:P,default:k,name:j}),[ad,ae]=(0,uX.default)({controlled:B,default:aa,name:j,state:"inputValue"}),[af,ag]=q.useState(!1),ah=q.useCallback((a,b,c)=>{if(!(D?ab.length<b.length:null!==b)&&!h)return;let d=u3(b,D,R,N);ad!==d&&(ae(d),H&&H(a,d,c))},[R,ad,D,H,ae,h,ab,N]),[ai,aj]=(0,uX.default)({controlled:J,default:!1,name:j,state:"open"}),[ak,al]=q.useState(!0),am=!D&&null!=ab&&ad===R(ab),an=ai&&!M,ao=an?r(L.filter(a=>!(s&&(D?ab:[ab]).some(b=>null!==b&&C(a,b)))),{inputValue:am&&ak?"":ad,getOptionLabel:R}):[],ap=uZ({filteredOptions:ao,value:ab,inputValue:ad});q.useEffect(()=>{let a=ab!==ap.value;(!af||a)&&(!t||a)&&ah(null,ab,"reset")},[ab,ah,af,ap.value,t]);let aq=ai&&ao.length>0&&!M,ar=(0,uW.default)(a=>{if(-1===a)U.current.focus();else{let b=N?"data-item-index":"data-tag-index";W.querySelector(`[${b}="${a}"]`).focus()}});q.useEffect(()=>{D&&Y>ab.length-1&&(Z(-1),ar(-1))},[ab,D,Y,ar]);let as=(0,uW.default)(({event:a,index:b,reason:d})=>{if(_.current=b,-1===b?U.current.removeAttribute("aria-activedescendant"):U.current.setAttribute("aria-activedescendant",`${Q}-option-${b}`),G&&["mouse","keyboard","touch"].includes(d)&&G(a,-1===b?null:ao[b],d),!V.current)return;let e=V.current.querySelector(`[role="option"].${c}-focused`);e&&(e.classList.remove(`${c}-focused`),e.classList.remove(`${c}-focusVisible`));let f=V.current;if("listbox"!==V.current.getAttribute("role")&&(f=V.current.parentElement.querySelector('[role="listbox"]')),!f)return;if(-1===b){f.scrollTop=0;return}let g=V.current.querySelector(`[data-option-index="${b}"]`);if(g&&(g.classList.add(`${c}-focused`),"keyboard"===d&&g.classList.add(`${c}-focusVisible`),f.scrollHeight>f.clientHeight&&"mouse"!==d&&"touch"!==d)){let a=f.clientHeight+f.scrollTop,b=g.offsetTop+g.offsetHeight;b>a?f.scrollTop=b-f.clientHeight:g.offsetTop-g.offsetHeight*(1.3*!!x)<f.scrollTop&&(f.scrollTop=g.offsetTop-g.offsetHeight*(1.3*!!x))}}),at=(0,uW.default)(({event:a,diff:b,direction:c="next",reason:e})=>{if(!an)return;let f=function(a,b){if(!V.current||a<0||a>=ao.length)return -1;let c=a;for(;;){let d=V.current.querySelector(`[data-option-index="${c}"]`),e=!o&&(!d||d.disabled||"true"===d.getAttribute("aria-disabled"));if(d&&d.hasAttribute("tabindex")&&!e)return c;if((c="next"===b?(c+1)%ao.length:(c-1+ao.length)%ao.length)===a)return -1}}((()=>{let a=ao.length-1;if("reset"===b)return $;if("start"===b)return 0;if("end"===b)return a;let c=_.current+b;return c<0?-1===c&&A?-1:p&&-1!==_.current||Math.abs(b)>1?0:a:c>a?c===a+1&&A?-1:p||Math.abs(b)>1?a:0:c})(),c);if(as({index:f,reason:e,event:a}),d&&"reset"!==b)if(-1===f)U.current.value=ad;else{let a=R(ao[f]);U.current.value=a,0===a.toLowerCase().indexOf(ad.toLowerCase())&&ad.length>0&&U.current.setSelectionRange(ad.length,a.length)}}),au=!u$({array1:ap.filteredOptions,array2:ao,parser:R}),av=q.useCallback(()=>{if(!an)return;let a=(()=>{var a,b;if(-1!==_.current&&!u$({array1:ap.filteredOptions,array2:ao,parser:R})&&ap.inputValue===ad&&(D?ab.length===ap.value.length&&ap.value.every((a,b)=>R(ab[b])===R(a)):(a=ap.value,b=ab,(a?R(a):"")===(b?R(b):"")))){let a=ap.filteredOptions[_.current];if(a)return ao.findIndex(b=>R(b)===R(a))}return -1})();if(-1!==a){_.current=a;return}let b=D?ab[0]:ab;if(0===ao.length||null==b)return void at({diff:"reset"});if(V.current){if(null!=b){let a=ao[_.current];if(D&&a&&-1!==ab.findIndex(b=>C(a,b)))return;let c=ao.findIndex(a=>C(a,b));-1===c?at({diff:"reset"}):as({index:c});return}if(_.current>=ao.length-1)return void as({index:ao.length-1});as({index:_.current})}},[ao.length,!D&&ab,s,at,as,an,ad,D]),aw=(0,uW.default)(a=>{(0,uV.default)(V,a),a&&av()});q.useEffect(()=>{au&&av()},[av,au]);let ax=a=>{!ai&&(aj(!0),al(!0),I&&I(a))},ay=(a,b)=>{ai&&(aj(!1),F&&F(a,b))},az=(a,b,c,d)=>{if(D){if(ab.length===b.length&&ab.every((a,c)=>a===b[c]))return}else if(ab===b)return;E&&E(a,b,c,d),ac(b)},aA=q.useRef(!1),aB=(a,b,c="selectOption",d="options")=>{let e=c,f=b;if(D){let a=(f=Array.isArray(ab)?ab.slice():[]).findIndex(a=>C(b,a));-1===a?f.push(b):"freeSolo"!==d&&(f.splice(a,1),e="removeOption")}ah(a,f,e),az(a,f,e,{option:b}),m||a&&(a.ctrlKey||a.metaKey)||ay(a,e),(!0===g||"touch"===g&&aA.current||"mouse"===g&&!aA.current)&&U.current.blur()},aC=(a,b)=>{if(!D)return;""===ad&&ay(a,"toggleInput");let c=Y;-1===Y?""===ad&&"previous"===b&&(c=ab.length-1):((c+="next"===b?1:-1)<0&&(c=0),c===ab.length&&(c=-1)),Z(c=function(a,b){if(-1===a)return -1;let c=a;for(;;){if("next"===b&&c===ab.length||"previous"===b&&-1===c)return -1;let a=N?"data-item-index":"data-tag-index",d=W.querySelector(`[${a}="${c}"]`);if(d&&d.hasAttribute("tabindex")&&!d.disabled&&"true"!==d.getAttribute("aria-disabled"))return c;c+="next"===b?1:-1}}(c,b)),ar(c)},aD=a=>{S.current=!0,ae(""),H&&H(a,"","clear"),az(a,D?[]:null,"clear")},aE=a=>{ag(!0),K&&!S.current&&ax(a)},aF=a=>{if(b(V))return void U.current.focus();ag(!1),T.current=!0,S.current=!1,f&&-1!==_.current&&an?aB(a,ao[_.current],"blur"):f&&t&&""!==ad?aB(a,ad,"blur","freeSolo"):h&&ah(a,ab,"blur"),ay(a,"blur")},aG=a=>{let b=a.target.value;ad!==b&&(ae(b),al(!1),H&&H(a,b,"input")),""===b?l||D||az(a,null,"clear"):ax(a)},aH=a=>{let b=Number(a.currentTarget.getAttribute("data-option-index"));_.current!==b&&as({event:a,index:b,reason:"mouse"})},aI=a=>{as({event:a,index:Number(a.currentTarget.getAttribute("data-option-index")),reason:"touch"}),aA.current=!0},aJ=a=>{let b=Number(a.currentTarget.getAttribute("data-option-index"));aB(a,ao[b],"selectOption"),aA.current=!1},aK=a=>b=>{let c=ab.slice();c.splice(a,1),az(b,c,"removeOption",{option:ab[a]})},aL=a=>{az(a,null,"removeOption",{option:ab})},aM=a=>{ai?ay(a,"toggleInput"):ax(a)},aN=a=>{a.currentTarget.contains(a.target)&&a.target.getAttribute("id")!==Q&&a.preventDefault()},aO=a=>{a.currentTarget.contains(a.target)&&(U.current.focus(),O&&T.current&&U.current.selectionEnd-U.current.selectionStart==0&&U.current.select(),T.current=!1)},aP=a=>{n||""!==ad&&ai||aM(a)},aQ=t&&ad.length>0;aQ=aQ||(D?ab.length>0:null!==ab);let aR=ao;return x&&(aR=ao.reduce((a,b,c)=>{let d=x(b);return a.length>0&&a[a.length-1].group===d?a[a.length-1].options.push(b):a.push({key:c,index:c,group:d,options:[b]}),a},[])),n&&af&&aF(),{getRootProps:(a={})=>({...a,onKeyDown:b=>{if(a.onKeyDown&&a.onKeyDown(b),!b.defaultMuiPrevented&&(-1===Y||["ArrowLeft","ArrowRight"].includes(b.key)||(Z(-1),ar(-1)),229!==b.which))switch(b.key){case"Home":an&&y&&(b.preventDefault(),at({diff:"start",direction:"next",reason:"keyboard",event:b}));break;case"End":an&&y&&(b.preventDefault(),at({diff:"end",direction:"previous",reason:"keyboard",event:b}));break;case"PageUp":b.preventDefault(),at({diff:-5,direction:"previous",reason:"keyboard",event:b}),ax(b);break;case"PageDown":b.preventDefault(),at({diff:5,direction:"next",reason:"keyboard",event:b}),ax(b);break;case"ArrowDown":b.preventDefault(),at({diff:1,direction:"next",reason:"keyboard",event:b}),ax(b);break;case"ArrowUp":b.preventDefault(),at({diff:-1,direction:"previous",reason:"keyboard",event:b}),ax(b);break;case"ArrowLeft":!D&&N?ar(0):aC(b,"previous");break;case"ArrowRight":!D&&N?ar(-1):aC(b,"next");break;case"Enter":if(-1!==_.current&&an){let a=ao[_.current],c=!!u&&u(a);if(b.preventDefault(),c)return;aB(b,a,"selectOption"),d&&U.current.setSelectionRange(U.current.value.length,U.current.value.length)}else t&&""!==ad&&!1===am&&(D&&b.preventDefault(),aB(b,ad,"createOption","freeSolo"));break;case"Escape":an?(b.preventDefault(),b.stopPropagation(),ay(b,"escape")):i&&(""!==ad||D&&ab.length>0||N)&&(b.preventDefault(),b.stopPropagation(),aD(b));break;case"Backspace":if(D&&!M&&""===ad&&ab.length>0){let a=-1===Y?ab.length-1:Y,c=ab.slice();c.splice(a,1),az(b,c,"removeOption",{option:ab[a]})}D||!N||M||(ac(null),ar(-1));break;case"Delete":if(D&&!M&&""===ad&&ab.length>0&&-1!==Y){let a=ab.slice();a.splice(Y,1),az(b,a,"removeOption",{option:ab[Y]})}D||!N||M||(ac(null),ar(-1))}},onMouseDown:aN,onClick:aO}),getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:ad,onBlur:aF,onFocus:aE,onChange:aG,onMouseDown:aP,"aria-activedescendant":an?"":null,"aria-autocomplete":d?"both":"list","aria-controls":aq?`${Q}-listbox`:void 0,"aria-expanded":aq,autoComplete:"off",ref:U,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:n}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:aD}),getItemProps:({index:a=0}={})=>({...D&&{key:a},...N?{"data-item-index":a}:{"data-tag-index":a},tabIndex:-1,...!M&&{onDelete:D?aK(a):aL}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:aM}),getTagProps:({index:a})=>({key:a,"data-tag-index":a,tabIndex:-1,...!M&&{onDelete:aK(a)}}),getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:aw,onMouseDown:a=>{a.preventDefault()}}),getOptionProps:({index:a,option:b})=>{let c=(D?ab:[ab]).some(a=>null!=a&&C(b,a)),d=!!u&&u(b);return{key:v?.(b)??R(b),tabIndex:-1,role:"option",id:`${Q}-option-${a}`,onMouseMove:aH,onClick:aJ,onTouchStart:aI,"data-option-index":a,"aria-disabled":d,"aria-selected":c}},id:Q,inputValue:ad,value:ab,dirty:aQ,expanded:an&&W,popupOpen:an,focused:af||-1!==Y,anchorEl:W,setAnchorEl:X,focusedItem:Y,focusedTag:Y,groupedOptions:aR}};var u5=a.i(333377),u6=a.i(354661),u7=a.i(681006);function u8(a){if(null==a)return window;if("[object Window]"!==a.toString()){var b=a.ownerDocument;return b&&b.defaultView||window}return a}function u9(a){var b=u8(a).Element;return a instanceof b||a instanceof Element}function va(a){var b=u8(a).HTMLElement;return a instanceof b||a instanceof HTMLElement}function vb(a){if("undefined"==typeof ShadowRoot)return!1;var b=u8(a).ShadowRoot;return a instanceof b||a instanceof ShadowRoot}var vc=Math.max,vd=Math.min,ve=Math.round;function vf(){var a=navigator.userAgentData;return null!=a&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function vg(){return!/^((?!chrome|android).)*safari/i.test(vf())}function vh(a,b,c){void 0===b&&(b=!1),void 0===c&&(c=!1);var d=a.getBoundingClientRect(),e=1,f=1;b&&va(a)&&(e=a.offsetWidth>0&&ve(d.width)/a.offsetWidth||1,f=a.offsetHeight>0&&ve(d.height)/a.offsetHeight||1);var g=(u9(a)?u8(a):window).visualViewport,h=!vg()&&c,i=(d.left+(h&&g?g.offsetLeft:0))/e,j=(d.top+(h&&g?g.offsetTop:0))/f,k=d.width/e,l=d.height/f;return{width:k,height:l,top:j,right:i+k,bottom:j+l,left:i,x:i,y:j}}function vi(a){var b=u8(a);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function vj(a){return a?(a.nodeName||"").toLowerCase():null}function vk(a){return((u9(a)?a.ownerDocument:a.document)||window.document).documentElement}function vl(a){return vh(vk(a)).left+vi(a).scrollLeft}function vm(a){return u8(a).getComputedStyle(a)}function vn(a){var b=vm(a),c=b.overflow,d=b.overflowX,e=b.overflowY;return/auto|scroll|overlay|hidden/.test(c+e+d)}function vo(a){var b=vh(a),c=a.offsetWidth,d=a.offsetHeight;return 1>=Math.abs(b.width-c)&&(c=b.width),1>=Math.abs(b.height-d)&&(d=b.height),{x:a.offsetLeft,y:a.offsetTop,width:c,height:d}}function vp(a){return"html"===vj(a)?a:a.assignedSlot||a.parentNode||(vb(a)?a.host:null)||vk(a)}function vq(a,b){void 0===b&&(b=[]);var c,d=function a(b){return["html","body","#document"].indexOf(vj(b))>=0?b.ownerDocument.body:va(b)&&vn(b)?b:a(vp(b))}(a),e=d===(null==(c=a.ownerDocument)?void 0:c.body),f=u8(d),g=e?[f].concat(f.visualViewport||[],vn(d)?d:[]):d,h=b.concat(g);return e?h:h.concat(vq(vp(g)))}function vr(a){return va(a)&&"fixed"!==vm(a).position?a.offsetParent:null}function vs(a){for(var b=u8(a),c=vr(a);c&&["table","td","th"].indexOf(vj(c))>=0&&"static"===vm(c).position;)c=vr(c);return c&&("html"===vj(c)||"body"===vj(c)&&"static"===vm(c).position)?b:c||function(a){var b=/firefox/i.test(vf());if(/Trident/i.test(vf())&&va(a)&&"fixed"===vm(a).position)return null;var c=vp(a);for(vb(c)&&(c=c.host);va(c)&&0>["html","body"].indexOf(vj(c));){var d=vm(c);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||b&&"filter"===d.willChange||b&&d.filter&&"none"!==d.filter)return c;c=c.parentNode}return null}(a)||b}var vt="bottom",vu="right",vv="left",vw="auto",vx=["top",vt,vu,vv],vy="start",vz="viewport",vA="popper",vB=vx.reduce(function(a,b){return a.concat([b+"-"+vy,b+"-end"])},[]),vC=[].concat(vx,[vw]).reduce(function(a,b){return a.concat([b,b+"-"+vy,b+"-end"])},[]),vD=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function vE(a,b){var c=b.getRootNode&&b.getRootNode();if(a.contains(b))return!0;if(c&&vb(c)){var d=b;do{if(d&&a.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function vF(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function vG(a,b,c){var d,e,f,g,h,i,j,k,l,m;return b===vz?vF(function(a,b){var c=u8(a),d=vk(a),e=c.visualViewport,f=d.clientWidth,g=d.clientHeight,h=0,i=0;if(e){f=e.width,g=e.height;var j=vg();(j||!j&&"fixed"===b)&&(h=e.offsetLeft,i=e.offsetTop)}return{width:f,height:g,x:h+vl(a),y:i}}(a,c)):u9(b)?((d=vh(b,!1,"fixed"===c)).top=d.top+b.clientTop,d.left=d.left+b.clientLeft,d.bottom=d.top+b.clientHeight,d.right=d.left+b.clientWidth,d.width=b.clientWidth,d.height=b.clientHeight,d.x=d.left,d.y=d.top,d):vF((e=vk(a),g=vk(e),h=vi(e),i=null==(f=e.ownerDocument)?void 0:f.body,j=vc(g.scrollWidth,g.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),k=vc(g.scrollHeight,g.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-h.scrollLeft+vl(e),m=-h.scrollTop,"rtl"===vm(i||g).direction&&(l+=vc(g.clientWidth,i?i.clientWidth:0)-j),{width:j,height:k,x:l,y:m}))}function vH(a){return a.split("-")[0]}function vI(a){return a.split("-")[1]}function vJ(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function vK(a){var b,c=a.reference,d=a.element,e=a.placement,f=e?vH(e):null,g=e?vI(e):null,h=c.x+c.width/2-d.width/2,i=c.y+c.height/2-d.height/2;switch(f){case"top":b={x:h,y:c.y-d.height};break;case vt:b={x:h,y:c.y+c.height};break;case vu:b={x:c.x+c.width,y:i};break;case vv:b={x:c.x-d.width,y:i};break;default:b={x:c.x,y:c.y}}var j=f?vJ(f):null;if(null!=j){var k="y"===j?"height":"width";switch(g){case vy:b[j]=b[j]-(c[k]/2-d[k]/2);break;case"end":b[j]=b[j]+(c[k]/2-d[k]/2)}}return b}function vL(){return{top:0,right:0,bottom:0,left:0}}function vM(a){return Object.assign({},vL(),a)}function vN(a,b){return b.reduce(function(b,c){return b[c]=a,b},{})}function vO(a,b){void 0===b&&(b={});var c,d,e,f,g,h,i,j,k=b,l=k.placement,m=void 0===l?a.placement:l,n=k.strategy,o=void 0===n?a.strategy:n,p=k.boundary,q=k.rootBoundary,r=k.elementContext,s=void 0===r?vA:r,t=k.altBoundary,u=k.padding,v=void 0===u?0:u,w=vM("number"!=typeof v?v:vN(v,vx)),x=a.rects.popper,y=a.elements[void 0!==t&&t?s===vA?"reference":vA:s],z=(c=u9(y)?y:y.contextElement||vk(a.elements.popper),d=void 0===p?"clippingParents":p,e=void 0===q?vz:q,i=(h=[].concat("clippingParents"===d?(f=vq(vp(c)),!u9(g=["absolute","fixed"].indexOf(vm(c).position)>=0&&va(c)?vs(c):c)?[]:f.filter(function(a){return u9(a)&&vE(a,g)&&"body"!==vj(a)})):[].concat(d),[e]))[0],(j=h.reduce(function(a,b){var d=vG(c,b,o);return a.top=vc(d.top,a.top),a.right=vd(d.right,a.right),a.bottom=vd(d.bottom,a.bottom),a.left=vc(d.left,a.left),a},vG(c,i,o))).width=j.right-j.left,j.height=j.bottom-j.top,j.x=j.left,j.y=j.top,j),A=vh(a.elements.reference),B=vK({reference:A,element:x,strategy:"absolute",placement:m}),C=vF(Object.assign({},x,B)),D=s===vA?C:A,E={top:z.top-D.top+w.top,bottom:D.bottom-z.bottom+w.bottom,left:z.left-D.left+w.left,right:D.right-z.right+w.right},F=a.modifiersData.offset;if(s===vA&&F){var G=F[m];Object.keys(E).forEach(function(a){var b=[vu,vt].indexOf(a)>=0?1:-1,c=["top",vt].indexOf(a)>=0?"y":"x";E[a]+=G[c]*b})}return E}var vP={placement:"bottom",modifiers:[],strategy:"absolute"};function vQ(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return!b.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}var vR={passive:!0},vS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vT(a){var b,c,d,e,f,g,h,i=a.popper,j=a.popperRect,k=a.placement,l=a.variation,m=a.offsets,n=a.position,o=a.gpuAcceleration,p=a.adaptive,q=a.roundOffsets,r=a.isFixed,s=m.x,t=void 0===s?0:s,u=m.y,v=void 0===u?0:u,w="function"==typeof q?q({x:t,y:v}):{x:t,y:v};t=w.x,v=w.y;var x=m.hasOwnProperty("x"),y=m.hasOwnProperty("y"),z=vv,A="top",B=window;if(p){var C=vs(i),D="clientHeight",E="clientWidth";C===u8(i)&&"static"!==vm(C=vk(i)).position&&"absolute"===n&&(D="scrollHeight",E="scrollWidth"),("top"===k||(k===vv||k===vu)&&"end"===l)&&(A=vt,v-=(r&&C===B&&B.visualViewport?B.visualViewport.height:C[D])-j.height,v*=o?1:-1),(k===vv||("top"===k||k===vt)&&"end"===l)&&(z=vu,t-=(r&&C===B&&B.visualViewport?B.visualViewport.width:C[E])-j.width,t*=o?1:-1)}var F=Object.assign({position:n},p&&vS),G=!0===q?(b={x:t,y:v},c=u8(i),d=b.x,e=b.y,{x:ve(d*(f=c.devicePixelRatio||1))/f||0,y:ve(e*f)/f||0}):{x:t,y:v};return(t=G.x,v=G.y,o)?Object.assign({},F,((h={})[A]=y?"0":"",h[z]=x?"0":"",h.transform=1>=(B.devicePixelRatio||1)?"translate("+t+"px, "+v+"px)":"translate3d("+t+"px, "+v+"px, 0)",h)):Object.assign({},F,((g={})[A]=y?v+"px":"",g[z]=x?t+"px":"",g.transform="",g))}var vU={left:"right",right:"left",bottom:"top",top:"bottom"};function vV(a){return a.replace(/left|right|bottom|top/g,function(a){return vU[a]})}var vW={start:"end",end:"start"};function vX(a){return a.replace(/start|end/g,function(a){return vW[a]})}function vY(a,b,c){return vc(a,vd(b,c))}function vZ(a,b,c){return void 0===c&&(c={x:0,y:0}),{top:a.top-b.height-c.y,right:a.right-b.width+c.x,bottom:a.bottom-b.height+c.y,left:a.left-b.width-c.x}}function v$(a){return["top",vu,vt,vv].some(function(b){return a[b]>=0})}var v_=function(a){void 0===a&&(a={});var b=a,c=b.defaultModifiers,d=void 0===c?[]:c,e=b.defaultOptions,f=void 0===e?vP:e;return function(a,b,c){void 0===c&&(c=f);var e,g,h={placement:"bottom",orderedModifiers:[],options:Object.assign({},vP,f),modifiersData:{},elements:{reference:a,popper:b},attributes:{},styles:{}},i=[],j=!1,k={state:h,setOptions:function(c){var e,g,j,m,n,o,p="function"==typeof c?c(h.options):c;l(),h.options=Object.assign({},f,h.options,p),h.scrollParents={reference:u9(a)?vq(a):a.contextElement?vq(a.contextElement):[],popper:vq(b)};var q=(g=Object.keys(e=[].concat(d,h.options.modifiers).reduce(function(a,b){var c=a[b.name];return a[b.name]=c?Object.assign({},c,b,{options:Object.assign({},c.options,b.options),data:Object.assign({},c.data,b.data)}):b,a},{})).map(function(a){return e[a]}),j=new Map,m=new Set,n=[],g.forEach(function(a){j.set(a.name,a)}),g.forEach(function(a){m.has(a.name)||function a(b){m.add(b.name),[].concat(b.requires||[],b.requiresIfExists||[]).forEach(function(b){if(!m.has(b)){var c=j.get(b);c&&a(c)}}),n.push(b)}(a)}),o=n,vD.reduce(function(a,b){return a.concat(o.filter(function(a){return a.phase===b}))},[]));return h.orderedModifiers=q.filter(function(a){return a.enabled}),h.orderedModifiers.forEach(function(a){var b=a.name,c=a.options,d=a.effect;if("function"==typeof d){var e=d({state:h,name:b,instance:k,options:void 0===c?{}:c});i.push(e||function(){})}}),k.update()},forceUpdate:function(){if(!j){var a=h.elements,b=a.reference,c=a.popper;if(vQ(b,c)){h.rects={reference:(d=vs(c),e="fixed"===h.options.strategy,f=va(d),m=va(d)&&(i=ve((g=d.getBoundingClientRect()).width)/d.offsetWidth||1,l=ve(g.height)/d.offsetHeight||1,1!==i||1!==l),n=vk(d),o=vh(b,m,e),p={scrollLeft:0,scrollTop:0},q={x:0,y:0},(f||!f&&!e)&&(("body"!==vj(d)||vn(n))&&(p=function(a){return a!==u8(a)&&va(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:vi(a)}(d)),va(d)?(q=vh(d,!0),q.x+=d.clientLeft,q.y+=d.clientTop):n&&(q.x=vl(n))),{x:o.left+p.scrollLeft-q.x,y:o.top+p.scrollTop-q.y,width:o.width,height:o.height}),popper:vo(c)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(a){return h.modifiersData[a.name]=Object.assign({},a.data)});for(var d,e,f,g,i,l,m,n,o,p,q,r=0;r<h.orderedModifiers.length;r++){if(!0===h.reset){h.reset=!1,r=-1;continue}var s=h.orderedModifiers[r],t=s.fn,u=s.options,v=void 0===u?{}:u,w=s.name;"function"==typeof t&&(h=t({state:h,options:v,name:w,instance:k})||h)}}}},update:(e=function(){return new Promise(function(a){k.forceUpdate(),a(h)})},function(){return g||(g=new Promise(function(a){Promise.resolve().then(function(){g=void 0,a(e())})})),g}),destroy:function(){l(),j=!0}};if(!vQ(a,b))return k;function l(){i.forEach(function(a){return a()}),i=[]}return k.setOptions(c).then(function(a){!j&&c.onFirstUpdate&&c.onFirstUpdate(a)}),k}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(a){var b=a.state,c=a.instance,d=a.options,e=d.scroll,f=void 0===e||e,g=d.resize,h=void 0===g||g,i=u8(b.elements.popper),j=[].concat(b.scrollParents.reference,b.scrollParents.popper);return f&&j.forEach(function(a){a.addEventListener("scroll",c.update,vR)}),h&&i.addEventListener("resize",c.update,vR),function(){f&&j.forEach(function(a){a.removeEventListener("scroll",c.update,vR)}),h&&i.removeEventListener("resize",c.update,vR)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(a){var b=a.state,c=a.name;b.modifiersData[c]=vK({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(a){var b=a.state,c=a.options,d=c.gpuAcceleration,e=c.adaptive,f=c.roundOffsets,g=void 0===f||f,h={placement:vH(b.placement),variation:vI(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:void 0===d||d,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,vT(Object.assign({},h,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:void 0===e||e,roundOffsets:g})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,vT(Object.assign({},h,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(a){var b=a.state;Object.keys(b.elements).forEach(function(a){var c=b.styles[a]||{},d=b.attributes[a]||{},e=b.elements[a];va(e)&&vj(e)&&(Object.assign(e.style,c),Object.keys(d).forEach(function(a){var b=d[a];!1===b?e.removeAttribute(a):e.setAttribute(a,!0===b?"":b)}))})},effect:function(a){var b=a.state,c={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,c.popper),b.styles=c,b.elements.arrow&&Object.assign(b.elements.arrow.style,c.arrow),function(){Object.keys(b.elements).forEach(function(a){var d=b.elements[a],e=b.attributes[a]||{},f=Object.keys(b.styles.hasOwnProperty(a)?b.styles[a]:c[a]).reduce(function(a,b){return a[b]="",a},{});va(d)&&vj(d)&&(Object.assign(d.style,f),Object.keys(e).forEach(function(a){d.removeAttribute(a)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(a){var b=a.state,c=a.options,d=a.name,e=c.offset,f=void 0===e?[0,0]:e,g=vC.reduce(function(a,c){var d,e,g,h,i,j;return a[c]=(d=b.rects,g=[vv,"top"].indexOf(e=vH(c))>=0?-1:1,i=(h="function"==typeof f?f(Object.assign({},d,{placement:c})):f)[0],j=h[1],i=i||0,j=(j||0)*g,[vv,vu].indexOf(e)>=0?{x:j,y:i}:{x:i,y:j}),a},{}),h=g[b.placement],i=h.x,j=h.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=i,b.modifiersData.popperOffsets.y+=j),b.modifiersData[d]=g}},{name:"flip",enabled:!0,phase:"main",fn:function(a){var b=a.state,c=a.options,d=a.name;if(!b.modifiersData[d]._skip){for(var e=c.mainAxis,f=void 0===e||e,g=c.altAxis,h=void 0===g||g,i=c.fallbackPlacements,j=c.padding,k=c.boundary,l=c.rootBoundary,m=c.altBoundary,n=c.flipVariations,o=void 0===n||n,p=c.allowedAutoPlacements,q=b.options.placement,r=vH(q)===q,s=i||(r||!o?[vV(q)]:function(a){if(vH(a)===vw)return[];var b=vV(a);return[vX(a),b,vX(b)]}(q)),t=[q].concat(s).reduce(function(a,c){var d,e,f,g,h,i,m,n,q,r,s,t;return a.concat(vH(c)===vw?(e=(d={placement:c,boundary:k,rootBoundary:l,padding:j,flipVariations:o,allowedAutoPlacements:p}).placement,f=d.boundary,g=d.rootBoundary,h=d.padding,i=d.flipVariations,n=void 0===(m=d.allowedAutoPlacements)?vC:m,0===(s=(r=(q=vI(e))?i?vB:vB.filter(function(a){return vI(a)===q}):vx).filter(function(a){return n.indexOf(a)>=0})).length&&(s=r),Object.keys(t=s.reduce(function(a,c){return a[c]=vO(b,{placement:c,boundary:f,rootBoundary:g,padding:h})[vH(c)],a},{})).sort(function(a,b){return t[a]-t[b]})):c)},[]),u=b.rects.reference,v=b.rects.popper,w=new Map,x=!0,y=t[0],z=0;z<t.length;z++){var A=t[z],B=vH(A),C=vI(A)===vy,D=["top",vt].indexOf(B)>=0,E=D?"width":"height",F=vO(b,{placement:A,boundary:k,rootBoundary:l,altBoundary:m,padding:j}),G=D?C?vu:vv:C?vt:"top";u[E]>v[E]&&(G=vV(G));var H=vV(G),I=[];if(f&&I.push(F[B]<=0),h&&I.push(F[G]<=0,F[H]<=0),I.every(function(a){return a})){y=A,x=!1;break}w.set(A,I)}if(x)for(var J=o?3:1,K=function(a){var b=t.find(function(b){var c=w.get(b);if(c)return c.slice(0,a).every(function(a){return a})});if(b)return y=b,"break"},L=J;L>0&&"break"!==K(L);L--);b.placement!==y&&(b.modifiersData[d]._skip=!0,b.placement=y,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(a){var b=a.state,c=a.options,d=a.name,e=c.mainAxis,f=c.altAxis,g=c.boundary,h=c.rootBoundary,i=c.altBoundary,j=c.padding,k=c.tether,l=void 0===k||k,m=c.tetherOffset,n=void 0===m?0:m,o=vO(b,{boundary:g,rootBoundary:h,padding:j,altBoundary:i}),p=vH(b.placement),q=vI(b.placement),r=!q,s=vJ(p),t="x"===s?"y":"x",u=b.modifiersData.popperOffsets,v=b.rects.reference,w=b.rects.popper,x="function"==typeof n?n(Object.assign({},b.rects,{placement:b.placement})):n,y="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),z=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,A={x:0,y:0};if(u){if(void 0===e||e){var B,C="y"===s?"top":vv,D="y"===s?vt:vu,E="y"===s?"height":"width",F=u[s],G=F+o[C],H=F-o[D],I=l?-w[E]/2:0,J=q===vy?v[E]:w[E],K=q===vy?-w[E]:-v[E],L=b.elements.arrow,M=l&&L?vo(L):{width:0,height:0},N=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:vL(),O=N[C],P=N[D],Q=vY(0,v[E],M[E]),R=r?v[E]/2-I-Q-O-y.mainAxis:J-Q-O-y.mainAxis,S=r?-v[E]/2+I+Q+P+y.mainAxis:K+Q+P+y.mainAxis,T=b.elements.arrow&&vs(b.elements.arrow),U=T?"y"===s?T.clientTop||0:T.clientLeft||0:0,V=null!=(B=null==z?void 0:z[s])?B:0,W=vY(l?vd(G,F+R-V-U):G,F,l?vc(H,F+S-V):H);u[s]=W,A[s]=W-F}if(void 0!==f&&f){var X,Y,Z="x"===s?"top":vv,$="x"===s?vt:vu,_=u[t],aa="y"===t?"height":"width",ab=_+o[Z],ac=_-o[$],ad=-1!==["top",vv].indexOf(p),ae=null!=(Y=null==z?void 0:z[t])?Y:0,af=ad?ab:_-v[aa]-w[aa]-ae+y.altAxis,ag=ad?_+v[aa]+w[aa]-ae-y.altAxis:ac,ah=l&&ad?(X=vY(af,_,ag))>ag?ag:X:vY(l?af:ab,_,l?ag:ac);u[t]=ah,A[t]=ah-_}b.modifiersData[d]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(a){var b,c=a.state,d=a.name,e=a.options,f=c.elements.arrow,g=c.modifiersData.popperOffsets,h=vH(c.placement),i=vJ(h),j=[vv,vu].indexOf(h)>=0?"height":"width";if(f&&g){var k,l=(k=e.padding,vM("number"!=typeof(k="function"==typeof k?k(Object.assign({},c.rects,{placement:c.placement})):k)?k:vN(k,vx))),m=vo(f),n="y"===i?"top":vv,o="y"===i?vt:vu,p=c.rects.reference[j]+c.rects.reference[i]-g[i]-c.rects.popper[j],q=g[i]-c.rects.reference[i],r=vs(f),s=r?"y"===i?r.clientHeight||0:r.clientWidth||0:0,t=l[n],u=s-m[j]-l[o],v=s/2-m[j]/2+(p/2-q/2),w=vY(t,v,u);c.modifiersData[d]=((b={})[i]=w,b.centerOffset=w-v,b)}},effect:function(a){var b=a.state,c=a.options.element,d=void 0===c?"[data-popper-arrow]":c;if(null!=d)("string"!=typeof d||(d=b.elements.popper.querySelector(d)))&&vE(b.elements.popper,d)&&(b.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(a){var b=a.state,c=a.name,d=b.rects.reference,e=b.rects.popper,f=b.modifiersData.preventOverflow,g=vO(b,{elementContext:"reference"}),h=vO(b,{altBoundary:!0}),i=vZ(g,d),j=vZ(h,e,f),k=v$(i),l=v$(j);b.modifiersData[c]={referenceClippingOffsets:i,popperEscapeOffsets:j,isReferenceHidden:k,hasPopperEscaped:l},b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":l})}}]}),v0=a.i(522799),v1=a.i(499335),v2=a.i(668604),v3=a.i(429297);function v4(a){return(0,v3.default)("MuiPopper",a)}function v5(a){return"function"==typeof a?a():a}(0,v2.default)("MuiPopper",["root"]);let v6={},v7=q.forwardRef(function(a,b){let{anchorEl:c,children:d,direction:e,disablePortal:f,modifiers:g,open:i,placement:j,popperOptions:k,popperRef:l,slotProps:m={},slots:n={},TransitionProps:o,ownerState:p,...r}=a,s=q.useRef(null),t=(0,u7.default)(s,b),u=q.useRef(null),v=(0,u7.default)(u,l),w=q.useRef(v);(0,u6.default)(()=>{w.current=v},[v]),q.useImperativeHandle(l,()=>u.current,[]);let x=function(a,b){if("ltr"===b)return a;switch(a){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return a}}(j,e),[y,z]=q.useState(x),[A,B]=q.useState(v5(c));q.useEffect(()=>{u.current&&u.current.forceUpdate()}),q.useEffect(()=>{c&&B(v5(c))},[c]),(0,u6.default)(()=>{if(!A||!i)return;let a=[{name:"preventOverflow",options:{altBoundary:f}},{name:"flip",options:{altBoundary:f}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:a})=>{z(a.placement)}}];null!=g&&(a=a.concat(g)),k&&null!=k.modifiers&&(a=a.concat(k.modifiers));let b=v_(A,s.current,{placement:x,...k,modifiers:a});return w.current(b),()=>{b.destroy(),w.current(null)}},[A,f,g,i,k,x]);let C={placement:y};null!==o&&(C.TransitionProps=o);let D=(a=>{let{classes:b}=a;return(0,uU.default)({root:["root"]},v4,b)})(a),E=n.root??"div",F=(0,v0.default)({elementType:E,externalSlotProps:m.root,externalForwardedProps:r,additionalProps:{role:"tooltip",ref:t},ownerState:a,className:D.root});return(0,h.jsx)(E,{...F,children:"function"==typeof d?d(C):d})}),v8=q.forwardRef(function(a,b){let c,{anchorEl:d,children:e,container:f,direction:g="ltr",disablePortal:i=!1,keepMounted:j=!1,modifiers:k,open:l,placement:m="bottom",popperOptions:n=v6,popperRef:o,style:p,transition:r=!1,slotProps:s={},slots:t={},...u}=a,[v,w]=q.useState(!0);if(!j&&!l&&(!r||v))return null;if(f)c=f;else if(d){let a=v5(d);c=a&&void 0!==a.nodeType?(0,u5.default)(a).body:(0,u5.default)(null).body}let x=!l&&j&&(!r||v)?"none":void 0,y=r?{in:l,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,h.jsx)(v1.default,{disablePortal:i,container:c,children:(0,h.jsx)(v7,{anchorEl:d,direction:g,disablePortal:i,modifiers:k,ref:b,open:r?!v:l,placement:m,popperOptions:n,popperRef:o,slotProps:s,slots:t,...u,style:{position:"fixed",top:0,left:0,display:x,...p},TransitionProps:y,children:e})})});var v9=a.i(833115);let wa=(0,kE.styled)(v8,{name:"MuiPopper",slot:"Root"})({}),wb=q.forwardRef(function(a,b){let c=(0,nZ.useRtl)(),{anchorEl:d,component:e,components:f,componentsProps:g,container:i,disablePortal:j,keepMounted:k,modifiers:l,open:m,placement:n,popperOptions:o,popperRef:p,transition:q,slots:r,slotProps:s,...t}=(0,v9.useDefaultProps)({props:a,name:"MuiPopper"}),u=r?.root??f?.Root,v={anchorEl:d,container:i,disablePortal:j,keepMounted:k,modifiers:l,open:m,placement:n,popperOptions:o,popperRef:p,transition:q,...t};return(0,h.jsx)(wa,{as:e,direction:c?"rtl":"ltr",slots:{root:u},slotProps:s??g,...v,ref:b})});var wc=a.i(25054),wd=a.i(643267);function we(a){return(0,v3.default)("MuiListSubheader",a)}(0,v2.default)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);let wf=(0,kE.styled)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,"default"!==c.color&&b[`color${(0,wd.default)(c.color)}`],!c.disableGutters&&b.gutters,c.inset&&b.inset,!c.disableSticky&&b.sticky]}})((0,wc.default)(({theme:a})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(a.vars||a).palette.text.secondary,fontFamily:a.typography.fontFamily,fontWeight:a.typography.fontWeightMedium,fontSize:a.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(a.vars||a).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.inset,style:{paddingLeft:72}},{props:({ownerState:a})=>!a.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(a.vars||a).palette.background.paper}}]}))),wg=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiListSubheader"}),{className:d,color:e="default",component:f="li",disableGutters:g=!1,disableSticky:i=!1,inset:j=!1,...k}=c,l={...c,color:e,component:f,disableGutters:g,disableSticky:i,inset:j},m=(a=>{let{classes:b,color:c,disableGutters:d,inset:e,disableSticky:f}=a,g={root:["root","default"!==c&&`color${(0,wd.default)(c)}`,!d&&"gutters",e&&"inset",!f&&"sticky"]};return(0,uU.default)(g,we,b)})(l);return(0,h.jsx)(wf,{as:f,className:(0,kx.default)(m.root,d),ref:b,ownerState:l,...k})});wg&&(wg.muiSkipListHighlight=!0);var wh=a.i(744365),wi=a.i(213469),wj=a.i(703750),wk=a.i(462939),wl=a.i(44833),wm=a.i(64476),wn=a.i(364361);let wo=(0,j5.default)((0,h.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var wp=a.i(489947);function wq(a){return(0,v3.default)("MuiAutocomplete",a)}let wr=(0,v2.default)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var ws=a.i(49126);let wt=(0,kE.styled)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a,{fullWidth:d,hasClearIcon:e,hasPopupIcon:f,inputFocused:g,size:h}=c;return[{[`& .${wr.tag}`]:b.tag},{[`& .${wr.tag}`]:b[`tagSize${(0,wd.default)(h)}`]},{[`& .${wr.inputRoot}`]:b.inputRoot},{[`& .${wr.input}`]:b.input},{[`& .${wr.input}`]:g&&b.inputFocused},b.root,d&&b.fullWidth,f&&b.hasPopupIcon,e&&b.hasClearIcon]}})({[`&.${wr.focused} .${wr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${wr.clearIndicator}`]:{visibility:"visible"}},[`& .${wr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${wr.inputRoot}`]:{[`.${wr.hasPopupIcon}&, .${wr.hasClearIcon}&`]:{paddingRight:30},[`.${wr.hasPopupIcon}.${wr.hasClearIcon}&`]:{paddingRight:56},[`& .${wr.input}`]:{width:0,minWidth:30}},[`& .${wk.default.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${wk.default.root}.${wl.default.sizeSmall}`]:{[`& .${wk.default.input}`]:{padding:"2px 4px 3px 0"}},[`& .${wm.default.root}`]:{padding:9,[`.${wr.hasPopupIcon}&, .${wr.hasClearIcon}&`]:{paddingRight:39},[`.${wr.hasPopupIcon}.${wr.hasClearIcon}&`]:{paddingRight:65},[`& .${wr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${wr.endAdornment}`]:{right:9}},[`& .${wm.default.root}.${wl.default.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${wr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${wn.default.root}`]:{paddingTop:19,paddingLeft:8,[`.${wr.hasPopupIcon}&, .${wr.hasClearIcon}&`]:{paddingRight:39},[`.${wr.hasPopupIcon}.${wr.hasClearIcon}&`]:{paddingRight:65},[`& .${wn.default.input}`]:{padding:"7px 4px"},[`& .${wr.endAdornment}`]:{right:9}},[`& .${wn.default.root}.${wl.default.sizeSmall}`]:{paddingBottom:1,[`& .${wn.default.input}`]:{padding:"2.5px 4px"}},[`& .${wl.default.hiddenLabel}`]:{paddingTop:8},[`& .${wn.default.root}.${wl.default.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${wr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${wn.default.root}.${wl.default.hiddenLabel}.${wl.default.sizeSmall}`]:{[`& .${wr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${wr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${wr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${wr.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${wr.inputRoot}`]:{flexWrap:"wrap"}}}]}),wu=(0,kE.styled)("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),wv=(0,kE.styled)(wi.default,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),ww=(0,kE.styled)(wi.default,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.popupIndicator,c.popupOpen&&b.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),wx=(0,kE.styled)(wb,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[{[`& .${wr.option}`]:b.option},b.popper,c.disablePortal&&b.popperDisablePortal]}})((0,wc.default)(({theme:a})=>({zIndex:(a.vars||a).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),wy=(0,kE.styled)(wh.default,{name:"MuiAutocomplete",slot:"Paper"})((0,wc.default)(({theme:a})=>({...a.typography.body1,overflow:"auto"}))),wz=(0,kE.styled)("div",{name:"MuiAutocomplete",slot:"Loading"})((0,wc.default)(({theme:a})=>({color:(a.vars||a).palette.text.secondary,padding:"14px 16px"}))),wA=(0,kE.styled)("div",{name:"MuiAutocomplete",slot:"NoOptions"})((0,wc.default)(({theme:a})=>({color:(a.vars||a).palette.text.secondary,padding:"14px 16px"}))),wB=(0,kE.styled)("ul",{name:"MuiAutocomplete",slot:"Listbox"})((0,wc.default)(({theme:a})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${wr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[a.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${wr.focused}`]:{backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(a.vars||a).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${wr.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity),[`&.${wr.focused}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(a.vars||a).palette.action.selected}},[`&.${wr.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)}}}}))),wC=(0,kE.styled)(wg,{name:"MuiAutocomplete",slot:"GroupLabel"})((0,wc.default)(({theme:a})=>({backgroundColor:(a.vars||a).palette.background.paper,top:-8}))),wD=(0,kE.styled)("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${wr.option}`]:{paddingLeft:24}}),wE=q.forwardRef(function(a,b){let c,f=(0,v9.useDefaultProps)({props:a,name:"MuiAutocomplete"}),{autoComplete:g=!1,autoHighlight:i=!1,autoSelect:j=!1,blurOnSelect:k=!1,ChipProps:l,className:m,clearIcon:n=d||(d=(0,h.jsx)(wo,{fontSize:"small"})),clearOnBlur:o=!f.freeSolo,clearOnEscape:p=!1,clearText:r="Clear",closeText:s="Close",componentsProps:t,defaultValue:u=f.multiple?[]:null,disableClearable:v=!1,disableCloseOnSelect:w=!1,disabled:x=!1,disabledItemsFocusable:y=!1,disableListWrap:z=!1,disablePortal:A=!1,filterOptions:B,filterSelectedOptions:C=!1,forcePopupIcon:D="auto",freeSolo:E=!1,fullWidth:F=!1,getLimitTagsText:G=a=>`+${a}`,getOptionDisabled:H,getOptionKey:I,getOptionLabel:J,isOptionEqualToValue:K,groupBy:L,handleHomeEndKeys:M=!f.freeSolo,id:N,includeInputInList:O=!1,inputValue:P,limitTags:Q=-1,ListboxComponent:R,ListboxProps:S,loading:T=!1,loadingText:U="Loading",multiple:V=!1,noOptionsText:W="No options",onChange:X,onClose:Y,onHighlightChange:Z,onInputChange:$,onOpen:_,open:aa,openOnFocus:ab=!1,openText:ac="Open",options:ad,PaperComponent:ae,PopperComponent:af,popupIcon:ag=e||(e=(0,h.jsx)(wp.default,{})),readOnly:ah=!1,renderGroup:ai,renderInput:aj,renderOption:ak,renderTags:al,renderValue:am,selectOnFocus:an=!f.freeSolo,size:ao="medium",slots:ap={},slotProps:aq={},value:ar,...as}=f,{getRootProps:at,getInputProps:au,getInputLabelProps:av,getPopupIndicatorProps:aw,getClearProps:ax,getItemProps:ay,getListboxProps:az,getOptionProps:aA,value:aB,dirty:aC,expanded:aD,id:aE,popupOpen:aF,focused:aG,focusedItem:aH,anchorEl:aI,setAnchorEl:aJ,inputValue:aK,groupedOptions:aL}=u4({...f,componentName:"Autocomplete"}),aM=!v&&!x&&aC&&!ah,aN=(!E||!0===D)&&!1!==D,{onMouseDown:aO}=au(),{ref:aP,...aQ}=az(),aR=J||(a=>a.label??a),aS={...f,disablePortal:A,expanded:aD,focused:aG,fullWidth:F,getOptionLabel:aR,hasClearIcon:aM,hasPopupIcon:aN,inputFocused:-1===aH,popupOpen:aF,size:ao},aT=(a=>{let{classes:b,disablePortal:c,expanded:d,focused:e,fullWidth:f,hasClearIcon:g,hasPopupIcon:h,inputFocused:i,popupOpen:j,size:k}=a,l={root:["root",d&&"expanded",e&&"focused",f&&"fullWidth",g&&"hasClearIcon",h&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",i&&"inputFocused"],tag:["tag",`tagSize${(0,wd.default)(k)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",j&&"popupIndicatorOpen"],popper:["popper",c&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,uU.default)(l,wq,b)})(aS),aU={slots:{paper:ae,popper:af,...ap},slotProps:{chip:l,listbox:S,...t,...aq}},[aV,aW]=(0,ws.default)("listbox",{elementType:wB,externalForwardedProps:aU,ownerState:aS,className:aT.listbox,additionalProps:aQ,ref:aP}),[aX,aY]=(0,ws.default)("paper",{elementType:wh.default,externalForwardedProps:aU,ownerState:aS,className:aT.paper}),[aZ,a$]=(0,ws.default)("popper",{elementType:wb,externalForwardedProps:aU,ownerState:aS,className:aT.popper,additionalProps:{disablePortal:A,style:{width:aI?aI.clientWidth:null},role:"presentation",anchorEl:aI,open:aF}}),a_=a=>({className:aT.tag,disabled:x,...ay(a)});if(V?aB.length>0&&(c=al?al(aB,a_,aS):am?am(aB,a_,aS):aB.map((a,b)=>{let{key:c,...d}=a_({index:b});return(0,h.jsx)(wj.default,{label:aR(a),size:ao,...d,...aU.slotProps.chip},c)})):am&&null!=aB&&(c=am(aB,a_,aS)),Q>-1&&Array.isArray(c)){let a=c.length-Q;!aG&&a>0&&(c=c.splice(0,Q)).push((0,h.jsx)("span",{className:aT.tag,children:G(a)},c.length))}let a0=ai||(a=>(0,h.jsxs)("li",{children:[(0,h.jsx)(wC,{className:aT.groupLabel,ownerState:aS,component:"div",children:a.group}),(0,h.jsx)(wD,{className:aT.groupUl,ownerState:aS,children:a.children})]},a.key)),a1=ak||((a,b)=>{let{key:c,...d}=a;return(0,h.jsx)("li",{...d,children:aR(b)},c)}),a2=(a,b)=>{let c=aA({option:a,index:b});return a1({...c,className:aT.option},a,{selected:c["aria-selected"],index:b,inputValue:aK},aS)},a3=aU.slotProps.clearIndicator,a4=aU.slotProps.popupIndicator;return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(wt,{ref:b,className:(0,kx.default)(aT.root,m),ownerState:aS,...at(as),children:aj({id:aE,disabled:x,fullWidth:!0,size:"small"===ao?"small":void 0,InputLabelProps:av(),InputProps:{ref:aJ,className:aT.inputRoot,startAdornment:c,onMouseDown:a=>{a.target===a.currentTarget&&aO(a)},...(aM||aN)&&{endAdornment:(0,h.jsxs)(wu,{className:aT.endAdornment,ownerState:aS,children:[aM?(0,h.jsx)(wv,{...ax(),"aria-label":r,title:r,ownerState:aS,...a3,className:(0,kx.default)(aT.clearIndicator,a3?.className),children:n}):null,aN?(0,h.jsx)(ww,{...aw(),disabled:x,"aria-label":aF?s:ac,title:aF?s:ac,ownerState:aS,...a4,className:(0,kx.default)(aT.popupIndicator,a4?.className),children:ag}):null]})}},inputProps:{className:aT.input,disabled:x,readOnly:ah,...au()}})}),aI?(0,h.jsx)(wx,{as:aZ,...a$,children:(0,h.jsxs)(wy,{as:aX,...aY,children:[T&&0===aL.length?(0,h.jsx)(wz,{className:aT.loading,ownerState:aS,children:U}):null,0!==aL.length||E||T?null:(0,h.jsx)(wA,{className:aT.noOptions,ownerState:aS,role:"presentation",onMouseDown:a=>{a.preventDefault()},children:W}),aL.length>0?(0,h.jsx)(aV,{as:R,...aW,children:aL.map((a,b)=>L?a0({key:a.key,group:a.group,children:a.options.map((b,c)=>a2(b,a.index+c))}):a2(a,b))}):null]})}):null]})}),wF=function(a){let{badgeContent:b,invisible:c=!1,max:d=99,showZero:e=!1}=a,f=uZ({badgeContent:b,max:d}),g=c;!1!==c||0!==b||e||(g=!0);let{badgeContent:h,max:i=d}=g?f:a,j=h&&Number(h)>i?`${i}+`:h;return{badgeContent:h,invisible:g,max:i,displayValue:j}};var wG=a.i(294805);function wH(a){return(0,v3.default)("MuiBadge",a)}let wI=(0,v2.default)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),wJ=(0,kE.styled)("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),wK=(0,kE.styled)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.badge,b[c.variant],b[`anchorOrigin${(0,wd.default)(c.anchorOrigin.vertical)}${(0,wd.default)(c.anchorOrigin.horizontal)}${(0,wd.default)(c.overlap)}`],"default"!==c.color&&b[`color${(0,wd.default)(c.color)}`],c.invisible&&b.invisible]}})((0,wc.default)(({theme:a})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:a.typography.fontFamily,fontWeight:a.typography.fontWeightMedium,fontSize:a.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:a.transitions.create("transform",{easing:a.transitions.easing.easeInOut,duration:a.transitions.duration.enteringScreen}),variants:[...Object.entries(a.palette).filter((0,wG.default)(["contrastText"])).map(([b])=>({props:{color:b},style:{backgroundColor:(a.vars||a).palette[b].main,color:(a.vars||a).palette[b].contrastText}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:a})=>"top"===a.anchorOrigin.vertical&&"right"===a.anchorOrigin.horizontal&&"rectangular"===a.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>"bottom"===a.anchorOrigin.vertical&&"right"===a.anchorOrigin.horizontal&&"rectangular"===a.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>"top"===a.anchorOrigin.vertical&&"left"===a.anchorOrigin.horizontal&&"rectangular"===a.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>"bottom"===a.anchorOrigin.vertical&&"left"===a.anchorOrigin.horizontal&&"rectangular"===a.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:a})=>"top"===a.anchorOrigin.vertical&&"right"===a.anchorOrigin.horizontal&&"circular"===a.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>"bottom"===a.anchorOrigin.vertical&&"right"===a.anchorOrigin.horizontal&&"circular"===a.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>"top"===a.anchorOrigin.vertical&&"left"===a.anchorOrigin.horizontal&&"circular"===a.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>"bottom"===a.anchorOrigin.vertical&&"left"===a.anchorOrigin.horizontal&&"circular"===a.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${wI.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:a.transitions.create("transform",{easing:a.transitions.easing.easeInOut,duration:a.transitions.duration.leavingScreen})}}]})));function wL(a){return{vertical:a?.vertical??"top",horizontal:a?.horizontal??"right"}}let wM=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiBadge"}),{anchorOrigin:d,className:e,classes:f,component:g,components:i={},componentsProps:j={},children:k,overlap:l="rectangular",color:m="default",invisible:n=!1,max:o=99,badgeContent:p,slots:q,slotProps:r,showZero:s=!1,variant:t="standard",...u}=c,{badgeContent:v,invisible:w,max:x,displayValue:y}=wF({max:o,invisible:n,badgeContent:p,showZero:s}),z=uZ({anchorOrigin:wL(d),color:m,overlap:l,variant:t,badgeContent:p}),A=w||null==v&&"dot"!==t,{color:B=m,overlap:C=l,anchorOrigin:D,variant:E=t}=A?z:c,F=wL(D),G="dot"!==E?y:void 0,H={...c,badgeContent:v,invisible:A,max:x,displayValue:G,showZero:s,anchorOrigin:F,color:B,overlap:C,variant:E},I=(a=>{let{color:b,anchorOrigin:c,invisible:d,overlap:e,variant:f,classes:g={}}=a,h={root:["root"],badge:["badge",f,d&&"invisible",`anchorOrigin${(0,wd.default)(c.vertical)}${(0,wd.default)(c.horizontal)}`,`anchorOrigin${(0,wd.default)(c.vertical)}${(0,wd.default)(c.horizontal)}${(0,wd.default)(e)}`,`overlap${(0,wd.default)(e)}`,"default"!==b&&`color${(0,wd.default)(b)}`]};return(0,uU.default)(h,wH,g)})(H),J={slots:{root:q?.root??i.Root,badge:q?.badge??i.Badge},slotProps:{root:r?.root??j.root,badge:r?.badge??j.badge}},[K,L]=(0,ws.default)("root",{elementType:wJ,externalForwardedProps:{...J,...u},ownerState:H,className:(0,kx.default)(I.root,e),ref:b,additionalProps:{as:g}}),[M,N]=(0,ws.default)("badge",{elementType:wK,externalForwardedProps:J,ownerState:H,className:I.badge});return(0,h.jsxs)(K,{...L,children:[k,(0,h.jsx)(M,{...N,children:G})]})});var wN=a.i(552506),wO=a.i(549185),wP=a.i(670183),wQ=a.i(326893);function wR(a){return(0,v3.default)("PrivateSwitchBase",a)}(0,v2.default)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);let wS=(0,kE.styled)(wQ.default,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:a,ownerState:b})=>"start"===a&&"small"!==b.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:a,ownerState:b})=>"end"===a&&"small"!==b.size,style:{marginRight:-12}}]}),wT=(0,kE.styled)("input",{name:"MuiSwitchBase",shouldForwardProp:wN.default})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),wU=q.forwardRef(function(a,b){let{autoFocus:c,checked:d,checkedIcon:e,defaultChecked:f,disabled:g,disableFocusRipple:i=!1,edge:j=!1,icon:k,id:l,inputProps:m,inputRef:n,name:o,onBlur:p,onChange:q,onFocus:r,readOnly:s,required:t=!1,tabIndex:u,type:v,value:w,slots:x={},slotProps:y={},...z}=a,[A,B]=(0,wO.default)({controlled:d,default:!!f,name:"SwitchBase",state:"checked"}),C=(0,wP.default)(),D=g;C&&void 0===D&&(D=C.disabled);let E="checkbox"===v||"radio"===v,F={...a,checked:A,disabled:D,disableFocusRipple:i,edge:j},G=(a=>{let{classes:b,checked:c,disabled:d,edge:e}=a,f={root:["root",c&&"checked",d&&"disabled",e&&`edge${(0,wd.default)(e)}`],input:["input"]};return(0,uU.default)(f,wR,b)})(F),H={slots:x,slotProps:{input:m,...y}},[I,J]=(0,ws.default)("root",{ref:b,elementType:wS,className:G.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",...z},getSlotProps:a=>({...a,onFocus:b=>{a.onFocus?.(b),r&&r(b),C&&C.onFocus&&C.onFocus(b)},onBlur:b=>{a.onBlur?.(b),p&&p(b),C&&C.onBlur&&C.onBlur(b)}}),ownerState:F,additionalProps:{centerRipple:!0,focusRipple:!i,disabled:D,role:void 0,tabIndex:null}}),[K,L]=(0,ws.default)("input",{ref:n,elementType:wT,className:G.input,externalForwardedProps:H,getSlotProps:a=>({...a,onChange:b=>{a.onChange?.(b),(a=>{if(a.nativeEvent.defaultPrevented)return;let b=a.target.checked;B(b),q&&q(a,b)})(b)}}),ownerState:F,additionalProps:{autoFocus:c,checked:d,defaultChecked:f,disabled:D,id:E?l:void 0,name:o,readOnly:s,required:t,tabIndex:u,type:v,..."checkbox"===v&&void 0===w?{}:{value:w}}});return(0,h.jsxs)(I,{...J,children:[(0,h.jsx)(K,{...L}),A?e:k]})}),wV=(0,j5.default)((0,h.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),wW=(0,j5.default)((0,h.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),wX=(0,j5.default)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function wY(a){return(0,v3.default)("MuiCheckbox",a)}let wZ=(0,v2.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var w$=a.i(698685);let w_=(0,kE.styled)(wU,{shouldForwardProp:a=>(0,wN.default)(a)||"classes"===a,name:"MuiCheckbox",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.indeterminate&&b.indeterminate,b[`size${(0,wd.default)(c.size)}`],"default"!==c.color&&b[`color${(0,wd.default)(c.color)}`]]}})((0,wc.default)(({theme:a})=>({color:(a.vars||a).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:a.alpha((a.vars||a).palette.action.active,(a.vars||a).palette.action.hoverOpacity)}}},...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b,disableRipple:!1},style:{"&:hover":{backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.hoverOpacity)}}})),...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b},style:{[`&.${wZ.checked}, &.${wZ.indeterminate}`]:{color:(a.vars||a).palette[b].main},[`&.${wZ.disabled}`]:{color:(a.vars||a).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),w0=(0,h.jsx)(wW,{}),w1=(0,h.jsx)(wV,{}),w2=(0,h.jsx)(wX,{}),w3=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiCheckbox"}),{checkedIcon:d=w0,color:e="primary",icon:f=w1,indeterminate:g=!1,indeterminateIcon:i=w2,inputProps:j,size:k="medium",disableRipple:l=!1,className:m,slots:n={},slotProps:o={},...p}=c,r=g?i:f,s=g?i:d,t={...c,disableRipple:l,color:e,indeterminate:g,size:k},u=(a=>{let{classes:b,indeterminate:c,color:d,size:e}=a,f={root:["root",c&&"indeterminate",`color${(0,wd.default)(d)}`,`size${(0,wd.default)(e)}`]},g=(0,uU.default)(f,wY,b);return{...b,...g}})(t),v=o.input??j,[w,x]=(0,ws.default)("root",{ref:b,elementType:w_,className:(0,kx.default)(u.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:n,slotProps:o,...p},ownerState:t,additionalProps:{type:"checkbox",icon:q.cloneElement(r,{fontSize:r.props.fontSize??k}),checkedIcon:q.cloneElement(s,{fontSize:s.props.fontSize??k}),disableRipple:l,slots:n,slotProps:{input:(0,w$.mergeSlotProps)("function"==typeof v?v(t):v,{"data-indeterminate":g})}}});return(0,h.jsx)(w,{...x,classes:u})});var w4=a.i(178769),w5=a.i(714912);let w6=(0,kE.styled)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.absolute&&b.absolute,b[c.variant],c.light&&b.light,"vertical"===c.orientation&&b.vertical,c.flexItem&&b.flexItem,c.children&&b.withChildren,c.children&&"vertical"===c.orientation&&b.withChildrenVertical,"right"===c.textAlign&&"vertical"!==c.orientation&&b.textAlignRight,"left"===c.textAlign&&"vertical"!==c.orientation&&b.textAlignLeft]}})((0,wc.default)(({theme:a})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(a.vars||a).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:a.alpha((a.vars||a).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:a.spacing(2),marginRight:a.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:a.spacing(1),marginBottom:a.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:a})=>!!a.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:a})=>a.children&&"vertical"!==a.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(a.vars||a).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:a})=>"vertical"===a.orientation&&a.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(a.vars||a).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:a})=>"right"===a.textAlign&&"vertical"!==a.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:a})=>"left"===a.textAlign&&"vertical"!==a.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),w7=(0,kE.styled)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.wrapper,"vertical"===c.orientation&&b.wrapperVertical]}})((0,wc.default)(({theme:a})=>({display:"inline-block",paddingLeft:`calc(${a.spacing(1)} * 1.2)`,paddingRight:`calc(${a.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${a.spacing(1)} * 1.2)`,paddingBottom:`calc(${a.spacing(1)} * 1.2)`}}]}))),w8=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiDivider"}),{absolute:d=!1,children:e,className:f,orientation:g="horizontal",component:i=e||"vertical"===g?"div":"hr",flexItem:j=!1,light:k=!1,role:l="hr"!==i?"separator":void 0,textAlign:m="center",variant:n="fullWidth",...o}=c,p={...c,absolute:d,component:i,flexItem:j,light:k,orientation:g,role:l,textAlign:m,variant:n},q=(a=>{let{absolute:b,children:c,classes:d,flexItem:e,light:f,orientation:g,textAlign:h,variant:i}=a;return(0,uU.default)({root:["root",b&&"absolute",i,f&&"light","vertical"===g&&"vertical",e&&"flexItem",c&&"withChildren",c&&"vertical"===g&&"withChildrenVertical","right"===h&&"vertical"!==g&&"textAlignRight","left"===h&&"vertical"!==g&&"textAlignLeft"],wrapper:["wrapper","vertical"===g&&"wrapperVertical"]},w5.getDividerUtilityClass,d)})(p);return(0,h.jsx)(w6,{as:i,className:(0,kx.default)(q.root,f),role:l,ref:b,ownerState:p,"aria-orientation":"separator"===l&&("hr"!==i||"vertical"===g)?g:void 0,...o,children:e?(0,h.jsx)(w7,{className:q.wrapper,ownerState:p,children:e}):null})});w8&&(w8.muiSkipListHighlight=!0);var w9=a.i(918102),xa=a.i(681121);function xb(a){return(0,v3.default)("MuiLinearProgress",a)}(0,v2.default)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);let xc=t_.keyframes`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,xd="string"!=typeof xc?t_.css`
        animation: ${xc} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,xe=t_.keyframes`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,xf="string"!=typeof xe?t_.css`
        animation: ${xe} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,xg=t_.keyframes`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,xh="string"!=typeof xg?t_.css`
        animation: ${xg} 3s infinite linear;
      `:null,xi=(a,b)=>a.vars?a.vars.palette.LinearProgress[`${b}Bg`]:"light"===a.palette.mode?a.lighten(a.palette[b].main,.62):a.darken(a.palette[b].main,.5),xj=(0,kE.styled)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`color${(0,wd.default)(c.color)}`],b[c.variant]]}})((0,wc.default)(({theme:a})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b},style:{backgroundColor:xi(a,b)}})),{props:({ownerState:a})=>"inherit"===a.color&&"buffer"!==a.variant,style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),xk=(0,kE.styled)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.dashed,b[`dashedColor${(0,wd.default)(c.color)}`]]}})((0,wc.default)(({theme:a})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>{let c=xi(a,b);return{props:{color:b},style:{backgroundImage:`radial-gradient(${c} 0%, ${c} 16%, transparent 42%)`}}})]})),xh||{animation:`${xg} 3s infinite linear`}),xl=(0,kE.styled)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b.bar1,b[`barColor${(0,wd.default)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar1Indeterminate,"determinate"===c.variant&&b.bar1Determinate,"buffer"===c.variant&&b.bar1Buffer]}})((0,wc.default)(({theme:a})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b},style:{backgroundColor:(a.vars||a).palette[b].main}})),{props:{variant:"determinate"},style:{transition:"transform .4s linear"}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .4s linear"}},{props:({ownerState:a})=>"indeterminate"===a.variant||"query"===a.variant,style:{width:"auto"}},{props:({ownerState:a})=>"indeterminate"===a.variant||"query"===a.variant,style:xd||{animation:`${xc} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),xm=(0,kE.styled)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b.bar2,b[`barColor${(0,wd.default)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar2Indeterminate,"buffer"===c.variant&&b.bar2Buffer]}})((0,wc.default)(({theme:a})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b},style:{"--LinearProgressBar2-barColor":(a.vars||a).palette[b].main}})),{props:({ownerState:a})=>"buffer"!==a.variant&&"inherit"!==a.color,style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:a})=>"buffer"!==a.variant&&"inherit"===a.color,style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b,variant:"buffer"},style:{backgroundColor:xi(a,b),transition:"transform .4s linear"}})),{props:({ownerState:a})=>"indeterminate"===a.variant||"query"===a.variant,style:{width:"auto"}},{props:({ownerState:a})=>"indeterminate"===a.variant||"query"===a.variant,style:xf||{animation:`${xe} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),xn=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiLinearProgress"}),{className:d,color:e="primary",value:f,valueBuffer:g,variant:i="indeterminate",...j}=c,k={...c,color:e,variant:i},l=(a=>{let{classes:b,variant:c,color:d}=a,e={root:["root",`color${(0,wd.default)(d)}`,c],dashed:["dashed",`dashedColor${(0,wd.default)(d)}`],bar1:["bar","bar1",`barColor${(0,wd.default)(d)}`,("indeterminate"===c||"query"===c)&&"bar1Indeterminate","determinate"===c&&"bar1Determinate","buffer"===c&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==c&&`barColor${(0,wd.default)(d)}`,"buffer"===c&&`color${(0,wd.default)(d)}`,("indeterminate"===c||"query"===c)&&"bar2Indeterminate","buffer"===c&&"bar2Buffer"]};return(0,uU.default)(e,xb,b)})(k),m=(0,nZ.useRtl)(),n={},o={},p={};if(("determinate"===i||"buffer"===i)&&void 0!==f){n["aria-valuenow"]=Math.round(f),n["aria-valuemin"]=0,n["aria-valuemax"]=100;let a=f-100;m&&(a=-a),o.transform=`translateX(${a}%)`}if("buffer"===i&&void 0!==g){let a=(g||0)-100;m&&(a=-a),p.transform=`translateX(${a}%)`}return(0,h.jsxs)(xj,{className:(0,kx.default)(l.root,d),ownerState:k,role:"progressbar",...n,ref:b,...j,children:["buffer"===i?(0,h.jsx)(xk,{className:l.dashed,ownerState:k}):null,(0,h.jsx)(xl,{className:l.bar1,ownerState:k,style:o}),"determinate"===i?null:(0,h.jsx)(xm,{className:l.bar2,ownerState:k,style:p})]})});var xo=a.i(776807),xp=a.i(184275);let xq=(0,kE.styled)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,"flex-start"===c.alignItems&&b.alignItemsFlexStart]}})((0,wc.default)(({theme:a})=>({minWidth:56,color:(a.vars||a).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),xr=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiListItemIcon"}),{className:d,...e}=c,f=q.useContext(xp.default),g={...c,alignItems:f.alignItems},i=(a=>{let{alignItems:b,classes:c}=a;return(0,uU.default)({root:["root","flex-start"===b&&"alignItemsFlexStart"]},xo.getListItemIconUtilityClass,c)})(g);return(0,h.jsx)(xq,{className:(0,kx.default)(i.root,d),ownerState:g,ref:b,...e})});var xs=a.i(635429),xt=a.i(903398),xu=a.i(803950),xv=a.i(626233),xw=a.i(907329),xx=a.i(241484),xy=a.i(856068);function xz(a){return(0,v3.default)("MuiFormControlLabel",a)}let xA=(0,v2.default)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var xB=a.i(491066);let xC=(0,kE.styled)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[{[`& .${xA.label}`]:b.label},b.root,b[`labelPlacement${(0,wd.default)(c.labelPlacement)}`]]}})((0,wc.default)(({theme:a})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${xA.disabled}`]:{cursor:"default"},[`& .${xA.label}`]:{[`&.${xA.disabled}`]:{color:(a.vars||a).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:a})=>"start"===a||"top"===a||"bottom"===a,style:{marginLeft:16}}]}))),xD=(0,kE.styled)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,wc.default)(({theme:a})=>({[`&.${xA.error}`]:{color:(a.vars||a).palette.error.main}}))),xE=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiFormControlLabel"}),{checked:d,className:e,componentsProps:f={},control:g,disabled:i,disableTypography:j,inputRef:k,label:l,labelPlacement:m="end",name:n,onChange:o,required:p,slots:r={},slotProps:s={},value:t,...u}=c,v=(0,wP.default)(),w=i??g.props.disabled??v?.disabled,x=p??g.props.required,y={disabled:w,required:x};["checked","name","onChange","value","inputRef"].forEach(a=>{void 0===g.props[a]&&void 0!==c[a]&&(y[a]=c[a])});let z=(0,xB.default)({props:c,muiFormControl:v,states:["error"]}),A={...c,disabled:w,labelPlacement:m,required:x,error:z.error},B=(a=>{let{classes:b,disabled:c,labelPlacement:d,error:e,required:f}=a,g={root:["root",c&&"disabled",`labelPlacement${(0,wd.default)(d)}`,e&&"error",f&&"required"],label:["label",c&&"disabled"],asterisk:["asterisk",e&&"error"]};return(0,uU.default)(g,xz,b)})(A),C={slots:r,slotProps:{...f,...s}},[D,E]=(0,ws.default)("typography",{elementType:xy.default,externalForwardedProps:C,ownerState:A}),F=l;return null==F||F.type===xy.default||j||(F=(0,h.jsx)(D,{component:"span",...E,className:(0,kx.default)(B.label,E?.className),children:F})),(0,h.jsxs)(xC,{className:(0,kx.default)(B.root,e),ownerState:A,ref:b,...u,children:[q.cloneElement(g,y),x?(0,h.jsxs)("div",{children:[F,(0,h.jsxs)(xD,{ownerState:A,"aria-hidden":!0,className:B.asterisk,children:["","*"]})]}):F]})});var xF=a.i(416941);function xG(a){return(0,v3.default)("MuiSwitch",a)}let xH=(0,v2.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),xI=(0,kE.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.edge&&b[`edge${(0,wd.default)(c.edge)}`],b[`size${(0,wd.default)(c.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${xH.thumb}`]:{width:16,height:16},[`& .${xH.switchBase}`]:{padding:4,[`&.${xH.checked}`]:{transform:"translateX(16px)"}}}}]}),xJ=(0,kE.styled)(wU,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.switchBase,{[`& .${xH.input}`]:b.input},"default"!==c.color&&b[`color${(0,wd.default)(c.color)}`]]}})((0,wc.default)(({theme:a})=>({position:"absolute",top:0,left:0,zIndex:1,color:a.vars?a.vars.palette.Switch.defaultColor:`${"light"===a.palette.mode?a.palette.common.white:a.palette.grey[300]}`,transition:a.transitions.create(["left","transform"],{duration:a.transitions.duration.shortest}),[`&.${xH.checked}`]:{transform:"translateX(20px)"},[`&.${xH.disabled}`]:{color:a.vars?a.vars.palette.Switch.defaultDisabledColor:`${"light"===a.palette.mode?a.palette.grey[100]:a.palette.grey[600]}`},[`&.${xH.checked} + .${xH.track}`]:{opacity:.5},[`&.${xH.disabled} + .${xH.track}`]:{opacity:a.vars?a.vars.opacity.switchTrackDisabled:`${"light"===a.palette.mode?.12:.2}`},[`& .${xH.input}`]:{left:"-100%",width:"300%"}})),(0,wc.default)(({theme:a})=>({"&:hover":{backgroundColor:a.alpha((a.vars||a).palette.action.active,(a.vars||a).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(a.palette).filter((0,wG.default)(["light"])).map(([b])=>({props:{color:b},style:{[`&.${xH.checked}`]:{color:(a.vars||a).palette[b].main,"&:hover":{backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xH.disabled}`]:{color:a.vars?a.vars.palette.Switch[`${b}DisabledColor`]:`${"light"===a.palette.mode?a.lighten(a.palette[b].main,.62):a.darken(a.palette[b].main,.55)}`}},[`&.${xH.checked} + .${xH.track}`]:{backgroundColor:(a.vars||a).palette[b].main}}}))]}))),xK=(0,kE.styled)("span",{name:"MuiSwitch",slot:"Track"})((0,wc.default)(({theme:a})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:a.transitions.create(["opacity","background-color"],{duration:a.transitions.duration.shortest}),backgroundColor:a.vars?a.vars.palette.common.onBackground:`${"light"===a.palette.mode?a.palette.common.black:a.palette.common.white}`,opacity:a.vars?a.vars.opacity.switchTrack:`${"light"===a.palette.mode?.38:.3}`}))),xL=(0,kE.styled)("span",{name:"MuiSwitch",slot:"Thumb"})((0,wc.default)(({theme:a})=>({boxShadow:(a.vars||a).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),xM=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiSwitch"}),{className:d,color:e="primary",edge:f=!1,size:g="medium",sx:i,slots:j={},slotProps:k={},...l}=c,m={...c,color:e,edge:f,size:g},n=(a=>{let{classes:b,edge:c,size:d,color:e,checked:f,disabled:g}=a,h={root:["root",c&&`edge${(0,wd.default)(c)}`,`size${(0,wd.default)(d)}`],switchBase:["switchBase",`color${(0,wd.default)(e)}`,f&&"checked",g&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},i=(0,uU.default)(h,xG,b);return{...b,...i}})(m),o={slots:j,slotProps:k},[p,q]=(0,ws.default)("root",{className:(0,kx.default)(n.root,d),elementType:xI,externalForwardedProps:o,ownerState:m,additionalProps:{sx:i}}),[r,s]=(0,ws.default)("thumb",{className:n.thumb,elementType:xL,externalForwardedProps:o,ownerState:m}),t=(0,h.jsx)(r,{...s}),[u,v]=(0,ws.default)("track",{className:n.track,elementType:xK,externalForwardedProps:o,ownerState:m});return(0,h.jsxs)(p,{...q,children:[(0,h.jsx)(xJ,{type:"checkbox",icon:t,checkedIcon:t,ref:b,ownerState:m,...l,classes:{...n,root:n.switchBase},slots:{...j.switchBase&&{root:j.switchBase},...j.input&&{input:j.input}},slotProps:{...k.switchBase&&{root:"function"==typeof k.switchBase?k.switchBase(m):k.switchBase},input:{role:"switch"},...k.input&&{input:"function"==typeof k.input?k.input(m):k.input}}}),(0,h.jsx)(u,{...v})]})});var xN=a.i(875139),xO=a.i(472527),xO=xO,xP=a.i(968917);function xQ(a){return(0,v3.default)("MuiInputAdornment",a)}let xR=(0,v2.default)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),xS=(0,kE.styled)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`position${(0,wd.default)(c.position)}`],!0===c.disablePointerEvents&&b.disablePointerEvents,b[c.variant]]}})((0,wc.default)(({theme:a})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(a.vars||a).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${xR.positionStart}&:not(.${xR.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),xT=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiInputAdornment"}),{children:d,className:e,component:g="div",disablePointerEvents:i=!1,disableTypography:j=!1,position:k,variant:l,...m}=c,n=(0,wP.default)()||{},o=l;l&&n.variant,n&&!o&&(o=n.variant);let p={...c,hiddenLabel:n.hiddenLabel,size:n.size,disablePointerEvents:i,position:k,variant:o},r=(a=>{let{classes:b,disablePointerEvents:c,hiddenLabel:d,position:e,size:f,variant:g}=a,h={root:["root",c&&"disablePointerEvents",e&&`position${(0,wd.default)(e)}`,g,d&&"hiddenLabel",f&&`size${(0,wd.default)(f)}`]};return(0,uU.default)(h,xQ,b)})(p);return(0,h.jsx)(xP.default.Provider,{value:null,children:(0,h.jsx)(xS,{as:g,ownerState:p,className:(0,kx.default)(r.root,e),ref:b,...m,children:"string"!=typeof d||j?(0,h.jsxs)(q.Fragment,{children:["start"===k?f||(f=(0,h.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""})):null,d]}):(0,h.jsx)(xy.default,{color:"textSecondary",children:d})})})});var xU=a.i(886269),xV=a.i(771615),xW=a.i(959956),xX=a.i(854893),xY=a.i(774617),xZ=a.i(407049),x$=a.i(314170);function x_(a){return(0,v3.default)("MuiTooltip",a)}let x0=(0,v2.default)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),x1=(0,kE.styled)(wb,{name:"MuiTooltip",slot:"Popper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.popper,!c.disableInteractive&&b.popperInteractive,c.arrow&&b.popperArrow,!c.open&&b.popperClose]}})((0,wc.default)(({theme:a})=>({zIndex:(a.vars||a).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:a})=>!a.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:a})=>!a,style:{pointerEvents:"none"}},{props:({ownerState:a})=>a.arrow,style:{[`&[data-popper-placement*="bottom"] .${x0.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${x0.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${x0.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${x0.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:a})=>a.arrow&&!a.isRtl,style:{[`&[data-popper-placement*="right"] .${x0.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:a})=>a.arrow&&!!a.isRtl,style:{[`&[data-popper-placement*="right"] .${x0.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:a})=>a.arrow&&!a.isRtl,style:{[`&[data-popper-placement*="left"] .${x0.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:a})=>a.arrow&&!!a.isRtl,style:{[`&[data-popper-placement*="left"] .${x0.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),x2=(0,kE.styled)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.tooltip,c.touch&&b.touch,c.arrow&&b.tooltipArrow,b[`tooltipPlacement${(0,wd.default)(c.placement.split("-")[0])}`]]}})((0,wc.default)(({theme:a})=>({backgroundColor:a.vars?a.vars.palette.Tooltip.bg:a.alpha(a.palette.grey[700],.92),borderRadius:(a.vars||a).shape.borderRadius,color:(a.vars||a).palette.common.white,fontFamily:a.typography.fontFamily,padding:"4px 8px",fontSize:a.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:a.typography.fontWeightMedium,[`.${x0.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${x0.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${x0.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${x0.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:a})=>a.arrow,style:{position:"relative",margin:0}},{props:({ownerState:a})=>a.touch,style:{padding:"8px 16px",fontSize:a.typography.pxToRem(14),lineHeight:`${Math.round(16/14*1e5)/1e5}em`,fontWeight:a.typography.fontWeightRegular}},{props:({ownerState:a})=>!a.isRtl,style:{[`.${x0.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${x0.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:a})=>!a.isRtl&&a.touch,style:{[`.${x0.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${x0.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:a})=>!!a.isRtl,style:{[`.${x0.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${x0.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:a})=>!!a.isRtl&&a.touch,style:{[`.${x0.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${x0.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:a})=>a.touch,style:{[`.${x0.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:a})=>a.touch,style:{[`.${x0.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),x3=(0,kE.styled)("span",{name:"MuiTooltip",slot:"Arrow"})((0,wc.default)(({theme:a})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:a.vars?a.vars.palette.Tooltip.bg:a.alpha(a.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}))),x4=!1,x5=new xU.Timeout,x6={x:0,y:0};function x7(a,b){return(c,...d)=>{b&&b(c,...d),a(c,...d)}}let x8=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiTooltip"}),{arrow:d=!1,children:e,classes:f,components:g={},componentsProps:i={},describeChild:j=!1,disableFocusListener:k=!1,disableHoverListener:l=!1,disableInteractive:m=!1,disableTouchListener:n=!1,enterDelay:o=100,enterNextDelay:p=0,enterTouchDelay:r=700,followCursor:s=!1,id:t,leaveDelay:u=0,leaveTouchDelay:v=1500,onClose:w,onOpen:x,open:y,placement:z="bottom",PopperComponent:A,PopperProps:B={},slotProps:C={},slots:D={},title:E,TransitionComponent:F,TransitionProps:G,...H}=c,I=q.isValidElement(e)?e:(0,h.jsx)("span",{children:e}),J=(0,sR.useTheme)(),K=(0,nZ.useRtl)(),[L,M]=q.useState(),[N,O]=q.useState(null),P=q.useRef(!1),Q=m||s,R=(0,xU.default)(),S=(0,xU.default)(),T=(0,xU.default)(),U=(0,xU.default)(),[V,W]=(0,wO.default)({controlled:y,default:!1,name:"Tooltip",state:"open"}),X=V,Y=(0,x$.default)(t),Z=q.useRef(),$=(0,xY.default)(()=>{void 0!==Z.current&&(document.body.style.WebkitUserSelect=Z.current,Z.current=void 0),U.clear()});q.useEffect(()=>$,[$]);let _=a=>{x5.clear(),x4=!0,W(!0),x&&!X&&x(a)},aa=(0,xY.default)(a=>{x5.start(800+u,()=>{x4=!1}),W(!1),w&&X&&w(a),R.start(J.transitions.duration.shortest,()=>{P.current=!1})}),ab=a=>{P.current&&"touchstart"!==a.type||(L&&L.removeAttribute("title"),S.clear(),T.clear(),o||x4&&p?S.start(x4?p:o,()=>{_(a)}):_(a))},ac=a=>{S.clear(),T.start(u,()=>{aa(a)})},[,ad]=q.useState(!1),ae=a=>{(0,xV.default)(a.target)||(ad(!1),ac(a))},af=a=>{L||M(a.currentTarget),(0,xV.default)(a.target)&&(ad(!0),ab(a))},ag=a=>{P.current=!0;let b=I.props;b.onTouchStart&&b.onTouchStart(a)};q.useEffect(()=>{if(X)return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)};function a(a){"Escape"===a.key&&aa(a)}},[aa,X]);let ah=(0,xZ.default)((0,xW.default)(I),M,b);E||0===E||(X=!1);let ai=q.useRef(),aj={},ak="string"==typeof E;j?(aj.title=X||!ak||l?null:E,aj["aria-describedby"]=X?Y:null):(aj["aria-label"]=ak?E:null,aj["aria-labelledby"]=X&&!ak?Y:null);let al={...aj,...H,...I.props,className:(0,kx.default)(H.className,I.props.className),onTouchStart:ag,ref:ah,...s?{onMouseMove:a=>{let b=I.props;b.onMouseMove&&b.onMouseMove(a),x6={x:a.clientX,y:a.clientY},ai.current&&ai.current.update()}}:{}},am={};n||(al.onTouchStart=a=>{ag(a),T.clear(),R.clear(),$(),Z.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",U.start(r,()=>{document.body.style.WebkitUserSelect=Z.current,ab(a)})},al.onTouchEnd=a=>{I.props.onTouchEnd&&I.props.onTouchEnd(a),$(),T.start(v,()=>{aa(a)})}),!l&&(al.onMouseOver=x7(ab,al.onMouseOver),al.onMouseLeave=x7(ac,al.onMouseLeave),Q||(am.onMouseOver=ab,am.onMouseLeave=ac)),!k&&(al.onFocus=x7(af,al.onFocus),al.onBlur=x7(ae,al.onBlur),Q||(am.onFocus=af,am.onBlur=ae));let an={...c,isRtl:K,arrow:d,disableInteractive:Q,placement:z,PopperComponentProp:A,touch:P.current},ao="function"==typeof C.popper?C.popper(an):C.popper,ap=q.useMemo(()=>{let a=[{name:"arrow",enabled:!!N,options:{element:N,padding:4}}];return B.popperOptions?.modifiers&&(a=a.concat(B.popperOptions.modifiers)),ao?.popperOptions?.modifiers&&(a=a.concat(ao.popperOptions.modifiers)),{...B.popperOptions,...ao?.popperOptions,modifiers:a}},[N,B.popperOptions,ao?.popperOptions]),aq=(a=>{let{classes:b,disableInteractive:c,arrow:d,touch:e,placement:f}=a,g={popper:["popper",!c&&"popperInteractive",d&&"popperArrow"],tooltip:["tooltip",d&&"tooltipArrow",e&&"touch",`tooltipPlacement${(0,wd.default)(f.split("-")[0])}`],arrow:["arrow"]};return(0,uU.default)(g,x_,b)})(an),ar="function"==typeof C.transition?C.transition(an):C.transition,as={slots:{popper:g.Popper,transition:g.Transition??F,tooltip:g.Tooltip,arrow:g.Arrow,...D},slotProps:{arrow:C.arrow??i.arrow,popper:{...B,...ao??i.popper},tooltip:C.tooltip??i.tooltip,transition:{...G,...ar??i.transition}}},[at,au]=(0,ws.default)("popper",{elementType:x1,externalForwardedProps:as,ownerState:an,className:(0,kx.default)(aq.popper,B?.className)}),[av,aw]=(0,ws.default)("transition",{elementType:xX.default,externalForwardedProps:as,ownerState:an}),[ax,ay]=(0,ws.default)("tooltip",{elementType:x2,className:aq.tooltip,externalForwardedProps:as,ownerState:an}),[az,aA]=(0,ws.default)("arrow",{elementType:x3,className:aq.arrow,externalForwardedProps:as,ownerState:an,ref:O});return(0,h.jsxs)(q.Fragment,{children:[q.cloneElement(I,al),(0,h.jsx)(at,{as:A??wb,placement:z,anchorEl:s?{getBoundingClientRect:()=>({top:x6.y,left:x6.x,right:x6.x,bottom:x6.y,width:0,height:0})}:L,popperRef:ai,open:!!L&&X,id:Y,transition:!0,...am,...au,popperOptions:ap,children:({TransitionProps:a})=>(0,h.jsx)(av,{timeout:J.transitions.duration.shorter,...a,...aw,children:(0,h.jsxs)(ax,{...ay,children:[E,d?(0,h.jsx)(az,{...aA}):null]})})})]})}),x9=q.createContext(),ya=q.createContext();function yb(a){return(0,v3.default)("MuiTableCell",a)}let yc=(0,v2.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),yd=(0,kE.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[c.variant],b[`size${(0,wd.default)(c.size)}`],"normal"!==c.padding&&b[`padding${(0,wd.default)(c.padding)}`],"inherit"!==c.align&&b[`align${(0,wd.default)(c.align)}`],c.stickyHeader&&b.stickyHeader]}})((0,wc.default)(({theme:a})=>({...a.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:a.vars?`1px solid ${a.vars.palette.TableCell.border}`:`1px solid
    ${"light"===a.palette.mode?a.lighten(a.alpha(a.palette.divider,1),.88):a.darken(a.alpha(a.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(a.vars||a).palette.text.primary,lineHeight:a.typography.pxToRem(24),fontWeight:a.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(a.vars||a).palette.text.primary}},{props:{variant:"footer"},style:{color:(a.vars||a).palette.text.secondary,lineHeight:a.typography.pxToRem(21),fontSize:a.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${yc.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:a})=>a.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(a.vars||a).palette.background.default}}]}))),ye=q.forwardRef(function(a,b){let c,d=(0,v9.useDefaultProps)({props:a,name:"MuiTableCell"}),{align:e="inherit",className:f,component:g,padding:i,scope:j,size:k,sortDirection:l,variant:m,...n}=d,o=q.useContext(x9),p=q.useContext(ya),r=p&&"head"===p.variant,s=j;"td"===(c=g||(r?"th":"td"))?s=void 0:!s&&r&&(s="col");let t=m||p&&p.variant,u={...d,align:e,component:c,padding:i||(o&&o.padding?o.padding:"normal"),size:k||(o&&o.size?o.size:"medium"),sortDirection:l,stickyHeader:"head"===t&&o&&o.stickyHeader,variant:t},v=(a=>{let{classes:b,variant:c,align:d,padding:e,size:f,stickyHeader:g}=a,h={root:["root",c,g&&"stickyHeader","inherit"!==d&&`align${(0,wd.default)(d)}`,"normal"!==e&&`padding${(0,wd.default)(e)}`,`size${(0,wd.default)(f)}`]};return(0,uU.default)(h,yb,b)})(u),w=null;return l&&(w="asc"===l?"ascending":"descending"),(0,h.jsx)(yd,{as:c,ref:b,className:(0,kx.default)(v.root,f),"aria-sort":w,scope:s,ownerState:u,...n})});var yf=a.i(393110);let yg=(0,j5.default)((0,h.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),yh=(0,j5.default)((0,h.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),yi=(0,j5.default)((0,h.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),yj=(0,j5.default)((0,h.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");function yk(a){return(0,v3.default)("MuiTablePaginationActions",a)}(0,v2.default)("MuiTablePaginationActions",["root"]);let yl=(0,kE.styled)("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),ym=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiTablePaginationActions"}),{backIconButtonProps:d,className:e,count:f,disabled:g=!1,getItemAriaLabel:i,nextIconButtonProps:j,onPageChange:k,page:l,rowsPerPage:m,showFirstButton:n,showLastButton:o,slots:p={},slotProps:q={},...r}=c,s=(0,nZ.useRtl)(),t=(a=>{let{classes:b}=a;return(0,uU.default)({root:["root"]},yk,b)})(c),u=p.firstButton??wi.default,v=p.lastButton??wi.default,w=p.nextButton??wi.default,x=p.previousButton??wi.default,y=p.firstButtonIcon??yj,z=p.lastButtonIcon??yi,A=p.nextButtonIcon??yh,B=p.previousButtonIcon??yg,C=s?v:u,D=s?w:x,E=s?x:w,F=s?u:v,G=s?q.lastButton:q.firstButton,H=s?q.nextButton:q.previousButton,I=s?q.previousButton:q.nextButton,J=s?q.firstButton:q.lastButton;return(0,h.jsxs)(yl,{ref:b,className:(0,kx.default)(t.root,e),...r,children:[n&&(0,h.jsx)(C,{onClick:a=>{k(a,0)},disabled:g||0===l,"aria-label":i("first",l),title:i("first",l),...G,children:s?(0,h.jsx)(z,{...q.lastButtonIcon}):(0,h.jsx)(y,{...q.firstButtonIcon})}),(0,h.jsx)(D,{onClick:a=>{k(a,l-1)},disabled:g||0===l,color:"inherit","aria-label":i("previous",l),title:i("previous",l),...H??d,children:s?(0,h.jsx)(A,{...q.nextButtonIcon}):(0,h.jsx)(B,{...q.previousButtonIcon})}),(0,h.jsx)(E,{onClick:a=>{k(a,l+1)},disabled:g||-1!==f&&l>=Math.ceil(f/m)-1,color:"inherit","aria-label":i("next",l),title:i("next",l),...I??j,children:s?(0,h.jsx)(B,{...q.previousButtonIcon}):(0,h.jsx)(A,{...q.nextButtonIcon})}),o&&(0,h.jsx)(F,{onClick:a=>{k(a,Math.max(0,Math.ceil(f/m)-1))},disabled:g||l>=Math.ceil(f/m)-1,"aria-label":i("last",l),title:i("last",l),...J,children:s?(0,h.jsx)(y,{...q.firstButtonIcon}):(0,h.jsx)(z,{...q.lastButtonIcon})})]})});function yn(a){return(0,v3.default)("MuiTablePagination",a)}let yo=(0,v2.default)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),yp=(0,kE.styled)(ye,{name:"MuiTablePagination",slot:"Root"})((0,wc.default)(({theme:a})=>({overflow:"auto",color:(a.vars||a).palette.text.primary,fontSize:a.typography.pxToRem(14),"&:last-child":{padding:0}}))),yq=(0,kE.styled)(yf.default,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(a,b)=>({[`& .${yo.actions}`]:b.actions,...b.toolbar})})((0,wc.default)(({theme:a})=>({minHeight:52,paddingRight:2,[`${a.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[a.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${yo.actions}`]:{flexShrink:0,marginLeft:20}}))),yr=(0,kE.styled)("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),ys=(0,kE.styled)("p",{name:"MuiTablePagination",slot:"SelectLabel"})((0,wc.default)(({theme:a})=>({...a.typography.body2,flexShrink:0}))),yt=(0,kE.styled)(xF.default,{name:"MuiTablePagination",slot:"Select",overridesResolver:(a,b)=>({[`& .${yo.selectIcon}`]:b.selectIcon,[`& .${yo.select}`]:b.select,...b.input,...b.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${yo.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),yu=(0,kE.styled)(xv.default,{name:"MuiTablePagination",slot:"MenuItem"})({}),yv=(0,kE.styled)("p",{name:"MuiTablePagination",slot:"DisplayedRows"})((0,wc.default)(({theme:a})=>({...a.typography.body2,flexShrink:0})));function yw({from:a,to:b,count:c}){return`${a}${b} of ${-1!==c?c:`more than ${b}`}`}function yx(a){return`Go to ${a} page`}let yy=q.forwardRef(function(a,b){let c,d=(0,v9.useDefaultProps)({props:a,name:"MuiTablePagination"}),{ActionsComponent:e=ym,backIconButtonProps:f,colSpan:i,component:j=ye,count:k,disabled:l=!1,getItemAriaLabel:m=yx,labelDisplayedRows:n=yw,labelRowsPerPage:o="Rows per page:",nextIconButtonProps:p,onPageChange:r,onRowsPerPageChange:s,page:t,rowsPerPage:u,rowsPerPageOptions:v=[10,25,50,100],SelectProps:w={},showFirstButton:x=!1,showLastButton:y=!1,slotProps:z={},slots:A={},...B}=d,C=(a=>{let{classes:b}=a;return(0,uU.default)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},yn,b)})(d),D=z?.select??w,E=D.native?"option":yu;(j===ye||"td"===j)&&(c=i||1e3);let F=(0,x$.default)(D.id),G=(0,x$.default)(D.labelId),H={slots:A,slotProps:z},[I,J]=(0,ws.default)("root",{ref:b,className:C.root,elementType:yp,externalForwardedProps:{...H,component:j,...B},ownerState:d,additionalProps:{colSpan:c}}),[K,L]=(0,ws.default)("toolbar",{className:C.toolbar,elementType:yq,externalForwardedProps:H,ownerState:d}),[M,N]=(0,ws.default)("spacer",{className:C.spacer,elementType:yr,externalForwardedProps:H,ownerState:d}),[O,P]=(0,ws.default)("selectLabel",{className:C.selectLabel,elementType:ys,externalForwardedProps:H,ownerState:d,additionalProps:{id:G}}),[Q,R]=(0,ws.default)("select",{className:C.select,elementType:yt,externalForwardedProps:H,ownerState:d}),[S,T]=(0,ws.default)("menuItem",{className:C.menuItem,elementType:E,externalForwardedProps:H,ownerState:d}),[U,V]=(0,ws.default)("displayedRows",{className:C.displayedRows,elementType:yv,externalForwardedProps:H,ownerState:d});return(0,h.jsx)(I,{...J,children:(0,h.jsxs)(K,{...L,children:[(0,h.jsx)(M,{...N}),v.length>1&&(0,h.jsx)(O,{...P,children:o}),v.length>1&&(0,h.jsx)(Q,{variant:"standard",...!D.variant&&{input:g||(g=(0,h.jsx)(w9.default,{}))},value:u,onChange:s,id:F,labelId:G,...D,classes:{...D.classes,root:(0,kx.default)(C.input,C.selectRoot,(D.classes||{}).root),select:(0,kx.default)(C.select,(D.classes||{}).select),icon:(0,kx.default)(C.selectIcon,(D.classes||{}).icon)},disabled:l,...R,children:v.map(a=>(0,q.createElement)(S,{...T,key:a.label?a.label:a,value:a.value?a.value:a},a.label?a.label:a))}),(0,h.jsx)(U,{...V,children:n({from:0===k?0:t*u+1,to:-1===k?(t+1)*u:-1===u?k:Math.min(k,(t+1)*u),count:-1===k?-1:k,page:t})}),(0,h.jsx)(e,{className:C.actions,backIconButtonProps:f,count:k,nextIconButtonProps:p,onPageChange:r,page:t,rowsPerPage:u,showFirstButton:x,showLastButton:y,slotProps:z.actions,slots:A.actions,getItemAriaLabel:m,disabled:l})]})})});function yz(a){return a.substring(2).toLowerCase()}function yA(a){let{children:b,disableReactTree:c=!1,mouseEvent:d="onClick",onClickAway:e,touchEvent:f="onTouchEnd"}=a,g=q.useRef(!1),h=q.useRef(null),i=q.useRef(!1),j=q.useRef(!1);q.useEffect(()=>(setTimeout(()=>{i.current=!0},0),()=>{i.current=!1}),[]);let k=(0,u7.default)((0,xW.default)(b),h),l=(0,uW.default)(a=>{let b=j.current;j.current=!1;let d=(0,u5.default)(h.current);if(!(!i.current||!h.current||"clientX"in a&&(d.documentElement.clientWidth<a.clientX||d.documentElement.clientHeight<a.clientY))){if(g.current){g.current=!1;return}(a.composedPath?a.composedPath().includes(h.current):!d.documentElement.contains(a.target)||h.current.contains(a.target))||!c&&b||e(a)}}),m=a=>c=>{j.current=!0;let d=b.props[a];d&&d(c)},n={ref:k};return!1!==f&&(n[f]=m(f)),q.useEffect(()=>{if(!1!==f){let a=yz(f),b=(0,u5.default)(h.current),c=()=>{g.current=!0};return b.addEventListener(a,l),b.addEventListener("touchmove",c),()=>{b.removeEventListener(a,l),b.removeEventListener("touchmove",c)}}},[l,f]),!1!==d&&(n[d]=m(d)),q.useEffect(()=>{if(!1!==d){let a=yz(d),b=(0,u5.default)(h.current);return b.addEventListener(a,l),()=>{b.removeEventListener(a,l)}}},[l,d]),q.cloneElement(b,n)}var yB=a.i(875168);function yC(a){return(0,v3.default)("MuiSkeleton",a)}(0,v2.default)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);let yD=t_.keyframes`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,yE=t_.keyframes`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,yF="string"!=typeof yD?t_.css`
        animation: ${yD} 2s ease-in-out 0.5s infinite;
      `:null,yG="string"!=typeof yE?t_.css`
        &::after {
          animation: ${yE} 2s linear 0.5s infinite;
        }
      `:null,yH=(0,kE.styled)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[c.variant],!1!==c.animation&&b[c.animation],c.hasChildren&&b.withChildren,c.hasChildren&&!c.width&&b.fitContent,c.hasChildren&&!c.height&&b.heightAuto]}})((0,wc.default)(({theme:a})=>{let b=String(a.shape.borderRadius).match(/[\d.\-+]*\s*(.*)/)[1]||"px",c=parseFloat(a.shape.borderRadius);return{display:"block",backgroundColor:a.vars?a.vars.palette.Skeleton.bg:a.alpha(a.palette.text.primary,"light"===a.palette.mode?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${c}${b}/${Math.round(c/.6*10)/10}${b}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(a.vars||a).shape.borderRadius}},{props:({ownerState:a})=>a.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:a})=>a.hasChildren&&!a.width,style:{maxWidth:"fit-content"}},{props:({ownerState:a})=>a.hasChildren&&!a.height,style:{height:"auto"}},{props:{animation:"pulse"},style:yF||{animation:`${yD} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(a.vars||a).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:yG||{"&::after":{animation:`${yE} 2s linear 0.5s infinite`}}}]}})),yI=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiSkeleton"}),{animation:d="pulse",className:e,component:f="span",height:g,style:i,variant:j="text",width:k,...l}=c,m={...c,animation:d,component:f,variant:j,hasChildren:!!l.children},n=(a=>{let{classes:b,variant:c,animation:d,hasChildren:e,width:f,height:g}=a;return(0,uU.default)({root:["root",c,d,e&&"withChildren",e&&!f&&"fitContent",e&&!g&&"heightAuto"]},yC,b)})(m);return(0,h.jsx)(yH,{as:f,ref:b,className:(0,kx.default)(n.root,e),ownerState:m,...l,style:{width:k,height:g,...i}})});var yJ=a.i(73946);function yK(a){return(1+Math.sin(Math.PI*a-Math.PI/2))/2}var yL=a.i(669807),yM=a.i(718843),yM=yM;let yN={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function yO(a){return(0,v3.default)("MuiTabScrollButton",a)}let yP=(0,v2.default)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),yQ=(0,kE.styled)(wQ.default,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.orientation&&b[c.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${yP.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),yR=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiTabScrollButton"}),{className:d,slots:e={},slotProps:f={},direction:g,orientation:i,disabled:j,...k}=c,l=(0,nZ.useRtl)(),m={isRtl:l,...c},n=(a=>{let{classes:b,orientation:c,disabled:d}=a;return(0,uU.default)({root:["root",c,d&&"disabled"]},yO,b)})(m),o=e.StartScrollButtonIcon??yg,p=e.EndScrollButtonIcon??yh,q=(0,v0.default)({elementType:o,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),r=(0,v0.default)({elementType:p,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return(0,h.jsx)(yQ,{component:"div",className:(0,kx.default)(n.root,d),ref:b,role:null,ownerState:m,tabIndex:null,...k,style:{...k.style,..."vertical"===i&&{"--TabScrollButton-svgRotate":`rotate(${l?-90:90}deg)`}},children:"left"===g?(0,h.jsx)(o,{...q}):(0,h.jsx)(p,{...r})})});function yS(a){return(0,v3.default)("MuiTabs",a)}let yT=(0,v2.default)("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var yU=a.i(459130),yV=a.i(570350);let yW=(a,b)=>a===b?a.firstChild:b&&b.nextElementSibling?b.nextElementSibling:a.firstChild,yX=(a,b)=>a===b?a.lastChild:b&&b.previousElementSibling?b.previousElementSibling:a.lastChild,yY=(a,b,c)=>{let d=!1,e=c(a,b);for(;e;){if(e===a.firstChild){if(d)return;d=!0}let b=e.disabled||"true"===e.getAttribute("aria-disabled");if(e.hasAttribute("tabindex")&&!b)return void e.focus();e=c(a,e)}},yZ=(0,kE.styled)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[{[`& .${yT.scrollButtons}`]:b.scrollButtons},{[`& .${yT.scrollButtons}`]:c.scrollButtonsHideMobile&&b.scrollButtonsHideMobile},b.root,c.vertical&&b.vertical]}})((0,wc.default)(({theme:a})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:a})=>a.vertical,style:{flexDirection:"column"}},{props:({ownerState:a})=>a.scrollButtonsHideMobile,style:{[`& .${yT.scrollButtons}`]:{[a.breakpoints.down("sm")]:{display:"none"}}}}]}))),y$=(0,kE.styled)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.scroller,c.fixed&&b.fixed,c.hideScrollbar&&b.hideScrollbar,c.scrollableX&&b.scrollableX,c.scrollableY&&b.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:a})=>a.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:a})=>a.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:a})=>a.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:a})=>a.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),y_=(0,kE.styled)("div",{name:"MuiTabs",slot:"List",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.list,b.flexContainer,c.vertical&&b.flexContainerVertical,c.centered&&b.centered]}})({display:"flex",variants:[{props:({ownerState:a})=>a.vertical,style:{flexDirection:"column"}},{props:({ownerState:a})=>a.centered,style:{justifyContent:"center"}}]}),y0=(0,kE.styled)("span",{name:"MuiTabs",slot:"Indicator"})((0,wc.default)(({theme:a})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:a.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(a.vars||a).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(a.vars||a).palette.secondary.main}},{props:({ownerState:a})=>a.vertical,style:{height:"100%",width:2,right:0}}]}))),y1=(0,kE.styled)(function(a){let{onChange:b,...c}=a,d=q.useRef(),e=q.useRef(null),f=()=>{d.current=e.current.offsetHeight-e.current.clientHeight};return(0,yM.default)(()=>{let a=(0,yJ.default)(()=>{let a=d.current;f(),a!==d.current&&b(d.current)}),c=(0,yL.ownerWindow)(e.current);return c.addEventListener("resize",a),()=>{a.clear(),c.removeEventListener("resize",a)}},[b]),q.useEffect(()=>{f(),b(d.current)},[b]),(0,h.jsx)("div",{style:yN,...c,ref:e})})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),y2={},y3=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiTabs"}),d=(0,sR.useTheme)(),e=(0,nZ.useRtl)(),{"aria-label":f,"aria-labelledby":g,action:i,centered:j=!1,children:k,className:l,component:m="div",allowScrollButtonsMobile:n=!1,indicatorColor:o="primary",onChange:p,orientation:r="horizontal",ScrollButtonComponent:s,scrollButtons:t="auto",selectionFollowsFocus:u,slots:v={},slotProps:w={},TabIndicatorProps:x={},TabScrollButtonProps:y={},textColor:z="primary",value:A,variant:B="standard",visibleScrollbar:C=!1,...D}=c,E="scrollable"===B,F="vertical"===r,G=F?"scrollTop":"scrollLeft",H=F?"top":"left",I=F?"bottom":"right",J=F?"clientHeight":"clientWidth",K=F?"height":"width",L={...c,component:m,allowScrollButtonsMobile:n,indicatorColor:o,orientation:r,vertical:F,scrollButtons:t,textColor:z,variant:B,visibleScrollbar:C,fixed:!E,hideScrollbar:E&&!C,scrollableX:E&&!F,scrollableY:E&&F,centered:j&&!E,scrollButtonsHideMobile:!n},M=(a=>{let{vertical:b,fixed:c,hideScrollbar:d,scrollableX:e,scrollableY:f,centered:g,scrollButtonsHideMobile:h,classes:i}=a;return(0,uU.default)({root:["root",b&&"vertical"],scroller:["scroller",c&&"fixed",d&&"hideScrollbar",e&&"scrollableX",f&&"scrollableY"],list:["list","flexContainer",b&&"flexContainerVertical",b&&"vertical",g&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[e&&"scrollableX"],hideScrollbar:[d&&"hideScrollbar"]},yS,i)})(L),N=(0,v0.default)({elementType:v.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:L}),O=(0,v0.default)({elementType:v.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:L}),[P,Q]=q.useState(!1),[R,S]=q.useState(y2),[T,U]=q.useState(!1),[V,W]=q.useState(!1),[X,Y]=q.useState(!1),[Z,$]=q.useState({overflow:"hidden",scrollbarWidth:0}),_=new Map,aa=q.useRef(null),ab=q.useRef(null),ac={slots:v,slotProps:{indicator:x,scrollButton:y,...w}},ad=()=>{let a,b,c=aa.current;if(c){let b=c.getBoundingClientRect();a={clientWidth:c.clientWidth,scrollLeft:c.scrollLeft,scrollTop:c.scrollTop,scrollWidth:c.scrollWidth,top:b.top,bottom:b.bottom,left:b.left,right:b.right}}if(c&&!1!==A){let a=ab.current.children;if(a.length>0){let c=a[_.get(A)];b=c?c.getBoundingClientRect():null}}return{tabsMeta:a,tabMeta:b}},ae=(0,xY.default)(()=>{let a,{tabsMeta:b,tabMeta:c}=ad(),d=0;F?(a="top",c&&b&&(d=c.top-b.top+b.scrollTop)):(a=e?"right":"left",c&&b&&(d=(e?-1:1)*(c[a]-b[a]+b.scrollLeft)));let f={[a]:d,[K]:c?c[K]:0};if("number"!=typeof R[a]||"number"!=typeof R[K])S(f);else{let b=Math.abs(R[a]-f[a]),c=Math.abs(R[K]-f[K]);(b>=1||c>=1)&&S(f)}}),af=(a,{animation:b=!0}={})=>{b?function(a,b,c,d={},e=()=>{}){let{ease:f=yK,duration:g=300}=d,h=null,i=b[a],j=!1,k=d=>{if(j)return void e(Error("Animation cancelled"));null===h&&(h=d);let l=Math.min(1,(d-h)/g);if(b[a]=f(l)*(c-i)+i,l>=1)return void requestAnimationFrame(()=>{e(null)});requestAnimationFrame(k)};i===c?e(Error("Element already at target position")):requestAnimationFrame(k)}(G,aa.current,a,{duration:d.transitions.duration.standard}):aa.current[G]=a},ag=a=>{let b=aa.current[G];F?b+=a:b+=a*(e?-1:1),af(b)},ah=()=>{let a=aa.current[J],b=0,c=Array.from(ab.current.children);for(let d=0;d<c.length;d+=1){let e=c[d];if(b+e[J]>a){0===d&&(b=a);break}b+=e[J]}return b},ai=()=>{ag(-1*ah())},aj=()=>{ag(ah())},[ak,{onChange:al,...am}]=(0,ws.default)("scrollbar",{className:(0,kx.default)(M.scrollableX,M.hideScrollbar),elementType:y1,shouldForwardComponentProp:!0,externalForwardedProps:ac,ownerState:L}),an=q.useCallback(a=>{al?.(a),$({overflow:null,scrollbarWidth:a})},[al]),[ao,ap]=(0,ws.default)("scrollButtons",{className:(0,kx.default)(M.scrollButtons,y.className),elementType:yR,externalForwardedProps:ac,ownerState:L,additionalProps:{orientation:r,slots:{StartScrollButtonIcon:v.startScrollButtonIcon||v.StartScrollButtonIcon,EndScrollButtonIcon:v.endScrollButtonIcon||v.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:N,endScrollButtonIcon:O}}}),aq=(0,xY.default)(a=>{let{tabsMeta:b,tabMeta:c}=ad();c&&b&&(c[H]<b[H]?af(b[G]+(c[H]-b[H]),{animation:a}):c[I]>b[I]&&af(b[G]+(c[I]-b[I]),{animation:a}))}),ar=(0,xY.default)(()=>{E&&!1!==t&&Y(!X)});q.useEffect(()=>{let a,b,c=(0,yJ.default)(()=>{aa.current&&ae()}),d=(0,yV.default)(aa.current);return d.addEventListener("resize",c),"undefined"!=typeof ResizeObserver&&(a=new ResizeObserver(c),Array.from(ab.current.children).forEach(b=>{a.observe(b)})),"undefined"!=typeof MutationObserver&&(b=new MutationObserver(b=>{b.forEach(b=>{b.removedNodes.forEach(b=>{a?.unobserve(b)}),b.addedNodes.forEach(b=>{a?.observe(b)})}),c(),ar()})).observe(ab.current,{childList:!0}),()=>{c.clear(),d.removeEventListener("resize",c),b?.disconnect(),a?.disconnect()}},[ae,ar]),q.useEffect(()=>{let a=Array.from(ab.current.children),b=a.length;if("undefined"!=typeof IntersectionObserver&&b>0&&E&&!1!==t){let c=a[0],d=a[b-1],e={root:aa.current,threshold:.99},f=new IntersectionObserver(a=>{U(!a[0].isIntersecting)},e);f.observe(c);let g=new IntersectionObserver(a=>{W(!a[0].isIntersecting)},e);return g.observe(d),()=>{f.disconnect(),g.disconnect()}}},[E,t,X,k?.length]),q.useEffect(()=>{Q(!0)},[]),q.useEffect(()=>{ae()}),q.useEffect(()=>{aq(y2!==R)},[aq,R]),q.useImperativeHandle(i,()=>({updateIndicator:ae,updateScrollButtons:ar}),[ae,ar]);let[as,at]=(0,ws.default)("indicator",{className:(0,kx.default)(M.indicator,x.className),elementType:y0,externalForwardedProps:ac,ownerState:L,additionalProps:{style:R}}),au=(0,h.jsx)(as,{...at}),av=0,aw=q.Children.map(k,a=>{if(!q.isValidElement(a))return null;let b=void 0===a.props.value?av:a.props.value;_.set(b,av);let c=b===A;return av+=1,q.cloneElement(a,{fullWidth:"fullWidth"===B,indicator:c&&!P&&au,selected:c,selectionFollowsFocus:u,onChange:p,textColor:z,value:b,...1===av&&!1===A&&!a.props.tabIndex?{tabIndex:0}:{}})}),ax=(()=>{let a={};a.scrollbarSizeListener=E?(0,h.jsx)(ak,{...am,onChange:an}):null;let b=E&&("auto"===t&&(T||V)||!0===t);return a.scrollButtonStart=b?(0,h.jsx)(ao,{direction:e?"right":"left",onClick:ai,disabled:!T,...ap}):null,a.scrollButtonEnd=b?(0,h.jsx)(ao,{direction:e?"left":"right",onClick:aj,disabled:!V,...ap}):null,a})(),[ay,az]=(0,ws.default)("root",{ref:b,className:(0,kx.default)(M.root,l),elementType:yZ,externalForwardedProps:{...ac,...D,component:m},ownerState:L}),[aA,aB]=(0,ws.default)("scroller",{ref:aa,className:M.scroller,elementType:y$,externalForwardedProps:ac,ownerState:L,additionalProps:{style:{overflow:Z.overflow,[F?`margin${e?"Left":"Right"}`:"marginBottom"]:C?void 0:-Z.scrollbarWidth}}}),[aC,aD]=(0,ws.default)("list",{ref:ab,className:(0,kx.default)(M.list,M.flexContainer),elementType:y_,externalForwardedProps:ac,ownerState:L,getSlotProps:a=>({...a,onKeyDown:b=>{(a=>{if(a.altKey||a.shiftKey||a.ctrlKey||a.metaKey)return;let b=ab.current,c=(0,yU.default)(b).activeElement;if("tab"!==c.getAttribute("role"))return;let d="horizontal"===r?"ArrowLeft":"ArrowUp",f="horizontal"===r?"ArrowRight":"ArrowDown";switch("horizontal"===r&&e&&(d="ArrowRight",f="ArrowLeft"),a.key){case d:a.preventDefault(),yY(b,c,yX);break;case f:a.preventDefault(),yY(b,c,yW);break;case"Home":a.preventDefault(),yY(b,null,yW);break;case"End":a.preventDefault(),yY(b,null,yX)}})(b),a.onKeyDown?.(b)}})});return(0,h.jsxs)(ay,{...az,children:[ax.scrollButtonStart,ax.scrollbarSizeListener,(0,h.jsxs)(aA,{...aB,children:[(0,h.jsx)(aC,{"aria-label":f,"aria-labelledby":g,"aria-orientation":"vertical"===r?"vertical":null,role:"tablist",...aD,children:aw}),P&&au]}),ax.scrollButtonEnd]})});function y4(a){return(0,v3.default)("MuiTab",a)}let y5=(0,v2.default)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),y6=(0,kE.styled)(wQ.default,{name:"MuiTab",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.label&&c.icon&&b.labelIcon,b[`textColor${(0,wd.default)(c.textColor)}`],c.fullWidth&&b.fullWidth,c.wrapped&&b.wrapped,{[`& .${y5.iconWrapper}`]:b.iconWrapper},{[`& .${y5.icon}`]:b.icon}]}})((0,wc.default)(({theme:a})=>({...a.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:a})=>a.label&&("top"===a.iconPosition||"bottom"===a.iconPosition),style:{flexDirection:"column"}},{props:({ownerState:a})=>a.label&&"top"!==a.iconPosition&&"bottom"!==a.iconPosition,style:{flexDirection:"row"}},{props:({ownerState:a})=>a.icon&&a.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:a,iconPosition:b})=>a.icon&&a.label&&"top"===b,style:{[`& > .${y5.icon}`]:{marginBottom:6}}},{props:({ownerState:a,iconPosition:b})=>a.icon&&a.label&&"bottom"===b,style:{[`& > .${y5.icon}`]:{marginTop:6}}},{props:({ownerState:a,iconPosition:b})=>a.icon&&a.label&&"start"===b,style:{[`& > .${y5.icon}`]:{marginRight:a.spacing(1)}}},{props:({ownerState:a,iconPosition:b})=>a.icon&&a.label&&"end"===b,style:{[`& > .${y5.icon}`]:{marginLeft:a.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${y5.selected}`]:{opacity:1},[`&.${y5.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(a.vars||a).palette.text.secondary,[`&.${y5.selected}`]:{color:(a.vars||a).palette.primary.main},[`&.${y5.disabled}`]:{color:(a.vars||a).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(a.vars||a).palette.text.secondary,[`&.${y5.selected}`]:{color:(a.vars||a).palette.secondary.main},[`&.${y5.disabled}`]:{color:(a.vars||a).palette.text.disabled}}},{props:({ownerState:a})=>a.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:a})=>a.wrapped,style:{fontSize:a.typography.pxToRem(12)}}]}))),y7=q.forwardRef(function(a,b){let c=(0,v9.useDefaultProps)({props:a,name:"MuiTab"}),{className:d,disabled:e=!1,disableFocusRipple:f=!1,fullWidth:g,icon:i,iconPosition:j="top",indicator:k,label:l,onChange:m,onClick:n,onFocus:o,selected:p,selectionFollowsFocus:r,textColor:s="inherit",value:t,wrapped:u=!1,...v}=c,w={...c,disabled:e,disableFocusRipple:f,selected:p,icon:!!i,iconPosition:j,label:!!l,fullWidth:g,textColor:s,wrapped:u},x=(a=>{let{classes:b,textColor:c,fullWidth:d,wrapped:e,icon:f,label:g,selected:h,disabled:i}=a,j={root:["root",f&&g&&"labelIcon",`textColor${(0,wd.default)(c)}`,d&&"fullWidth",e&&"wrapped",h&&"selected",i&&"disabled"],icon:["iconWrapper","icon"]};return(0,uU.default)(j,y4,b)})(w),y=i&&l&&q.isValidElement(i)?q.cloneElement(i,{className:(0,kx.default)(x.icon,i.props.className)}):i;return(0,h.jsxs)(y6,{focusRipple:!f,className:(0,kx.default)(x.root,d),ref:b,role:"tab","aria-selected":p,disabled:e,onClick:a=>{!p&&m&&m(a,t),n&&n(a)},onFocus:a=>{r&&!p&&m&&m(a,t),o&&o(a)},ownerState:w,tabIndex:p?0:-1,...v,children:["top"===j||"start"===j?(0,h.jsxs)(q.Fragment,{children:[y,l]}):(0,h.jsxs)(q.Fragment,{children:[l,y]}),k]})});var y8=a.i(476979);function y9(a){return(0,v3.default)("MuiToggleButton",a)}let za=(0,v2.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),zb=q.createContext({}),zc=q.createContext(void 0),zd=(0,kE.styled)(wQ.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`size${(0,wd.default)(c.size)}`]]}})((0,wc.default)(({theme:a})=>({...a.typography.button,borderRadius:(a.vars||a).shape.borderRadius,padding:11,border:`1px solid ${(a.vars||a).palette.divider}`,color:(a.vars||a).palette.action.active,[`&.${za.disabled}`]:{color:(a.vars||a).palette.action.disabled,border:`1px solid ${(a.vars||a).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${za.selected}`]:{color:(a.vars||a).palette.text.primary,backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.selectedOpacity),"&:hover":{backgroundColor:a.alpha((a.vars||a).palette.text.primary,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.selectedOpacity)}}}}},...Object.entries(a.palette).filter((0,wG.default)()).map(([b])=>({props:{color:b},style:{[`&.${za.selected}`]:{color:(a.vars||a).palette[b].main,backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.selectedOpacity),"&:hover":{backgroundColor:a.alpha((a.vars||a).palette[b].main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:a.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:a.typography.pxToRem(15)}}]}))),ze=q.forwardRef(function(a,b){var c;let{value:d,...e}=q.useContext(zb),f=q.useContext(zc),g=(0,y8.default)({...e,selected:(c=a.value,void 0!==d&&void 0!==c&&(Array.isArray(d)?d.includes(c):c===d))},a),i=(0,v9.useDefaultProps)({props:g,name:"MuiToggleButton"}),{children:j,className:k,color:l="standard",disabled:m=!1,disableFocusRipple:n=!1,fullWidth:o=!1,onChange:p,onClick:r,selected:s,size:t="medium",value:u,...v}=i,w={...i,color:l,disabled:m,disableFocusRipple:n,fullWidth:o,size:t},x=(a=>{let{classes:b,fullWidth:c,selected:d,disabled:e,size:f,color:g}=a,h={root:["root",d&&"selected",e&&"disabled",c&&"fullWidth",`size${(0,wd.default)(f)}`,g]};return(0,uU.default)(h,y9,b)})(w);return(0,h.jsx)(zd,{className:(0,kx.default)(e.className,x.root,k,f||""),disabled:m,focusRipple:!n,ref:b,onClick:a=>{r&&(r(a,u),a.defaultPrevented)||p&&p(a,u)},onChange:p,value:u,ownerState:w,"aria-pressed":s,...v,children:j})}),zf=j5.default,zg=zf((0,h.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),zh=zf((0,h.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),zi=zf((0,h.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),zj=zf((0,h.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),zk=zf((0,h.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),zl=zf((0,h.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),zm=zf((0,h.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");zf((0,h.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),zf((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");let zn=zf((0,h.jsx)("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"}),"ColumnIcon"),zo=zf((0,h.jsx)("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),zp=zf((0,h.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),zq=zf((0,h.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),zr=zf((0,h.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),zs=zf((0,h.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),zt=zf((0,h.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zu=zf((0,h.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),zv=zf((0,h.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),zw=zf((0,h.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),zx=zf((0,h.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),zy=zf((0,h.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),zz=zf((0,h.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),zA=zf((0,h.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),zB=zf((0,h.jsx)("g",{children:(0,h.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),zC=zf((0,h.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Clear");zf((0,h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");let zD=zf((0,h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),zE=zf((0,h.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),zF=["sortingOrder"],zG=q.memo(function(a){let{sortingOrder:b}=a,c=(0,kw.default)(a,zF),d=k6(),[e]=b,f="asc"===e?d.slots.columnSortedAscendingIcon:d.slots.columnSortedDescendingIcon;return f?(0,h.jsx)(f,(0,ks.default)({},c)):null}),zH=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],zI=["onRowsPerPageChange","material","disabled"],zJ=["material"],zK=["autoFocus","label","fullWidth","slotProps","className","material"],zL=["material"],zM=["material"],zN=["material"],zO=["material"],zP=["material"],zQ=["material"],zR=["material"],zS=["material"],zT=["material"],zU=["material","label","className"],zV=["material"],zW=["inert","iconStart","iconEnd","children","material"],zX=["slotProps","material"],zY=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],zZ=["key"],z$=["inputProps","InputProps","InputLabelProps"],z_=["slotProps","material"],z0=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],z1=["native"],z2=["children","value","active"],z3=["items","value","material"],z4=(0,kE.styled)(xT)(({theme:a})=>({[`&.${xR.positionEnd} .${xO.default.sizeSmall}`]:{marginRight:a.spacing(-.75)}})),z5=(0,kE.styled)(xE,{shouldForwardProp:a=>"fullWidth"!==a})(({theme:a})=>({gap:a.spacing(.5),margin:0,overflow:"hidden",[`& .${xA.label}`]:{fontSize:a.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),z6=(0,kE.styled)(w3,{shouldForwardProp:a=>"density"!==a})(({theme:a})=>({variants:[{props:{density:"compact"},style:{padding:a.spacing(.5)}}]})),z7=(0,kE.styled)(xs.default)({[`& .${xt.listItemTextClasses.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),z8=kv(function(a,b){let{id:c,label:d,labelId:e,material:f,disabled:g,slotProps:i,onChange:j,onKeyDown:k,onOpen:l,onClose:m,size:n,style:o,fullWidth:p}=a,q=(0,kw.default)(a,zH),r={PaperProps:{onKeyDown:k}};return m&&(r.onClose=m),(0,h.jsxs)(xx.default,{size:n,fullWidth:p,style:o,disabled:g,ref:b,children:[(0,h.jsx)(yB.default,{id:e,htmlFor:c,shrink:!0,variant:"outlined",children:d}),(0,h.jsx)(xF.default,(0,ks.default)({id:c,labelId:e,label:d,displayEmpty:!0,onChange:j,variant:"outlined"},q,{notched:!0,inputProps:i?.htmlInput,onOpen:l,MenuProps:r,size:n},f))]})}),z9=(0,kE.styled)(yy)(({theme:a})=>({[`& .${yo.selectLabel}`]:{display:"none",[a.breakpoints.up("sm")]:{display:"block"}},[`& .${yo.input}`]:{display:"none",[a.breakpoints.up("sm")]:{display:"inline-flex"}}})),Aa=kv(function(a,b){let{onRowsPerPageChange:c,material:d,disabled:e}=a,f=(0,kw.default)(a,zI),g=q.useMemo(()=>{if(e)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[e]),i=lO(),{estimatedRowCount:j}=k6();return(0,h.jsx)(z9,(0,ks.default)({component:"div",onRowsPerPageChange:mk(a=>{c?.(Number(a.target.value))}),labelRowsPerPage:i.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:a=>i.current.getLocaleText("paginationDisplayedRows")((0,ks.default)({},a,{estimated:j})),getItemAriaLabel:i.current.getLocaleText("paginationItemAriaLabel")},g,f,d,{ref:b}))}),Ab=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zJ);return(0,h.jsx)(wM,(0,ks.default)({},d,c,{ref:b}))}),Ac=kv(function(a,b){let{autoFocus:c,label:d,fullWidth:e,slotProps:f,className:g,material:i}=a,j=(0,kw.default)(a,zK),k=q.useRef(null),l=ky(k,b),m=q.useRef(null);return(q.useEffect(()=>{if(c){let a=k.current?.querySelector("input");a?.focus({preventScroll:!0})}else!1===c&&m.current&&m.current.stop({})},[c]),d)?(0,h.jsx)(z5,{className:g,control:(0,h.jsx)(z6,(0,ks.default)({},j,i,{inputProps:f?.htmlInput,ref:l,touchRippleRef:m})),label:d,fullWidth:e}):(0,h.jsx)(z6,(0,ks.default)({},j,i,{className:(0,kx.default)(g,i?.className),inputProps:f?.htmlInput,ref:l,touchRippleRef:m}))}),Ad=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zL);return(0,h.jsx)(w4.default,(0,ks.default)({},d,c,{ref:b}))}),Ae=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zM);return(0,h.jsx)(w8,(0,ks.default)({},d,c,{ref:b}))}),Af=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zN);return(0,h.jsx)(xn,(0,ks.default)({},d,c,{ref:b}))}),Ag=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zO);return(0,h.jsx)(xN.default,(0,ks.default)({},d,c,{ref:b}))}),Ah=(0,kE.styled)(ze)(({theme:a})=>({gap:a.spacing(1),border:0})),Ai=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zP);return(0,h.jsx)(Ah,(0,ks.default)({size:"small",color:"primary"},d,c,{ref:b}))}),Aj=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zQ);return(0,h.jsx)(wj.default,(0,ks.default)({},d,c,{ref:b}))}),Ak=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zR);return(0,h.jsx)(wi.default,(0,ks.default)({},d,c,{ref:b}))}),Al=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zS);return(0,h.jsx)(x8,(0,ks.default)({},d,c,{ref:b}))}),Am=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zT);return(0,h.jsx)(yI,(0,ks.default)({},d,c,{ref:b}))}),An=kv(function(a,b){let{material:c,label:d,className:e}=a,f=(0,kw.default)(a,zU);return d?(0,h.jsx)(z5,{className:e,control:(0,h.jsx)(xM,(0,ks.default)({},f,c,{ref:b})),label:d}):(0,h.jsx)(xM,(0,ks.default)({},f,c,{className:e,ref:b}))}),Ao=kv(function(a,b){let{material:c}=a,d=(0,kw.default)(a,zV);return(0,h.jsx)(xu.default,(0,ks.default)({},d,c,{ref:b}))});function Ap(a,b=!0){if(!a)return;let{slotProps:c,material:d}=a,e=(0,kw.default)(a,z_);for(let a in b&&(e.startAdornment&&(e.startAdornment=(0,h.jsx)(z4,{position:"start",children:e.startAdornment})),e.endAdornment&&(e.endAdornment=(0,h.jsx)(z4,{position:"end",children:e.endAdornment}))),d)Object.hasOwn(d,a)&&(e[a]=d[a]);return c?.htmlInput&&(e.inputProps?e.inputProps=(0,ks.default)({},e.inputProps,c?.htmlInput):e.inputProps=c?.htmlInput),e}let Aq={"bottom-start":"top left","bottom-end":"top right"};function Ar(a,b){return void 0===a.onClickAway?b:(0,h.jsx)(yA,{onClickAway:a.onClickAway,touchEvent:a.clickAwayTouchEvent,mouseEvent:a.clickAwayMouseEvent,children:b})}function As(a,b){return void 0===a.focusTrap?b:(0,h.jsx)(xa.default,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:(0,h.jsx)("div",{tabIndex:-1,children:b})})}let At=(0,kE.styled)(y3,{name:"MuiDataGrid",slot:"Tabs"})(({theme:a})=>({borderBottom:`1px solid ${a.palette.divider}`})),Au=(0,kE.styled)(y7,{name:"MuiDataGrid",slot:"Tab"})({flex:1,minWidth:"fit-content"}),Av=(0,kE.styled)("div",{name:"MuiDataGrid",slot:"TabPanel"})({flex:1,display:"flex",flexDirection:"column",overflow:"hidden"});function Aw(a){let{children:b,active:c}=a,d=(0,kw.default)(a,z2);return(0,h.jsx)(Av,(0,ks.default)({role:"tabpanel",style:{display:c?"flex":"none"}},d,{children:b}))}let Ax=(0,ks.default)({},{baseAutocomplete:function(a){let b=k6(),{id:c,multiple:d,freeSolo:e,options:f,getOptionLabel:g,isOptionEqualToValue:i,value:j,onChange:k,label:l,placeholder:m,slotProps:n,material:o}=a,p=(0,kw.default)(a,zY);return(0,h.jsx)(wE,(0,ks.default)({id:c,multiple:d,freeSolo:e,options:f,getOptionLabel:g,isOptionEqualToValue:i,value:j,onChange:k,renderTags:(a,b)=>a.map((a,c)=>{let d=b({index:c}),{key:e}=d,f=(0,kw.default)(d,zZ);return(0,h.jsx)(wj.default,(0,ks.default)({variant:"outlined",size:"small",label:"string"==typeof a?a:g?.(a)},f),e)}),renderInput:a=>{let{inputProps:c,InputProps:d,InputLabelProps:e}=a,f=(0,kw.default)(a,z$);return(0,h.jsx)(xw.default,(0,ks.default)({},f,{label:l,placeholder:m,inputProps:c,InputProps:Ap(d,!1),InputLabelProps:(0,ks.default)({shrink:!0},e)},n?.textField,b.slotProps?.baseTextField))}},p,o))},baseBadge:Ab,baseCheckbox:Ac,baseChip:Aj,baseCircularProgress:Ad,baseDivider:Ae,baseInput:function(a){return(0,h.jsx)(w9.default,(0,ks.default)({},Ap(a)))},baseLinearProgress:Af,baseMenuList:Ao,baseMenuItem:function(a){let{inert:b,iconStart:c,iconEnd:d,children:e,material:f}=a,g=(0,kw.default)(a,zW);return b&&(g.disableRipple=!0),q.createElement(xv.default,(0,ks.default)({},g,f),[c&&(0,h.jsx)(xr,{children:c},"1"),(0,h.jsx)(z7,{children:e},"2"),d&&(0,h.jsx)(xr,{children:d},"3")])},baseTextField:function(a){let{slotProps:b,material:c}=a,d=(0,kw.default)(a,zX);return(0,h.jsx)(xw.default,(0,ks.default)({variant:"outlined"},d,c,{inputProps:b?.htmlInput,InputProps:Ap(b?.input),InputLabelProps:(0,ks.default)({shrink:!0},b?.inputLabel)}))},baseButton:Ag,baseIconButton:Ak,baseToggleButton:Ai,baseTooltip:Al,baseTabs:function(a){let{items:b,value:c,material:d}=a,e=(0,kw.default)(a,z3),f=mK(),g=`${f}-tab-${c}`,i=`${f}-tabpanel-${c}`;return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(At,(0,ks.default)({},e,{value:c,variant:"scrollable",scrollButtons:"auto"},d,{children:b.map(a=>(0,h.jsx)(Au,{value:a.value,label:a.label,id:g,"aria-controls":i},a.value))})),b.map(a=>(0,h.jsx)(Aw,{value:a.value,active:c===a.value,id:i,"aria-labelledby":g,children:a.children},a.value))]})},basePagination:Aa,basePopper:function(a){var b;let c,{open:d,children:e,className:f,flip:g,onExited:i,onDidShow:j,onDidHide:k,id:l,target:m,transition:n,placement:o,material:p}=a,r=(0,kw.default)(a,z0),s=q.useMemo(()=>{let a=[{name:"preventOverflow",options:{padding:8}}];return g&&a.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(j||k)&&a.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{j?.()},effect:()=>()=>{k?.()}}),a},[g,j,k]);return c=n?b=>{var c;let d;return As(c=a,Ar(c,(0,h.jsx)(xX.default,(0,ks.default)({},b.TransitionProps,{style:{transformOrigin:Aq[b.placement]},onExited:(d=b.TransitionProps?.onExited,a=>{d&&d(),i&&i(a)}),children:(0,h.jsx)(wh.default,{children:e})}))))}:As(b=a,Ar(b,e)),(0,h.jsx)(wb,(0,ks.default)({id:l,className:f,open:d,anchorEl:m,transition:n,placement:o,modifiers:s},r,p,{children:c}))},baseSelect:z8,baseSelectOption:function(a){let{native:b}=a,c=(0,kw.default)(a,z1);return b?(0,h.jsx)("option",(0,ks.default)({},c)):(0,h.jsx)(xv.default,(0,ks.default)({},c))},baseSkeleton:Am,baseSwitch:An},{booleanCellTrueIcon:zy,booleanCellFalseIcon:zt,columnMenuIcon:zs,openFilterButtonIcon:zk,filterPanelDeleteIcon:zt,columnFilteredIcon:zl,columnSelectorIcon:zn,columnUnsortedIcon:zG,columnSortedAscendingIcon:zg,columnSortedDescendingIcon:zh,columnResizeIcon:zo,densityCompactIcon:zp,densityStandardIcon:zq,densityComfortableIcon:zr,exportIcon:zE,moreActionsIcon:zz,treeDataCollapseIcon:zj,treeDataExpandIcon:zi,groupingCriteriaCollapseIcon:zj,groupingCriteriaExpandIcon:zi,detailPanelExpandIcon:zu,detailPanelCollapseIcon:zv,rowReorderIcon:zx,quickFilterIcon:zm,quickFilterClearIcon:zC,columnMenuHideIcon:zA,columnMenuSortAscendingIcon:zg,columnMenuSortDescendingIcon:zh,columnMenuUnsortIcon:null,columnMenuFilterIcon:zl,columnMenuManageColumnsIcon:zB,columnMenuClearIcon:zC,loadIcon:zw,filterPanelAddIcon:zu,filterPanelRemoveAllIcon:zD,columnReorderIcon:zx,menuItemCheckIcon:zy});var lU=lU;let Ay=(0,lU.default)("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});var lU=lU,lU=lU;function Az(a,b,c,d={}){var e,f;return"function"==typeof b?b(c,d):b?(b.props.className&&(e=b.props.className,f=c.className,c.className=e&&f?`${e} ${f}`:e||f),(b.props.style||c.style)&&(c.style=(0,ks.default)({},c.style,b.props.style)),q.cloneElement(b,c)):q.createElement(a,c)}let AA=q.createContext(void 0);function AB(a,b){if(!a.ref.current||!b.ref.current)return 0;let c=a.ref.current.compareDocumentPosition(b.ref.current);return c?c&Node.DOCUMENT_POSITION_FOLLOWING||c&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:c&Node.DOCUMENT_POSITION_PRECEDING||c&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}let AC=["render","className"],AD=(0,lU.default)("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:kP.spacing(.25),padding:kP.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${kP.colors.border.base}`}),AE=kv(function(a,b){let{render:c,className:d}=a,e=(0,kw.default)(a,AC),f=k6(),g=(a=>{let{classes:b}=a;return kA({root:["toolbar"]},kK,b)})(f),[i,j]=q.useState(null),[k,l]=q.useState([]),m=q.useCallback(()=>k.sort(AB),[k]),n=q.useCallback((a,b,c=!0)=>{let d=a,e=m(),f=e.length;for(let a=0;a<f;a+=1){if((d+=b)>=f){if(!c)return -1;d=0}else if(d<0){if(!c)return -1;d=f-1}if(!e[d].ref.current?.disabled&&e[d].ref.current?.ariaDisabled!=="true")return d}return -1},[m]),o=q.useCallback((a,b)=>{l(c=>[...c,{id:a,ref:b}])},[]),p=q.useCallback(a=>{l(b=>b.filter(b=>b.id!==a))},[]),r=q.useCallback(a=>{if(!i)return;let b=m(),c=b.findIndex(a=>a.id===i),d=-1;if("ArrowRight"===a.key?(a.preventDefault(),d=n(c,1)):"ArrowLeft"===a.key?(a.preventDefault(),d=n(c,-1)):"Home"===a.key?(a.preventDefault(),d=n(-1,1,!1)):"End"===a.key&&(a.preventDefault(),d=n(b.length,-1,!1)),d>=0&&d<b.length){let a=b[d];j(a.id),a.ref.current?.focus()}},[m,i,n]),s=q.useCallback(a=>{i!==a&&j(a)},[i,j]),t=q.useCallback(a=>{let b=m(),c=n(b.findIndex(b=>b.id===a),1);if(c>=0&&c<b.length){let a=b[c];j(a.id),a.ref.current?.focus()}},[m,n]);q.useEffect(()=>{let a=m();if(a.length>0){if(!i)return void j(a[0].id);let b=a.findIndex(a=>a.id===i);if(a[b]){if(-1===b){let c=a[b];c&&(j(c.id),c.ref.current?.focus())}}else{let b=a[a.length-1];b&&(j(b.id),b.ref.current?.focus())}}},[m,n]);let u=q.useMemo(()=>({focusableItemId:i,registerItem:o,unregisterItem:p,onItemKeyDown:r,onItemFocus:s,onItemDisabled:t}),[i,o,p,r,s,t]),v=Az(AD,c,(0,ks.default)({role:"toolbar","aria-orientation":"horizontal","aria-label":f.label||void 0,className:(0,kx.default)(g.root,d)},e,{ref:b}));return(0,h.jsx)(AA.Provider,{value:u,children:v})}),AF=["render","onKeyDown","onFocus","disabled","aria-disabled"],AG=kv(function(a,b){let{render:c,onKeyDown:d,onFocus:e,disabled:f,"aria-disabled":g}=a,i=(0,kw.default)(a,AF),j=mK(),k=k6(),l=q.useRef(null),m=ky(l,b),{focusableItemId:n,registerItem:o,unregisterItem:p,onItemKeyDown:r,onItemFocus:s,onItemDisabled:t}=function(){let a=q.useContext(AA);if(void 0===a)throw Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return a}();q.useEffect(()=>(o(j,l),()=>p(j)),[]);let u=q.useRef(f);q.useEffect(()=>{u.current!==f&&!0===f&&t(j,f),u.current=f},[f,j,t]);let v=q.useRef(g);q.useEffect(()=>{v.current!==g&&!0===g&&t(j,!0),v.current=g},[g,j,t]);let w=Az(k.slots.baseIconButton,c,(0,ks.default)({},k.slotProps?.baseIconButton,{tabIndex:n===j?0:-1},i,{disabled:f,"aria-disabled":g,onKeyDown:a=>{r(a),d?.(a)},onFocus:a=>{s(j),e?.(a)},ref:m}));return(0,h.jsx)(q.Fragment,{children:w})}),AH=["render","className","onClick","onPointerUp"],AI=kv(function(a,b){let{render:c,className:d,onClick:e,onPointerUp:f}=a,g=(0,kw.default)(a,AH),i=k6(),j=mK(),k=mK(),l=lO(),m=kZ(l,lK),n=m.open&&m.openedPanelValue===lM.filters,o={open:n,filterCount:kZ(l,oP).length},p="function"==typeof d?d(o):d,{filterPanelTriggerRef:r}=lQ(),s=ky(b,r),t=Az(i.slots.baseButton,c,(0,ks.default)({},i.slotProps?.baseButton,{id:j,"aria-haspopup":"true","aria-expanded":n?"true":void 0,"aria-controls":n?k:void 0,onClick:a=>{n?l.current.hidePreferences():l.current.showPreferences(lM.filters,k,j),e?.(a)},onPointerUp:a=>{n&&a.stopPropagation(),f?.(a)},className:p},g,{ref:s}),o);return(0,h.jsx)(q.Fragment,{children:t})}),AJ=["render","className","onClick","onPointerUp"],AK=kv(function(a,b){let{render:c,className:d,onClick:e,onPointerUp:f}=a,g=(0,kw.default)(a,AJ),i=k6(),j=mK(),k=mK(),l=lO(),m=kZ(l,lK),n=m.open&&m.openedPanelValue===lM.columns,o={open:n},p="function"==typeof d?d(o):d,{columnsPanelTriggerRef:r}=lQ(),s=ky(b,r),t=Az(i.slots.baseButton,c,(0,ks.default)({},i.slotProps?.baseButton,{id:j,"aria-haspopup":"true","aria-expanded":n?"true":void 0,"aria-controls":n?k:void 0,className:p},g,{onPointerUp:a=>{n&&a.stopPropagation(),f?.(a)},onClick:a=>{n?l.current.hidePreferences():l.current.showPreferences(lM.columns,k,j),e?.(a)},ref:s}),o);return(0,h.jsx)(q.Fragment,{children:t})}),AL=["render","options","onClick"],AM=kv(function(a,b){let{render:c,options:d,onClick:e}=a,f=(0,kw.default)(a,AL),g=k6(),i=lO(),j=Az(g.slots.baseButton,c,(0,ks.default)({},g.slotProps?.baseButton,{onClick:a=>{i.current.exportDataAsCsv(d),e?.(a)}},f,{ref:b}));return(0,h.jsx)(q.Fragment,{children:j})}),AN=["render","options","onClick"],AO=kv(function(a,b){let{render:c,options:d,onClick:e}=a,f=(0,kw.default)(a,AN),g=k6(),i=lO(),j=Az(g.slots.baseButton,c,(0,ks.default)({},g.slotProps?.baseButton,{onClick:a=>{i.current.exportDataAsPrint(d),e?.(a)}},f,{ref:b}));return(0,h.jsx)(q.Fragment,{children:j})});var lU=lU;let AP=q.createContext(void 0);function AQ(){let a=q.useContext(AP);if(void 0===a)throw Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return a}let AR=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],AS=a=>a.split(" ").filter(a=>""!==a),AT=a=>a.join(" ");function AU(a){let b=k6(),{render:c,className:d,parser:e=AS,formatter:f=AT,debounceMs:g=b.filterDebounceMs,defaultExpanded:i,expanded:j,onExpandedChange:k}=a,l=(0,kw.default)(a,AR),m=lO(),n=q.useRef(null),o=q.useRef(null),p=kZ(m,oE),[r,s]=q.useState(f(p??[])),[t,u]=q.useState(i??r.length>0),v=j??t,w=q.useMemo(()=>({value:r,expanded:v}),[r,v]),x="function"==typeof d?d(w):d,y=q.useRef(null),z=mK(),A=q.useCallback(a=>{k&&k(a),void 0===j&&u(a)},[k,j]),B=q.useRef(p);q.useEffect(()=>{qa(B.current,p)||(B.current=p,s(a=>qa(e(a),p)?a:f(p??[])))},[p,f,e]);let C=q.useRef(!0),D=q.useRef(v);q.useEffect(()=>{if(C.current){C.current=!1;return}D.current!==v&&(v?requestAnimationFrame(()=>{n.current?.focus({preventScroll:!0})}):o.current?.focus({preventScroll:!0}),D.current=v)},[v]);let E=q.useMemo(()=>sG(a=>{let b=e(a);B.current=b,m.current.setQuickFilterValues(b)},g),[m,g,e]);q.useEffect(()=>E.clear,[E]);let F=q.useCallback(a=>{let b=a.target.value;s(b),E(b)},[E]),G=q.useCallback(()=>{s(""),m.current.setQuickFilterValues([]),n.current?.focus()},[m,n]),H=q.useMemo(()=>({controlRef:n,triggerRef:o,state:w,controlId:z,clearValue:G,onValueChange:F,onExpandedChange:A}),[z,w,F,G,A]);mj(()=>{y.current&&o.current&&y.current.style.setProperty("--trigger-width",`${o.current?.offsetWidth}px`)},[]);let I=Az("div",c,(0,ks.default)({className:x},l,{ref:y}),w);return(0,h.jsx)(AP.Provider,{value:H,children:I})}let AV=["render","className","onClick"],AW=kv(function(a,b){let{render:c,className:d,onClick:e}=a,f=(0,kw.default)(a,AV),g=k6(),{state:i,clearValue:j}=AQ(),k="function"==typeof d?d(i):d,l=Az(g.slots.baseIconButton,c,(0,ks.default)({},g.slotProps?.baseIconButton,{className:k,tabIndex:-1},f,{onClick:a=>{j(),e?.(a)},ref:b}),i);return(0,h.jsx)(q.Fragment,{children:l})}),AX=["render","className","slotProps","onKeyDown","onChange"],AY=kv(function(a,b){let{render:c,className:d,slotProps:e,onKeyDown:f,onChange:g}=a,i=(0,kw.default)(a,AX),j=k6(),{state:k,controlId:l,controlRef:m,onValueChange:n,onExpandedChange:o,clearValue:p}=AQ(),r="function"==typeof d?d(k):d,s=ky(m,b),t=Az(j.slots.baseTextField,c,(0,ks.default)({},j.slotProps?.baseTextField,{slotProps:(0,ks.default)({htmlInput:(0,ks.default)({role:"searchbox",id:l,tabIndex:k.expanded?void 0:-1},e?.htmlInput,{onBlur:a=>{""===k.value&&o(!1),e?.htmlInput?.onBlur?.(a)}})},e),value:k.value,className:r},i,{onChange:a=>{k.expanded||o(!0),n(a),g?.(a)},onKeyDown:a=>{"Escape"===a.key&&(""===k.value?o(!1):p()),f?.(a)},ref:s}),k);return(0,h.jsx)(q.Fragment,{children:t})}),AZ=["render","className","onClick"],A$=kv(function(a,b){let{render:c,className:d,onClick:e}=a,f=(0,kw.default)(a,AZ),g=k6(),{state:i,controlId:j,onExpandedChange:k,triggerRef:l}=AQ(),m="function"==typeof d?d(i):d,n=ky(l,b),o=Az(g.slots.baseButton,c,(0,ks.default)({},g.slotProps?.baseButton,{className:m,"aria-controls":j,"aria-expanded":i.expanded},f,{onClick:a=>{k(!i.expanded),e?.(a)},ref:n}),i);return(0,h.jsx)(q.Fragment,{children:o})}),A_=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],A0=["ref","slotProps"],A1=(0,lU.default)("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),A2=(0,lU.default)(AG,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:a})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:+!a.expanded,pointerEvents:a.expanded?"none":"auto",transition:kP.transition(["opacity"])})),A3=(0,lU.default)(a=>{throw Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:a})=>({gridArea:"1 / 1",overflowX:"clip",width:a.expanded?260:"var(--trigger-width)",opacity:+!!a.expanded,transition:kP.transition(["width","opacity"])}));function A4(a){let b=lO(),c=k6(),d={classes:c.classes,expanded:!1},e=(a=>{let{classes:b}=a;return kA({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},kK,b)})(d),{quickFilterParser:f,quickFilterFormatter:g,debounceMs:i,className:j,slotProps:k}=a,l=(0,kw.default)(a,A_);return(0,h.jsx)(AU,{parser:f,formatter:g,debounceMs:i,render:(a,f)=>{let g=(0,ks.default)({},d,{expanded:f.expanded});return(0,h.jsxs)(A1,(0,ks.default)({},a,{className:(0,kx.default)(e.root,j),children:[(0,h.jsx)(A$,{render:a=>(0,h.jsx)(c.slots.baseTooltip,{title:b.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:(0,h.jsx)(A2,(0,ks.default)({className:e.trigger},a,{ownerState:g,color:"default","aria-disabled":f.expanded,children:(0,h.jsx)(c.slots.quickFilterIcon,{fontSize:"small"})}))})}),(0,h.jsx)(AY,{render:a=>{let{ref:d,slotProps:f}=a,i=(0,kw.default)(a,A0);return(0,h.jsx)(A3,(0,ks.default)({as:c.slots.baseTextField,className:e.control,ownerState:g,inputRef:d,"aria-label":b.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:b.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:(0,ks.default)({input:(0,ks.default)({startAdornment:(0,h.jsx)(c.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:i.value?(0,h.jsx)(AW,{render:(0,h.jsx)(c.slots.baseIconButton,{size:"small",edge:"end","aria-label":b.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:(0,h.jsx)(c.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},f?.input)},f)},c.slotProps?.baseTextField,i,k?.root,l))}})]}))}})}let A5=["className"],A6=["className"],A7=["showQuickFilter","quickFilterProps","csvOptions","printOptions","additionalItems","additionalExportMenuItems"],A8=a=>{let{classes:b}=a;return kA({divider:["toolbarDivider"],label:["toolbarLabel"]},kK,b)},A9=(0,lU.default)(mx,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:kP.spacing(0,.5)}),Ba=(0,lU.default)("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:kP.typography.font.large,fontWeight:kP.typography.fontWeight.medium,margin:kP.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function Bb(a){let b=(0,kw.default)(a,A5),c=k6(),d=A8(c);return(0,h.jsx)(A9,(0,ks.default)({as:c.slots.baseDivider,orientation:"vertical",className:d.divider},b))}function Bc(a){let b=(0,kw.default)(a,A6),c=A8(k6());return(0,h.jsx)(Ba,(0,ks.default)({className:c.label},b))}let Bd=(0,ks.default)({},Ax,{cell:ul,skeletonCell:sZ,columnHeaderFilterIconButton:function(a){return a.counter?(0,h.jsx)(tV,(0,ks.default)({},a)):null},columnHeaderSortIcon:ug,columnMenu:uS,columnHeaders:uG,detailPanels:function(a){return null},bottomContainer:function(a){let b=kA({root:["bottomContainer"]},kK,{});return(0,h.jsx)(Ay,(0,ks.default)({},a,{className:(0,kx.default)(b.root,kL["container--bottom"]),role:"presentation"}))},footer:tq,footerRowCount:tY,toolbar:function(a){let{showQuickFilter:b=!0,quickFilterProps:c,csvOptions:d,printOptions:e,additionalItems:f,additionalExportMenuItems:g}=a,i=(0,kw.default)(a,A7),j=lO(),k=k6(),[l,m]=q.useState(!1),n=q.useRef(null),o=mK(),p=mK(),r=!d?.disableToolbarButton||!e?.disableToolbarButton||g,s=()=>m(!1);return(0,h.jsxs)(AE,(0,ks.default)({},i,{children:[k.label&&(0,h.jsx)(Bc,{children:k.label}),!k.disableColumnSelector&&(0,h.jsx)(k.slots.baseTooltip,{title:j.current.getLocaleText("toolbarColumns"),children:(0,h.jsx)(AK,{render:(0,h.jsx)(AG,{}),children:(0,h.jsx)(k.slots.columnSelectorIcon,{fontSize:"small"})})}),!k.disableColumnFilter&&(0,h.jsx)(k.slots.baseTooltip,{title:j.current.getLocaleText("toolbarFilters"),children:(0,h.jsx)(AI,{render:(a,b)=>(0,h.jsx)(AG,(0,ks.default)({},a,{color:b.filterCount>0?"primary":"default",children:(0,h.jsx)(k.slots.baseBadge,{badgeContent:b.filterCount,color:"primary",variant:"dot",children:(0,h.jsx)(k.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),f,r&&(!k.disableColumnFilter||!k.disableColumnSelector)&&(0,h.jsx)(Bb,{}),r&&(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(k.slots.baseTooltip,{title:j.current.getLocaleText("toolbarExport"),disableInteractive:l,children:(0,h.jsx)(AG,{ref:n,id:p,"aria-controls":o,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:()=>m(!l),children:(0,h.jsx)(k.slots.exportIcon,{fontSize:"small"})})}),(0,h.jsx)(n4,{target:n.current,open:l,onClose:s,position:"bottom-end",children:(0,h.jsxs)(k.slots.baseMenuList,(0,ks.default)({id:o,"aria-labelledby":p,autoFocusItem:!0},k.slotProps?.baseMenuList,{children:[!e?.disableToolbarButton&&(0,h.jsx)(AO,{render:(0,h.jsx)(k.slots.baseMenuItem,(0,ks.default)({},k.slotProps?.baseMenuItem)),options:e,onClick:s,children:j.current.getLocaleText("toolbarExportPrint")}),!d?.disableToolbarButton&&(0,h.jsx)(AM,{render:(0,h.jsx)(k.slots.baseMenuItem,(0,ks.default)({},k.slotProps?.baseMenuItem)),options:d,onClick:s,children:j.current.getLocaleText("toolbarExportCSV")}),g?.(s)]}))})]}),b&&(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(Bb,{}),(0,h.jsx)(A4,(0,ks.default)({},c))]})]}))},pinnedRows:function(a){return null},loadingOverlay:tG,noResultsOverlay:uT,noRowsOverlay:tH,noColumnsOverlay:uh,pagination:function(){let a=lO(),b=k6(),c=kZ(a,qQ),d=kZ(a,qR),e=kZ(a,qV),{paginationMode:f,loading:g}=b,i=-1===d&&"server"===f&&g,j=q.useMemo(()=>Math.max(0,e-1),[e]),k=q.useMemo(()=>-1===d||c.page<=j?c.page:j,[j,c.page,d]),l=q.useCallback(b=>{a.current.setPageSize(b)},[a]),m=q.useCallback((b,c)=>{a.current.setPage(c)},[a]),n=(a=>{for(let c=0;c<b.pageSizeOptions.length;c+=1){let d=b.pageSizeOptions[c];if("number"==typeof d){if(d===a)return!0}else if(d.value===a)return!0}return!1})(c.pageSize)?b.pageSizeOptions:[];return(0,h.jsx)(tI,(0,ks.default)({as:b.slots.basePagination,count:d,page:k,rowsPerPageOptions:n,rowsPerPage:c.pageSize,onPageChange:m,onRowsPerPageChange:l,disabled:i},b.slotProps?.basePagination))},filterPanel:tj,columnsPanel:function(a){let b=k6();return(0,h.jsx)(s0,(0,ks.default)({},a,{children:(0,h.jsx)(b.slots.columnsManagement,(0,ks.default)({},b.slotProps?.columnsManagement))}))},columnsManagement:function(a){let b=lO(),c=q.useRef(null),d=kZ(b,lA),e=kZ(b,lz),f=k6(),[g,i]=q.useState(""),j=(a=>{let{classes:b}=a;return kA({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},kK,b)})(f),k=kZ(b,ly),l=kZ(b,oS),m=kZ(b,oU),n=q.useMemo(()=>l?Array.from(m.values()):k,[l,m,k]),{sort:o,searchPredicate:p=t$,autoFocusSearchField:r=!0,disableShowHideToggle:s=!1,disableResetButton:t=!1,toggleAllMode:u="all",getTogglableColumns:v,searchInputProps:w,searchDebounceMs:x=f.columnFilterDebounceMs}=a,y=q.useMemo(()=>sG(a=>{i(a)},x??150),[x]),z=q.useMemo(()=>((a,b)=>{let c=new Set(Object.keys(a).filter(b=>!1===a[b])),d=new Set(Object.keys(b).filter(a=>!1===b[a]));if(c.size!==d.size)return!1;let e=!0;return c.forEach(a=>{d.has(a)||(e=!1)}),e})(e,d),[e,d]),A=q.useMemo(()=>{switch(o){case"asc":return[...n].sort((a,b)=>t5.compare(a.headerName||a.field,b.headerName||b.field));case"desc":return[...n].sort((a,b)=>-t5.compare(a.headerName||a.field,b.headerName||b.field));default:return n}},[n,o]),B=a=>{let{name:c}=a.target;b.current.setColumnVisibility(c,!1===e[c])},C=q.useMemo(()=>{let a=v?v(A):null,b=a?A.filter(({field:b})=>a.includes(b)):A;return g?b.filter(a=>p(a,g.toLowerCase())):b},[A,g,p,v]),D=q.useCallback(a=>{let c=lz(b),d=(0,ks.default)({},c),e=v?v(n):null;return("filteredOnly"===u?C:n).forEach(b=>{b.hideable&&(null==e||e.includes(b.field))&&(a?delete d[b.field]:d[b.field]=!1)}),b.current.setColumnVisibilityModel(d)},[b,n,v,u,C]),E=q.useCallback(a=>{y(a.target.value)},[y]),F=q.useMemo(()=>C.filter(a=>a.hideable),[C]),G=q.useMemo(()=>F.every(a=>null==e[a.field]||!1!==e[a.field]),[e,F]),H=q.useMemo(()=>F.every(a=>!1===e[a.field]),[e,F]),I=q.useRef(null);q.useEffect(()=>{r?c.current?.focus():I.current&&"function"==typeof I.current.focus&&I.current.focus()},[r]);let J=!1,K=q.useCallback(()=>{i(""),c.current&&(c.current.value="",c.current.focus())},[]);return(0,h.jsxs)(q.Fragment,{children:[(0,h.jsx)(t8,{className:j.header,ownerState:f,children:(0,h.jsx)(t9,(0,ks.default)({as:f.slots.baseTextField,ownerState:f,placeholder:b.current.getLocaleText("columnsManagementSearchTitle"),inputRef:c,className:j.searchInput,onChange:E,size:"small",type:"search",slotProps:{input:{startAdornment:(0,h.jsx)(f.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:(0,h.jsx)(f.slots.baseIconButton,(0,ks.default)({size:"small","aria-label":b.current.getLocaleText("columnsManagementDeleteIconLabel"),style:g?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:K,edge:"end"},f.slotProps?.baseIconButton,{children:(0,h.jsx)(f.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":b.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},f.slotProps?.baseTextField,w))}),(0,h.jsx)(t7,{ownerState:f,children:(0,h.jsxs)(t6,{className:j.root,ownerState:f,children:[C.map(a=>(0,h.jsx)(uc,(0,ks.default)({as:f.slots.baseCheckbox,className:j.row,disabled:!1===a.hideable||l,checked:!1!==e[a.field],onChange:B,name:a.field,inputRef:!1===J&&!1!==a.hideable&&(J=!0,1)?I:void 0,label:a.headerName||a.field,density:"compact",fullWidth:!0},f.slotProps?.baseCheckbox),a.field)),0===C.length&&(0,h.jsx)(ub,{ownerState:f,children:b.current.getLocaleText("columnsManagementNoColumns")})]})}),s&&t?null:(0,h.jsxs)(ua,{ownerState:f,className:j.footer,children:[s?(0,h.jsx)("span",{}):(0,h.jsx)(f.slots.baseCheckbox,(0,ks.default)({disabled:0===F.length||l,checked:G,indeterminate:!G&&!H,onChange:()=>D(!G),name:b.current.getLocaleText("columnsManagementShowHideAllText"),label:b.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},f.slotProps?.baseCheckbox)),t?null:(0,h.jsx)(f.slots.baseButton,(0,ks.default)({onClick:()=>b.current.setColumnVisibilityModel(d),disabled:z||l},f.slotProps?.baseButton,{children:b.current.getLocaleText("columnsManagementReset")}))]})]})},panel:tN,row:tR}),Be={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1};var Bf=a.i(821944);let Bg=new TextEncoder,Bh=2048,Bi=new ArrayBuffer(2048),Bj=new Uint8Array(Bi),Bk=new Int32Array(Bi);function Bl(a,b){return a<<b|a>>>32-b}function Bm(a){return`rgba(from ${a} r g b / 1)`}function Bn(a){if(!a)return;let b="number"==typeof a.fontSize?`${a.fontSize}px`:a.fontSize;return`${a.fontWeight} ${b} / ${a.lineHeight} ${a.fontFamily}`}class Bo{maxListeners=20;warnOnce=!1;events={};on(a,b,c={}){let d=this.events[a];d||(d={highPriority:new Map,regular:new Map},this.events[a]=d),c.isFirst?d.highPriority.set(b,!0):d.regular.set(b,!0)}removeListener(a,b){this.events[a]&&(this.events[a].regular.delete(b),this.events[a].highPriority.delete(b))}removeAllListeners(){this.events={}}emit(a,...b){let c=this.events[a];if(!c)return;let d=Array.from(c.highPriority.keys()),e=Array.from(c.regular.keys());for(let a=d.length-1;a>=0;a-=1){let e=d[a];c.highPriority.has(e)&&e.apply(this,b)}for(let a=0;a<e.length;a+=1){let d=e[a];c.regular.has(d)&&d.apply(this,b)}}once(a,b){let c=this;this.on(a,function d(...e){c.removeListener(a,d),b.apply(c,e)})}}let Bp=Symbol("mui.api_private"),Bq=0,Br={hooks:{useCSSVariables:function(){let a=(0,sR.useTheme)();return q.useMemo(()=>({id:function(a){let b=2*a.length;b>Bh&&(Bj=new Uint8Array(Bi=new ArrayBuffer(Bh=b+(4-b%4))),Bk=new Int32Array(Bi));let c=0|Bg.encodeInto(a,Bj).written,d=0,e=(0+c|0)+0x165667b1|0;if(c<16)for(;(d+3|0)<c;d=d+4|0)e=Math.imul(0|Bl(e+Math.imul(0|Bk[d],0xc2b2ae3d)|0,17),0x27d4eb2f);else{let a=0x24234428,b=-0x7a143589,f=0,g=0x61c8864f;for(;(d+15|0)<c;d=d+16|0)a=Math.imul(0|Bl(a+Math.imul(0|Bk[d+0|0],0x85ebca77)|0,13),0x9e3779b1),b=Math.imul(0|Bl(b+Math.imul(0|Bk[d+4|0],0x85ebca77)|0,13),0x9e3779b1),f=Math.imul(0|Bl(f+Math.imul(0|Bk[d+8|0],0x85ebca77)|0,13),0x9e3779b1),g=Math.imul(0|Bl(g+Math.imul(0|Bk[d+12|0],0x85ebca77)|0,13),0x9e3779b1);for(e=(((Bl(a,1)|0+Bl(b,7))+Bl(f,12)|0)+Bl(g,18)|0)+c|0;(d+3|0)<c;d=d+4|0)e=Math.imul(0|Bl(e+Math.imul(0|Bk[d],0xc2b2ae3d)|0,17),0x27d4eb2f)}for(;d<c;d=d+1|0)e=Math.imul(0|Bl(e+Math.imul(0|Bj[d],0x165667b1)|0,11),0x9e3779b1);return(((e=Math.imul((e=Math.imul(e^e>>>15,0x85ebca77))^e>>>13,0xc2b2ae3d))^e>>>16)>>>0).toString()}(function(a){let b=new WeakSet;return JSON.stringify(a,(a,c)=>{if("undefined"!=typeof document&&c===document)return c.toString();if(null!==c&&"object"==typeof c){if(q.isValidElement(c)||b.has(c))return null;b.add(c)}return c})}(a)),variables:function(a){var b,c;let d=(b=a).vars?b.vars.palette.TableCell.border:"light"===b.palette.mode?(0,Bf.lighten)((0,Bf.alpha)(b.palette.divider,1),.88):(0,Bf.darken)((0,Bf.alpha)(b.palette.divider,1),.68),e=(a.vars||a).palette.DataGrid,f=e?.bg??("dark"===a.palette.mode?`color-mix(in srgb, ${(a.vars||a).palette.background.paper} 95%, #fff)`:(a.vars||a).palette.background.paper),g=e?.headerBg??f,h=e?.pinnedBg??f,i=a.vars?`rgba(${a.vars.palette.background.defaultChannel} / ${a.vars.palette.action.disabledOpacity})`:(0,Bf.alpha)(a.palette.background.default,a.palette.action.disabledOpacity),j="dark"===a.palette.mode?`color-mix(in srgb, ${(a.vars||a).palette.background.paper} 90%, #fff)`:(a.vars||a).palette.background.paper,k=a.vars?`rgb(${a.vars.palette.primary.mainChannel})`:a.palette.primary.main,l=(c=a).vars?c.vars.shape.borderRadius:"number"==typeof c.shape.borderRadius?`${c.shape.borderRadius}px`:c.shape.borderRadius,m=a.vars?.font?.body2??Bn(a.typography.body2),n=a.vars?.font?.caption??Bn(a.typography.caption),o=a.vars?.font?.body1??Bn(a.typography.body1),p=kP.keys;return{[p.spacingUnit]:a.vars?a.vars.spacing??a.spacing(1):a.spacing(1),[p.colors.border.base]:d,[p.colors.background.base]:f,[p.colors.background.overlay]:j,[p.colors.background.backdrop]:i,[p.colors.foreground.base]:(a.vars||a).palette.text.primary,[p.colors.foreground.muted]:(a.vars||a).palette.text.secondary,[p.colors.foreground.accent]:(a.vars||a).palette.primary.dark,[p.colors.foreground.disabled]:(a.vars||a).palette.text.disabled,[p.colors.foreground.error]:(a.vars||a).palette.error.dark,[p.colors.interactive.hover]:(a.vars||a).palette.action.hover,[p.colors.interactive.hoverOpacity]:(a.vars||a).palette.action.hoverOpacity,[p.colors.interactive.focus]:Bm((a.vars||a).palette.primary.main),[p.colors.interactive.focusOpacity]:(a.vars||a).palette.action.focusOpacity,[p.colors.interactive.disabled]:Bm((a.vars||a).palette.action.disabled),[p.colors.interactive.disabledOpacity]:(a.vars||a).palette.action.disabledOpacity,[p.colors.interactive.selected]:k,[p.colors.interactive.selectedOpacity]:(a.vars||a).palette.action.selectedOpacity,[p.header.background.base]:g,[p.cell.background.pinned]:h,[p.radius.base]:l,[p.typography.fontFamily.base]:a.typography.fontFamily,[p.typography.fontWeight.light]:a.typography.fontWeightLight,[p.typography.fontWeight.regular]:a.typography.fontWeightRegular,[p.typography.fontWeight.medium]:a.typography.fontWeightMedium,[p.typography.fontWeight.bold]:a.typography.fontWeightBold,[p.typography.font.body]:m,[p.typography.font.small]:n,[p.typography.font.large]:o,[p.transitions.easing.easeIn]:a.transitions.easing.easeIn,[p.transitions.easing.easeOut]:a.transitions.easing.easeOut,[p.transitions.easing.easeInOut]:a.transitions.easing.easeInOut,[p.transitions.duration.short]:`${a.transitions.duration.shorter}ms`,[p.transitions.duration.base]:`${a.transitions.duration.short}ms`,[p.transitions.duration.long]:`${a.transitions.duration.standard}ms`,[p.shadows.base]:(a.vars||a).shadows[2],[p.shadows.overlay]:(a.vars||a).shadows[8],[p.zIndex.panel]:(a.vars||a).zIndex.modal,[p.zIndex.menu]:(a.vars||a).zIndex.modal}}(a)}),[a])},useGridAriaAttributes:()=>{let a=k_(),b=k6(),c=kZ(a,lB),d=kZ(a,oM),e=kZ(a,oh),f=kZ(a,mi),g=b["aria-label"],h=b["aria-labelledby"];return{role:"grid","aria-label":g||h||!b.label?g:b.label,"aria-labelledby":h,"aria-colcount":c.length,"aria-rowcount":e+1+f+d,"aria-multiselectable":pK(b)}},useGridRowAriaAttributes:()=>{let a=k_(),b=kZ(a,oh);return q.useCallback((c,d)=>{let e={};return e["aria-rowindex"]=d+b+2,c&&a.current.isRowSelectable(c.id)&&(e["aria-selected"]=a.current.isRowSelected(c.id)),e},[a,b])},useGridRowsOverridableMethods:a=>({setRowIndex:q.useCallback((b,c)=>{let d=ma(a,b);if(!d)throw Error(`MUI X: No row with id #${b} found.`);if(d.parent!==nj)throw Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==d.type)throw Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");a.current.setState(d=>{let e=l9(a)[nj],f=e.children,g=f.findIndex(a=>a===b);if(-1===g||g===c)return d;let h=[...f];return h.splice(c,0,h.splice(g,1)[0]),(0,ks.default)({},d,{rows:(0,ks.default)({},d.rows,{tree:(0,ks.default)({},d.rows.tree,{[nj]:(0,ks.default)({},e,{children:h})})})})}),a.current.publishEvent("rowsSet")},[a])}),useGridParamsOverridableMethods:a=>{let b=q.useCallback((b,c)=>{let d=a.current.getColumn(c),e=a.current.getRow(b);if(!e)throw Error(`No row with id #${b} found`);return d&&d.valueGetter?d.valueGetter(e[d.field],e,d,a):e[c]},[a]),c=q.useCallback((b,c)=>((a,b,c)=>{let d=b.field;if(!b||!b.valueGetter)return a[d];let e=a[b.field];return b.valueGetter(e,a,b,c)})(b,c,a),[a]),d=q.useCallback((b,d)=>{let e=c(b,d);return d&&d.valueFormatter?d.valueFormatter(e,b,d,a):e},[a,c]);return{getCellValue:b,getRowValue:c,getRowFormattedValue:d}},useCellAggregationResult:()=>null,useFilterValueGetter:a=>a.current.getRowValue}},Bs=function(a,c){var d,e,f,g,i,j,k,l,m,n;let o=(a=>{let b=(0,sR.useTheme)(),c=q.useMemo(()=>(0,sS.default)({props:a,theme:b,name:"MuiDataGrid"}),[b,a]),d=q.useMemo(()=>(0,ks.default)({},sT,c.localeText),[c.localeText]),e=q.useMemo(()=>(function({defaultSlots:a,slots:b}){if(!b||0===Object.keys(b).length)return a;let c=(0,ks.default)({},a);return Object.keys(b).forEach(a=>{void 0!==b[a]&&(c[a]=b[a])}),c})({defaultSlots:Bd,slots:c.slots}),[c.slots]),f=q.useMemo(()=>Object.keys(q5).reduce((a,b)=>(a[b]=c[b]??q5[b],a),{}),[c]);return q.useMemo(()=>(0,ks.default)({},c,f,{localeText:d,slots:e},(0,ks.default)({},Be,c.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{})),[c,d,e,f])})(a),p=function(a,b){var c;let d=q.useRef(null),e=q.useRef(null);e.current||(e.current=function(a){let b=a.current?.[Bp];if(b)return b;let c={},d={state:c,store:p6.create(c),instanceId:{id:Bq}};return Bq+=1,d.getPublicApi=()=>a.current,d.register=(b,c)=>{Object.keys(c).forEach(e=>{let f=c[e],g=d[e];if(g?.spying===!0?g.target=f:d[e]=f,"public"===b){let b=a.current,c=b[e];c?.spying===!0?c.target=f:b[e]=f}})},d.register("private",{caches:{},eventManager:new Bo}),d}(d)),d.current||(d.current={get state(){return c.current.state},get store(){return c.current.store},get instanceId(){return c.current.instanceId},[Bp]:(c=e).current});let f=q.useCallback((...a)=>{let[c,d,f={}]=a;if(f.defaultMuiPrevented=!1,void 0!==f.isPropagationStopped&&f.isPropagationStopped())return;let g=b.signature===pA.DataGridPro||b.signature===pA.DataGridPremium?{api:e.current.getPublicApi()}:{};e.current.eventManager.emit(c,d,f,g)},[e,b.signature]),g=q.useCallback((a,b,c)=>{e.current.eventManager.on(a,b,c);let d=e.current;return()=>{d.eventManager.removeListener(a,b)}},[e]);return pO(e,{subscribeEvent:g,publishEvent:f},"public"),a&&!a.current?.state&&(a.current=d.current),q.useImperativeHandle(a,()=>d.current,[d]),q.useEffect(()=>{let a=e.current;return()=>{a.publishEvent("unmount")}},[e]),e}(o.apiRef,o);return d=p,e=o,(a=>{let b=q.useRef(null),c=q.useRef(null),d=q.useRef(null),e=q.useRef(null),f=q.useRef(null),g=q.useRef(null);a.current.register("public",{rootElementRef:b}),a.current.register("private",{mainElementRef:c,virtualScrollerRef:d,virtualScrollbarVerticalRef:e,virtualScrollbarHorizontalRef:f,columnHeadersContainerRef:g})})(d),f=d,g=e,q.useEffect(()=>{f.current.setState(a=>(0,ks.default)({},a,{props:{listView:g.listView,getRowId:g.getRowId,isCellEditable:g.isCellEditable}}))},[f,g.listView,g.getRowId,g.isCellEditable]),(a=>{let b=(0,nZ.useRtl)();void 0===a.current.state.isRtl&&(a.current.state.isRtl=b);let c=q.useRef(!0);q.useEffect(()=>{c.current?c.current=!1:a.current.setState(a=>(0,ks.default)({},a,{isRtl:b}))},[a,b])})(d),i=d,j=e,pO(i,{getLogger:q.useCallback(a=>pP?pT(a,"debug",j.logger):j.logLevel?pT(a,j.logLevel.toString(),j.logger):pR,[j.logLevel,j.logger])},"private"),(a=>{let b=q.useRef({}),c=q.useCallback(a=>{b.current[a.stateId]=a},[]),d=q.useCallback((c,d)=>{let e;if(e="function"==typeof c?c(a.current.state):c,a.current.state===e)return!1;let f={current:{state:e}},g=!1,h=[];if(Object.keys(b.current).forEach(c=>{let d=b.current[c],e=d.stateSelector(a),i=d.stateSelector(f);i!==e&&(h.push({stateId:d.stateId,hasPropChanged:i!==d.propModel}),void 0!==d.propModel&&i!==d.propModel&&(g=!0))}),h.length>1)throw Error(`You're not allowed to update several sub-state in one transaction. You already updated ${h[0].stateId}, therefore, you're not allowed to update ${h.map(a=>a.stateId).join(", ")} in the same transaction.`);if(g||(a.current.state=e,a.current.publishEvent("stateChange",e),a.current.store.update(e)),1===h.length){let{stateId:c,hasPropChanged:e}=h[0],i=b.current[c],j=i.stateSelector(f);i.propOnChange&&e&&i.propOnChange(j,{reason:d,api:a.current}),g||a.current.publishEvent(i.changeEvent,j,{reason:d})}return!g},[a]),e=q.useCallback((b,c,d)=>a.current.setState(a=>(0,ks.default)({},a,{[b]:c(a[b])}),d),[a]);pO(a,{setState:d},"public"),pO(a,{updateControlState:e,registerControlState:c},"private")})(d),(a=>{let b=q.useRef({}),c=q.useRef(!1),d=q.useCallback(a=>{!c.current&&a&&(c.current=!0,Object.values(a.appliers).forEach(a=>{a()}),c.current=!1)},[]),e=q.useCallback((a,c,d)=>{b.current[a]||(b.current[a]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});let e=b.current[a];return e.processors.get(c)!==d&&(e.processors.set(c,d),e.processorsAsArray=Array.from(b.current[a].processors.values()).filter(a=>null!==a),e.processorsUpdated=!0),()=>{b.current[a].processors.set(c,null),b.current[a].processorsAsArray=Array.from(b.current[a].processors.values()).filter(a=>null!==a)}},[]),f=q.useCallback((a,c,d)=>(b.current[a]||(b.current[a]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),b.current[a].appliers[c]=d,()=>{let d=b.current[a].appliers,e=(0,kw.default)(d,[c].map(pV));b.current[a].appliers=e}),[]),g=q.useCallback(a=>{d(b.current[a])},[d]),h=q.useCallback(()=>{for(let a in b.current){if(!Object.prototype.hasOwnProperty.call(b.current,a))continue;let c=b.current[a];c.processorsUpdated&&(c.processorsUpdated=!1,d(c))}},[d]),i=q.useCallback((...a)=>{let[c,d,e]=a;if(!b.current[c])return d;let f=b.current[c].processorsAsArray,g=d;for(let a=0;a<f.length;a+=1)g=f[a](g,e);return g},[]);pO(a,{registerPipeProcessor:e,registerPipeApplier:f,requestPipeProcessorsApplication:g,runAppliersForPendingProcessors:h},"private"),pO(a,{unstable_applyPipeProcessors:i},"public")})(d),(a=>{let b=q.useRef(new Map),c=q.useRef({}),d=q.useCallback((b,d,e)=>{let f=()=>{let a=c.current[d],e=(0,kw.default)(a,[b].map(pV));c.current[d]=e};c.current[d]||(c.current[d]={});let g=c.current[d],h=g[b];return g[b]=e,h&&h!==e&&b===a.current.getActiveStrategy(pY[d])&&a.current.publishEvent("activeStrategyProcessorChange",d),f},[a]),e=q.useCallback((b,d)=>{let e=a.current.getActiveStrategy(pY[b]);if(null==e)throw Error("Can't apply a strategy processor before defining an active strategy");let f=c.current[b];if(!f||!f[e])throw Error(`No processor found for processor "${b}" on strategy "${e}"`);return(0,f[e])(d)},[a]),f=q.useCallback(a=>{let c=Array.from(b.current.entries()).find(([,b])=>b.group===a&&b.isAvailable());return c?.[0]??pX},[]),g=q.useCallback((c,d,e)=>{b.current.set(d,{group:c,isAvailable:e}),a.current.publishEvent("strategyAvailabilityChange")},[a]);pO(a,{registerStrategyProcessor:d,applyStrategyProcessor:e,getActiveStrategy:f,setStrategyAvailability:g},"private")})(d),((a,b)=>{let c=q.useCallback(a=>{if(null==b.localeText[a])throw Error(`Missing translation for key ${a}.`);return b.localeText[a]},[b.localeText]);a.current.register("public",{getLocaleText:c})})(d,e),d.current.register("private",{rootProps:e}),((a,b)=>{let c=(a=>{let{classes:b}=a;return q.useMemo(()=>kA({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},kK,b),[b])})({classes:b.classes}),d=q.useCallback(d=>{let e=(0,ks.default)({},rh,{cellClassName:c.cellCheckbox,headerClassName:c.columnHeaderCheckbox,headerName:a.current.getLocaleText("checkboxSelectionHeaderName")}),f=b.checkboxSelection,g=null!=d.lookup[rg];return f&&!g?(d.lookup[rg]=e,d.orderedFields=[rg,...d.orderedFields]):!f&&g?(delete d.lookup[rg],d.orderedFields=d.orderedFields.filter(a=>a!==rg)):f&&g&&(d.lookup[rg]=(0,ks.default)({},e,d.lookup[rg]),b.columns.some(a=>a.field===rg)||(d.orderedFields=[rg,...d.orderedFields.filter(a=>a!==rg)])),d},[a,c,b.columns,b.checkboxSelection]);rn(a,"hydrateColumns",d)})(p,o),rB(p,pX,"rowTreeCreation",r5),q9(pZ,p,o),q9(r8,p,o),q9(rp,p,o),q9(r4,p,o),q9(rT,p,o),q9(r3,p,o),q9(rG,p,o),q9(r9,p,o),q9(rU,p,o),q9(rC,p,o),q9(sD,p,o),q9(rq,p,o),q9(sv,p,o),q9(rm,p,o),q9(sn,p,o),q9(so,p,o),q9(sd,p,o),q9(sg,p,o),q9(sE,p,o),!function(a,b){let c=(0,nZ.useRtl)(),{listView:d}=b,e=kZ(a,lB),f=kZ(a,mh),g=lE(a),i=kZ(a,pF),j=q.useCallback(b=>i.has(b)&&a.current.isRowSelectable(b),[i,a]),k=q_(a),l=kZ(a,lJ),m=kZ(a,l2),n=kZ(a,l$),{autoHeight:o}=b,p=kZ(a,lm),r=Math.floor(nu(b.rowHeight,q5.rowHeight,nv)*p),s=Math.floor(b.columnHeaderHeight*p),t=Math.floor((b.columnGroupHeaderHeight??b.columnHeaderHeight)*p),u=Math.floor((b.headerFilterHeight??b.columnHeaderHeight)*p),v=kZ(a,q7),w=on(a,b),x=g.left.reduce((a,b)=>a+b.computedWidth,0),y=g.right.reduce((a,b)=>a+b.computedWidth,0),z=oV(a,b),A={rowHeight:r,headerHeight:s,columnsTotalWidth:v,leftPinnedWidth:x,rightPinnedWidth:y,topPinnedHeight:w,bottomPinnedHeight:0,scrollbarSize:b.scrollbarSize},B=kT(q8).current,C=kZ(a,l5),D=kZ(a,qO),E=Math.min(D.enabled?D.paginationModel.pageSize:C,C),{getRowHeight:F,getEstimatedRowHeight:G,getRowSpacing:H}=b,I=kZ(a,q4),J=b.slots.row,K=b.slotProps?.row,L=(a=>{let b=p5(()=>new p6(qK.map(b=>b.initialize(a)).reduce((a,b)=>Object.assign(a,b),{}))).current,c={};for(let d of qK)Object.assign(c,d.use(b,a,c));return{store:b,api:c}})({refs:{container:a.current.mainElementRef,scroller:a.current.virtualScrollerRef,scrollbarVertical:a.current.virtualScrollbarVerticalRef,scrollbarHorizontal:a.current.virtualScrollbarHorizontalRef},dimensions:A,virtualization:{isRtl:c,rowBufferPx:b.rowBufferPx,columnBufferPx:b.columnBufferPx},colspan:{enabled:l,getColspan:q.useCallback((b,c)=>{if("function"==typeof c.colSpan){let d=a.current.getRow(b),e=a.current.getRowValue(d,c);return c.colSpan(e,d,c,a)??0}return c.colSpan??1},[a])},initialState:{scroll:b.initialState?.scroll,rowSpanning:a.current.state.rowSpanning,virtualization:a.current.state.virtualization},rows:k.rows,range:k.range,rowCount:E,columns:e,pinnedRows:f,pinnedColumns:g,autoHeight:o,disableHorizontalScroll:d,disableVerticalScroll:"noColumnsOverlay"===z.overlayType||"skeleton"===z.loadingOverlayVariant,minimalContentHeight:ns,getRowHeight:q.useMemo(()=>{if(F)return a=>F((0,ks.default)({},a,{densityFactor:p}))},[F,p]),getEstimatedRowHeight:q.useMemo(()=>G?a=>G((0,ks.default)({},a,{densityFactor:p})):void 0,[G,p]),getRowSpacing:q.useMemo(()=>H?b=>{let c=k.rowIdToIndexMap.get(b.id)??-1,d={isFirstVisible:0===c,isLastVisible:c===k.rows.length-1,indexRelativeToCurrentPage:c};return H((0,ks.default)({},b,d,{indexRelativeToCurrentPage:a.current.getRowIndexRelativeToVisibleRows(b.id)}))}:void 0,[a,H,k.rows,k.rowIdToIndexMap]),applyRowHeight:mk((b,c)=>a.current.unstable_applyPipeProcessors("rowHeight",b,c)),virtualizeColumnsWithAutoRowHeight:b.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:mk(()=>I),resizeThrottleMs:b.resizeThrottleMs,onResize:mk(b=>a.current.publishEvent("resize",b)),onWheel:mk(b=>{a.current.publishEvent("virtualScrollerWheel",{},b)}),onTouchMove:mk(b=>{a.current.publishEvent("virtualScrollerTouchMove",{},b)}),onRenderContextChange:mk(b=>{a.current.publishEvent("renderedRowsIntervalChange",b)}),onScrollChange:q.useCallback((b,c)=>{a.current.publishEvent("scrollPositionChange",{top:b.top,left:b.left,renderContext:c})},[a]),scrollReset:d,renderRow:q.useCallback(a=>(0,h.jsx)(J,(0,ks.default)({row:a.model,rowId:a.id,index:a.rowIndex,selected:j(a.id),offsetLeft:a.offsetLeft,columnsTotalWidth:v,rowHeight:a.baseRowHeight,pinnedColumns:g,visibleColumns:e,firstColumnIndex:a.firstColumnIndex,lastColumnIndex:a.lastColumnIndex,focusedColumnIndex:a.focusedColumnIndex,isFirstVisible:a.isFirstVisible,isLastVisible:a.isLastVisible,isNotVisible:a.isVirtualFocusRow,showBottomBorder:a.showBottomBorder,scrollbarWidth:m,gridHasFiller:n},K),a.id),[v,n,j,g,J,K,m,e]),renderInfiniteLoadingTrigger:q.useCallback(b=>a.current.getInfiniteLoadingTriggerElement?.({lastRowId:b}),[a])});qq(()=>{a.current.store.state.dimensions=B(L.store.state.dimensions,s,t,u,w),a.current.store.state.rowsMeta=L.store.state.rowsMeta,a.current.store.state.virtualization=L.store.state.virtualization}),p2(L.store,qj.selectors.dimensions,(b,c)=>{a.current.setState(a=>(0,ks.default)({},a,{dimensions:B(c,s,t,u,w)}))}),p2(L.store,q6,(b,c)=>{c.rowsMeta!==a.current.state.rowsMeta&&a.current.setState(a=>(0,ks.default)({},a,{rowsMeta:c.rowsMeta})),c.virtualization!==a.current.state.virtualization&&a.current.setState(a=>(0,ks.default)({},a,{virtualization:c.virtualization}))}),a.current.register("private",{virtualizer:L})}(p,o),((a,b)=>{let c=ra(a,"useGridKeyboardNavigation"),d=(0,nZ.useRtl)(),e=q.useCallback(()=>rS(a),[a]),f="DataGrid"!==b.signature&&b.headerFilters,g=q.useCallback((b,d,e="left",f="up")=>{let g=oH(a),h=a.current.unstable_getCellColSpanInfo(d,b);h&&h.spannedByColSpan&&("left"===e?b=h.leftVisibleCellIndex:"right"===e&&(b=h.rightVisibleCellIndex));let i=lC(a)[b],j=function(a,b,c,d){let e=qJ.selectors.hiddenCells(a.current.virtualizer.store.state);if(!e[b]?.[c])return b;let f=oK(a),g=f.indexOf(b)+("down"===d?1:-1);for(;g>=0&&g<f.length;){let a=f[g];if(!e[a]?.[c])return a;g+="down"===d?1:-1}return b}(a,d,b,f),k=g.findIndex(a=>a.id===j);c.debug(`Navigating to cell row ${k}, col ${b}`),a.current.scrollToIndexes({colIndex:b,rowIndex:k}),a.current.setCellFocus(j,i)},[a,c]),h=q.useCallback((b,d)=>{c.debug(`Navigating to header col ${b}`),a.current.scrollToIndexes({colIndex:b});let e=a.current.getVisibleColumns()[b].field;a.current.setColumnHeaderFocus(e,d)},[a,c]),i=q.useCallback((b,d)=>{c.debug(`Navigating to header filter col ${b}`),a.current.scrollToIndexes({colIndex:b});let e=a.current.getVisibleColumns()[b].field;a.current.setColumnHeaderFilterFocus(e,d)},[a,c]),j=q.useCallback((b,d,e)=>{c.debug(`Navigating to header col ${b}`),a.current.scrollToIndexes({colIndex:b});let{field:f}=a.current.getVisibleColumns()[b];a.current.setColumnGroupHeaderFocus(f,d,e)},[a,c]),k=q.useCallback(a=>e()[a]?.id,[e]),l=q.useCallback((b,c)=>{let l=c.currentTarget.querySelector(`.${kL.columnHeaderTitleContainerContent}`);if(l&&l.contains(c.target)&&b.field!==rh.field)return;let m=e(),n=a.current.getViewportPageSize(),o=b.field?a.current.getColumnIndex(b.field):0,p=m.length>0?0:null,q=m.length-1,r=lB(a).length-1,s=oh(a),t=!0;switch(c.key){case"ArrowDown":f?i(o,c):null!==p&&g(o,k(p));break;case"ArrowRight":{let a=rR({currentColIndex:o,firstColIndex:0,lastColIndex:r,isRtl:d});null!==a&&h(a,c);break}case"ArrowLeft":{let a=rQ({currentColIndex:o,firstColIndex:0,lastColIndex:r,isRtl:d});null!==a&&h(a,c);break}case"ArrowUp":s>0&&j(o,s-1,c);break;case"PageDown":null!==p&&null!==q&&g(o,k(Math.min(p+n,q)));break;case"Home":h(0,c);break;case"End":h(r,c);break;case"Enter":(c.ctrlKey||c.metaKey)&&a.current.toggleColumnMenu(b.field);break;case" ":break;default:t=!1}t&&c.preventDefault()},[a,e,f,i,g,k,d,h,j]),m=q.useCallback((b,c)=>{let f=ob(a)===b.field,j=oc(a)===b.field;if(f||j||!n_(c.key))return;let l=e(),m=a.current.getViewportPageSize(),n=b.field?a.current.getColumnIndex(b.field):0,o=l.length-1,p=lB(a).length-1,q=!0;switch(c.key){case"ArrowDown":{let a=k(0);null!=a&&g(n,a);break}case"ArrowRight":{let a=rR({currentColIndex:n,firstColIndex:0,lastColIndex:p,isRtl:d});null!==a&&i(a,c);break}case"ArrowLeft":{let e=rQ({currentColIndex:n,firstColIndex:0,lastColIndex:p,isRtl:d});null!==e?i(e,c):a.current.setColumnHeaderFilterFocus(b.field,c);break}case"ArrowUp":h(n,c);break;case"PageDown":null!==o&&g(n,k(Math.min(0+m,o)));break;case"Home":i(0,c);break;case"End":i(p,c);break;case" ":break;default:q=!1}q&&c.preventDefault()},[a,e,i,d,h,g,k]),n=q.useCallback((b,c)=>{let d=oZ(a);if(null===d)return;let{field:f,depth:i}=d,{fields:l,depth:m,maxDepth:n}=b,o=e(),p=a.current.getViewportPageSize(),q=a.current.getColumnIndex(f),r=f?a.current.getColumnIndex(f):0,s=o.length-1,t=lB(a).length-1,u=!0;switch(c.key){case"ArrowDown":m===n-1?h(q,c):j(q,i+1,c);break;case"ArrowUp":m>0&&j(q,i-1,c);break;case"ArrowRight":{let a=l.length-l.indexOf(f)-1;q+a+1<=t&&j(q+a+1,i,c);break}case"ArrowLeft":{let a=l.indexOf(f);q-a-1>=0&&j(q-a-1,i,c);break}case"PageDown":null!==s&&g(r,k(Math.min(0+p,s)));break;case"Home":j(0,i,c);break;case"End":j(t,i,c);break;case" ":break;default:u=!1}u&&c.preventDefault()},[a,e,h,j,g,k]),o=q.useCallback((b,c)=>{if(rK(c))return;let j=a.current.getCellParams(b.id,b.field);if(j.cellMode===nN.Edit||!n_(c.key)||!a.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:c,cell:j}))return;let l=e();if(0===l.length)return;let m=a.current.getViewportPageSize(),n=b.field?a.current.getColumnIndex(b.field):0,o=l.findIndex(a=>a.id===b.id),p=l.length-1,q=lB(a).length-1,r=!0;switch(c.key){case"ArrowDown":o<p&&g(n,k(o+1),d?"right":"left","down");break;case"ArrowUp":o>0?g(n,k(o-1)):f?i(n,c):h(n,c);break;case"ArrowRight":{let a=rR({currentColIndex:n,firstColIndex:0,lastColIndex:q,isRtl:d});null!==a&&g(a,k(o),d?"left":"right");break}case"ArrowLeft":{let a=rQ({currentColIndex:n,firstColIndex:0,lastColIndex:q,isRtl:d});null!==a&&g(a,k(o),d?"right":"left");break}case"Tab":c.shiftKey&&n>0?g(n-1,k(o),"left"):!c.shiftKey&&n<q&&g(n+1,k(o),"right");break;case" ":{let a;if(b.field===nB)break;let d=b.colDef;if(d&&("__tree_data_group__"===d.field||(a=d.field)===nA||null!==(a=>{let b=a.match(/^__row_group_by_columns_group_(.*)__$/);return b?b[1]:null})(a)))break;!c.shiftKey&&o<p&&g(n,k(Math.min(o+m,p)));break}case"PageDown":o<p&&g(n,k(Math.min(o+m,p)));break;case"PageUp":{let a=Math.max(o-m,0);a!==o&&a>=0?g(n,k(a)):h(n,c);break}case"Home":c.ctrlKey||c.metaKey||c.shiftKey?g(0,k(0)):g(0,k(o));break;case"End":c.ctrlKey||c.metaKey||c.shiftKey?g(q,k(p)):g(q,k(o));break;default:r=!1}r&&c.preventDefault()},[a,e,d,g,k,f,i,h]);rn(a,"canStartEditing",q.useCallback((a,{event:b})=>" "!==b.key&&a,[])),mq(a,"columnHeaderKeyDown",l),mq(a,"headerFilterKeyDown",m),mq(a,"columnGroupHeaderKeyDown",n),mq(a,"cellKeyDown",o)})(p,o),((a,b)=>{let c=ra(a,"useGridSelection"),d=q.useCallback(a=>(...c)=>{b.rowSelection&&a(...c)},[b.rowSelection]),e=kZ(a,me)>1,f=b.signature!==pA.DataGrid&&(b.rowSelectionPropagation?.parents||b.rowSelectionPropagation?.descendants)&&e,g=q.useMemo(()=>b.rowSelectionModel,[b.rowSelectionModel]),h=q.useRef(null);a.current.registerControlState({stateId:"rowSelection",propModel:g,propOnChange:b.onRowSelectionModelChange,stateSelector:pE,changeEvent:"rowSelectionChange"});let{checkboxSelection:i,disableRowSelectionOnClick:j,isRowSelectable:k}=b,l=pK(b),m=kZ(a,l9),n=q.useCallback(b=>{let c=b,d=h.current??b,e=a.current.isRowSelected(b);if(e){let b=oI(a),e=b.findIndex(a=>a===d),f=b.findIndex(a=>a===c);if(e===f)return;c=e>f?b[f+1]:b[f-1]}h.current=b,a.current.selectRowRange({startId:d,endId:c},!e)},[a]),o=mk(()=>b.pagination&&b.checkboxSelectionVisibleOnly&&"client"===b.paginationMode?qY(a):oI(a)),p=q.useCallback((d,e)=>{if(b.signature===pA.DataGrid&&!l&&("include"!==d.type||d.ids.size>1))throw Error("MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection.");pE(a)!==d&&(c.debug("Setting selection model"),a.current.setState(a=>(0,ks.default)({},a,{rowSelection:b.rowSelection?d:r7}),e))},[a,c,b.rowSelection,b.signature,l]),r=q.useCallback(b=>pF(a).has(b),[a]),s=q.useCallback(c=>{if(!1===b.rowSelection||k&&!k(a.current.getRowParams(c)))return!1;let d=ma(a,c);return d?.type!=="footer"&&d?.type!=="pinnedRow"},[a,b.rowSelection,k]),t=q.useCallback(()=>pH(a),[a]),u=q.useCallback((d,e=!0,g=!1)=>{if(a.current.isRowSelectable(d))if(h.current=d,g){c.debug(`Setting selection for row ${d}`);let g={type:"include",ids:new Set},h=a=>{g.ids.add(a)};e&&(h(d),f&&pL(a,m,d,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,h)),a.current.setRowSelectionModel(g,"singleRowSelection")}else{c.debug(`Toggling selection for row ${d}`);let g=pE(a),h={type:g.type,ids:new Set(g.ids)},i=pD(h);i.unselect(d);let j=a=>{i.select(a)};e?(j(d),f&&pL(a,m,d,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,j)):f&&pM(a,m,d,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,a=>{i.unselect(a)}),("include"===h.type&&h.ids.size<2||l)&&a.current.setRowSelectionModel(h,"singleRowSelection")}},[a,c,f,m,b.rowSelectionPropagation?.descendants,b.rowSelectionPropagation?.parents,l]),v=q.useCallback((d,e=!0,g=!1)=>{let h;if(c.debug("Setting selection for several rows"),!1===b.rowSelection)return;let i=new Set;for(let b=0;b<d.length;b+=1){let c=d[b];a.current.isRowSelectable(c)&&i.add(c)}let j=pE(a);if(g){if(h={type:"include",ids:i},e){let c=pD(h);if(f){let d=a=>{c.select(a)};for(let c of i)pL(a,m,c,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,d)}}else h.ids=new Set;if(j.type===h.type&&h.ids.size===j.ids.size&&Array.from(h.ids).every(a=>j.ids.has(a)))return}else{let c=pD(h={type:j.type,ids:new Set(j.ids)}),d=a=>{c.select(a)},g=a=>{c.unselect(a)};for(let h of i)e?(c.select(h),f&&pL(a,m,h,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,d)):(g(h),f&&pM(a,m,h,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,g))}("include"===h.type&&h.ids.size<2||l)&&a.current.setRowSelectionModel(h,"multipleRowsSelection")},[c,f,l,a,m,b.rowSelectionPropagation?.descendants,b.rowSelectionPropagation?.parents,b.rowSelection]),w=q.useCallback(c=>{if(!e||!f||"exclude"===c.type||0===c.ids.size&&"include"===c.type)return c;let d={type:c.type,ids:new Set(c.ids)},g=pD(d),h=a=>{g.select(a)};for(let d of c.ids)pL(a,m,d,b.rowSelectionPropagation?.descendants??!1,b.rowSelectionPropagation?.parents??!1,h,g);return d},[a,m,b.rowSelectionPropagation?.descendants,b.rowSelectionPropagation?.parents,e,f]),x=q.useCallback(({startId:b,endId:d},e=!0,f=!1)=>{if(!a.current.getRow(b)||!a.current.getRow(d))return;c.debug(`Expanding selection from row ${b} to row ${d}`);let g=oI(a),h=g.indexOf(b),i=g.indexOf(d),[j,k]=h>i?[i,h]:[h,i],l=g.slice(j,k+1);a.current.selectRows(l,e,f)},[a,c]);pO(a,{selectRow:u,setRowSelectionModel:p,getSelectedRows:t,isRowSelected:r,isRowSelectable:s},"public"),pO(a,{selectRows:v,selectRowRange:x,getPropagatedRowSelectionModel:w},b.signature===pA.DataGrid?"private":"public");let y=q.useRef(!0),z=q.useCallback((c=!1)=>{if(y.current)return;let d=pE(a),f=l8(a),g=l9(a),h=oG(a),i=a=>"server"===b.filterMode?!f[a]:!g[a]||!1===h[a],j={type:d.type,ids:new Set(d.ids)},k=pD(j),l=!1;for(let a of d.ids){if(i(a)){if(b.keepNonExistentRowsSelected)continue;k.unselect(a),l=!0;continue}if(!b.rowSelectionPropagation?.parents)continue;let c=m[a];if(c?.type==="group"){if(c.isAutoGenerated){k.unselect(a),l=!0;continue}c.children.every(a=>!1===h[a])||(k.unselect(a),l=!0)}}let n=e&&b.rowSelectionPropagation?.parents&&(j.ids.size>0||"exclude"===j.type);if(l||n&&!c)if(n)if("exclude"===j.type){let c=o(),d=[];for(let a=0;a<c.length;a+=1){let e=c[a];(b.keepNonExistentRowsSelected||!i(e))&&k.has(e)&&d.push(e)}a.current.selectRows(d,!0,!0)}else a.current.selectRows(Array.from(j.ids),!0,!0);else a.current.setRowSelectionModel(j,"multipleRowsSelection")},[a,e,b.rowSelectionPropagation?.parents,b.keepNonExistentRowsSelected,b.filterMode,m,o]),A=q.useCallback((b,c)=>{let d=c.metaKey||c.ctrlKey,e=!i&&!d&&!c.key,f=!l||e,g=a.current.isRowSelected(b),h=pG(a);a.current.selectRow(b,h>1&&f||!g,f)},[a,l,i]),B=q.useCallback((b,c)=>{if(j)return;let d=c.target.closest(`.${kL.cell}`)?.getAttribute("data-field");if(d!==rh.field&&d!==nB){if(d){let b=a.current.getColumn(d);if(b?.type===n7)return}"pinnedRow"!==ma(a,b.id).type&&(c.shiftKey&&l?n(b.id):A(b.id,c))}},[j,l,a,n,A]),C=q.useCallback((a,b)=>{l&&b.shiftKey&&window.getSelection()?.removeAllRanges()},[l]),D=q.useCallback((b,c)=>{l&&c.nativeEvent.shiftKey?n(b.id):a.current.selectRow(b.id,b.value,!l)},[a,n,l]),E=q.useCallback(c=>{let d=oD(a),f=oE(a),g=d.items.length>0||f?.some(a=>a.length);!(!b.isRowSelectable&&!b.checkboxSelectionVisibleOnly&&(!e||b.rowSelectionPropagation?.descendants))||g||b.disableRowSelectionExcludeModel?a.current.selectRows(o(),c):a.current.setRowSelectionModel({type:c?"exclude":"include",ids:new Set},"multipleRowsSelection")},[a,o,b.checkboxSelectionVisibleOnly,b.isRowSelectable,b.rowSelectionPropagation?.descendants,b.disableRowSelectionExcludeModel,e]),F=q.useCallback(a=>{E(a.value)},[E]),G=q.useCallback((b,c)=>{if(a.current.getCellMode(b.id,b.field)!==nN.Edit&&!rK(c)){if(n_(c.key)&&c.shiftKey){let d=oX(a);if(d&&d.id!==b.id){let e,f;c.preventDefault();let g=a.current.isRowSelected(d.id);if(!l)return void a.current.selectRow(d.id,!g,!0);let h=a.current.getRowIndexRelativeToVisibleRows(d.id),i=a.current.getRowIndexRelativeToVisibleRows(b.id);h>i?g?(e=i,f=h-1):(e=i,f=h):(e=g?h+1:h,f=i);let j=q$(a),k=[];for(let a=e;a<=f;a+=1)k.push(j.rows[a].id);return void a.current.selectRows(k,!g)}}if(" "===c.key&&c.shiftKey){c.preventDefault(),A(b.id,c);return}"A"===String.fromCharCode(c.keyCode)&&(c.ctrlKey||c.metaKey)&&(c.preventDefault(),E(!0))}},[a,l,A,E]),H=mk(()=>{if(!b.rowSelection)return void a.current.setRowSelectionModel(r7);if(void 0===g)return;if(!f||!e||"include"===g.type&&0===g.ids.size)return void a.current.setRowSelectionModel(g);let c=a.current.getPropagatedRowSelectionModel(g);if(c.type!==g.type||c.ids.size!==g.ids.size||!Array.from(g.ids).every(a=>c.ids.has(a)))return void a.current.setRowSelectionModel(c);a.current.setRowSelectionModel(g)});mq(a,"sortedRowsSet",d(()=>z(!0))),mq(a,"filteredRowsSet",d(()=>z())),mq(a,"rowClick",d(B)),mq(a,"rowSelectionCheckboxChange",d(D)),mq(a,"headerSelectionCheckboxChange",F),mq(a,"cellMouseDown",d(C)),mq(a,"cellKeyDown",d(G)),q.useEffect(()=>{H()},[a,g,b.rowSelection,H]);let I=null!=g;q.useEffect(()=>{if(I||!b.rowSelection||"function"!=typeof s)return;let c=pE(a);if("include"!==c.type)return;let d=new Set;for(let a of c.ids)s(a)&&d.add(a);d.size<c.ids.size&&a.current.setRowSelectionModel({type:c.type,ids:d})},[a,s,I,b.rowSelection]),q.useEffect(()=>{if(!b.rowSelection||I)return;let c=pE(a);!l&&("include"===c.type&&c.ids.size>1||"exclude"===c.type)&&a.current.setRowSelectionModel(r7)},[a,l,i,I,b.rowSelection]),q.useEffect(()=>{d(z)},[z,d]),q.useEffect(()=>{y.current&&(y.current=!1)},[])})(p,o),!function(a,b){let c=ra(a,"useGridColumns");a.current.registerControlState({stateId:"visibleColumns",propModel:b.columnVisibilityModel,propOnChange:b.onColumnVisibilityModelChange,stateSelector:lz,changeEvent:"columnVisibilityModelChange"});let d=q.useCallback(b=>{var d;c.debug("Updating columns state."),a.current.setState((d=b,a=>(0,ks.default)({},a,{columns:d}))),a.current.publishEvent("columnsChange",b.orderedFields)},[c,a]),e=q.useCallback(b=>lx(a)[b],[a]),f=q.useCallback(()=>ly(a),[a]),g=q.useCallback(()=>lB(a),[a]),i=q.useCallback((b,c=!0)=>(c?lB(a):ly(a)).findIndex(a=>a.field===b),[a]),j=q.useCallback(b=>{let c=i(b);return lG(a)[c]},[a,i]),k=q.useCallback(b=>{lz(a)!==b&&(a.current.setState(c=>(0,ks.default)({},c,{columns:om({apiRef:a,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:b,keepOnlyColumnsToUpsert:!1})})),a.current.updateRenderContext?.())},[a]),l=q.useCallback(b=>{let c=b;if(oS(a)){let d=[],e=[],f=oU(a);if(b.forEach(a=>{f.has(a.field)?d.push(a):e.push(a)}),d.length>0&&a.current.updateNonPivotColumns(d),0===e.length)return;c=e}d(om({apiRef:a,columnsToUpsert:c,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0}))},[a,d]),m=q.useCallback((b,c)=>{let d=lz(a);if(c!==(d[b]??!0)){let e=(0,ks.default)({},d,{[b]:c});a.current.setColumnVisibilityModel(e)}},[a]),n=q.useCallback(b=>lw(a).findIndex(a=>a===b),[a]),o=q.useCallback((b,e)=>{let f=lw(a),g=n(b);if(g===e)return;c.debug(`Moving column ${b} to index ${e}`);let h=[...f],i=h.splice(g,1)[0];h.splice(e,0,i),d((0,ks.default)({},lv(a),{orderedFields:h}));let j={column:a.current.getColumn(b),targetIndex:a.current.getColumnIndexRelativeToVisibleColumns(b),oldIndex:g};a.current.publishEvent("columnIndexChange",j)},[a,c,d,n]),p=q.useCallback((b,e)=>{c.debug(`Updating column ${b} width to ${e}`);let f=lv(a),g=f.lookup[b],h=(0,ks.default)({},g,{width:e,hasBeenResized:!0});d(ok((0,ks.default)({},f,{lookup:(0,ks.default)({},f.lookup,{[b]:h})}),a.current.getRootDimensions())),a.current.publishEvent("columnWidthChange",{element:a.current.getColumnHeaderElement(b),colDef:h,width:e})},[a,c,d]);pO(a,{getColumn:e,getAllColumns:f,getColumnIndex:i,getColumnPosition:j,getVisibleColumns:g,getColumnIndexRelativeToVisibleColumns:n,updateColumns:l,setColumnVisibilityModel:k,setColumnVisibility:m,setColumnWidth:p},"public"),pO(a,{setColumnIndex:o},b.signature===pA.DataGrid?"private":"public");let r=q.useCallback((c,d)=>{let e={},f=lz(a);(!d.exportOnlyDirtyModels||null!=b.columnVisibilityModel||Object.keys(b.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys(f).length>0)&&(e.columnVisibilityModel=f),e.orderedFields=lw(a);let g=ly(a),h={};return g.forEach(a=>{if(a.hasBeenResized){let b={};oi.forEach(c=>{let d=a[c];d===1/0&&(d=-1),b[c]=d}),h[a.field]=b}}),Object.keys(h).length>0&&(e.dimensions=h),(0,ks.default)({},c,{columns:e})},[a,b.columnVisibilityModel,b.initialState?.columns]),s=q.useCallback((b,c)=>{let d=c.stateToRestore.columns,e=d?.columnVisibilityModel;if(null==d)return b;let f=om({apiRef:a,columnsToUpsert:[],initialState:d,columnVisibilityModel:e,keepOnlyColumnsToUpsert:!1});return null!=d&&a.current.setState(a=>(0,ks.default)({},a,{columns:(0,ks.default)({},a.columns,{lookup:f.lookup,orderedFields:f.orderedFields,initialColumnVisibilityModel:f.initialColumnVisibilityModel})})),null!=e&&a.current.setState(a=>(0,ks.default)({},a,{columns:(0,ks.default)({},a.columns,{columnVisibilityModel:e})})),null!=d&&a.current.publishEvent("columnsChange",f.orderedFields),b},[a]),t=q.useCallback((a,c)=>{if(c===lM.columns){let a=b.slots.columnsPanel;return(0,h.jsx)(a,(0,ks.default)({},b.slotProps?.columnsPanel))}return a},[b.slots.columnsPanel,b.slotProps?.columnsPanel]),u=q.useCallback(c=>{let d=oS(a);return b.disableColumnSelector||d?c:[...c,"columnMenuColumnsItem"]},[b.disableColumnSelector,a]);rn(a,"columnMenu",u),rn(a,"exportState",r),rn(a,"restoreState",s),rn(a,"preferencePanel",t);let v=q.useRef(null);mq(a,"viewportInnerSizeChange",b=>{v.current!==b.width&&(v.current=b.width,lB(a).some(a=>a.flex&&a.flex>0)&&d(ok(lv(a),a.current.getRootDimensions())))});let w=q.useCallback(()=>{c.info("Columns pipe processing have changed, regenerating the columns"),d(om({apiRef:a,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1}))},[a,c,d]);ro(a,"hydrateColumns",w),q.useEffect(()=>{a.current.caches.columns.lastColumnsProp!==b.columns&&(a.current.caches.columns.lastColumnsProp=b.columns,c.info(`GridColumns have changed, new length ${b.columns.length}`),d(om({apiRef:a,initialState:void 0,columnsToUpsert:b.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:b.columnVisibilityModel})))},[c,a,d,b.columns,b.columnVisibilityModel]),q.useEffect(()=>{void 0!==b.columnVisibilityModel&&a.current.setColumnVisibilityModel(b.columnVisibilityModel)},[a,c,b.columnVisibilityModel])}(p,o),((a,b,c)=>{let d=ra(a,"useGridRows"),e=q.useRef(Date.now()),f=q.useRef(b.rowCount),g=mw(),{setRowIndex:h}=c.hooks.useGridRowsOverridableMethods(a,b),i=q.useCallback(b=>{let c=l8(a)[b];if(c)return c;let d=ma(a,b);return d&&np(d)?{[nk]:b}:null},[a]),j=q.useCallback(b=>nw(a,b),[a]),k=q.useCallback(({cache:c,throttle:d})=>{let f=()=>{e.current=Date.now(),a.current.setState(c=>(0,ks.default)({},c,{rows:no({apiRef:a,rowCountProp:b.rowCount,loadingProp:b.loading,previousTree:l9(a),previousTreeDepths:md(a),previousGroupsToFetch:mb(a)})})),a.current.publishEvent("rowsSet")};if(g.clear(),a.current.caches.rows=c,!d)return void f();let h=b.throttleRowsMs-(Date.now()-e.current);if(h>0)return void g.start(h,f);f()},[b.throttleRowsMs,b.rowCount,b.loading,a,g]),l=q.useCallback(c=>{if(d.debug(`Updating all rows, new length ${c.length}`),!b.dataSource&&oS(a))return void a.current.updateNonPivotRows(c,!1);let e=nm({rows:c,getRowId:b.getRowId,loading:b.loading,rowCount:b.rowCount});e.rowsBeforePartialUpdates=a.current.caches.rows.rowsBeforePartialUpdates,k({cache:e,throttle:!0})},[d,b.getRowId,b.dataSource,b.loading,b.rowCount,k,a]),m=q.useCallback(c=>{if(b.signature===pA.DataGrid&&c.length>1)throw Error("MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.");if(!b.dataSource&&oS(a))return void a.current.updateNonPivotRows(c);k({cache:nr({updates:nt(a,c,b.getRowId),getRowId:b.getRowId,previousCache:a.current.caches.rows}),throttle:!0})},[b.signature,b.dataSource,b.getRowId,k,a]),n=q.useCallback((c,d)=>{k({cache:nr({updates:nt(a,c,b.getRowId),getRowId:b.getRowId,previousCache:a.current.caches.rows,groupKeys:d??[]}),throttle:!1})},[b.getRowId,k,a]),o=q.useCallback(b=>{d.debug(`Setting loading to ${b}`),a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{loading:b})})),a.current.caches.rows.loadingPropBeforePartialUpdates=b},[a,d]),p=q.useCallback(()=>{let b=mf(a),c=l8(a);return new Map(b.map(a=>[a,c[a]??{}]))},[a]),r=q.useCallback(()=>l5(a),[a]),s=q.useCallback(()=>mf(a),[a]),t=q.useCallback(b=>{let{rowIdToIndexMap:c}=q$(a);return c.get(b)},[a]),u=q.useCallback((b,c)=>{let d=ma(a,b);if(!d)throw Error(`MUI X: No row with id #${b} found.`);if("group"!==d.type)throw Error("MUI X: Only group nodes can be expanded or collapsed.");let e=(0,ks.default)({},d,{childrenExpanded:c});a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{tree:(0,ks.default)({},a.rows.tree,{[b]:e})})})),a.current.publishEvent("rowExpansionChange",e)},[a]),v=q.useCallback(()=>{let b=(0,ks.default)({},l9(a)),c=a=>{let d=b[a];d?.type==="group"&&(b[a]=(0,ks.default)({},d,{childrenExpanded:!0}),d.children.forEach(c))};c(nj),a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{tree:b})})),a.current.publishEvent("rowExpansionChange",b[nj])},[a]),w=q.useCallback(()=>{let b=(0,ks.default)({},l9(a)),c=a=>{let d=b[a];d?.type==="group"&&(b[a]=(0,ks.default)({},d,{childrenExpanded:!1}),d.children.forEach(c))};c(nj),a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{tree:b})})),a.current.publishEvent("rowExpansionChange",b[nj])},[a]),x=q.useCallback(b=>ma(a,b)??null,[a]),y=q.useCallback(({skipAutoGeneratedRows:b=!0,groupId:c,applySorting:d,applyFiltering:e,directChildrenOnly:f=!1})=>{let g,h=l9(a);if(d){let d=h[c];if(!d)return[];let e=oy(a);g=[];let i=e.findIndex(a=>a===c)+1;for(let a=i;a<e.length&&(f?h[e[a]].depth===d.depth+1:h[e[a]].depth>d.depth);a+=1){let c=e[a];b&&np(h[c])||g.push(c)}}else g=nq(h,c,b,f);if(e){let b=oG(a);g=ow(b)?g:g.filter(a=>!1!==b[a])}return g},[a]),z=q.useCallback((c,d)=>{if(b.signature===pA.DataGrid&&d.length>1)throw Error("MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.\nYou need to upgrade to DataGridPro or DataGridPremium component to unlock this feature.");if(0===d.length)return;if(me(a)>1)throw Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");let e=(0,ks.default)({},l9(a)),f=(0,ks.default)({},l8(a)),g=e[nj],h=[...g.children],i=new Set;for(let a=0;a<d.length;a+=1){let g=d[a],j=nl(g,b.getRowId,"A row was provided without id when calling replaceRows()."),[k]=h.splice(c+a,1,j);i.has(k)||(delete f[k],delete e[k]);let l={id:j,depth:0,parent:nj,type:"leaf",groupingKey:null};f[j]=g,e[j]=l,i.add(j)}e[nj]=(0,ks.default)({},g,{children:h});let j=h.filter(a=>e[a]?.type==="leaf");a.current.caches.rows.dataRowIdToModelLookup=f,a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{loading:b.loading,totalRowCount:Math.max(b.rowCount||0,h.length),dataRowIdToModelLookup:f,dataRowIds:j,tree:e})})),a.current.publishEvent("rowsSet")},[a,b.signature,b.getRowId,b.loading,b.rowCount]),A=q.useCallback(()=>{d.info("Row grouping pre-processing have changed, regenerating the row tree"),k({cache:a.current.caches.rows.rowsBeforePartialUpdates===b.rows?(0,ks.default)({},a.current.caches.rows,{updates:{type:"full",rows:mf(a)}}):nm({rows:b.rows,getRowId:b.getRowId,loading:b.loading,rowCount:b.rowCount}),throttle:!1})},[d,a,b.rows,b.getRowId,b.loading,b.rowCount,k]),B=kT(()=>b.dataSource),C=q.useCallback(a=>{if(b.dataSource&&b.dataSource!==B.current){B.current=b.dataSource;return}"rowTreeCreation"===a&&A()},[A,B,b.dataSource]),D=q.useCallback(()=>{a.current.getActiveStrategy(pW.RowTree)!==mc(a)&&A()},[a,A]);mq(a,"activeStrategyProcessorChange",C),mq(a,"strategyAvailabilityChange",D);let E=q.useCallback(()=>{a.current.setState(c=>{let d=a.current.unstable_applyPipeProcessors("hydrateRows",{tree:l9(a),treeDepths:md(a),dataRowIds:mf(a),dataRowIdToModelLookup:l8(a)});return(0,ks.default)({},c,{rows:(0,ks.default)({},c.rows,d,{totalTopLevelRowCount:nn({tree:d.tree,rowCountProp:b.rowCount})})})}),a.current.publishEvent("rowsSet")},[a,b.rowCount]);ro(a,"hydrateRows",E),pO(a,{getRow:i,setLoading:o,getRowId:j,getRowModels:p,getRowsCount:r,getAllRowIds:s,setRows:l,updateRows:m,getRowNode:x,getRowIndexRelativeToVisibleRows:t,unstable_replaceRows:z},"public"),pO(a,{setRowIndex:h,setRowChildrenExpansion:u,getRowGroupChildren:y,expandAllRows:v,collapseAllRows:w},b.signature===pA.DataGrid?"private":"public"),pO(a,{updateNestedRows:n},"private");let F=q.useRef(!0);q.useEffect(()=>{if(F.current){F.current=!1;return}let c=!1;b.rowCount!==f.current&&(c=!0,f.current=b.rowCount);let e=b.dataSource?mg(a):b.rows,g=a.current.caches.rows.rowsBeforePartialUpdates===e,h=a.current.caches.rows.loadingPropBeforePartialUpdates===b.loading,i=a.current.caches.rows.rowCountPropBeforePartialUpdates===b.rowCount;(!g||(h||(a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{loading:b.loading})})),a.current.caches.rows.loadingPropBeforePartialUpdates=b.loading),i||(a.current.setState(a=>(0,ks.default)({},a,{rows:(0,ks.default)({},a.rows,{totalRowCount:Math.max(b.rowCount||0,a.rows.totalRowCount),totalTopLevelRowCount:Math.max(b.rowCount||0,a.rows.totalTopLevelRowCount)})})),a.current.caches.rows.rowCountPropBeforePartialUpdates=b.rowCount),c))&&(d.debug(`Updating all rows, new length ${e?.length}`),k({cache:nm({rows:e,getRowId:b.getRowId,loading:b.loading,rowCount:b.rowCount}),throttle:!1}))},[b.rows,b.rowCount,b.getRowId,b.loading,b.dataSource,d,k,a])})(p,o,Br),((a,b)=>{let c=a.current.virtualizer.store,d=q.useCallback((b,d=!1)=>{var e,f;let{range:g,rows:h}=q$(a);if(d&&c.getSnapshot().rowSpanning!==sB&&c.set("rowSpanning",sB),null===g||!sy(b))return;let i=d?sB:qJ.selectors.state(c.state),j=(e={firstRowIndex:b.firstRowIndex,lastRowIndex:Math.min(b.lastRowIndex,g.lastRowIndex-g.firstRowIndex+1)},f=i.processedRange,e.firstRowIndex>=f.firstRowIndex&&e.lastRowIndex<=f.lastRowIndex?null:e.firstRowIndex>=f.firstRowIndex&&e.lastRowIndex>f.lastRowIndex?{firstRowIndex:f.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<f.firstRowIndex&&e.lastRowIndex<=f.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:f.firstRowIndex-1}:e);if(null===j)return;let k=lB(a),l=sC(a,k,h,g,j,d),m=Object.keys(l.caches.spannedCells).length,n=Object.keys(l.caches.hiddenCells).length,o=Object.keys(i.caches.spannedCells).length,p=Object.keys(i.caches.hiddenCells).length;(d||m!==o||n!==p)&&(0!==m||0!==o)&&c.set("rowSpanning",l)},[a,c]),e=q.useCallback(()=>{let b=q2(a);sy(b)&&d(b,!0)},[a,d]);mq(a,"renderedRowsIntervalChange",mS(b.rowSpanning,d)),mq(a,"sortedRowsSet",mS(b.rowSpanning,e)),mq(a,"paginationModelChange",mS(b.rowSpanning,e)),mq(a,"filteredRowsSet",mS(b.rowSpanning,e)),mq(a,"columnsChange",mS(b.rowSpanning,e)),q.useEffect(()=>{b.rowSpanning?c.state.rowSpanning.caches===sA&&e():c.state.rowSpanning!==sB&&c.set("rowSpanning",sB)},[a,c,e,b.rowSpanning])})(p,o),!function(a,b,c){let d=q.useCallback(b=>({field:b,colDef:a.current.getColumn(b)}),[a]),e=q.useCallback(b=>{let c=a.current.getRow(b);if(!c)throw new r6(`No row with id #${b} found`);return{id:b,columns:a.current.getAllColumns(),row:c}},[a]),f=q.useCallback((b,c,d,{cellMode:e,colDef:f,hasFocus:g,rowNode:h,tabIndex:i,value:j,formattedValue:k})=>{let l=d[c];void 0!==j?l=j:f?.valueGetter&&(l=f.valueGetter(l,d,f,a));let m=l;void 0!==k?m=k:f?.valueFormatter&&(m=f.valueFormatter(l,d,f,a));let n={id:b,field:c,row:d,rowNode:h,colDef:f,cellMode:e,hasFocus:g,tabIndex:i,value:l,formattedValue:m,isEditable:!1,api:a.current};return n.isEditable=f&&a.current.isCellEditable(n),n},[a]),g=q.useCallback((c,d)=>{let e=a.current.getRow(c),f=ma(a,c);if(!e||!f)throw new r6(`No row with id #${c} found`);let g=oX(a),h=o_(a),i=a.current.getCellMode(c,d);return a.current.getCellParamsForRow(c,d,e,{colDef:b.listView&&b.listViewColumn?.field===d?lu(a):a.current.getColumn(d),rowNode:f,hasFocus:null!==g&&g.field===d&&g.id===c,tabIndex:h&&h.field===d&&h.id===c?0:-1,cellMode:i})},[a,b.listView,b.listViewColumn?.field]),h=q.useCallback(b=>{var c;return a.current.rootElementRef.current?(c=a.current.rootElementRef.current,c.querySelector(`[role="columnheader"][data-field="${rI(b)}"]`)):null},[a]),i=q.useCallback(b=>{var c;return a.current.rootElementRef.current?(c=a.current.rootElementRef.current,c.querySelector(rJ(b))):null},[a]),j=q.useCallback((b,c)=>a.current.rootElementRef.current?function(a,{id:b,field:c}){let d=rJ(b),e=`.${kL.cell}[data-field="${rI(c)}"]`,f=`${d} ${e}`;return a.querySelector(f)}(a.current.rootElementRef.current,{id:b,field:c}):null,[a]),k=c.hooks.useGridParamsOverridableMethods(a);pO(a,{getCellValue:k.getCellValue,getCellParams:g,getCellElement:j,getRowValue:k.getRowValue,getRowFormattedValue:k.getRowFormattedValue,getRowParams:e,getRowElement:i,getColumnHeaderParams:d,getColumnHeaderElement:h},"public"),pO(a,{getCellParamsForRow:f},"private")}(p,o,Br),(a=>{let b=a.current.virtualizer,c=b.api.resetColSpan,d=b.api.getCellColSpanInfo,e=b.api.calculateColSpan;pO(a,{unstable_getCellColSpanInfo:d},"public"),pO(a,{resetColSpan:c,calculateColSpan:e},"private"),mq(a,"columnOrderChange",c)})(p),((a,b)=>{let c=q.useCallback(b=>oe(a)[b]??[],[a]),d=q.useCallback(()=>of(a),[a]);pO(a,{getColumnGroupPath:c,getAllGroupDetails:d},"public");let e=q.useCallback(()=>{let c=sl(b.columnGroupingModel??[]);a.current.setState(a=>{let b=sm(a.columns?.orderedFields??[],c,a.pinnedColumns??{});return(0,ks.default)({},a,{columnGrouping:(0,ks.default)({},a.columnGrouping,{headerStructure:b})})})},[a,b.columnGroupingModel]),f=q.useCallback(b=>{a.current.caches.columnGrouping.lastColumnGroupingModel=b;let c=a.current.getPinnedColumns?.()??{},d=lw(a),e=lC(a),f=sj(b??[]),g=sl(b??[]),h=sm(d,g,c),i=0===e.length?0:Math.max(...e.map(a=>g[a]?.length??0));a.current.setState(a=>(0,ks.default)({},a,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:h,maxDepth:i}}))},[a]);mq(a,"columnIndexChange",e),mq(a,"columnsChange",()=>{f(b.columnGroupingModel)}),mq(a,"columnVisibilityModelChange",()=>{f(b.columnGroupingModel)}),q.useEffect(()=>{b.columnGroupingModel!==a.current.caches.columnGrouping.lastColumnGroupingModel&&f(b.columnGroupingModel)},[a,f,b.columnGroupingModel])})(p,o),((a,b)=>{((a,b)=>{let c,[d,e]=q.useState({}),f=q.useRef(d),g=q.useRef({}),{processRowUpdate:h,onProcessRowUpdateError:i,cellModesModel:j,onCellModesModelChange:k}=b,l=a=>(...c)=>{b.editMode===nM.Cell&&a(...c)},m=q.useCallback((b,c)=>{let d=a.current.getCellParams(b,c);if(!a.current.isCellEditable(d))throw Error(`MUI X: The cell with id=${b} and field=${c} is not editable.`)},[a]),n=q.useCallback((b,c,d)=>{if(a.current.getCellMode(b,c)!==d)throw Error(`MUI X: The cell with id=${b} and field=${c} is not in ${d} mode.`)},[a]),o=q.useCallback((b,c)=>{if(!b.isEditable||b.cellMode===nN.Edit)return;let d=(0,ks.default)({},b,{reason:nK.cellDoubleClick});a.current.publishEvent("cellEditStart",d,c)},[a]),p=q.useCallback((b,c)=>{if(b.cellMode===nN.View||a.current.getCellMode(b.id,b.field)===nN.View)return;let d=(0,ks.default)({},b,{reason:nL.cellFocusOut});a.current.publishEvent("cellEditStop",d,c)},[a]),r=q.useCallback((b,c)=>{if(b.cellMode===nN.Edit){let d;if(229!==c.which&&("Escape"===c.key?d=nL.escapeKeyDown:"Enter"===c.key?d=nL.enterKeyDown:"Tab"===c.key&&(d=c.shiftKey?nL.shiftTabKeyDown:nL.tabKeyDown,c.preventDefault()),d)){let e=(0,ks.default)({},b,{reason:d});a.current.publishEvent("cellEditStop",e,c)}}else if(b.isEditable){let d;if(!a.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:c,cellParams:b,editMode:"cell"}))return;if(n$(c)?d=nK.printableKeyDown:n1(c)?d=nK.pasteKeyDown:"Enter"===c.key?d=nK.enterKeyDown:("Backspace"===c.key||"Delete"===c.key)&&(d=nK.deleteKeyDown),d){let e=(0,ks.default)({},b,{reason:d,key:c.key});a.current.publishEvent("cellEditStart",e,c)}}},[a]),s=q.useCallback(b=>{let{id:c,field:d,reason:e}=b,f={id:c,field:d};(e===nK.printableKeyDown||e===nK.deleteKeyDown||e===nK.pasteKeyDown)&&(f.deleteValue=!0),a.current.startCellEditMode(f)},[a]),t=q.useCallback(b=>{let c,{id:d,field:e,reason:f}=b;a.current.runPendingEditCellValueMutation(d,e),f===nL.enterKeyDown?c="below":f===nL.tabKeyDown?c="right":f===nL.shiftTabKeyDown&&(c="left"),a.current.stopCellEditMode({id:d,field:e,ignoreModifications:"escapeKeyDown"===f,cellToFocusAfter:c})},[a]);mq(a,"cellDoubleClick",l(o)),mq(a,"cellFocusOut",l(p)),mq(a,"cellKeyDown",l(r)),mq(a,"cellEditStart",l(s)),mq(a,"cellEditStop",l(t)),ms(a,"cellEditStart",b.onCellEditStart),ms(a,"cellEditStop",(c=b.onCellEditStop,async(...b)=>{if(c){let{id:d,field:e}=b[0],f=a.current.state.editRows;f[d][e]?.error||c(...b)}}));let u=q.useCallback((b,c)=>{let d=rV(a);return d[b]&&d[b][c]?nN.Edit:nN.View},[a]),v=mk(c=>{let d=c!==b.cellModesModel;k&&d&&k(c,{api:a.current}),b.cellModesModel&&d||(e(c),f.current=c,a.current.publishEvent("cellModesModelChange",c))}),w=q.useCallback((a,b,c)=>{let d=(0,ks.default)({},f.current);if(null!==c)d[a]=(0,ks.default)({},d[a],{[b]:(0,ks.default)({},c)});else{let c=d[a],e=(0,kw.default)(c,[b].map(pV));d[a]=e,0===Object.keys(d[a]).length&&delete d[a]}v(d)},[v]),x=q.useCallback((b,c,d)=>{a.current.setState(a=>{let e=(0,ks.default)({},a.editRows);return null!==d?e[b]=(0,ks.default)({},e[b],{[c]:(0,ks.default)({},d)}):(delete e[b][c],0===Object.keys(e[b]).length&&delete e[b]),(0,ks.default)({},a,{editRows:e})})},[a]),y=q.useCallback(a=>{let{id:b,field:c}=a,d=(0,kw.default)(a,rZ);m(b,c),n(b,c,nN.View),w(b,c,(0,ks.default)({mode:nN.Edit},d))},[m,n,w]),z=mk(async b=>{let{id:c,field:d,deleteValue:e,initialValue:f}=b,g=a.current.getCellValue(c,d),h=g;e?h=rY(a.current.getColumn(d)):f&&(h=f);let i=a.current.getColumn(d),j=!!i.preProcessEditCellProps&&e,k={value:h,error:!1,isProcessingProps:j};if(x(c,d,k),a.current.setCellFocus(c,d),j&&(k=await Promise.resolve(i.preProcessEditCellProps({id:c,row:a.current.getRow(c),props:k,hasChanged:h!==g})),a.current.getCellMode(c,d)===nN.Edit)){let b=rV(a);x(c,d,(0,ks.default)({},k,{value:b[c][d].value,isProcessingProps:!1}))}}),A=q.useCallback(a=>{let{id:b,field:c}=a,d=(0,kw.default)(a,r$);n(b,c,nN.Edit),w(b,c,(0,ks.default)({mode:nN.View},d))},[n,w]),B=mk(async c=>{let{id:d,field:e,ignoreModifications:f,cellToFocusAfter:j="none"}=c;n(d,e,nN.Edit),a.current.runPendingEditCellValueMutation(d,e);let k=()=>{x(d,e,null),w(d,e,null),"none"!==j&&a.current.moveFocusToRelativeCell(d,e,j)};if(f)return void k();let{error:l,isProcessingProps:m}=rV(a)[d][e],o=a.current.getRow(d);if(l||m){g.current[d][e].mode=nN.Edit,w(d,e,{mode:nN.Edit});return}let p=a.current.getRowWithUpdatedValuesFromCellEditing(d,e);if(b.dataSource?.updateRow){if(qa(o,p))return void k();try{await a.current.dataSource.editRow({rowId:d,updatedRow:p,previousRow:o}),k()}catch{g.current[d][e].mode=nN.Edit,w(d,e,{mode:nN.Edit})}}else if(h){let b=a=>{g.current[d][e].mode=nN.Edit,w(d,e,{mode:nN.Edit}),i&&i(a)};try{Promise.resolve(h(p,o,{rowId:d})).then(b=>{a.current.updateRows([b]),k()}).catch(b)}catch(a){b(a)}}else a.current.updateRows([p]),k()}),C=q.useCallback(async b=>{let{id:c,field:d,value:e,debounceMs:f,unstable_skipValueParser:g}=b;m(c,d),n(c,d,nN.Edit);let h=a.current.getColumn(d),i=a.current.getRow(c),j=e;h.valueParser&&!g&&(j=h.valueParser(e,i,h,a));let k=rV(a),l=(0,ks.default)({},k[c][d],{value:j,changeReason:f?"debouncedSetEditCellValue":"setEditCellValue"});if(h.preProcessEditCellProps){let a=e!==k[c][d].value;x(c,d,l=(0,ks.default)({},l,{isProcessingProps:!0})),l=await Promise.resolve(h.preProcessEditCellProps({id:c,row:i,props:l,hasChanged:a}))}return a.current.getCellMode(c,d)!==nN.View&&(k=rV(a),(l=(0,ks.default)({},l,{isProcessingProps:!1})).value=h.preProcessEditCellProps?k[c][d].value:j,x(c,d,l),k=rV(a),!k[c]?.[d]?.error)},[a,m,n,x]),D=q.useCallback((b,c)=>{let d=a.current.getColumn(c),e=rV(a),f=a.current.getRow(b);if(!e[b]||!e[b][c])return a.current.getRow(b);let{value:g}=e[b][c];return d.valueSetter?d.valueSetter(g,f,d,a):(0,ks.default)({},f,{[c]:g})},[a]);pO(a,{getCellMode:u,startCellEditMode:y,stopCellEditMode:A},"public"),pO(a,{setCellEditingEditCellValue:C,getRowWithUpdatedValuesFromCellEditing:D},"private"),q.useEffect(()=>{j&&v(j)},[j,v]),mj(()=>{let b=l8(a),c=g.current;g.current=mR(d),Object.entries(d).forEach(([d,e])=>{Object.entries(e).forEach(([e,f])=>{let g=c[d]?.[e]?.mode||nN.View,h=b[d]?a.current.getRowId(b[d]):d;f.mode===nN.Edit&&g===nN.View?z((0,ks.default)({id:h,field:e},f)):f.mode===nN.View&&g===nN.Edit&&B((0,ks.default)({id:h,field:e},f))})})},[a,d,z,B])})(a,b),((a,b)=>{let[c,d]=q.useState({}),e=q.useRef(c),f=q.useRef({}),g=q.useRef({}),h=q.useRef(void 0),i=q.useRef(null),{processRowUpdate:j,onProcessRowUpdateError:k,rowModesModel:l,onRowModesModelChange:m}=b,n=a=>(...c)=>{b.editMode===nM.Row&&a(...c)},o=q.useCallback((b,c)=>{let d=a.current.getCellParams(b,c);if(!a.current.isCellEditable(d))throw Error(`MUI X: The cell with id=${b} and field=${c} is not editable.`)},[a]),p=q.useCallback((b,c)=>{if(a.current.getRowMode(b)!==c)throw Error(`MUI X: The row with id=${b} is not in ${c} mode.`)},[a]),r=q.useCallback(b=>Object.values(rV(a)[b]).some(a=>a.error),[a]),s=q.useCallback((b,c)=>{if(!b.isEditable||a.current.getRowMode(b.id)===nO.Edit)return;let d=a.current.getRowParams(b.id),e=(0,ks.default)({},d,{field:b.field,reason:r_.cellDoubleClick});a.current.publishEvent("rowEditStart",e,c)},[a]),t=q.useCallback(a=>{i.current=a},[]),u=q.useCallback((b,c)=>{b.isEditable&&a.current.getRowMode(b.id)!==nO.View&&(i.current=null,h.current=setTimeout(()=>{if(i.current?.id!==b.id){if(!a.current.getRow(b.id)||a.current.getRowMode(b.id)===nO.View||r(b.id))return;let d=a.current.getRowParams(b.id),e=(0,ks.default)({},d,{field:b.field,reason:r0.rowFocusOut});a.current.publishEvent("rowEditStop",e,c)}}))},[a,r]);q.useEffect(()=>()=>{clearTimeout(h.current)},[]);let v=q.useCallback((b,c)=>{if(b.cellMode===nO.Edit){let d;if(229!==c.which){if("Escape"===c.key)d=r0.escapeKeyDown;else if("Enter"===c.key)d=r0.enterKeyDown;else if("Tab"===c.key){let e=lC(a).filter(c=>a.current.getColumn(c).type===n7||a.current.isCellEditable(a.current.getCellParams(b.id,c)));if(c.shiftKey?b.field===e[0]&&(d=r0.shiftTabKeyDown):b.field===e[e.length-1]&&(d=r0.tabKeyDown),c.preventDefault(),!d){let d=e.findIndex(a=>a===b.field),f=e[c.shiftKey?d-1:d+1];a.current.setCellFocus(b.id,f)}}if(d){if(d!==r0.escapeKeyDown&&r(b.id))return;let e=(0,ks.default)({},a.current.getRowParams(b.id),{reason:d,field:b.field});a.current.publishEvent("rowEditStop",e,c)}}}else if(b.isEditable){let d;if(!a.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:c,cellParams:b,editMode:"row"}))return;if(n$(c)||n1(c)?d=r_.printableKeyDown:"Enter"===c.key?d=r_.enterKeyDown:("Backspace"===c.key||"Delete"===c.key)&&(d=r_.deleteKeyDown),d){let e=a.current.getRowParams(b.id),f=(0,ks.default)({},e,{field:b.field,reason:d});a.current.publishEvent("rowEditStart",f,c)}}},[a,r]),w=q.useCallback(b=>{let{id:c,field:d,reason:e}=b,f={id:c,fieldToFocus:d};(e===r_.printableKeyDown||e===r_.deleteKeyDown)&&(f.deleteValue=!!d),a.current.startRowEditMode(f)},[a]),x=q.useCallback(b=>{let c,{id:d,reason:e,field:f}=b;a.current.runPendingEditCellValueMutation(d),e===r0.enterKeyDown?c="below":e===r0.tabKeyDown?c="right":e===r0.shiftTabKeyDown&&(c="left"),a.current.stopRowEditMode({id:d,ignoreModifications:"escapeKeyDown"===e,field:f,cellToFocusAfter:c})},[a]);mq(a,"cellDoubleClick",n(s)),mq(a,"cellFocusIn",n(t)),mq(a,"cellFocusOut",n(u)),mq(a,"cellKeyDown",n(v)),mq(a,"rowEditStart",n(w)),mq(a,"rowEditStop",n(x)),ms(a,"rowEditStart",b.onRowEditStart),ms(a,"rowEditStop",b.onRowEditStop);let y=q.useCallback(c=>rW(a,{rowId:c,editMode:b.editMode})?nO.Edit:nO.View,[a,b.editMode]),z=mk(c=>{let f=c!==b.rowModesModel;m&&f&&m(c,{api:a.current}),b.rowModesModel&&f||(d(c),e.current=c,a.current.publishEvent("rowModesModelChange",c))}),A=q.useCallback((a,b)=>{let c=(0,ks.default)({},e.current);null!==b?c[a]=(0,ks.default)({},b):delete c[a],z(c)},[z]),B=q.useCallback((b,c)=>{a.current.setState(a=>{let d=(0,ks.default)({},a.editRows);return null!==c?d[b]=c:delete d[b],(0,ks.default)({},a,{editRows:d})})},[a]),C=q.useCallback((b,c,d)=>{a.current.setState(a=>{let e=(0,ks.default)({},a.editRows);return null!==d?e[b]=(0,ks.default)({},e[b],{[c]:(0,ks.default)({},d)}):(delete e[b][c],0===Object.keys(e[b]).length&&delete e[b]),(0,ks.default)({},a,{editRows:e})})},[a]),D=q.useCallback(a=>{let{id:b}=a,c=(0,kw.default)(a,r1);p(b,nO.View),A(b,(0,ks.default)({mode:nO.Edit},c))},[p,A]),E=mk(b=>{let{id:c,fieldToFocus:d,deleteValue:e,initialValue:f}=b,h=a.current.getRow(c),i=ly(a),j=i.reduce((b,g)=>{let h=g.field;if(!a.current.getCellParams(c,h).isEditable)return b;let i=a.current.getColumn(h),j=a.current.getCellValue(c,h);return d===h&&(e||f)&&(e?j=rY(i):f&&(j=f)),b[h]={value:j,error:!1,isProcessingProps:i.editable&&!!i.preProcessEditCellProps&&e},b},{});g.current[c]=h,B(c,j),d&&a.current.setCellFocus(c,d),i.filter(b=>a.current.getCellParams(c,b.field).isEditable&&b.editable&&!!b.preProcessEditCellProps&&e).forEach(b=>{let d=b.field,g=a.current.getCellValue(c,d),i=e?rY(b):f??g;Promise.resolve(b.preProcessEditCellProps({id:c,row:h,props:j[d],hasChanged:i!==g})).then(b=>{if(a.current.getRowMode(c)===nO.Edit){let e=rV(a);C(c,d,(0,ks.default)({},b,{value:e[c][d].value,isProcessingProps:!1}))}})})}),F=q.useCallback(a=>{let{id:b}=a,c=(0,kw.default)(a,r2);p(b,nO.Edit),A(b,(0,ks.default)({mode:nO.View},c))},[p,A]),G=mk(async c=>{let{id:d,ignoreModifications:e,field:h,cellToFocusAfter:i="none"}=c;a.current.runPendingEditCellValueMutation(d);let l=()=>{"none"!==i&&h&&a.current.moveFocusToRelativeCell(d,h,i),B(d,null),A(d,null),delete g.current[d]};if(e)return void l();let m=rV(a),n=g.current[d];if(Object.values(m[d]).some(a=>a.isProcessingProps)){f.current[d].mode=nO.Edit;return}if(r(d)){f.current[d].mode=nO.Edit,A(d,{mode:nO.Edit});return}let o=a.current.getRowWithUpdatedValuesFromRowEditing(d);if(b.dataSource?.updateRow){if(qa(n,o))return void l();try{await a.current.dataSource.editRow({rowId:d,updatedRow:o,previousRow:n}),l()}catch{f.current[d].mode=nO.Edit,A(d,{mode:nO.Edit})}}else if(j){let b=a=>{f.current[d]&&(f.current[d].mode=nO.Edit,A(d,{mode:nO.Edit})),k&&k(a)};try{Promise.resolve(j(o,n,{rowId:d})).then(b=>{a.current.updateRows([b]),l()}).catch(b)}catch(a){b(a)}}else a.current.updateRows([o]),l()}),H=q.useCallback(b=>{let{id:c,field:d,value:e,debounceMs:f,unstable_skipValueParser:g}=b;o(c,d);let h=a.current.getColumn(d),i=a.current.getRow(c),j=e;h.valueParser&&!g&&(j=h.valueParser(e,i,h,a));let k=rV(a),l=(0,ks.default)({},k[c][d],{value:j,changeReason:f?"debouncedSetEditCellValue":"setEditCellValue"});return h.preProcessEditCellProps||C(c,d,l),new Promise(b=>{let e=[];if(h.preProcessEditCellProps){let f=l.value!==k[c][d].value;C(c,d,l=(0,ks.default)({},l,{isProcessingProps:!0}));let g=k[c],m=(0,kw.default)(g,[d].map(pV)),n=Promise.resolve(h.preProcessEditCellProps({id:c,row:i,props:l,hasChanged:f,otherFieldsProps:m})).then(e=>{if(a.current.getRowMode(c)===nO.View)return void b(!1);k=rV(a),(e=(0,ks.default)({},e,{isProcessingProps:!1})).value=h.preProcessEditCellProps?k[c][d].value:j,C(c,d,e)});e.push(n)}Object.entries(k[c]).forEach(([f,g])=>{if(f===d)return;let h=a.current.getColumn(f);if(!h.preProcessEditCellProps)return;C(c,f,g=(0,ks.default)({},g,{isProcessingProps:!0}));let j=(k=rV(a))[c],l=(0,kw.default)(j,[f].map(pV)),m=Promise.resolve(h.preProcessEditCellProps({id:c,row:i,props:g,hasChanged:!1,otherFieldsProps:l})).then(d=>{if(a.current.getRowMode(c)===nO.View)return void b(!1);C(c,f,d=(0,ks.default)({},d,{isProcessingProps:!1}))});e.push(m)}),Promise.all(e).then(()=>{a.current.getRowMode(c)===nO.Edit?b(!(k=rV(a))[c][d].error):b(!1)})})},[a,o,C]),I=q.useCallback(b=>{let c=rV(a),d=a.current.getRow(b);if(!c[b])return a.current.getRow(b);let e=(0,ks.default)({},g.current[b],d);return Object.entries(c[b]).forEach(([b,c])=>{let d=a.current.getColumn(b);d?.valueSetter?e=d.valueSetter(c.value,e,d,a):e[b]=c.value}),e},[a]);pO(a,{getRowMode:y,startRowEditMode:D,stopRowEditMode:F},"public"),pO(a,{setRowEditingEditCellValue:H,getRowWithUpdatedValuesFromRowEditing:I},"private"),q.useEffect(()=>{l&&z(l)},[l,z]),mj(()=>{let b=l8(a),d=f.current;f.current=mR(c),Array.from(new Set([...Object.keys(c),...Object.keys(d)])).forEach(e=>{let f=c[e]??{mode:nO.View},g=d[e]?.mode||nO.View,h=b[e]?a.current.getRowId(b[e]):e;f.mode===nO.Edit&&g===nO.View?E((0,ks.default)({id:h},f)):f.mode===nO.View&&g===nO.Edit&&G((0,ks.default)({id:h},f))})},[a,c,E,G])})(a,b);let c=q.useRef({}),{isCellEditable:d}=b,e=q.useCallback(a=>!np(a.rowNode)&&!!a.colDef.editable&&!!a.colDef.renderEditCell&&(!d||d(a)),[d]);q.useEffect(()=>{let a=c.current;return()=>{Object.entries(a).forEach(([b,c])=>{Object.keys(c).forEach(c=>{let[d]=a[b][c];clearTimeout(d),delete a[b][c]})})}},[]);let f=q.useCallback((a,b)=>{if(c.current[a])if(b){if(c.current[a][b]){let[,d]=c.current[a][b];d()}}else Object.keys(c.current[a]).forEach(b=>{let[,d]=c.current[a][b];d()})},[]),g=q.useCallback(d=>{let{id:e,field:f,debounceMs:g}=d;return new Promise(h=>{((a,b,d,e)=>{if(!d)return e();if(c.current[a]||(c.current[a]={}),c.current[a][b]){let[d]=c.current[a][b];clearTimeout(d)}let f=setTimeout(()=>{e(),delete c.current[a][b]},d);c.current[a][b]=[f,()=>{let[d]=c.current[a][b];clearTimeout(d),e(),delete c.current[a][b]}]})(e,f,g,async()=>{let c=b.editMode===nM.Row?a.current.setRowEditingEditCellValue:a.current.setCellEditingEditCellValue;a.current.getCellMode(e,f)===nN.Edit&&h(await c(d))})})},[a,b.editMode]),h=q.useCallback((c,d)=>b.editMode===nM.Cell?a.current.getRowWithUpdatedValuesFromCellEditing(c,d):a.current.getRowWithUpdatedValuesFromRowEditing(c),[a,b.editMode]),i=q.useCallback((b,c)=>{let d=rV(a);return d[b]?.[c]??null},[a]);pO(a,{isCellEditable:e,setEditCellValue:g,getRowWithUpdatedValues:h,unstable_getEditCellMeta:i},"public"),pO(a,{runPendingEditCellValueMutation:f},"private")})(p,o),((a,b)=>{let c=ra(a,"useGridFocus"),d=q.useRef(null),e=null!==a.current.rootElementRef.current,f=q.useCallback((b,c)=>{b&&a.current.getRow(b.id)&&a.current.publishEvent("cellFocusOut",a.current.getCellParams(b.id,b.field),c)},[a]),g=q.useCallback((b,d)=>{let e=oX(a);(e?.id!==b||e?.field!==d)&&(a.current.setState(a=>(c.debug(`Focusing on cell with id=${b} and field=${d}`),(0,ks.default)({},a,{tabIndex:{cell:{id:b,field:d},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:b,field:d},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),a.current.getRow(b)&&(e&&f(e,{}),a.current.publishEvent("cellFocusIn",a.current.getCellParams(b,d))))},[a,c,f]),h=q.useCallback((b,d={})=>{f(oX(a),d),a.current.setState(a=>(c.debug(`Focusing on column header with colIndex=${b}`),(0,ks.default)({},a,{tabIndex:{columnHeader:{field:b},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:b},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[a,c,f]),i=q.useCallback((b,d={})=>{f(oX(a),d),a.current.setState(a=>(c.debug(`Focusing on column header filter with colIndex=${b}`),(0,ks.default)({},a,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:b},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:b},cell:null,columnGroupHeader:null}})))},[a,c,f]),j=q.useCallback((b,c,d={})=>{let e=oX(a);e&&a.current.publishEvent("cellFocusOut",a.current.getCellParams(e.id,e.field),d),a.current.setState(a=>(0,ks.default)({},a,{tabIndex:{columnGroupHeader:{field:b,depth:c},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:b,depth:c},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[a]),k=q.useCallback(()=>oZ(a),[a]),l=q.useCallback((c,d,e)=>{let f=a.current.getColumnIndex(d),g=lB(a),h=q$(a,{pagination:b.pagination,paginationMode:b.paginationMode}),i=mh(a),j=[].concat(i.top||[],h.rows,i.bottom||[]),k=j.findIndex(a=>a.id===c);"right"===e?f+=1:"left"===e?f-=1:k+=1,f>=g.length?(k+=1)<j.length&&(f=0):f<0&&(k-=1)>=0&&(f=g.length-1),k=mQ(k,0,j.length-1);let l=j[k];if(!l)return;let m=a.current.unstable_getCellColSpanInfo(l.id,f);m&&m.spannedByColSpan&&("left"===e||"below"===e?f=m.leftVisibleCellIndex:"right"===e&&(f=m.rightVisibleCellIndex)),f=mQ(f,0,g.length-1);let n=g[f];a.current.setCellFocus(l.id,n.field)},[a,b.pagination,b.paginationMode]),m=q.useCallback(({id:b,field:c})=>{a.current.setCellFocus(b,c)},[a]),n=q.useCallback((b,c)=>{"Enter"===c.key||"Tab"===c.key||"Shift"===c.key||n_(c.key)||a.current.setCellFocus(b.id,b.field)},[a]),o=q.useCallback(({field:b},c)=>{c.target===c.currentTarget&&a.current.setColumnHeaderFocus(b,c)},[a]),p=q.useCallback(({fields:b,depth:c},d)=>{if(d.target!==d.currentTarget)return;let e=oZ(a);null!==e&&e.depth===c&&b.includes(e.field)||a.current.setColumnGroupHeaderFocus(b[0],c,d)},[a]),r=q.useCallback((b,d)=>{d.relatedTarget?.getAttribute("class")?.includes(kL.columnHeader)||(c.debug("Clearing focus"),a.current.setState(a=>(0,ks.default)({},a,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[c,a]),s=q.useCallback(a=>{d.current=a},[]),t=q.useCallback(b=>{let c=d.current;d.current=null;let e=oX(a);if(!a.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:b,cell:c}))return;if(!e){c&&a.current.setCellFocus(c.id,c.field);return}if(c?.id===e.id&&c?.field===e.field)return;let g=a.current.getCellElement(e.id,e.field);g?.contains(b.target)||(c?a.current.setCellFocus(c.id,c.field):(a.current.setState(a=>(0,ks.default)({},a,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),f(e,b)))},[a,f]),u=q.useCallback(b=>{if("view"===b.cellMode)return;let c=oX(a);(c?.id!==b.id||c?.field!==b.field)&&a.current.setCellFocus(b.id,b.field)},[a]),v=q.useCallback(()=>{let c=oX(a);if(c&&!a.current.getRow(c.id)){let d=c.id,e=null;if(void 0!==d){let c=a.current.getRowElement(d),f=c?.dataset.rowindex?Number(c?.dataset.rowindex):0,g=q$(a,{pagination:b.pagination,paginationMode:b.paginationMode}),h=g.rows[mQ(f,0,g.rows.length-1)];e=h?.id??null}a.current.setState(a=>(0,ks.default)({},a,{focus:{cell:null===e?null:{id:e,field:c.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[a,b.pagination,b.paginationMode]),w=mk(()=>{let c=oX(a);if(!c)return;let d=q$(a,{pagination:b.pagination,paginationMode:b.paginationMode});if(d.rows.find(a=>a.id===c.id)||0===d.rows.length)return;let e=lB(a);a.current.setState(a=>(0,ks.default)({},a,{tabIndex:{cell:{id:d.rows[0].id,field:e[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))});pO(a,{setCellFocus:g,setColumnHeaderFocus:h,setColumnHeaderFilterFocus:i},"public"),pO(a,{moveFocusToRelativeCell:l,setColumnGroupHeaderFocus:j,getColumnGroupHeaderFocus:k},"private"),q.useEffect(()=>{let b=rz(a.current.rootElementRef.current);return b.addEventListener("mouseup",t),()=>{b.removeEventListener("mouseup",t)}},[a,e,t]),mq(a,"columnHeaderBlur",r),mq(a,"cellDoubleClick",m),mq(a,"cellMouseDown",s),mq(a,"cellKeyDown",n),mq(a,"cellModeChange",u),mq(a,"columnHeaderFocus",o),mq(a,"columnGroupHeaderFocus",p),mq(a,"rowsSet",v),mq(a,"paginationModelChange",w)})(p,o),((a,b)=>{let c=ra(a,"useGridPreferencesPanel"),d=q.useCallback(()=>{a.current.setState(b=>{if(!b.preferencePanel.open)return b;c.debug("Hiding Preferences Panel");let d=lK(a);return a.current.publishEvent("preferencePanelClose",{openedPanelValue:d.openedPanelValue}),(0,ks.default)({},b,{preferencePanel:{open:!1}})})},[a,c]),e=q.useCallback((b,d,e)=>{c.debug("Opening Preferences Panel"),a.current.setState(a=>(0,ks.default)({},a,{preferencePanel:(0,ks.default)({},a.preferencePanel,{open:!0,openedPanelValue:b,panelId:d,labelId:e})})),a.current.publishEvent("preferencePanelOpen",{openedPanelValue:b})},[c,a]);pO(a,{showPreferences:e,hidePreferences:d},"public");let f=q.useCallback((c,d)=>{let e=lK(a);return!d.exportOnlyDirtyModels||b.initialState?.preferencePanel!=null||e.open?(0,ks.default)({},c,{preferencePanel:e}):c},[a,b.initialState?.preferencePanel]),g=q.useCallback((b,c)=>{let d=c.stateToRestore.preferencePanel;return null!=d&&a.current.setState(a=>(0,ks.default)({},a,{preferencePanel:d})),b},[a]);rn(a,"exportState",f),rn(a,"restoreState",g)})(p,o),((a,c,d)=>{let e=ra(a,"useGridFilter");a.current.registerControlState({stateId:"filter",propModel:c.filterModel,propOnChange:c.onFilterModelChange,stateSelector:oD,changeEvent:"filterModelChange"});let f=q.useCallback(()=>{a.current.setState(b=>{let c=oD(a),d=a.current.getFilterState(c),e=(0,ks.default)({},b,{filter:(0,ks.default)({},b.filter,d)}),f=rE(a,e);return(0,ks.default)({},e,{visibleRowsLookup:f})}),a.current.publishEvent("filteredRowsSet")},[a]),g=q.useCallback((a,b)=>null==b||!1===b.filterable||c.disableColumnFilter?a:[...a,"columnMenuFilterItem"],[c.disableColumnFilter]),i=q.useCallback(b=>{let c=oD(a),d=[...c.items],e=d.findIndex(a=>a.id===b.id);-1===e?d.push(b):d[e]=b,a.current.setFilterModel((0,ks.default)({},c,{items:d}),"upsertFilterItem")},[a]),j=q.useCallback(b=>{let c=oD(a),d=[...c.items];b.forEach(a=>{let b=d.findIndex(b=>b.id===a.id);-1===b?d.push(a):d[b]=a}),a.current.setFilterModel((0,ks.default)({},c,{items:d}),"upsertFilterItems")},[a]),k=q.useCallback(b=>{let c=oD(a),d=c.items.filter(a=>a.id!==b.id);d.length!==c.items.length&&a.current.setFilterModel((0,ks.default)({},c,{items:d}),"deleteFilterItem")},[a]),l=q.useCallback((b,d,f)=>{if(e.debug("Displaying filter panel"),b){let d,e=oD(a),f=e.items.filter(b=>{if(void 0!==b.value)return!Array.isArray(b.value)||0!==b.value.length;let c=a.current.getColumn(b.field),d=c.filterOperators?.find(a=>a.value===b.operator);return!(void 0===d?.requiresFilterValue||d?.requiresFilterValue)}),g=f.find(a=>a.field===b),h=a.current.getColumn(b);d=g?f:c.disableMultipleColumnsFiltering?[mY({field:b,operator:h.filterOperators[0].value},a)]:[...f,mY({field:b,operator:h.filterOperators[0].value},a)],a.current.setFilterModel((0,ks.default)({},e,{items:d}))}a.current.showPreferences(lM.filters,d,f)},[a,e,c.disableMultipleColumnsFiltering]),m=q.useCallback(()=>{e.debug("Hiding filter panel"),a.current.hidePreferences()},[a,e]),n=q.useCallback(b=>{let c=oD(a);c.logicOperator!==b&&a.current.setFilterModel((0,ks.default)({},c,{logicOperator:b}),"changeLogicOperator")},[a]),o=q.useCallback(b=>{let c=oD(a);qa(c.quickFilterValues,b)||a.current.setFilterModel((0,ks.default)({},c,{quickFilterValues:[...b]}))},[a]),p=q.useCallback((b,d)=>{oD(a)!==b&&(e.debug("Setting filter model"),a.current.updateControlState("filter",m$(b,c.disableMultipleColumnsFiltering,a),d),a.current.unstable_applyFilters())},[a,e,c.disableMultipleColumnsFiltering]),r=q.useCallback(e=>{let f=mZ(e,c.disableMultipleColumnsFiltering,a),g=d.hooks.useFilterValueGetter(a,c),h="client"===c.filterMode?((a,c,d,e)=>{let f=((a,c,d,e)=>{let{items:f}=a,g=f.map(a=>m0(a,c,d)).filter(a=>!!a);if(0===g.length)return null;if(e||!function(){if(void 0!==b)return b;try{b=Function("return true")()}catch(a){b=!1}return b}())return(a,b)=>{let c={};for(let d=0;d<g.length;d+=1){let e=g[d];(!b||b(e.item.field))&&(c[e.item.id]=e.fn(a))}return c};let h=Function("appliers","row","shouldApplyFilter",`"use strict";
${g.map((a,b)=>`const shouldApply${b} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join("\n")}

const result$$ = {
${g.map((a,b)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${b} ? false : appliers[${b}].fn(row),`).join("\n")}
};

return result$$;`.replaceAll("$$",String(m1)));return m1+=1,(a,b)=>h(g,a,b)})(a,c,d,e),g=((a,b,c)=>{let d,e=a.quickFilterValues?.filter(Boolean)??[];if(0===e.length)return null;let f=lw(c),g=lz(c);d=a.quickFilterExcludeHiddenColumns??!0?f.filter(a=>!1!==g[a]):f;let h=[],{ignoreDiacritics:i}=c.current.rootProps,j=mX(c);return d.forEach(a=>{let b=c.current.getColumn(a),d=b?.getApplyQuickFilterFn;d&&h.push({column:b,appliers:e.map(a=>({fn:d(i?m_(a):a,b,j)}))})}),function(a,c){let d={};c:for(let f=0;f<e.length;f+=1){let g=e[f];for(let e=0;e<h.length;e+=1){let{column:k,appliers:l}=h[e],{field:m}=k;if(c&&!c(m))continue;let n=l[f],o=b(a,k);if(null!==n.fn&&(i&&(o=m_(o)),n.fn(o,a,k,j))){d[g]=!0;continue c}}d[g]=!1}return d}})(a,c,d);return function(a,b,c){c.passingFilterItems=f?.(a,b)??null,c.passingQuickFilterValues=g?.(a,b)??null}})(f,g,a,c.disableEval):null,i=a.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:h,filterModel:f??mW(),filterValueGetter:g});return(0,ks.default)({},i,{filterModel:f})},[a,d.hooks,c]),s={setFilterLogicOperator:n,unstable_applyFilters:f,deleteFilterItem:k,upsertFilterItem:i,upsertFilterItems:j,setFilterModel:p,showFilterPanel:l,hideFilterPanel:m,setQuickFilterValues:o,ignoreDiacritics:c.ignoreDiacritics,getFilterState:r};pO(a,s,"public");let t=q.useCallback((b,d)=>{let e=oD(a);return(e.items.forEach(a=>{delete a.fromInput}),d.exportOnlyDirtyModels&&null==c.filterModel&&c.initialState?.filter?.filterModel==null&&qa(e,mW()))?b:(0,ks.default)({},b,{filter:{filterModel:e}})},[a,c.filterModel,c.initialState?.filter?.filterModel]),u=q.useCallback((b,d)=>{let e=d.stateToRestore.filter?.filterModel;return null==e?b:(a.current.updateControlState("filter",m$(e,c.disableMultipleColumnsFiltering,a),"restoreState"),(0,ks.default)({},b,{callbacks:[...b.callbacks,a.current.unstable_applyFilters]}))},[a,c.disableMultipleColumnsFiltering]),v=q.useCallback((a,b)=>{if(b===lM.filters){let a=c.slots.filterPanel;return(0,h.jsx)(a,(0,ks.default)({},c.slotProps?.filterPanel))}return a},[c.slots.filterPanel,c.slotProps?.filterPanel]),{getRowId:w}=c,x=kT(rF),y=q.useCallback(b=>{if("client"!==c.filterMode||!b.isRowMatchingFilters||!b.filterModel.items.length&&!b.filterModel.quickFilterValues?.length)return mV;let d=l8(a),e={},{isRowMatchingFilters:f}=b,g={},h={passingFilterItems:null,passingQuickFilterValues:null},i=x.current(a.current.state.rows.dataRowIdToModelLookup);for(let c=0;c<i.length;c+=1){let d=i[c],j=w?w(d):d.id;f(d,void 0,h);let k=m3([h.passingFilterItems],[h.passingQuickFilterValues],b.filterModel,b.filterValueGetter,a,g);k||(e[j]=k)}let j="auto-generated-group-footer-root";return d[j]&&(e[j]=!0),{filteredRowsLookup:e,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[a,c.filterMode,w,x]);rn(a,"columnMenu",g),rn(a,"exportState",t),rn(a,"restoreState",u),rn(a,"preferencePanel",v),rB(a,pX,"filtering",y),rB(a,pX,"visibleRowsLookupCreation",rD);let z=q.useCallback(()=>{e.debug("onColUpdated - GridColumns changed, applying filters");let b=oD(a),c=lx(a),d=b.items.filter(a=>a.field&&c[a.field]);d.length<b.items.length&&a.current.setFilterModel((0,ks.default)({},b,{items:d}))},[a,e]),A=q.useCallback(b=>{"filtering"===b&&a.current.unstable_applyFilters()},[a]),B=q.useCallback(()=>{a.current.setState(b=>(0,ks.default)({},b,{visibleRowsLookup:rE(a,b)}))},[a]);mq(a,"rowsSet",f),mq(a,"columnsChange",z),mq(a,"activeStrategyProcessorChange",A),mq(a,"rowExpansionChange",B),mq(a,"columnVisibilityModelChange",()=>{let b=oD(a);b.quickFilterValues?.length&&(b.quickFilterExcludeHiddenColumns??!0)&&f()}),qq(()=>{f()}),mj(()=>{void 0!==c.filterModel&&a.current.setFilterModel(c.filterModel)},[a,e,c.filterModel])})(p,o,Br),((a,b)=>{let c=ra(a,"useGridSorting");a.current.registerControlState({stateId:"sortModel",propModel:b.sortModel,propOnChange:b.onSortModelChange,stateSelector:oA,changeEvent:"sortModelChange"});let d=q.useCallback((b,c)=>{let d=oA(a),e=d.findIndex(a=>a.field===b),f=[...d];return e>-1?c?.sort==null?f.splice(e,1):f.splice(e,1,c):f=[...d,c],f},[a]),e=q.useCallback((c,d)=>{let e=oA(a).find(a=>a.field===c.field);if(e){let a=void 0===d?mD(c.sortingOrder??b.sortingOrder,e.sort):d;return void 0===a?void 0:(0,ks.default)({},e,{sort:a})}return{field:c.field,sort:void 0===d?mD(c.sortingOrder??b.sortingOrder):d}},[a,b.sortingOrder]),f=q.useCallback((a,c)=>null==c||!1===c.sortable||b.disableColumnSorting?a:(c.sortingOrder||b.sortingOrder).some(a=>!!a)?[...a,"columnMenuSortItem"]:a,[b.sortingOrder,b.disableColumnSorting]),g=q.useCallback(()=>{a.current.setState(d=>{if("server"===b.sortingMode)return c.debug("Skipping sorting rows as sortingMode = server"),(0,ks.default)({},d,{sorting:(0,ks.default)({},d.sorting,{sortedRows:nq(l9(a),nj,!1)})});let e=((a,b)=>{let c=a.map(a=>((a,b)=>{let c,d=b.current.getColumn(a.field);return d&&null!==a.sort?(c=d.getSortComparator?d.getSortComparator(a.sort):"desc"===a.sort?(...a)=>-1*d.sortComparator(...a):d.sortComparator)?{getSortCellParams:a=>({id:a,field:d.field,rowNode:ma(b,a),value:b.current.getCellValue(a,d.field),api:b.current}),comparator:c}:null:null})(a,b)).filter(a=>!!a);return 0===c.length?null:a=>a.map(a=>({node:a,params:c.map(b=>b.getSortCellParams(a.id))})).sort((a,b)=>c.reduce((c,d,e)=>{if(0!==c)return c;let f=a.params[e],g=b.params[e];return d.comparator(f.value,g.value,f,g)},0)).map(a=>a.node.id)})(oA(a),a),f=a.current.applyStrategyProcessor("sorting",{sortRowList:e});return(0,ks.default)({},d,{sorting:(0,ks.default)({},d.sorting,{sortedRows:f})})}),a.current.publishEvent("sortedRowsSet")},[a,c,b.sortingMode]),h=q.useCallback(d=>{oA(a)!==d&&(c.debug("Setting sort model"),a.current.setState(mC(d,b.disableMultipleColumnsSorting)),a.current.applySorting())},[a,c,b.disableMultipleColumnsSorting]),i=q.useCallback((c,f,g)=>{let h,i=a.current.getColumn(c),j=e(i,f);h=!g||b.disableMultipleColumnsSorting?j?.sort==null?[]:[j]:d(i.field,j),a.current.setSortModel(h)},[a,d,e,b.disableMultipleColumnsSorting]),j=q.useCallback(()=>oA(a),[a]),k=q.useCallback(()=>oz(a).map(a=>a.model),[a]),l=q.useCallback(()=>oy(a),[a]),m=q.useCallback(b=>a.current.getSortedRowIds()[b],[a]);pO(a,{getSortModel:j,getSortedRows:k,getSortedRowIds:l,getRowIdFromRowIndex:m,setSortModel:h,sortColumn:i,applySorting:g},"public");let n=q.useCallback((c,d)=>{let e=oA(a);return!d.exportOnlyDirtyModels||null!=b.sortModel||b.initialState?.sorting?.sortModel!=null||e.length>0?(0,ks.default)({},c,{sorting:{sortModel:e}}):c},[a,b.sortModel,b.initialState?.sorting?.sortModel]),o=q.useCallback((c,d)=>{let e=d.stateToRestore.sorting?.sortModel;return null==e?c:(a.current.setState(mC(e,b.disableMultipleColumnsSorting)),(0,ks.default)({},c,{callbacks:[...c.callbacks,a.current.applySorting]}))},[a,b.disableMultipleColumnsSorting]),p=q.useCallback(b=>{let c=l9(a),d=c[nj],e=b.sortRowList?b.sortRowList(d.children.map(a=>c[a])):[...d.children];return null!=d.footerId&&e.push(d.footerId),e},[a]);rn(a,"exportState",n),rn(a,"restoreState",o),rB(a,pX,"sorting",p);let r=q.useCallback(({field:a,colDef:c},d)=>{c.sortable&&!b.disableColumnSorting&&i(a,void 0,"always"===b.multipleColumnsSortingMode||d.shiftKey||d.metaKey||d.ctrlKey)},[i,b.disableColumnSorting,b.multipleColumnsSortingMode]),s=q.useCallback(({field:a,colDef:c},d)=>{c.sortable&&!b.disableColumnSorting&&("Enter"!==d.key||d.ctrlKey||d.metaKey||i(a,void 0,"always"===b.multipleColumnsSortingMode||d.shiftKey))},[i,b.disableColumnSorting,b.multipleColumnsSortingMode]),t=q.useCallback(()=>{let b=oA(a),c=lx(a);if(b.length>0){let d=b.filter(a=>c[a.field]);d.length<b.length&&a.current.setSortModel(d)}},[a]),u=q.useCallback(b=>{"sorting"===b&&a.current.applySorting()},[a]);rn(a,"columnMenu",f),mq(a,"columnHeaderClick",r),mq(a,"columnHeaderKeyDown",s),mq(a,"rowsSet",a.current.applySorting),mq(a,"columnsChange",t),mq(a,"activeStrategyProcessorChange",u),qq(()=>{a.current.applySorting()}),mj(()=>{void 0!==b.sortModel&&a.current.setSortModel(b.sortModel)},[a,b.sortModel])})(p,o),((a,b)=>{let c=ra(a,"useDensity");a.current.registerControlState({stateId:"density",propModel:b.density,propOnChange:b.onDensityChange,stateSelector:ll,changeEvent:"densityChange"});let d=mk(b=>{ll(a)!==b&&(c.debug(`Set grid density to ${b}`),a.current.setState(a=>(0,ks.default)({},a,{density:b})))});pO(a,{setDensity:d},"public");let e=q.useCallback((c,d)=>{let e=ll(a);return d.exportOnlyDirtyModels&&null==b.density&&b.initialState?.density==null?c:(0,ks.default)({},c,{density:e})},[a,b.density,b.initialState?.density]),f=q.useCallback((b,c)=>{let d=c.stateToRestore?.density?c.stateToRestore.density:ll(a);return a.current.setState(a=>(0,ks.default)({},a,{density:d})),b},[a]);rn(a,"exportState",e),rn(a,"restoreState",f),q.useEffect(()=>{b.density&&a.current.setDensity(b.density)},[a,b.density])})(p,o),((a,b)=>{let c=(0,nZ.useRtl)(),d=ra(a,"useGridColumnResize"),e=kT(sw).current,f=q.useRef(null),g=q.useRef(null),h=mw(),i=q.useRef(void 0),j=b=>{d.debug(`Updating width to ${b} for col ${e.colDef.field}`);let f=b-e.columnHeaderElement.offsetWidth,g=b-e.initialColWidth;if(g>0){let b=e.initialTotalWidth+g;a.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${b}px`)}e.colDef.computedWidth=b,e.colDef.width=b,e.colDef.flex=0,e.columnHeaderElement.style.width=`${b}px`;let h=e.headerFilterElement;h&&(h.style.width=`${b}px`),e.groupHeaderElements.forEach(a=>{let c;c="1"===a.getAttribute("aria-colspan")?`${b}px`:`${a.offsetWidth+f}px`,a.style.width=c}),e.cellElements.forEach(a=>{let c;c="1"===a.getAttribute("aria-colspan")?`${b}px`:`${a.offsetWidth+f}px`,a.style.setProperty("--width",c)});let i=lV(a),j=a.current.unstable_applyPipeProcessors("isColumnPinned",!1,e.colDef.field);j===lq.LEFT&&(sx(e.fillerLeft,"width",f),e.leftPinnedCellsAfter.forEach(a=>{sx(a,"left",f)}),e.leftPinnedHeadersAfter.forEach(a=>{sx(a,"left",f)}),a.current.rootElementRef?.current?.style.setProperty(ss(c,j),`${st(i,c,j)+g}px`)),j===lq.RIGHT&&(sx(e.fillerRight,"width",f),e.rightPinnedCellsBefore.forEach(a=>{sx(a,"right",f)}),e.rightPinnedHeadersBefore.forEach(a=>{sx(a,"right",f)}),a.current.rootElementRef?.current?.style.setProperty(ss(c,j),`${st(i,c,j)+g}px`))},k=b=>{if(s(),e.previousMouseClickEvent){let c=e.previousMouseClickEvent,d=c.timeStamp,f=c.clientX,g=c.clientY;if(b.timeStamp-d<300&&b.clientX===f&&b.clientY===g){e.previousMouseClickEvent=void 0,a.current.publishEvent("columnResizeStop",null,b);return}}if(e.colDef){a.current.setColumnWidth(e.colDef.field,e.colDef.width),d.debug(`Updating col ${e.colDef.field} with new width: ${e.colDef.width}`);let b=lv(a);e.groupHeaderElements.forEach(a=>{let c=a.getAttribute("data-fields").slice(2,-2).split("-|-").reduce((a,c)=>!1!==b.columnVisibilityModel[c]?a+b.lookup[c].computedWidth:a,0),d=`${c}px`;a.style.width=d})}h.start(0,()=>{a.current.publishEvent("columnResizeStop",null,b)})},l=(b,d,h)=>{var i,j,k,l,m,n;let o=a.current.rootElementRef.current;e.initialColWidth=b.computedWidth,e.initialTotalWidth=a.current.getRootDimensions().rowWidth,e.colDef=b,i=a.current.columnHeadersContainerRef.current,j=b.field,e.columnHeaderElement=i.querySelector(`[data-field="${rI(j)}"]`);let p=o.querySelector(`.${kL.headerFilterRow} [data-field="${rI(b.field)}"]`);p&&(e.headerFilterElement=p),k=a.current.columnHeadersContainerRef?.current,l=b.field,e.groupHeaderElements=Array.from(k.querySelectorAll(`[data-fields*="|-${rI(l)}-|"]`)??[]),e.cellElements=function(a,b){if(!rH(a,kL.root))throw Error("MUI X: The root element is not found.");let c=a.getAttribute("aria-colindex");if(!c)return[];let d=Number(c)-1,e=[];return b.virtualScrollerRef?.current?(rO(b).forEach(a=>{let c=a.getAttribute("data-id");if(!c)return;let f=d,g=b.unstable_getCellColSpanInfo(c,d);g&&g.spannedByColSpan&&(f=g.leftVisibleCellIndex);let h=a.querySelector(`[data-colindex="${f}"]`);h&&e.push(h)}),e):[]}(e.columnHeaderElement,a.current),e.fillerLeft=rL(a.current,c?"filler--pinnedRight":"filler--pinnedLeft"),e.fillerRight=rL(a.current,c?"filler--pinnedLeft":"filler--pinnedRight");let q=a.current.unstable_applyPipeProcessors("isColumnPinned",!1,e.colDef.field);e.leftPinnedCellsAfter=q!==lq.LEFT?[]:function(a,b,c){let d=rP(b);return rM({api:a,colIndex:d,position:c?"right":"left",filterFn:a=>c?a<d:a>d})}(a.current,e.columnHeaderElement,c),e.rightPinnedCellsBefore=q!==lq.RIGHT?[]:function(a,b,c){let d=rP(b);return rM({api:a,colIndex:d,position:c?"left":"right",filterFn:a=>c?a>d:a<d})}(a.current,e.columnHeaderElement,c),e.leftPinnedHeadersAfter=q!==lq.LEFT?[]:function(a,b,c){let d=rP(b);return rN({api:a,position:c?"right":"left",colIndex:d,filterFn:a=>c?a<d:a>d})}(a.current,e.columnHeaderElement,c),e.rightPinnedHeadersBefore=q!==lq.RIGHT?[]:function(a,b,c){let d=rP(b);return rN({api:a,position:c?"left":"right",colIndex:d,filterFn:(a,b)=>!b.classList.contains(kL["columnHeader--last"])&&(c?a>d:a<d)})}(a.current,e.columnHeaderElement,c),g.current=function(a,b){let c=a.classList.contains(kL["columnSeparator--sideRight"])?"Right":"Left";return b?"Right"===c?"Left":"Right":c}(d,c),m=h,n=e.columnHeaderElement.getBoundingClientRect(),f.current="Left"===g.current?m-n.left:n.right-m},m=mk(k),n=mk(b=>{if(0===b.buttons)return void m(b);let c=sr(f.current,b.clientX,e.columnHeaderElement.getBoundingClientRect(),g.current);j(c=mQ(c,e.colDef.minWidth,e.colDef.maxWidth));let d={element:e.columnHeaderElement,colDef:e.colDef,width:c};a.current.publishEvent("columnResize",d,b)}),o=mk(a=>{sq(a,i.current)&&k(a)}),p=mk(b=>{let c=sq(b,i.current);if(!c)return;if("mousemove"===b.type&&0===b.buttons)return void o(b);let d=sr(f.current,c.x,e.columnHeaderElement.getBoundingClientRect(),g.current);j(d=mQ(d,e.colDef.minWidth,e.colDef.maxWidth));let h={element:e.columnHeaderElement,colDef:e.colDef,width:d};a.current.publishEvent("columnResize",h,b)}),r=mk(b=>{let c=rH(b.target,kL["columnSeparator--resizable"]);if(!c)return;let e=b.changedTouches[0];null!=e&&(i.current=e.identifier);let f=rH(b.target,kL.columnHeader).getAttribute("data-field"),g=a.current.getColumn(f);d.debug(`Start Resize on col ${g.field}`),a.current.publishEvent("columnResizeStart",{field:f},b),l(g,c,e.clientX);let h=rz(b.currentTarget);h.addEventListener("touchmove",p),h.addEventListener("touchend",o)}),s=q.useCallback(()=>{let b=rz(a.current.rootElementRef.current);b.body.style.removeProperty("cursor"),b.removeEventListener("mousemove",n),b.removeEventListener("mouseup",m),b.removeEventListener("touchmove",p),b.removeEventListener("touchend",o),setTimeout(()=>{b.removeEventListener("click",su,!0)},100),e.columnHeaderElement&&(e.columnHeaderElement.style.pointerEvents="unset")},[a,e,n,m,p,o]),t=q.useCallback(({field:b})=>{a.current.setState(a=>(0,ks.default)({},a,{columnResize:(0,ks.default)({},a.columnResize,{resizingColumnField:b})}))},[a]),u=q.useCallback(()=>{a.current.setState(a=>(0,ks.default)({},a,{columnResize:(0,ks.default)({},a.columnResize,{resizingColumnField:""})}))},[a]),v=mk(({colDef:b},c)=>{if(0!==c.button||!c.currentTarget.classList.contains(kL["columnSeparator--resizable"]))return;c.preventDefault(),d.debug(`Start Resize on col ${b.field}`),a.current.publishEvent("columnResizeStart",{field:b.field},c),l(b,c.currentTarget,c.clientX);let f=rz(a.current.rootElementRef.current);f.body.style.cursor="col-resize",e.previousMouseClickEvent=c.nativeEvent,f.addEventListener("mousemove",n),f.addEventListener("mouseup",m),f.addEventListener("click",su,!0)}),w=mk((c,d)=>{if(b.disableAutosize||0!==d.button)return;let e=a.current.state.columns.lookup[c.field];!1!==e.resizable&&a.current.autosizeColumns((0,ks.default)({},b.autosizeOptions,{disableColumnVirtualization:!1,columns:[e.field]}))}),x=function(a){let b=q.useRef(void 0),c=()=>q1(a),d=kZ(a,c);return q.useEffect(()=>{b.current&&!1===d&&(b.current.resolve(),b.current=void 0)}),()=>{if(!b.current){if(!1===c())return Promise.resolve();b.current=function(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.resolve=a,c.reject=b,c}()}return b.current}}(a),y=q.useRef(!1),z=q.useCallback(async c=>{if(!a.current.rootElementRef?.current||y.current)return;y.current=!0;let d=lv(a),e=(0,ks.default)({},sp,c,{columns:c?.columns??d.orderedFields});e.columns=e.columns.filter(a=>!1!==d.columnVisibilityModel[a]);let f=e.columns.map(b=>a.current.state.columns.lookup[b]);try{!b.disableVirtualization&&e.disableColumnVirtualization&&(a.current.unstable_setColumnVirtualization(!1),await x());let c=function(a,b,c){let d={},e=a.current.rootElementRef.current;return e.classList.add(kL.autosizing),c.forEach(c=>{var e,f,g,h;let i=(e=a.current,f=c.field,Array.from(e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > div > [data-field="${rI(f)}"][role="gridcell"]`))).map(a=>a.getBoundingClientRect().width??0),j=b.includeOutliers?i:function(a,b){if(a.length<4)return a;let c=a.slice();c.sort((a,b)=>a-b);let d=c[Math.floor(.25*c.length)],e=c[Math.floor(.75*c.length)-1],f=e-d,g=f<5?5:f*b;return c.filter(a=>a>d-g&&a<e+g)}(i,b.outliersFactor);if(b.includeHeaders){let b=(g=a.current,h=c.field,g.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${rI(h)}"][role="columnheader"]`));if(b){let a=b.querySelector(`.${kL.columnHeaderTitle}`),c=b.querySelector(`.${kL.columnHeaderTitleContainerContent}`),d=b.querySelector(`.${kL.iconButtonContainer}`),e=b.querySelector(`.${kL.menuIcon}`),f=window.getComputedStyle(b,null),g=parseInt(f.paddingLeft,10)+parseInt(f.paddingRight,10),h=(a??c).scrollWidth+1+g+(d?.clientWidth??0)+(e?.clientWidth??0);j.push(h)}}let k=c.minWidth!==-1/0&&void 0!==c.minWidth,l=c.maxWidth!==1/0&&void 0!==c.maxWidth,m=k?c.minWidth:0,n=l?c.maxWidth:1/0,o=0===j.length?0:Math.max(...j);d[c.field]=mQ(o,m,n)}),e.classList.remove(kL.autosizing),d}(a,e,f),g=f.map(a=>(0,ks.default)({},a,{width:c[a.field],computedWidth:c[a.field],flex:0}));if(e.expand){let b=d.orderedFields.map(a=>d.lookup[a]).filter(a=>!1!==d.columnVisibilityModel[a.field]).reduce((a,b)=>a+(c[b.field]??b.computedWidth??b.width),0),e=a.current.getRootDimensions().viewportInnerSize.width-b;if(e>0){let a=e/(g.length||1);g.forEach(b=>{b.width+=a,b.computedWidth+=a})}}a.current.updateColumns(g),g.forEach((b,c)=>{if(b.width!==f[c].width){let c=b.width;a.current.publishEvent("columnWidthChange",{element:a.current.getColumnHeaderElement(b.field),colDef:b,width:c})}})}finally{b.disableVirtualization||a.current.unstable_setColumnVirtualization(!0),y.current=!1}},[a,x,b.disableVirtualization]);q.useEffect(()=>s,[s]),mu(()=>{b.autosizeOnMount&&Promise.resolve().then(()=>{a.current.autosizeColumns(b.autosizeOptions)})}),rb(a,()=>a.current.columnHeadersContainerRef?.current,"touchstart",r,{passive:!0}),pO(a,{autosizeColumns:z},"public"),mq(a,"columnResizeStop",u),mq(a,"columnResizeStart",t),mq(a,"columnSeparatorMouseDown",v),mq(a,"columnSeparatorDoubleClick",w),ms(a,"columnResize",b.onColumnResize),ms(a,"columnWidthChange",b.onColumnWidthChange)})(p,o),((a,b)=>{let c=ra(a,"useGridPaginationMeta"),d=kZ(a,qS);a.current.registerControlState({stateId:"paginationMeta",propModel:b.paginationMeta,propOnChange:b.onPaginationMetaChange,stateSelector:qS,changeEvent:"paginationMetaChange"});let e=q.useCallback(b=>{d!==b&&(c.debug("Setting 'paginationMeta' to",b),a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{meta:b})})))},[a,c,d]);pO(a,{setPaginationMeta:e},"public");let f=q.useCallback((c,d)=>{let e=qS(a);return d.exportOnlyDirtyModels&&null==b.paginationMeta&&b.initialState?.pagination?.meta==null?c:(0,ks.default)({},c,{pagination:(0,ks.default)({},c.pagination,{meta:e})})},[a,b.paginationMeta,b.initialState?.pagination?.meta]),g=q.useCallback((b,c)=>{let d=c.stateToRestore.pagination?.meta?c.stateToRestore.pagination.meta:qS(a);return a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{meta:d})})),b},[a]);rn(a,"exportState",f),rn(a,"restoreState",g),q.useEffect(()=>{b.paginationMeta&&a.current.setPaginationMeta(b.paginationMeta)},[a,b.paginationMeta])})(k=p,l=o),((a,b)=>{let c=ra(a,"useGridPaginationModel"),d=kZ(a,lm),e=q.useRef(oD(a)),f=Math.floor(b.rowHeight*d);a.current.registerControlState({stateId:"paginationModel",propModel:b.paginationModel,propOnChange:b.onPaginationModelChange,stateSelector:qQ,changeEvent:"paginationModelChange"});let g=q.useCallback(b=>{let d=qQ(a);b!==d.page&&(c.debug(`Setting page to ${b}`),a.current.setPaginationModel({page:b,pageSize:d.pageSize}))},[a,c]),h=q.useCallback(b=>{let d=qQ(a);b!==d.pageSize&&(c.debug(`Setting page size to ${b}`),a.current.setPaginationModel({pageSize:b,page:d.page}))},[a,c]),i=q.useCallback(d=>{d!==qQ(a)&&(c.debug("Setting 'paginationModel' to",d),a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationModel:rA(a.pagination,b.signature,d)})}),"setPaginationModel"))},[a,c,b.signature]);pO(a,{setPage:g,setPageSize:h,setPaginationModel:i},"public");let j=q.useCallback((c,d)=>{let e=qQ(a);return d.exportOnlyDirtyModels&&null==b.paginationModel&&b.initialState?.pagination?.paginationModel==null&&(0===e.page||e.pageSize===100*!b.autoPageSize)?c:(0,ks.default)({},c,{pagination:(0,ks.default)({},c.pagination,{paginationModel:e})})},[a,b.paginationModel,b.initialState?.pagination?.paginationModel,b.autoPageSize]),k=q.useCallback((c,d)=>{let e=d.stateToRestore.pagination?.paginationModel?(0,ks.default)({},qM(b.autoPageSize),d.stateToRestore.pagination?.paginationModel):qQ(a);return a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationModel:rA(a.pagination,b.signature,e)})}),"stateRestorePreProcessing"),c},[a,b.autoPageSize,b.signature]);rn(a,"exportState",j),rn(a,"restoreState",k);let l=q.useCallback(()=>{if(!b.autoPageSize)return;let c=Math.max(1,Math.floor(a.current.getRootDimensions().viewportInnerSize.height/f));a.current.setPageSize(c)},[a,b.autoPageSize,f]),m=q.useCallback(b=>{if(null==b)return;let c=qQ(a);if(0===c.page)return;let d=qV(a);c.page>d-1&&a.current.setPage(Math.max(0,d-1))},[a]),n=q.useCallback(()=>{0!==qQ(a).page&&a.current.setPage(0),0!==a.current.getScrollPosition().top&&a.current.scroll({top:0})},[a]),o=q.useCallback(b=>{let c=(0,ks.default)({},b,{items:oP(a)});qa(c,e.current)||(e.current=c,n())},[a,n]);mq(a,"viewportInnerSizeChange",l),mq(a,"paginationModelChange",()=>{let b=qQ(a);a.current.virtualScrollerRef?.current&&a.current.scrollToIndexes({rowIndex:b.page*b.pageSize})}),mq(a,"rowCountChange",m),mq(a,"sortModelChange",n),mq(a,"filterModelChange",o);let p=q.useRef(!0);q.useEffect(()=>{if(p.current){p.current=!1;return}b.pagination&&a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationModel:rA(a.pagination,b.signature,b.paginationModel)})}))},[a,b.paginationModel,b.signature,b.pagination]),q.useEffect(()=>{a.current.setState(a=>{let c=!0===b.pagination;return a.pagination.paginationMode===b.paginationMode&&a.pagination.enabled===c?a:(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationMode:b.paginationMode,enabled:c})})})},[a,b.paginationMode,b.pagination]),q.useEffect(l,[l])})(k,l),((a,b)=>{let c=ra(a,"useGridRowCount"),d=kZ(a,oN),e=kZ(a,qR),f=kZ(a,qS),g=kZ(a,qQ),h=kT(()=>qQ(a).pageSize);a.current.registerControlState({stateId:"paginationRowCount",propModel:b.rowCount,propOnChange:b.onRowCountChange,stateSelector:qR,changeEvent:"rowCountChange"});let i=q.useCallback(b=>{e!==b&&(c.debug("Setting 'rowCount' to",b),a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{rowCount:b})})))},[a,c,e]);pO(a,{setRowCount:i},"public");let j=q.useCallback((c,d)=>{let e=qR(a);return d.exportOnlyDirtyModels&&null==b.rowCount&&b.initialState?.pagination?.rowCount==null?c:(0,ks.default)({},c,{pagination:(0,ks.default)({},c.pagination,{rowCount:e})})},[a,b.rowCount,b.initialState?.pagination?.rowCount]),k=q.useCallback((b,c)=>{let d=c.stateToRestore.pagination?.rowCount?c.stateToRestore.pagination.rowCount:qR(a);return a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{rowCount:d})})),b},[a]);rn(a,"exportState",j),rn(a,"restoreState",k);let l=q.useCallback(c=>{"client"!==b.paginationMode&&h.current&&c.pageSize!==h.current&&(h.current=c.pageSize,-1===e&&a.current.setPage(0))},[b.paginationMode,h,e,a]);mq(a,"paginationModelChange",l),q.useEffect(()=>{"client"===b.paginationMode?a.current.setRowCount(d):null!=b.rowCount&&a.current.setRowCount(b.rowCount)},[a,b.paginationMode,d,b.rowCount]);let m=!1===f.hasNextPage;q.useEffect(()=>{m&&-1===e&&a.current.setRowCount(g.pageSize*g.page+d)},[a,d,m,e,g])})(k,l),((a,b)=>{let{getRowHeight:c,setLastMeasuredRowIndex:d,storeRowHeightMeasurement:e,resetRowHeights:f,hydrateRowsMeta:g,observeRowHeight:h,rowHasAutoHeight:i,getRowHeightEntry:j,getLastMeasuredRowIndex:k}=a.current.virtualizer.api.rowsMeta;ro(a,"rowHeight",g),pO(a,{unstable_getRowHeight:c,unstable_setLastMeasuredRowIndex:d,unstable_storeRowHeightMeasurement:e,resetRowHeights:f},"public"),pO(a,{hydrateRowsMeta:g,observeRowHeight:h,rowHasAutoHeight:i,getRowHeightEntry:j,getLastMeasuredRowIndex:k},"private")})(p,0),((a,b)=>{let c=(0,nZ.useRtl)(),d=ra(a,"useGridScroll"),e=a.current.columnHeadersContainerRef,f=a.current.virtualScrollerRef,g=kZ(a,oH),h=q.useCallback(c=>{let e=lV(a),h=l5(a),i=lB(a);if(null!=c.rowIndex&&0===h||0===i.length)return!1;d.debug(`Scrolling to cell at row ${c.rowIndex}, col: ${c.colIndex} `);let j={};if(void 0!==c.colIndex){let b,d=lG(a);if(void 0!==c.rowIndex){let d=g[c.rowIndex]?.id,e=a.current.unstable_getCellColSpanInfo(d,c.colIndex);e&&!e.spannedByColSpan&&(b=e.cellProps.width)}void 0===b&&(b=i[c.colIndex].computedWidth),j.left=sa({containerSize:e.viewportOuterSize.width,scrollPosition:Math.abs(f.current.scrollLeft),elementSize:b,elementOffset:d[c.colIndex]})}if(void 0!==c.rowIndex){let d=oo(a),g=qT(a),h=qU(a),i=b.pagination?c.rowIndex-g*h:c.rowIndex,k=d.positions[i+1]?d.positions[i+1]-d.positions[i]:d.currentPageTotalHeight-d.positions[i];j.top=sa({containerSize:e.viewportInnerSize.height,scrollPosition:f.current.scrollTop,elementSize:k,elementOffset:d.positions[i]})}return(void 0!==(j=a.current.unstable_applyPipeProcessors("scrollToIndexes",j,c)).left||void 0!==j.top)&&(a.current.scroll(j),!0)},[d,a,f,b.pagination,g]),i=q.useCallback(a=>{if(f.current&&void 0!==a.left&&e.current){let b=c?-1:1;e.current.scrollLeft=a.left,f.current.scrollLeft=b*a.left,d.debug(`Scrolling left: ${a.left}`)}f.current&&void 0!==a.top&&(f.current.scrollTop=a.top,d.debug(`Scrolling top: ${a.top}`)),d.debug("Scrolling, updating container, and viewport")},[f,c,e,d]);pO(a,{scroll:i,scrollToIndexes:h,getScrollPosition:q.useCallback(()=>f?.current?{top:f.current.scrollTop,left:f.current.scrollLeft}:{top:0,left:0},[f])},"public")})(p,o),(a=>{let b=ra(a,"useGridColumnMenu"),c=q.useCallback(c=>{let d=o2(a),e=!0,f=c;(e!==d.open||f!==d.field)&&(a.current.setState(a=>a.columnMenu.open&&a.columnMenu.field===c?a:(b.debug("Opening Column Menu"),(0,ks.default)({},a,{columnMenu:{open:!0,field:c}}))),a.current.hidePreferences())},[a,b]),d=q.useCallback(()=>{let c=o2(a);if(c.field){let b=lx(a),d=lz(a),e=lw(a),f=c.field;if(b[f]||(f=e[0]),!1===d[f]){let a=e.filter(a=>a===f||!1!==d[a]),b=a.indexOf(f);f=a[b+1]||a[b-1]}a.current.setColumnHeaderFocus(f)}let d={open:!1,field:void 0};(d.open!==c.open||d.field!==c.field)&&a.current.setState(a=>(b.debug("Hiding Column Menu"),(0,ks.default)({},a,{columnMenu:d})))},[a,b]),e=q.useCallback(e=>{b.debug("Toggle Column Menu");let f=o2(a);f.open&&f.field===e?d():c(e)},[a,b,c,d]);pO(a,{showColumnMenu:c,hideColumnMenu:d,toggleColumnMenu:e},"public"),mq(a,"columnResizeStart",d),mq(a,"virtualScrollerWheel",a.current.hideColumnMenu),mq(a,"virtualScrollerTouchMove",a.current.hideColumnMenu)})(p),((a,b)=>{let c=ra(a,"useGridCsvExport"),d=b.ignoreValueFormatterDuringExport,e=("object"==typeof d?d?.csvExport:d)||!1,f=q.useCallback((b={})=>(c.debug("Get data as CSV"),function(a){let{columns:b,rowIds:c,csvOptions:d,ignoreValueFormatter:e,apiRef:f}=a,g=c.reduce((a,c)=>`${a}${(({id:a,columns:b,getCellParams:c,csvOptions:d,ignoreValueFormatter:e})=>{let f=new rk({csvOptions:d});return b.forEach(b=>{let g=c(a,b.field);f.addValue(rj(g,{ignoreValueFormatter:e,csvOptions:d}))}),f.getRowString()})({id:c,columns:b,getCellParams:f.current.getCellParams,ignoreValueFormatter:e,csvOptions:d})}\r
`,"").trim();if(!d.includeHeaders)return g;let h=b.filter(a=>a.field!==rh.field),i=[];if(d.includeColumnGroupsHeaders){let a=f.current.getAllGroupDetails(),b=0,c=h.reduce((a,c)=>{let d=f.current.getColumnGroupPath(c.field);return a[c.field]=d,b=Math.max(b,d.length),a},{});for(let e=0;e<b;e+=1){let b=new rk({csvOptions:d,sanitizeCellValue:ri});i.push(b),h.forEach(d=>{let f=a[(c[d.field]||[])[e]];b.addValue(f?f.headerName||f.groupId:"")})}}let j=new rk({csvOptions:d,sanitizeCellValue:ri});h.forEach(a=>{j.addValue(a.headerName||a.field)}),i.push(j);let k=`${i.map(a=>a.getRowString()).join("\r\n")}\r
`;return`${k}${g}`.trim()}({columns:rr({apiRef:a,options:b}),rowIds:(b.getRowsToExport??rs)({apiRef:a}),csvOptions:{delimiter:b.delimiter||",",shouldAppendQuotes:b.shouldAppendQuotes??!0,includeHeaders:b.includeHeaders??!0,includeColumnGroupsHeaders:b.includeColumnGroupsHeaders??!0,escapeFormulas:b.escapeFormulas??!0},ignoreValueFormatter:e,apiRef:a})),[c,a,e]),g=q.useCallback(a=>{c.debug("Export data as CSV");let b=f(a);!function(a,b="csv",c=document.title||"untitled"){let d=`${c}.${b}`;if("download"in HTMLAnchorElement.prototype){let b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=d,c.click(),setTimeout(()=>{URL.revokeObjectURL(b)});return}throw Error("MUI X: exportAs not supported.")}(new Blob([a?.utf8WithBom?new Uint8Array([239,187,191]):"",b],{type:"text/csv"}),"csv",a?.fileName)},[c,f]);pO(a,{getDataAsCsv:f,exportDataAsCsv:g},"public"),rn(a,"exportMenu",q.useCallback((a,b)=>b.csvOptions?.disableToolbarButton?a:[...a,{component:(0,h.jsx)(rx,{options:b.csvOptions}),componentName:"csvExport"}],[]))})(p,o),((a,b)=>{let c=null!==a.current.rootElementRef.current,d=ra(a,"useGridPrintExport"),e=q.useRef(null),f=q.useRef(null),g=q.useRef({}),i=q.useRef([]),j=q.useRef(null);q.useEffect(()=>{e.current=rz(a.current.rootElementRef.current)},[a,c]);let k=q.useCallback((b,c,d)=>new Promise(e=>{let f=rr({apiRef:a,options:{fields:b,allColumns:c}}).map(a=>a.field),g=ly(a),h={};g.forEach(a=>{h[a.field]=f.includes(a.field)}),d&&(h[rh.field]=!0),a.current.setColumnVisibilityModel(h),e()}),[a]),l=q.useCallback(b=>{let c=b({apiRef:a}).reduce((b,c)=>{let d=a.current.getRow(c);return d[nk]||b.push(d),b},[]);a.current.setRows(c)},[a]),m=q.useCallback((c,d)=>{let f=(0,ks.default)({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},d),g=c.contentDocument;if(!g)return;let h=oo(a),i=a.current.rootElementRef.current,j=i.cloneNode(!0);j.querySelector(`.${kL.main}`).style.overflow="visible",j.style.contain="size";let k=i.querySelector(`.${kL.toolbar}`)?.offsetHeight||0,l=i.querySelector(`.${kL.footerContainer}`)?.offsetHeight||0,m=j.querySelector(`.${kL.footerContainer}`);f.hideToolbar&&(j.querySelector(`.${kL.toolbar}`)?.remove(),k=0),f.hideFooter&&m&&(m.remove(),l=0);let n=h.currentPageTotalHeight+on(a,b)+k+l;j.style.height=`${n}px`,j.style.boxSizing="content-box",!f.hideFooter&&m&&(m.style.position="absolute",m.style.width="100%",m.style.top=`${n-l}px`);let o=document.createElement("div");o.appendChild(j),g.body.style.marginTop="0px",g.body.innerHTML=o.innerHTML;let p="function"==typeof f.pageStyle?f.pageStyle():f.pageStyle;if("string"==typeof p){let a=g.createElement("style");a.appendChild(g.createTextNode(p)),g.head.appendChild(a)}f.bodyClassName&&g.body.classList.add(...f.bodyClassName.split(" "));let q=[];if(f.copyStyles){let a=i.getRootNode();q=function(a,b){let c=[],d=b.querySelectorAll("style, link[rel='stylesheet']");for(let b=0;b<d.length;b+=1){let e=d[b];if("STYLE"===e.tagName){let b=a.createElement(e.tagName),c=e.sheet;if(c){let d="";for(let a=0;a<c.cssRules.length;a+=1)"string"==typeof c.cssRules[a].cssText&&(d+=`${c.cssRules[a].cssText}\r
`);b.appendChild(a.createTextNode(d)),a.head.appendChild(b)}}else if(e.getAttribute("href")){let b=a.createElement(e.tagName);for(let a=0;a<e.attributes.length;a+=1){let c=e.attributes[a];c&&b.setAttribute(c.nodeName,c.nodeValue||"")}c.push(new Promise(a=>{b.addEventListener("load",()=>a())})),a.head.appendChild(b)}}return c}(g,"ShadowRoot"===a.constructor.name?a:e.current)}Promise.all(q).then(()=>{c.contentWindow.print()})},[a,e,b]),n=q.useCallback(b=>{e.current.body.removeChild(b),a.current.restoreState(f.current||{}),f.current?.columns?.columnVisibilityModel||a.current.setColumnVisibilityModel(g.current),a.current.setState(a=>(0,ks.default)({},a,{virtualization:j.current})),a.current.setRows(i.current),f.current=null,g.current={},i.current=[]},[a]),o=q.useCallback(async c=>{if(d.debug("Export data as Print"),!a.current.rootElementRef.current)throw Error("MUI X: No grid root element available.");if(f.current=a.current.exportState(),g.current=lz(a),i.current=a.current.getSortedRows().filter(a=>!a[nk]),b.pagination){let b={page:0,pageSize:oM(a)};a.current.setState(a=>(0,ks.default)({},a,{pagination:(0,ks.default)({},a.pagination,{paginationModel:rA(a.pagination,"DataGridPro",b)})}))}j.current=a.current.state.virtualization,a.current.unstable_setVirtualization(!1),await k(c?.fields,c?.allColumns,c?.includeCheckboxes),l(c?.getRowsToExport??rs),await new Promise(a=>{requestAnimationFrame(()=>{a()})});let h=function(a){let b=document.createElement("iframe");return b.style.position="absolute",b.style.width="0px",b.style.height="0px",b.title=a||document.title,b}(c?.fileName);h.onload=()=>{m(h,c),h.contentWindow.matchMedia("print").addEventListener("change",a=>{!1===a.matches&&n(h)})},e.current.body.appendChild(h)},[b,d,a,m,n,k,l]);pO(a,{exportDataAsPrint:o},"public"),rn(a,"exportMenu",q.useCallback((a,b)=>b.printOptions?.disableToolbarButton?a:[...a,{component:(0,h.jsx)(ry,{options:b.printOptions}),componentName:"printExport"}],[]))})(p,o),((a,b)=>{let c=b.ignoreValueFormatterDuringExport,d=("object"==typeof c?c?.clipboardExport:c)||!1,e=b.clipboardCopyCellDelimiter,f=q.useCallback(b=>{var c,f,g;if(!(((c=b).ctrlKey||c.metaKey)&&"C"===String.fromCharCode(c.keyCode)&&!c.shiftKey&&!c.altKey)||(f=b.target,window.getSelection()?.toString()||f&&(f.selectionEnd||0)-(f.selectionStart||0)>0))return;let h="";if(pG(a)>0)h=a.current.getDataAsCsv({includeHeaders:!1,delimiter:e,shouldAppendQuotes:!1,escapeFormulas:!1});else{let b=oX(a);b&&(h=rj(a.current.getCellParams(b.id,b.field),{csvOptions:{delimiter:e,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:d}))}(h=a.current.unstable_applyPipeProcessors("clipboardCopy",h))&&(g=h,navigator.clipboard?navigator.clipboard.writeText(g).catch(()=>{rl(g)}):rl(g),a.current.publishEvent("clipboardCopy",h))},[a,d,e]);rb(a,()=>a.current.rootElementRef.current,"keydown",f),ms(a,"clipboardCopy",b.onClipboardCopy)})(p,o),!function(a,b){let c=a.current.virtualizer,d=c.api.updateDimensions,e=c.api.getViewportPageSize,f=q.useCallback(()=>lV(a),[a]);pO(a,{getRootDimensions:f},"public"),pO(a,{updateDimensions:d,getViewportPageSize:e},"private"),ms(a,"rootMount",b=>{sf(b,lV(a))}),ms(a,"debouncedResize",b.onResize),p2(a.current.store,a=>a.dimensions,(b,c)=>{var d,e;a.current.rootElementRef.current&&sf(a.current.rootElementRef.current,c),d=c.viewportInnerSize,e=b.viewportInnerSize,(d.width!==e.width||d.height!==e.height)&&a.current.publishEvent("viewportInnerSizeChange",c.viewportInnerSize),a.current.publishEvent("debouncedResize",c.root)})}(p,o),ms(m=p,"columnHeaderClick",(n=o).onColumnHeaderClick),ms(m,"columnHeaderContextMenu",n.onColumnHeaderContextMenu),ms(m,"columnHeaderDoubleClick",n.onColumnHeaderDoubleClick),ms(m,"columnHeaderOver",n.onColumnHeaderOver),ms(m,"columnHeaderOut",n.onColumnHeaderOut),ms(m,"columnHeaderEnter",n.onColumnHeaderEnter),ms(m,"columnHeaderLeave",n.onColumnHeaderLeave),ms(m,"cellClick",n.onCellClick),ms(m,"cellDoubleClick",n.onCellDoubleClick),ms(m,"cellKeyDown",n.onCellKeyDown),ms(m,"preferencePanelClose",n.onPreferencePanelClose),ms(m,"preferencePanelOpen",n.onPreferencePanelOpen),ms(m,"menuOpen",n.onMenuOpen),ms(m,"menuClose",n.onMenuClose),ms(m,"rowDoubleClick",n.onRowDoubleClick),ms(m,"rowClick",n.onRowClick),ms(m,"stateChange",n.onStateChange),(a=>{let b=q.useCallback((b={})=>a.current.unstable_applyPipeProcessors("exportState",{},b),[a]),c=q.useCallback(b=>{a.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:b}).callbacks.forEach(a=>{a()})},[a]);pO(a,{exportState:b,restoreState:c},"public")})(p),!function(a,b){let{virtualizer:c}=a.current,{autoHeight:d,disableVirtualization:e}=b,f=a=>{a&&=!0,c.store.set("virtualization",(0,ks.default)({},c.store.state.virtualization,{enabled:a,enabledForColumns:a,enabledForRows:a&&!d}))};pO(a,{unstable_setVirtualization:f,unstable_setColumnVirtualization:a=>{a&&=!0,c.store.set("virtualization",(0,ks.default)({},c.store.state.virtualization,{enabledForColumns:a}))}},"public");let g=c.api.forceUpdateRenderContext;a.current.register("private",{updateRenderContext:g}),ms(a,"sortedRowsSet",g),ms(a,"paginationModelChange",g),ms(a,"columnsChange",g),q.useEffect(()=>{f(!b.disableVirtualization)},[e,d])}(p,o),!function(a,b){let c=()=>{a.current.setState(b=>b.listViewColumn?(0,ks.default)({},b,{listViewColumn:(0,ks.default)({},b.listViewColumn,{computedWidth:sF(a)})}):b)},d=q.useRef(null);mq(a,"viewportInnerSizeChange",a=>{d.current!==a.width&&(d.current=a.width,c())}),mq(a,"columnVisibilityModelChange",c),mj(()=>{let c=b.listViewColumn;c&&a.current.setState(b=>(0,ks.default)({},b,{listViewColumn:(0,ks.default)({},c,{computedWidth:sF(a)})}))},[a,b.listViewColumn]),q.useEffect(()=>{b.listView&&!b.listViewColumn&&function(a,b="warning"){}(0)},[b.listView,b.listViewColumn])}(p,o),((a,b)=>{let{api:c,strategyProcessor:d,events:e,setStrategyAvailability:f}=((a,b,c={})=>{let d=q.useCallback(()=>{a.current.setStrategyAvailability(pW.DataSource,sI.Default,b.dataSource?()=>!0:()=>!1)},[a,b.dataSource]),[e,f]=q.useState(a.current.getActiveStrategy(pW.DataSource)),g=q.useMemo(()=>e===sI.Default,[e]),h=kZ(a,qQ),i=q.useRef(0),j=b.onDataSourceError,k=kT(()=>{if(!b.pagination)return new sJ(h.pageSize);let a=b.pageSizeOptions.map(a=>"number"==typeof a?a:a.value).sort((a,b)=>a-b);return new sJ(Math.min(h.pageSize,a[0]))}).current,[l,m]=q.useState(()=>sQ(b.dataSourceCache,c.cacheOptions)),n=q.useCallback(async(d,e)=>{let f=b.dataSource?.getRows;if(!f)return;if(d&&d!==nj&&"DataGrid"!==b.signature)return void c.fetchRowChildren?.([d]);c.clearDataSourceState?.();let h=e||{},{skipCache:m}=h,n=(0,kw.default)(h,sO),o=(0,ks.default)({},sH(a),a.current.unstable_applyPipeProcessors("getRowsParams",{}),n),p=k.getCacheKeys(o).map(a=>l.get(a));if(!m&&p.every(a=>void 0!==a))return void a.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:sJ.mergeResponses(p),fetchParams:o});(g||0===a.current.getRowsCount())&&a.current.setLoading(!0);let q=i.current+1;i.current=q;try{let b=await f(o);k.splitResponse(o,b).forEach((a,b)=>l.set(b,a)),i.current===q&&a.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:b,fetchParams:o})}catch(b){i.current===q&&(a.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:b,fetchParams:o}),"function"==typeof j&&j(new sM({message:b?.message,params:o,cause:b})))}finally{g&&i.current===q&&a.current.setLoading(!1)}},[k,l,a,g,b.dataSource?.getRows,j,c,b.signature]),o=q.useCallback(()=>{f(a.current.getActiveStrategy(pW.DataSource))},[a]),p=q.useCallback(b=>{if("error"in b)return void a.current.setRows([]);let{response:c}=b;void 0!==c.rowCount&&a.current.setRowCount(c.rowCount),a.current.setRows(c.rows),a.current.unstable_applyPipeProcessors("processDataSourceRows",{params:b.fetchParams,response:c},!0)},[a]),r=b.dataSource?.updateRow,s=c.handleEditRow,t=q.useCallback(async b=>{if(r)try{let c=await r(b);if("function"==typeof s)return s(b,c),c;return c&&!qa(c,b.previousRow)&&a.current.dataSource.cache.clear(),a.current.updateNestedRows([c],[]),c}catch(a){throw"function"==typeof j&&j(new sN({message:a?.message,params:b,cause:a})),a}},[a,r,j,s]),u=q.useMemo(()=>sG(n,0),[n]),v=q.useRef(!0);return q.useEffect(()=>{if(v.current){v.current=!1;return}if(void 0===b.dataSourceCache)return;let a=sQ(b.dataSourceCache,c.cacheOptions);m(b=>b!==a?a:b)},[b.dataSourceCache,c.cacheOptions]),q.useEffect(()=>{if(e===sI.Default||e===sI.LazyLoading)return b.dataSource&&(a.current.dataSource.cache.clear(),a.current.dataSource.fetchRows()),()=>{i.current+=1}},[a,b.dataSource,e]),{api:{public:{dataSource:{fetchRows:n,cache:l,editRow:t}}},debouncedFetchRows:u,strategyProcessor:{strategyName:sI.Default,group:"dataSourceRowsUpdate",processor:p},setStrategyAvailability:d,cacheChunkManager:k,cache:l,events:{strategyAvailabilityChange:o,sortModelChange:mS(g,()=>u()),filterModelChange:mS(g,()=>u()),paginationModelChange:mS(g,()=>u())}}})(a,b);pO(a,c.public,"public"),rB(a,d.strategyName,d.group,d.processor),Object.entries(e).forEach(([b,c])=>{mq(a,b,c)}),q.useEffect(()=>{f()},[f])})(p,o),q.useEffect(()=>{p.current.runAppliersForPendingProcessors()}),(0,h.jsx)(pN,{privateApiRef:p,configuration:Br,props:o,children:(0,h.jsx)(pz,(0,ks.default)({className:o.className,style:o.style,sx:o.sx},o.slotProps?.root,{ref:c}))})},Bt=q.memo(kv(Bs));Bs.propTypes={apiRef:kt.default.shape({current:kt.default.object}),"aria-label":kt.default.string,"aria-labelledby":kt.default.string,autoHeight:kt.default.bool,autoPageSize:kt.default.bool,autosizeOnMount:kt.default.bool,autosizeOptions:kt.default.shape({columns:kt.default.arrayOf(kt.default.string),disableColumnVirtualization:kt.default.bool,expand:kt.default.bool,includeHeaders:kt.default.bool,includeOutliers:kt.default.bool,outliersFactor:kt.default.number}),cellModesModel:kt.default.object,checkboxSelection:kt.default.bool,classes:kt.default.object,className:kt.default.string,clipboardCopyCellDelimiter:kt.default.string,columnBufferPx:kt.default.number,columnFilterDebounceMs:kt.default.number,columnGroupHeaderHeight:kt.default.number,columnGroupingModel:kt.default.arrayOf(kt.default.object),columnHeaderHeight:kt.default.number,columns:kt.default.arrayOf(kt.default.object).isRequired,columnVisibilityModel:kt.default.object,dataSource:kt.default.shape({getRows:kt.default.func.isRequired,updateRow:kt.default.func}),dataSourceCache:kt.default.shape({clear:kt.default.func.isRequired,get:kt.default.func.isRequired,set:kt.default.func.isRequired}),density:kt.default.oneOf(["comfortable","compact","standard"]),disableAutosize:kt.default.bool,disableColumnFilter:kt.default.bool,disableColumnMenu:kt.default.bool,disableColumnResize:kt.default.bool,disableColumnSelector:kt.default.bool,disableColumnSorting:kt.default.bool,disableDensitySelector:kt.default.bool,disableEval:kt.default.bool,disableMultipleRowSelection:kt.default.bool,disableRowSelectionExcludeModel:kt.default.bool,disableRowSelectionOnClick:kt.default.bool,disableVirtualization:kt.default.bool,editMode:kt.default.oneOf(["cell","row"]),estimatedRowCount:kt.default.number,experimentalFeatures:kt.default.shape({warnIfFocusStateIsNotSynced:kt.default.bool}),filterDebounceMs:kt.default.number,filterMode:kt.default.oneOf(["client","server"]),filterModel:kt.default.shape({items:kt.default.arrayOf(kt.default.shape({field:kt.default.string.isRequired,id:kt.default.oneOfType([kt.default.number,kt.default.string]),operator:kt.default.string.isRequired,value:kt.default.any})).isRequired,logicOperator:kt.default.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:kt.default.bool,quickFilterLogicOperator:kt.default.oneOf(["and","or"]),quickFilterValues:kt.default.array}),getCellClassName:kt.default.func,getDetailPanelContent:kt.default.func,getEstimatedRowHeight:kt.default.func,getRowClassName:kt.default.func,getRowHeight:kt.default.func,getRowId:kt.default.func,getRowSpacing:kt.default.func,hideFooter:kt.default.bool,hideFooterPagination:kt.default.bool,hideFooterSelectedRowCount:kt.default.bool,ignoreDiacritics:kt.default.bool,ignoreValueFormatterDuringExport:kt.default.oneOfType([kt.default.shape({clipboardExport:kt.default.bool,csvExport:kt.default.bool}),kt.default.bool]),initialState:kt.default.object,isCellEditable:kt.default.func,isRowSelectable:kt.default.func,keepNonExistentRowsSelected:kt.default.bool,label:kt.default.string,loading:kt.default.bool,localeText:kt.default.object,logger:kt.default.shape({debug:kt.default.func.isRequired,error:kt.default.func.isRequired,info:kt.default.func.isRequired,warn:kt.default.func.isRequired}),logLevel:kt.default.oneOf(["debug","error","info","warn",!1]),nonce:kt.default.string,onCellClick:kt.default.func,onCellDoubleClick:kt.default.func,onCellEditStart:kt.default.func,onCellEditStop:kt.default.func,onCellKeyDown:kt.default.func,onCellModesModelChange:kt.default.func,onClipboardCopy:kt.default.func,onColumnHeaderClick:kt.default.func,onColumnHeaderContextMenu:kt.default.func,onColumnHeaderDoubleClick:kt.default.func,onColumnHeaderEnter:kt.default.func,onColumnHeaderLeave:kt.default.func,onColumnHeaderOut:kt.default.func,onColumnHeaderOver:kt.default.func,onColumnOrderChange:kt.default.func,onColumnResize:kt.default.func,onColumnVisibilityModelChange:kt.default.func,onColumnWidthChange:kt.default.func,onDataSourceError:kt.default.func,onDensityChange:kt.default.func,onFilterModelChange:kt.default.func,onMenuClose:kt.default.func,onMenuOpen:kt.default.func,onPaginationMetaChange:kt.default.func,onPaginationModelChange:kt.default.func,onPreferencePanelClose:kt.default.func,onPreferencePanelOpen:kt.default.func,onProcessRowUpdateError:kt.default.func,onResize:kt.default.func,onRowClick:kt.default.func,onRowCountChange:kt.default.func,onRowDoubleClick:kt.default.func,onRowEditStart:kt.default.func,onRowEditStop:kt.default.func,onRowModesModelChange:kt.default.func,onRowSelectionModelChange:kt.default.func,onSortModelChange:kt.default.func,onStateChange:kt.default.func,pageSizeOptions:kt.default.arrayOf(kt.default.oneOfType([kt.default.number,kt.default.shape({label:kt.default.string.isRequired,value:kt.default.number.isRequired})]).isRequired),pagination:kt.default.oneOf([!0]),paginationMeta:kt.default.shape({hasNextPage:kt.default.bool}),paginationMode:kt.default.oneOf(["client","server"]),paginationModel:kt.default.shape({page:kt.default.number.isRequired,pageSize:kt.default.number.isRequired}),processRowUpdate:kt.default.func,resizeThrottleMs:kt.default.number,rowBufferPx:kt.default.number,rowCount:kt.default.number,rowHeight:kt.default.number,rowModesModel:kt.default.object,rows:kt.default.arrayOf(kt.default.object),rowSelection:kt.default.bool,rowSelectionModel:kt.default.shape({ids:kt.default.instanceOf(Set).isRequired,type:kt.default.oneOf(["exclude","include"]).isRequired}),rowSpacingType:kt.default.oneOf(["border","margin"]),rowSpanning:kt.default.bool,scrollbarSize:kt.default.number,showCellVerticalBorder:kt.default.bool,showColumnVerticalBorder:kt.default.bool,showToolbar:kt.default.bool,slotProps:kt.default.object,slots:kt.default.object,sortingMode:kt.default.oneOf(["client","server"]),sortingOrder:kt.default.arrayOf(kt.default.oneOf(["asc","desc"])),sortModel:kt.default.arrayOf(kt.default.shape({field:kt.default.string.isRequired,sort:kt.default.oneOf(["asc","desc"])})),style:kt.default.object,sx:kt.default.oneOfType([kt.default.arrayOf(kt.default.oneOfType([kt.default.func,kt.default.object,kt.default.bool])),kt.default.func,kt.default.object]),virtualizeColumnsWithAutoRowHeight:kt.default.bool};var Bu=a.i(437123),Bv=a.i(469250),Bw=a.i(515937);let Bx=(0,j5.default)((0,h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),By=(0,j5.default)((0,h.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var Bz=a.i(519983),BA=a.i(836697),BB=a.i(580701),BC=a.i(860875),BD=a.i(141473),BE=a.i(989612),BF=a.i(651437);let BG=()=>{let a=(0,kl.useAppDispatch)(),b=(0,p.useAppSelector)(a=>a.locationsSlice.locations),c=(0,p.useAppSelector)(a=>a.locationsSlice.brothers),d=c?[...b,c]:b,e=(0,p.useAppSelector)(a=>a.editNewsModalSlice.currentNews),f=(0,p.useAppSelector)(a=>a.userSlice.user),g=(0,q.useRef)(null),n=(0,p.useAppSelector)(a=>a.editNewsModalSlice.modalOpen),[y,z]=(()=>{let[a,{isLoading:b}]=(0,m.useUpdateNewsMutation)(),c=(0,kl.useAppDispatch)(),d=(0,p.useAppSelector)(a=>a.editNewsModalSlice.currentNews?.uuid);return[async b=>{try{let e=await a({body:b,uuid:d||""}).unwrap();e&&e.data&&(c((0,Bv.updateNews)(e.data)),c((0,BD.setEditNewsModalOpen)(!1)))}catch(a){console.log(a)}},b]})(),{handleSubmit:A,reset:B,register:C,formState:{errors:D},setValue:E,control:F,clearErrors:G}=(()=>{let a=(0,p.useAppSelector)(a=>a.editNewsModalSlice.currentNews);return(0,k.useForm)({resolver:(0,l.zodResolver)(i.default.object({title:i.default.string().optional(),image:i.default.string().optional(),content:i.default.string().optional(),description:i.default.string().optional(),locationUuid:i.default.string().optional()})),defaultValues:{title:a?.title||"",description:a?.description||"",image:a?.image||"",content:a?.content||"",locationUuid:a?.content||""},mode:"onSubmit"})})(),H=(0,j.useTranslation)(),I=()=>{B(),a((0,BD.setEditNewsModalOpen)(!1))};(0,q.useEffect)(()=>{E("image",e?.image||""),E("title",e?.title||""),E("description",e?.description||""),E("locationUuid",e?.locationUuid||""),E("content",e?.content||"")},[e,E]);let[J,K]=(0,q.useState)(null),L=o(),{ref:M,onChange:N,...O}=C("image",{required:H("news.validation.imagesRequired")}),P=(0,q.useCallback)(a=>{E("content",a,{shouldValidate:!0})},[E]);return(0,h.jsx)(BF.Modal,{open:n,onClose:I,children:(0,h.jsx)(s.Box,{className:"h-[100dvh] w-full overflow-y-auto xl:w-[1024px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,h.jsxs)(s.Box,{sx:{position:"relative",p:5},children:[(0,h.jsx)(t.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:I,children:(0,h.jsx)(BE.default,{})}),(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:H("news.updateNews")}),(0,h.jsxs)("form",{onSubmit:A(y),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)(w.Typography,{className:"mb-2",children:H("news.mainImage")}),D.image?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:D.image.message}),(0,h.jsxs)("label",{htmlFor:"file-upload",className:"file:border-primary-main text-secondary-main file:text-primary-main border-primary-main inline-flex w-full max-w-96 cursor-pointer items-center justify-center rounded border bg-white px-8 py-2 font-[Inter] text-sm font-bold uppercase transition-colors hover:bg-gray-50",children:[H("editor.labels.selectImage")," "]}),(0,h.jsx)("input",{id:"file-upload",ref:a=>{g.current=a,M(a)},type:"file",accept:"image/*",onChange:a=>{N(a),(a=>{let b=a.target.files?.[0];b&&(J&&URL.revokeObjectURL(J),K(URL.createObjectURL(b)),L({image:b}).then(a=>{E("image",a?.public_id||"",{shouldValidate:!0})}))})(a)},className:"hidden",...O}),J&&(0,h.jsx)("img",{src:J,alt:H("images.previewAlt"),className:"mt-2 max-h-64 object-cover"})]}),(0,h.jsxs)(s.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:H("news.section")}),D.locationUuid?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:D.locationUuid.message})]}),(0,h.jsx)(k.Controller,{name:"locationUuid",control:F,render:({field:{onChange:a,value:b}})=>(0,h.jsx)(v.TextField,{select:!0,onChange:a,value:b,variant:"standard",fullWidth:!0,placeholder:H("news.selectSection"),className:"border px-2.5 py-2 !text-black",error:!!D.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:d.filter(a=>f?.role===kj.UserRole.ADMIN||f?.role===kj.UserRole.EDITOR&&a.uuid===f.locationUuid).map(a=>(0,h.jsx)(u.MenuItem,{value:a.uuid,className:"bg-white text-black hover:bg-gray-100",children:a.title},a.uuid))})})]}),(0,h.jsx)(x.Input,{...C("title"),errorMessage:D.title?.message,label:H("news.title"),className:"mb-4",fullWidth:!0}),(0,h.jsx)(x.Input,{...C("description"),errorMessage:D.description?.message,label:H("news.shortDescription"),className:"mb-4",multiline:!0,rows:3,fullWidth:!0}),(0,h.jsxs)(s.Box,{className:"mb-4",children:[(0,h.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:H("news.fullDescription")}),D.content?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:D.content.message})]}),(0,h.jsx)(k.Controller,{name:"content",control:F,render:({field:{value:a}})=>(0,h.jsx)(ki,{value:a,onChange:P,upload:L})})]}),(0,h.jsxs)(s.Box,{className:"flex justify-end gap-4",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",onClick:()=>{B({locationUuid:"",content:"",title:"",description:"",images:""},{keepErrors:!1,keepDirty:!1}),(0,r.flushSync)(()=>{E("locationUuid",""),E("content",""),E("title",""),E("description",""),E("image","")}),G(),J&&URL.revokeObjectURL(J),K(null),g.current&&(g.current.value="")},children:H("common.clear")}),(0,h.jsx)(t.Button,{type:"submit",variant:"contained",disabled:!!z,children:H("news.update")})]})]})]})})})},BH=()=>{let a=(0,kl.useAppDispatch)(),b=(0,j.useTranslation)(),c=(0,p.useAppSelector)(a=>a.locationsSlice.locations),d=(0,p.useAppSelector)(a=>a.locationsSlice.brothers),e=d?[...c,d]:c,f=(0,p.useAppSelector)(a=>a.userSlice.user?.role)===kj.UserRole.ADMIN,{news:g,total:i,limit:k,isFetching:l,refetch:n,handleSearchQueryChange:o,searchQuery:r,orderBy:s}=function(){let a=(0,kl.useAppDispatch)(),b=(0,p.useAppSelector)(a=>a.newsTableSlice.news)||[],c=(0,p.useAppSelector)(a=>a.newsTableSlice.offset),d=(0,p.useAppSelector)(a=>a.newsTableSlice.limit),e=(0,p.useAppSelector)(a=>a.newsTableSlice.orderBy),f=(0,p.useAppSelector)(a=>a.newsTableSlice.total),g=(0,p.useAppSelector)(a=>a.newsTableSlice.searchQuery),h=(0,p.useAppSelector)(a=>a.userSlice.user),i=(0,Bu.useDebounce)(g,500),{data:j,isFetching:k,isLoading:l,refetch:n}=(0,m.useGetNewsWithLocationQuery)({search:i,offset:c,limit:d,orderBy:e,locationUuid:h?.role===kj.UserRole.EDITOR&&h?.locationUuid||void 0});return(0,q.useEffect)(()=>{if(j){let b=j.data.data;a((0,Bv.setNewsToTable)(b)),a((0,Bv.setTotalToTable)(j.data.total))}},[j,a,c]),{searchQuery:g,handleSearchQueryChange:b=>{a((0,Bv.setSearchQueryToTable)(b.target.value)),a((0,Bv.setOffsetToTable)(0))},news:b,isFetching:k,isLoading:l,loadMore:()=>{a((0,Bv.setOffsetToTable)(c+d))},total:f,limit:d,refetch:n,orderBy:e}}(),t=(()=>{let[a]=(0,m.useDeleteNewsMutation)(),b=(0,kl.useAppDispatch)();return async(c,d)=>{try{let e=await a(c.uuid).unwrap();e&&e.data&&(b((0,Bv.deleteNewsFromTable)(e.data.uuid)),d())}catch(a){console.log(a)}}})(),u=(()=>{let[a]=(0,m.useTogglePinMutation)(),b=(0,kl.useAppDispatch)();return async(c,d)=>{try{let e=await a({uuid:c}).unwrap();e&&e.data&&(b((0,Bv.updateNews)(e.data)),d())}catch(a){console.log(a)}}})(),x=(0,Bz.useGetDateKey)(),[y,z]=(0,q.useState)({page:0,pageSize:k}),A=g.map(a=>({id:a.uuid,title:a.title,location:e.find(b=>b.uuid===a.locationUuid)?.title,date:x(a.createdAt)})),B=[{field:"title",headerName:b("news.title"),flex:1,editable:!0},{field:"location",headerName:b("news.location"),flex:1,editable:!0},{field:"date",headerName:b("common.date"),width:180,editable:!0}],C={field:"pin",headerName:b("common.pin"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:a=>{let c;return(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.pin"),children:(0,h.jsx)(w3,{checked:(c=a.row.id,!!g.find(a=>a.uuid===c)?.pinnedAt),onChange:()=>u(a.row.id,n)})})})}},D=[...B,...f?[C]:[],{field:"edit",headerName:b("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:c=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.edit"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>{var b;return b=c.row.id,void(a((0,BD.setEditNewsModalOpen)(!0)),a((0,BD.setEditNewsCurrent)(g.find(a=>a.uuid===b)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(By,{className:"fill-primary-main"})})})})},{field:"delete",headerName:b("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:a=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.delete"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>t({uuid:a.row.id},n),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(Bx,{className:"fill-primary-main"})})})})}],E=[{label:b("news.sortNewest"),value:"desc"},{label:b("news.sortOldest"),value:"asc"}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:b("news.allNews")}),(0,h.jsxs)(kr.default,{className:"mt-10 flex flex-col gap-6 [&_*]:!text-black",children:[(0,h.jsxs)(kr.default,{className:"flex items-stretch gap-4",children:[(0,h.jsxs)(BB.SelectRoot,{items:E,value:s,onValueChange:b=>{a((0,Bv.setOrderBy)(b))},children:[(0,h.jsx)(BB.SelectTrigger,{iconClassName:"fill-primary-main",className:"border-primary-main border"}),(0,h.jsx)(BB.SelectBody,{children:E.map(({value:a,label:b})=>(0,h.jsx)(BC.Select.Item,{value:a,className:"hover:bg-primary-main/10 relative flex cursor-pointer items-center rounded-sm px-3 py-2 text-sm outline-none select-none",children:(0,h.jsx)(BC.Select.ItemText,{className:"font-normal",children:b})},a))})]}),(0,h.jsx)(v.TextField,{variant:"filled",size:"small",placeholder:b("common.searchPlaceholder"),value:r,onChange:o,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,h.jsx)(BA.default,{fontSize:"large",className:"fill-primary-main"})}}})]}),(0,h.jsx)(Bt,{rows:A,columns:D,initialState:{pagination:{paginationModel:{pageSize:k}}},pageSizeOptions:[k],checkboxSelection:!1,loading:l,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:i,paginationModel:y,onPaginationModelChange:b=>{z(b),a((0,Bv.setOffsetToTable)(b.page*b.pageSize))},sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,h.jsx)(BG,{})]})};var BI=a.i(64982),BJ=a.i(859494),BK=a.i(690341);let BL=()=>{let a=(0,kl.useAppDispatch)(),b=(0,p.useAppSelector)(a=>a.editLocationModalSlice.currentLocation),c=(0,p.useAppSelector)(a=>a.editLocationModalSlice.modalOpen),[d,e]=(()=>{let[a,{isLoading:b}]=(0,BI.useUpdateLocationMutation)(),c=(0,kl.useAppDispatch)(),d=(0,p.useAppSelector)(a=>a.editLocationModalSlice.currentLocation?.uuid);return[async b=>{try{let e=await a({body:b,uuid:d||""}).unwrap();e&&e.data&&(c((0,BJ.updateLocation)(e.data)),c((0,BK.setEditLocationModalOpen)(!1)))}catch(a){console.log(a)}},b]})(),{handleSubmit:f,reset:g,register:m,formState:{errors:n},setValue:o,clearErrors:u}=(()=>{let a=(0,p.useAppSelector)(a=>a.editLocationModalSlice.currentLocation);return(0,k.useForm)({resolver:(0,l.zodResolver)(i.default.object({title:i.default.string().optional()})),defaultValues:{title:a?.title||""},mode:"onSubmit"})})(),v=(0,j.useTranslation)(),y=()=>{g(),a((0,BK.setEditLocationModalOpen)(!1))};return(0,q.useEffect)(()=>{o("title",b?.title||"")},[b,o]),(0,h.jsx)(BF.Modal,{open:c,onClose:y,children:(0,h.jsx)(s.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:h-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,h.jsxs)(s.Box,{sx:{position:"relative",p:5},children:[(0,h.jsx)(t.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:y,children:(0,h.jsx)(BE.default,{})}),(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:v("locations.updateLocation")}),(0,h.jsxs)("form",{onSubmit:f(d),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,h.jsx)(x.Input,{...m("title"),errorMessage:n.title?.message,label:v("locations.title"),className:"mb-4",fullWidth:!0}),(0,h.jsxs)(s.Box,{className:"flex gap-4",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{g({title:""},{keepErrors:!1,keepDirty:!1}),(0,r.flushSync)(()=>o("title","")),u()},children:v("locations.clear")}),(0,h.jsx)(t.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!e,children:v("locations.update")})]})]})]})})})};var BM=a.i(924965);let BN=({refetch:a})=>{let b=(0,kl.useAppDispatch)(),c=(0,p.useAppSelector)(a=>a.createLocationModalSlice.modalOpen),[d,e]=(a=>{let[b,{isLoading:c}]=(0,BI.useCreateLocationMutation)(),d=(0,kl.useAppDispatch)();return[async c=>{try{let e=await b(c).unwrap();e&&e.data&&(d((0,BJ.createLocation)(e.data)),d((0,BM.setCreateLocationModalOpen)(!1)),a())}catch(a){console.log(a)}},c]})(a),{handleSubmit:f,reset:g,register:m,formState:{errors:n},setValue:o,clearErrors:q}=(()=>{let a=(0,j.useTranslation)();return(0,k.useForm)({resolver:(0,l.zodResolver)(i.default.object({title:i.default.string().min(1,a("locations.validation.titleRequired"))})),defaultValues:{title:""},mode:"onSubmit"})})(),u=(0,j.useTranslation)(),v=()=>{g(),b((0,BM.setCreateLocationModalOpen)(!1))};return(0,h.jsx)(BF.Modal,{open:c,onClose:v,children:(0,h.jsx)(s.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:h-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,h.jsxs)(s.Box,{sx:{position:"relative",p:5},children:[(0,h.jsx)(t.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:v,children:(0,h.jsx)(BE.default,{})}),(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:u("locations.createLocation")}),(0,h.jsxs)("form",{onSubmit:f(d),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,h.jsx)(x.Input,{...m("title"),errorMessage:n.title?.message,label:u("locations.title"),className:"mb-4",fullWidth:!0}),(0,h.jsxs)(s.Box,{className:"flex gap-4",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{g({title:""},{keepErrors:!1,keepDirty:!1}),(0,r.flushSync)(()=>o("title","")),q()},children:u("locations.clear")}),(0,h.jsx)(t.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!e,children:u("locations.create")})]})]})]})})})},BO=()=>{let a=(0,kl.useAppDispatch)(),b=(0,j.useTranslation)(),{locations:c,total:d,limit:e,isFetching:f,refetch:g,handleSearchQueryChange:i,searchQuery:k}=function(){let a=(0,kl.useAppDispatch)(),b=(0,p.useAppSelector)(a=>a.locationTableSlice.locations)||[],c=(0,p.useAppSelector)(a=>a.locationTableSlice.offset),d=(0,p.useAppSelector)(a=>a.locationTableSlice.limit),e=(0,p.useAppSelector)(a=>a.locationTableSlice.total),f=(0,p.useAppSelector)(a=>a.locationTableSlice.searchQuery),g=(0,Bu.useDebounce)(f,500),{data:h,isFetching:i,isLoading:j,refetch:k}=(0,BI.useGetLocationsQuery)({search:g,offset:c,limit:d});return(0,q.useEffect)(()=>{if(h){let b=h.data.data;a((0,BJ.setLocationsToTable)(b)),a((0,BJ.setTotalToTable)(h.data.total))}},[h,a,c]),{searchQuery:f,handleSearchQueryChange:b=>{a((0,BJ.setSearchQueryToTable)(b.target.value)),a((0,BJ.setOffsetToTable)(0))},locations:b,isFetching:i,isLoading:j,loadMore:()=>{a((0,BJ.setOffsetToTable)(c+d))},total:e,limit:d,refetch:k}}(),l=(()=>{let[a]=(0,BI.useDeleteLocationMutation)(),b=(0,kl.useAppDispatch)();return async(c,d)=>{try{let e=await a(c.uuid).unwrap();e&&e.data&&(b((0,BJ.deleteLocationFromTable)(e.data.uuid)),d())}catch(a){console.log(a)}}})(),m=(0,Bz.useGetDateKey)(),[n,o]=(0,q.useState)({page:0,pageSize:e}),r=c.map(a=>({id:a.uuid,title:a.title,date:m(a.createdAt)})),s=[{field:"title",headerName:b("locations.title"),flex:1,editable:!0},{field:"date",headerName:b("common.date"),width:180,editable:!0},{field:"edit",headerName:b("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:d=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.edit"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>{var b;return b=d.row.id,void(a((0,BK.setEditLocationModalOpen)(!0)),a((0,BK.setEditLocationCurrent)(c.find(a=>a.uuid===b)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(By,{className:"fill-primary-main"})})})})},{field:"delete",headerName:b("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:a=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.delete"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>l({uuid:a.row.id},g),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(Bx,{className:"fill-primary-main"})})})})}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:b("locations.allSections")}),(0,h.jsxs)(kr.default,{className:"flex flex-col gap-6",children:[(0,h.jsxs)(kr.default,{className:"flex gap-4",children:[(0,h.jsx)(v.TextField,{variant:"filled",size:"small",placeholder:b("common.searchPlaceholder"),value:k,onChange:i,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full [&_*]:!text-black",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,h.jsx)(BA.default,{fontSize:"large",className:"fill-primary-main"})}}}),(0,h.jsx)(t.Button,{onClick:()=>{a((0,BM.setCreateLocationModalOpen)(!0))},variant:"contained",style:{color:"#F8FAFF !important"},children:b("locations.createLocation")})]}),(0,h.jsx)(Bt,{rows:r,columns:s,initialState:{pagination:{paginationModel:{pageSize:e}}},pageSizeOptions:[e],checkboxSelection:!1,loading:f,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:d,paginationModel:n,onPaginationModelChange:b=>{o(b),a((0,BJ.setOffsetToTable)(b.page*b.pageSize))},className:"[&_*]:!text-black",sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,h.jsx)(BL,{}),(0,h.jsx)(BN,{refetch:g})]})};var BP=a.i(335168),BQ=a.i(732279);let BR=()=>{let a=(0,kl.useAppDispatch)(),[b,c]=(0,q.useState)(kj.UserRole.USER),d=(0,p.useAppSelector)(a=>a.editUserAdminModalSlice.currentUser),e=(0,p.useAppSelector)(a=>a.editUserAdminModalSlice.modalOpen),f=(0,p.useAppSelector)(a=>a.locationsSlice.locations),g=(0,p.useAppSelector)(a=>a.locationsSlice.brothers),m=g?[...f,g]:f,[n,o]=(()=>{let[a,{isLoading:b}]=(0,km.useUpdateUserAdminMutation)(),c=(0,kl.useAppDispatch)(),d=(0,p.useAppSelector)(a=>a.editUserAdminModalSlice.currentUser?.uuid);return[async b=>{try{let e=await a({body:b,uuid:d||""}).unwrap();e&&e.data&&(c((0,BP.updateUser)(e.data)),c((0,BQ.setEditUserAdminModalOpen)(!1)))}catch(a){console.log(a)}},b]})(),{handleSubmit:y,reset:z,register:A,formState:{errors:B},setValue:C,clearErrors:D,control:E}=(0,k.useForm)({resolver:(0,l.zodResolver)(i.default.object({firstName:i.default.string(),lastName:i.default.string(),email:i.default.string(),role:i.default.enum(kj.UserRole),language:i.default.enum(kj.Language),locationUuid:i.default.string()})),defaultValues:{firstName:"",lastName:"",email:"",role:"USER",language:"RU",locationUuid:""},mode:"onSubmit"}),F=(0,j.useTranslation)(),G=()=>{z(),a((0,BQ.setEditUserAdminModalOpen)(!1))};return(0,q.useEffect)(()=>{C("firstName",d?.firstName||""),C("lastName",d?.lastName||""),C("email",d?.email||""),C("role",d?.role||"USER"),C("language",d?.language||"RU"),C("locationUuid",d?.locationUuid||"")},[d,C]),(0,h.jsx)(BF.Modal,{open:e,onClose:G,children:(0,h.jsx)(s.Box,{className:"h-[100dvh] w-full overflow-y-auto sm:w-[540px]",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:(0,h.jsxs)(s.Box,{sx:{position:"relative",p:5},children:[(0,h.jsx)(t.Button,{variant:"contained",sx:{width:"40px",height:"40px",p:0,display:"flex",justifyContent:"center",alignItems:"center",minWidth:"48px",position:"absolute",top:"0",right:"0",borderRadius:0,boxShadow:0,":hover":{boxShadow:0},bgcolor:"rgba(0,0,0,0.5)"},onClick:G,children:(0,h.jsx)(BE.default,{})}),(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:F("users.updateUser")}),(0,h.jsxs)("form",{onSubmit:y(n),className:"border-secondary-main mt-10 border-4 p-10",children:[(0,h.jsx)(x.Input,{...A("firstName"),errorMessage:B.firstName?.message,label:F("profile.firstName"),className:"mb-4",fullWidth:!0}),(0,h.jsx)(x.Input,{...A("lastName"),errorMessage:B.lastName?.message,label:F("profile.lastName"),className:"mb-4",fullWidth:!0}),(0,h.jsx)(x.Input,{...A("email"),errorMessage:B.email?.message,label:F("profile.email"),className:"mb-4",fullWidth:!0}),(0,h.jsxs)(s.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:F("users.roleLabel")}),B.role?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:B.role?.message})]}),(0,h.jsx)(k.Controller,{name:"role",control:E,render:({field:{onChange:a,value:b}})=>(0,h.jsx)(v.TextField,{select:!0,onChange:a,value:b,variant:"standard",fullWidth:!0,placeholder:F("users.selectRole"),className:"border px-2.5 py-2 !text-black",error:!!B.role,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:Object.values(kj.UserRole).map(a=>(0,h.jsx)(u.MenuItem,{value:a,className:"bg-white text-black hover:bg-gray-100",onClick:()=>c(a),children:a},a))})})]}),b===kj.UserRole.EDITOR&&(0,h.jsxs)(s.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:F("users.locationLabel")}),B.locationUuid?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:B.locationUuid?.message})]}),(0,h.jsx)(k.Controller,{name:"locationUuid",control:E,render:({field:{onChange:a,value:b}})=>(0,h.jsx)(v.TextField,{select:!0,onChange:a,value:b,variant:"standard",fullWidth:!0,placeholder:F("users.selectLocation"),className:"border px-2.5 py-2 !text-black",error:!!B.locationUuid,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:m.map(a=>(0,h.jsx)(u.MenuItem,{value:a.uuid,className:"bg-white text-black hover:bg-gray-100",children:a.title},a.uuid))})})]}),(0,h.jsxs)(s.Box,{className:"mb-4 flex flex-col gap-1",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(w.Typography,{children:F("users.languageLabel")}),B.language?.message&&(0,h.jsx)(w.Typography,{className:"text-error-main",children:B.language.message})]}),(0,h.jsx)(k.Controller,{name:"language",control:E,render:({field:{onChange:a,value:b}})=>(0,h.jsx)(v.TextField,{select:!0,onChange:a,value:b,variant:"standard",fullWidth:!0,placeholder:F("users.selectLanguage"),className:"border px-2.5 py-2 !text-black",error:!!B.language,slotProps:{input:{disableUnderline:!0,classes:{root:"p-0 m-0",input:"p-0 m-0 bg-transparent !text-black"}},select:{displayEmpty:!0}},children:Object.values(kj.Language).map(a=>(0,h.jsx)(u.MenuItem,{value:a,className:"bg-white text-black hover:bg-gray-100",children:a},a))})})]}),(0,h.jsxs)(s.Box,{className:"flex gap-4",children:[(0,h.jsx)(t.Button,{type:"button",variant:"outlined",className:"flex-1",onClick:()=>{z({firstName:"",lastName:"",email:"",role:"USER",language:"RU",locationUuid:""},{keepErrors:!1,keepDirty:!1}),(0,r.flushSync)(()=>{C("firstName",""),C("lastName",""),C("email",""),C("role","USER"),C("language","RU"),C("locationUuid","")}),D()},children:F("common.clear")}),(0,h.jsx)(t.Button,{type:"submit",variant:"contained",className:"flex-1",disabled:!!o,children:F("users.update")})]})]})]})})})},BS=()=>{let a=(0,kl.useAppDispatch)(),b=(0,j.useTranslation)(),{users:c,total:d,limit:e,isFetching:f,refetch:g,handleSearchQueryChange:i,searchQuery:k}=function(){let a=(0,kl.useAppDispatch)(),b=(0,p.useAppSelector)(a=>a.usersTableSlice.users)||[],c=(0,p.useAppSelector)(a=>a.usersTableSlice.offset),d=(0,p.useAppSelector)(a=>a.usersTableSlice.limit),e=(0,p.useAppSelector)(a=>a.usersTableSlice.total),f=(0,p.useAppSelector)(a=>a.usersTableSlice.searchQuery),g=(0,Bu.useDebounce)(f,500),{data:h,isFetching:i,isLoading:j,refetch:k}=(0,km.useGetUsersQuery)({search:g,offset:c,limit:d});return(0,q.useEffect)(()=>{if(h){let b=h.data.data;a((0,BP.setUsersToTable)(b)),a((0,BP.setTotalToTable)(h.data.total))}},[h,a,c]),{users:b,searchQuery:f,handleSearchQueryChange:b=>{a((0,BP.setSearchQueryToTable)(b.target.value)),a((0,BP.setOffsetToTable)(0))},isFetching:i,isLoading:j,loadMore:()=>{a((0,BP.setOffsetToTable)(c+d))},total:e,limit:d,refetch:k}}(),l=(()=>{let[a]=(0,km.useDeleteUserMutation)(),b=(0,kl.useAppDispatch)();return async(c,d)=>{try{let e=await a(c.uuid).unwrap();e&&e.data&&(b((0,BP.deleteUserFromTable)(e.data.uuid)),d())}catch(a){console.log(a)}}})(),m=(0,Bz.useGetDateKey)(),[n,o]=(0,q.useState)({page:0,pageSize:e}),r=c.map(a=>({id:a.uuid,fullName:`${a.firstName} ${a.lastName}`,email:a.email,role:a.role,date:m(a.createdAt)})),s=[{field:"fullName",headerName:b("users.fullName"),flex:1,editable:!0},{field:"email",headerName:b("profile.email"),width:250,editable:!0},{field:"date",headerName:b("common.date"),width:180,editable:!0},{field:"role",headerName:b("profile.role"),width:180,editable:!0},{field:"edit",headerName:b("common.edit"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:d=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.edit"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>{var b;return b=d.row.id,void(a((0,BQ.setEditUserAdminModalOpen)(!0)),a((0,BQ.setEditUserAdminCurrent)(c.find(a=>a.uuid===b)||null)))},sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(By,{className:"fill-primary-main"})})})})},{field:"delete",headerName:b("common.delete"),type:"actions",width:80,sortable:!1,filterable:!1,renderCell:a=>(0,h.jsx)(kr.default,{sx:{display:"flex",gap:1},children:(0,h.jsx)(x8,{title:b("common.delete"),children:(0,h.jsx)(Bw.IconButton,{size:"small",onClick:()=>l({uuid:a.row.id},g),sx:{color:"rgba(0, 0, 0, 0.87)"},children:(0,h.jsx)(Bx,{className:"fill-primary-main"})})})})}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.Typography,{variant:"h5",className:"text-primary border-primary-main border-b-4 pb-2.5 font-bold",color:"primary",children:b("users.allUsers")}),(0,h.jsxs)(kr.default,{className:"flex flex-col gap-6 [&_*]:!text-black",children:[(0,h.jsx)(kr.default,{className:"flex gap-4",children:(0,h.jsx)(v.TextField,{variant:"filled",size:"small",placeholder:b("common.searchPlaceholder"),value:k,onChange:i,className:"border-primary-main rounded-none border bg-white text-sm max-lg:w-full",sx:{width:300,"& .MuiInputBase-input":{transition:"all 0.3s ease",padding:"16px",fontSize:14,fontWeight:"bold"}},slotProps:{input:{endAdornment:(0,h.jsx)(BA.default,{fontSize:"large",className:"fill-primary-main"})}}})}),(0,h.jsx)(Bt,{rows:r,columns:s,initialState:{pagination:{paginationModel:{pageSize:e}}},pageSizeOptions:[e],checkboxSelection:!1,loading:f,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:d,paginationModel:n,onPaginationModelChange:b=>{o(b),a((0,BP.setOffsetToTable)(b.page*b.pageSize))},sx:{"& .MuiDataGrid-cell":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-columnHeader":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiDataGrid-toolbarContainer, & .MuiDataGrid-footerContainer":{color:"rgba(0, 0, 0, 0.87)"},"& .MuiCheckbox-root":{color:"rgba(0, 0, 0, 0.87)"},backgroundColor:"white"}})]}),(0,h.jsx)(BR,{})]})};function BT(){let a=(0,p.useAppSelector)(a=>a.userSlice.user?.role);return(0,h.jsx)(kq.Container,{maxWidth:"xl",className:"bg-[rgba(255,255,255,0.9)] px-2",children:(0,h.jsxs)(s.Box,{className:"flex gap-5 max-xl:flex-col xl:gap-10",children:[(0,h.jsx)(s.Box,{className:"max-xl:self-center",children:(0,h.jsx)(kp,{})}),(0,h.jsxs)(s.Box,{className:"flex flex-col gap-8",children:[(a===kj.UserRole.ADMIN||a===kj.UserRole.EDITOR)&&(0,h.jsx)(kk,{}),(a===kj.UserRole.ADMIN||a===kj.UserRole.EDITOR)&&(0,h.jsx)(BH,{}),a===kj.UserRole.ADMIN&&(0,h.jsx)(BO,{}),a===kj.UserRole.ADMIN&&(0,h.jsx)(BS,{})]})]})})}}];

//# sourceMappingURL=_8f40d1e9._.js.map